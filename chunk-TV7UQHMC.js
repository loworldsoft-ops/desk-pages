import{a as _e,c as k}from"./chunk-PWFHJI5P.js";import{a as T}from"./chunk-DMDQ36CM.js";import{E as W,c as L,h as j,m as $,w as de,x as ce,y as me}from"./chunk-ROH7LSZS.js";import{b as pe,d as ue}from"./chunk-LZ4XSYEC.js";import{$b as w,Ab as K,Bb as A,Cb as Z,Gb as y,Ib as u,Kb as s,Pa as l,Qc as le,Vb as b,Wb as P,Zb as p,_a as S,_b as v,ac as ee,ad as se,dc as te,ec as ne,fc as ie,fd as E,ga as M,gb as f,ja as c,ka as m,la as O,ma as F,nc as oe,pc as re,qb as g,rb as x,rc as ae,sb as Y,tb as I,ua as D,ub as N,vb as V,wb as _,xb as n,xc as z,yb as r,zb as C}from"./chunk-5TLQJ6AI.js";import"./chunk-WWX6BADO.js";var G=class o{themeManager=M(T);static \u0275fac=function(e){return new(e||o)};static \u0275cmp=S({type:o,selectors:[["app-splash"]],decls:6,vars:2,consts:[[1,"fixed","inset-0","flex","flex-col","items-center","justify-center","text-white","z-50","transition-opacity","duration-500"],[1,"text-4xl","font-bold","mb-4"],[1,"text-sm","opacity-80"],[1,"mt-8","animate-spin","rounded-full","h-8","w-8","border-t-2","border-b-2","border-white"]],template:function(e,i){e&1&&(K(0,"div",0)(1,"div",1),p(2,"\uC774\uC9C0\uB178\uD2B8"),A(),K(3,"div",2),p(4,"AI \uAE30\uBC18 \uC2A4\uB9C8\uD2B8 \uB178\uD2B8"),A(),Z(5,"div",3),A()),e&2&&b("background-color",i.themeManager.currentNoteTheme().colors.primary)},encapsulation:2})};var ge=(o,a,e)=>({"bg-purple-100 text-purple-600":o,"bg-green-100 text-green-600":a,"bg-gray-100 text-gray-600":e});function xe(o,a){if(o&1&&C(0,"app-icon",13),o&2){let e=s();b("color",e.themeManager.currentNoteTheme().colors.primary),_("size",16)}}function fe(o,a){if(o&1&&C(0,"div",18),o&2){let e=a.$implicit;b("background-image","url("+e+")")}}function be(o,a){if(o&1&&(n(0,"div",15),p(1),r()),o&2){let e=s(2);l(),w(" +",e.note.images.length-2," ")}}function ve(o,a){if(o&1&&(n(0,"div",19),C(1,"app-icon",20),r()),o&2){let e=s(2);b("background-color",e.themeManager.currentNoteTheme().colors.primary+"10")("border-color",e.themeManager.currentNoteTheme().colors.primary+"30")("color",e.themeManager.currentNoteTheme().colors.primary),l(),_("size",18)}}function ye(o,a){o&1&&(n(0,"div",17),C(1,"app-icon",21),r()),o&2&&(l(),_("size",18))}function he(o,a){if(o&1&&(n(0,"div",5),N(1,fe,1,2,"div",14,Y),g(3,be,2,1,"div",15),g(4,ve,2,7,"div",16),g(5,ye,2,1,"div",17),r()),o&2){let e=s();l(),V(e.note.images.slice(0,2)),l(2),x(e.note.images.length>2?3:-1),l(),x(e.note.hasAudio&&e.note.images.length<2?4:-1),l(),x(e.note.drawing&&e.note.images.length<2&&!e.note.hasAudio?5:-1)}}var U=class o{themeManager=M(T);note;onClick=new f;onPin=new f;onDelete=new f;onLongPress=new f;longPressTimeout;onMouseDown(){this.startLongPress()}onTouchStart(){this.startLongPress()}onMouseUp(){this.cancelLongPress()}onTouchEnd(){this.cancelLongPress()}startLongPress(){this.longPressTimeout=setTimeout(()=>{this.onLongPress.emit(this.note)},500)}cancelLongPress(){this.longPressTimeout&&clearTimeout(this.longPressTimeout)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=S({type:o,selectors:[["app-note-card"]],inputs:{note:"note"},outputs:{onClick:"onClick",onPin:"onPin",onDelete:"onDelete",onLongPress:"onLongPress"},decls:19,vars:18,consts:[[1,"bg-white","rounded-xl","p-4","shadow-sm","border","border-gray-100","h-full","active:scale-[0.99]","transition-transform","cursor-pointer","hover:shadow-md","relative","group","flex","flex-col","select-none",3,"click","mousedown","touchstart","mouseup","touchend","mouseleave"],[1,"flex","justify-between","items-start","mb-2"],[1,"font-bold","text-gray-800","line-clamp-1","text-lg","flex-1","pr-8"],["name","pin","className","fill-current absolute top-4 right-4",3,"size","color"],[1,"text-gray-500","text-sm","line-clamp-2","mb-3","min-h-[1.25rem]","flex-1"],[1,"flex","gap-2","mb-3","overflow-hidden"],[1,"flex","justify-between","items-center","text-xs","text-gray-400","mt-auto"],[1,"px-2","py-1","rounded-full","truncate","max-w-[80px]",3,"ngClass"],[1,"absolute","right-2","bottom-2","hidden","group-hover:flex","gap-1","bg-white/95","p-1","rounded-lg","shadow-sm","border","border-gray-100"],[1,"p-1.5","hover:bg-gray-100","rounded-full","text-gray-500",3,"click","title"],["name","pin",3,"size","className"],["title","\uC0AD\uC81C",1,"p-1.5","hover:bg-red-50","rounded-full","text-red-500",3,"click"],["name","trash-2",3,"size"],["name","pin","className","fill-current absolute top-4 right-4",3,"size"],[1,"w-10","h-10","rounded-lg","bg-gray-100","bg-cover","bg-center","border","border-gray-200","shrink-0",3,"background-image"],[1,"w-10","h-10","rounded-lg","bg-gray-50","flex","items-center","justify-center","border","border-gray-200","text-gray-400","text-xs","shrink-0"],[1,"w-10","h-10","rounded-lg","flex","items-center","justify-center","border","shrink-0",3,"backgroundColor","borderColor","color"],[1,"w-10","h-10","rounded-lg","bg-purple-50","flex","items-center","justify-center","border","border-purple-100","text-purple-500","shrink-0"],[1,"w-10","h-10","rounded-lg","bg-gray-100","bg-cover","bg-center","border","border-gray-200","shrink-0"],[1,"w-10","h-10","rounded-lg","flex","items-center","justify-center","border","shrink-0"],["name","mic",3,"size"],["name","pen-tool",3,"size"]],template:function(e,i){e&1&&(n(0,"div",0),u("click",function(){return i.onClick.emit(i.note)})("mousedown",function(){return i.onMouseDown()})("touchstart",function(){return i.onTouchStart()})("mouseup",function(){return i.onMouseUp()})("touchend",function(){return i.onTouchEnd()})("mouseleave",function(){return i.onMouseUp()}),n(1,"div",1)(2,"h3",2),p(3),r(),g(4,xe,1,3,"app-icon",3),r(),n(5,"p",4),p(6),r(),g(7,he,6,3,"div",5),n(8,"div",6)(9,"span"),p(10),re(11,"date"),r(),n(12,"span",7),p(13),r()(),n(14,"div",8)(15,"button",9),u("click",function(d){return d.stopPropagation(),i.onPin.emit(i.note.id)}),C(16,"app-icon",10),r(),n(17,"button",11),u("click",function(d){return d.stopPropagation(),i.onDelete.emit(i.note.id)}),C(18,"app-icon",12),r()()()),e&2&&(l(3),w(" ",i.note.title||"\uC81C\uBAA9 \uC5C6\uC74C"," "),l(),x(i.note.isPinned?4:-1),l(2),w(" ",i.note.content||"\uB0B4\uC6A9\uC774 \uC5C6\uC2B5\uB2C8\uB2E4."," "),l(),x(i.note.images&&i.note.images.length>0||i.note.hasAudio||i.note.drawing?7:-1),l(3),v(ae(11,11,i.note.date,"MM.dd")),l(2),_("ngClass",oe(14,ge,i.note.category==="\uC5C5\uBB34",i.note.category==="\uC0DD\uD65C",i.note.category!=="\uC5C5\uBB34"&&i.note.category!=="\uC0DD\uD65C")),l(),w(" ",i.note.category," "),l(2),_("title",i.note.isPinned?"\uACE0\uC815 \uD574\uC81C":"\uC0C1\uB2E8 \uACE0\uC815"),l(),_("size",14)("className",i.note.isPinned?"text-blue-500":""),l(2),_("size",14))},dependencies:[E,le,k,se],encapsulation:2})};function we(o,a){o&1&&(C(0,"app-icon",20),p(1," Google \uACC4\uC815 \uB85C\uADF8\uC778 ")),o&2&&_("size",20)}function Se(o,a){o&1&&(n(0,"span",19),p(1,"\uB85C\uADF8\uC544\uC6C3"),r())}function Me(o,a){if(o&1){let e=y();n(0,"div",0)(1,"div",1),u("click",function(){c(e);let t=s();return m(t.close.emit())}),r(),n(2,"div",2)(3,"div",3)(4,"div")(5,"h2",4),p(6,"\uC774\uC9C0\uB178\uD2B8"),r(),n(7,"p",5),p(8),r()(),n(9,"button",6),u("click",function(){c(e);let t=s();return m(t.close.emit())}),O(),n(10,"svg",7),C(11,"line",8)(12,"line",9),r()()(),F(),n(13,"div",10)(14,"div",11),u("click",function(){c(e);let t=s();return m(t.openSyncSettings.emit())}),C(15,"app-icon",12),n(16,"span"),p(17,"\uB3D9\uAE30\uD654 \uBC0F \uBC31\uC5C5"),r()(),n(18,"div",13),u("click",function(){c(e);let t=s();return m(t.openSyncSettings.emit())}),C(19,"app-icon",14),n(20,"span"),p(21,"\uC124\uC815"),r()(),n(22,"div",15),C(23,"app-icon",16),n(24,"span"),p(25,"\uC7A0\uAE08 \uC124\uC815"),r()()(),n(26,"div",17)(27,"button",18),u("click",function(){c(e);let t=s();return m(t.login.emit())}),g(28,we,2,1)(29,Se,2,0,"span",19),r()()()()}if(o&2){let e=s();l(5),b("color",e.themeManager.currentNoteTheme().colors.primary),l(3),v(e.isLoggedIn?"user@example.com":"\uB85C\uADF8\uC778\uC774 \uD544\uC694\uD569\uB2C8\uB2E4"),l(6),b("color",e.themeManager.currentNoteTheme().colors.primary),l(),_("size",20),l(4),_("size",20),l(4),_("size",20),l(5),x(e.isLoggedIn?29:28)}}var q=class o{themeManager=M(T);isOpen=!1;isLoggedIn=!1;close=new f;login=new f;openSyncSettings=new f;static \u0275fac=function(e){return new(e||o)};static \u0275cmp=S({type:o,selectors:[["app-sidebar-drawer"]],inputs:{isOpen:"isOpen",isLoggedIn:"isLoggedIn"},outputs:{close:"close",login:"login",openSyncSettings:"openSyncSettings"},decls:1,vars:1,consts:[[1,"absolute","inset-0","z-40"],[1,"absolute","inset-0","bg-black/50",3,"click"],[1,"absolute","top-0","left-0","h-full","w-full","bg-white","z-50","shadow-2xl","animate-slide-in","p-6"],[1,"mb-8","flex","justify-between","items-start"],[1,"text-2xl","font-bold","mb-1"],[1,"text-gray-400","text-sm"],[1,"p-2","text-gray-400",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"space-y-6"],[1,"flex","items-center","gap-3","p-2","rounded-lg","cursor-pointer","transition-colors",3,"click"],["name","cloud",3,"size"],[1,"flex","items-center","gap-3","text-gray-700","p-2","hover:bg-gray-50","rounded-lg","cursor-pointer",3,"click"],["name","settings",3,"size"],[1,"flex","items-center","gap-3","text-gray-700","p-2","hover:bg-gray-50","rounded-lg","cursor-pointer"],["name","lock",3,"size"],[1,"absolute","bottom-8","left-6","right-6"],[1,"w-full","bg-gray-800","text-white","py-3","rounded-xl","flex","items-center","justify-center","gap-2","hover:bg-gray-900",3,"click"],[1,"w-full","text-center"],["name","google","className","mr-2",3,"size"]],template:function(e,i){e&1&&g(0,Me,30,9,"div",0),e&2&&x(i.isOpen?0:-1)},dependencies:[E,k],styles:["@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(-100%)}to{transform:translate(0)}}.animate-slide-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease-out}"]})};function Ne(o,a){if(o&1){let e=y();n(0,"div",13),u("dragstart",function(t){c(e);let d=s().$index,h=s(2);return m(h.onDragStart(t,d))})("dragover",function(t){c(e);let d=s(3);return m(d.onDragOver(t))})("drop",function(t){c(e);let d=s().$index,h=s(2);return m(h.onDrop(t,d))}),n(1,"span",14),p(2),r(),n(3,"div",15)(4,"button",16),u("click",function(){c(e);let t=s().$implicit,d=s(2);return m(d.deleteCategory.emit(t))}),C(5,"app-icon",17),r(),n(6,"div",18),C(7,"app-icon",19),r()()()}if(o&2){let e=s(),i=e.$implicit,t=e.$index,d=s(2);P("opacity-50",d.draggedIndex===t)("border-2",d.draggedIndex===t)("border-blue-200",d.draggedIndex===t)("bg-blue-50",d.draggedIndex===t),l(2),v(i),l(3),_("size",16),l(2),_("size",16)}}function Ve(o,a){if(o&1&&g(0,Ne,8,11,"div",12),o&2){let e=a.$implicit;x(e!=="\uC804\uCCB4"?0:-1)}}function Ee(o,a){if(o&1){let e=y();n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),p(4,"\uD3F4\uB354 \uAD00\uB9AC"),r(),n(5,"button",4),u("click",function(){c(e);let t=s();return m(t.close.emit())}),C(6,"app-icon",5),r()(),n(7,"div",6)(8,"div",7),N(9,Ve,1,1,null,null,I),r()(),n(11,"div",8)(12,"div",9)(13,"input",10),ie("ngModelChange",function(t){c(e);let d=s();return ne(d.newCategoryName,t)||(d.newCategoryName=t),m(t)}),u("keydown.enter",function(){c(e);let t=s();return m(t.addCategory())}),r(),n(14,"button",11),u("click",function(){c(e);let t=s();return m(t.addCategory())}),p(15," \uCD94\uAC00 "),r()()()()()}if(o&2){let e=s();l(6),_("size",20),l(3),V(e.categories),l(4),te("ngModel",e.newCategoryName),l(),_("disabled",!e.newCategoryName.trim())}}var Q=class o{isOpen=!1;categories=[];close=new f;addNewCategory=new f;deleteCategory=new f;reorderCategories=new f;newCategoryName="";draggedIndex=null;addCategory(){let a=this.newCategoryName.trim();a&&!this.categories.includes(a)&&(this.addNewCategory.emit(a),this.newCategoryName="")}onDragStart(a,e){this.draggedIndex=e,a.dataTransfer?.setData("text/plain",e.toString())}onDragOver(a){a.preventDefault()}onDrop(a,e){if(a.preventDefault(),this.draggedIndex===null||this.draggedIndex===e){this.draggedIndex=null;return}let i=[...this.categories],[t]=i.splice(this.draggedIndex,1);i.splice(e,0,t),this.reorderCategories.emit(i),this.draggedIndex=null}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=S({type:o,selectors:[["app-category-manager"]],inputs:{isOpen:"isOpen",categories:"categories"},outputs:{close:"close",addNewCategory:"addNewCategory",deleteCategory:"deleteCategory",reorderCategories:"reorderCategories"},decls:1,vars:1,consts:[[1,"absolute","inset-0","z-50","flex","items-center","justify-center","bg-black/50","p-4"],[1,"bg-white","rounded-2xl","w-full","max-w-sm","overflow-hidden","shadow-2xl","flex","flex-col","max-h-[80vh]"],[1,"p-4","border-b","border-gray-100","flex","justify-between","items-center"],[1,"font-bold","text-lg"],[1,"text-gray-400","hover:text-gray-600",3,"click"],["name","x",3,"size"],[1,"flex-1","overflow-y-auto","p-4"],[1,"space-y-2"],[1,"p-4","border-t","border-gray-100","bg-gray-50"],[1,"flex","gap-2"],["type","text","placeholder","\uC0C8 \uD3F4\uB354 \uC774\uB984",1,"flex-1","px-3","py-2","rounded-lg","border","border-gray-200","text-sm","focus:outline-none","focus:border-blue-500",3,"ngModelChange","keydown.enter","ngModel"],[1,"bg-blue-600","text-white","px-4","py-2","rounded-lg","text-sm","font-bold","hover:bg-blue-700","disabled:opacity-50",3,"click","disabled"],["draggable","true",1,"flex","items-center","justify-between","bg-gray-50","p-3","rounded-lg","group","transition-all","duration-200",3,"opacity-50","border-2","border-blue-200","bg-blue-50"],["draggable","true",1,"flex","items-center","justify-between","bg-gray-50","p-3","rounded-lg","group","transition-all","duration-200",3,"dragstart","dragover","drop"],[1,"font-medium","text-gray-700"],[1,"flex","items-center","gap-1"],[1,"p-2","text-gray-400","hover:text-red-500",3,"click"],["name","trash-2",3,"size"],[1,"p-2","text-gray-300","cursor-grab","active:cursor-grabbing","hover:text-gray-500"],["name","grip-vertical",3,"size"]],template:function(e,i){e&1&&g(0,Ee,16,3,"div",0),e&2&&x(i.isOpen?0:-1)},dependencies:[E,W,L,j,$,k],encapsulation:2})};function ke(o,a){if(o&1){let e=y();n(0,"div",1),u("click",function(){c(e);let t=s();return m(t.close.emit())}),n(1,"div",2),u("click",function(t){return c(e),m(t.stopPropagation())}),n(2,"div",3)(3,"h3",4),p(4),r(),n(5,"p",5),p(6,"\uC791\uC5C5\uC744 \uC120\uD0DD\uD558\uC138\uC694"),r()(),n(7,"div",6)(8,"button",7),u("click",function(){c(e);let t=s();return t.pin.emit(t.note.id),m(t.close.emit())}),n(9,"div",8),C(10,"app-icon",9),r(),n(11,"span",10),p(12),r()(),n(13,"button",7),u("click",function(){c(e);let t=s();return t.duplicate.emit(t.note),m(t.close.emit())}),n(14,"div",11),C(15,"app-icon",12),r(),n(16,"span",10),p(17,"\uB178\uD2B8 \uBCF5\uC81C"),r()(),n(18,"button",7),u("click",function(){c(e);let t=s();return t.addWidget.emit(t.note),m(t.close.emit())}),n(19,"div",13),C(20,"app-icon",14),r(),n(21,"span",10),p(22,"\uC704\uC82F \uCD94\uAC00"),r()(),C(23,"div",15),n(24,"button",16),u("click",function(){c(e);let t=s();return t.delete.emit(t.note.id),m(t.close.emit())}),n(25,"div",17),C(26,"app-icon",18),r(),n(27,"span",19),p(28,"\uC0AD\uC81C"),r()()(),n(29,"div",20)(30,"button",21),u("click",function(){c(e);let t=s();return m(t.close.emit())}),p(31," \uCDE8\uC18C "),r()()()()}if(o&2){let e=s();l(4),w(" ",e.note.title||"\uC81C\uBAA9 \uC5C6\uC74C"," "),l(6),_("size",20)("className",e.note.isPinned?"fill-blue-600":""),l(2),w(" ",e.note.isPinned?"\uACE0\uC815 \uD574\uC81C":"\uC0C1\uB2E8 \uACE0\uC815"," "),l(3),_("size",20),l(5),_("size",20),l(6),_("size",20)}}var R=class o{note=null;close=new f;pin=new f;delete=new f;duplicate=new f;addWidget=new f;static \u0275fac=function(e){return new(e||o)};static \u0275cmp=S({type:o,selectors:[["app-context-menu-overlay"]],inputs:{note:"note"},outputs:{close:"close",pin:"pin",delete:"delete",duplicate:"duplicate",addWidget:"addWidget"},decls:1,vars:1,consts:[[1,"absolute","inset-0","z-50","flex","items-center","justify-center","bg-black/60","p-6","animate-fade-in"],[1,"absolute","inset-0","z-50","flex","items-center","justify-center","bg-black/60","p-6","animate-fade-in",3,"click"],[1,"bg-white","w-full","max-w-xs","rounded-2xl","shadow-2xl","overflow-hidden","animate-scale-up",3,"click"],[1,"bg-gray-100","p-4","border-b","border-gray-200"],[1,"font-bold","text-gray-800","text-lg","line-clamp-1"],[1,"text-xs","text-gray-500","mt-1"],[1,"p-2"],[1,"w-full","flex","items-center","gap-3","p-3","rounded-xl","hover:bg-gray-50","transition-colors","text-left",3,"click"],[1,"w-10","h-10","rounded-full","bg-blue-50","text-blue-600","flex","items-center","justify-center"],["name","pin",3,"size","className"],[1,"font-medium","text-gray-700"],[1,"w-10","h-10","rounded-full","bg-green-50","text-green-600","flex","items-center","justify-center"],["name","copy",3,"size"],[1,"w-10","h-10","rounded-full","bg-purple-50","text-purple-600","flex","items-center","justify-center"],["name","layout",3,"size"],[1,"h-px","bg-gray-100","my-1"],[1,"w-full","flex","items-center","gap-3","p-3","rounded-xl","hover:bg-red-50","transition-colors","text-left","group",3,"click"],[1,"w-10","h-10","rounded-full","bg-red-50","text-red-500","flex","items-center","justify-center","group-hover:bg-red-100","transition-colors"],["name","trash-2",3,"size"],[1,"font-medium","text-red-500"],[1,"p-2","border-t","border-gray-100"],[1,"w-full","py-3","text-center","text-gray-500","hover:text-gray-800","font-medium",3,"click"]],template:function(e,i){e&1&&g(0,ke,32,7,"div",0),e&2&&x(i.note?0:-1)},dependencies:[E,k],styles:["@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0}to{opacity:1}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in .2s ease-out}@keyframes _ngcontent-%COMP%_scale-up{0%{transform:scale(.95);opacity:0}to{transform:scale(1);opacity:1}}.animate-scale-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scale-up .2s cubic-bezier(.16,1,.3,1)}"]})};var X=(o,a)=>a.id;function Te(o,a){o&1&&C(0,"app-splash")}function Pe(o,a){if(o&1){let e=y();n(0,"div",11)(1,"div",23),C(2,"app-icon",24),r(),n(3,"input",25),u("ngModelChange",function(t){c(e);let d=s(2);return m(d.noteService.searchQuery.set(t))}),r()()}if(o&2){let e=s(2);l(2),_("size",18),l(),b("--tw-ring-color",e.themeManager.currentNoteTheme().colors.primary),_("ngModel",e.noteService.searchQuery())}}function Ie(o,a){if(o&1){let e=y();n(0,"button",27),u("click",function(){let t=c(e).$implicit,d=s(3);return m(d.noteService.currentCategory.set(t))}),p(1),r()}if(o&2){let e=a.$implicit,i=s(3);b("background-color",i.noteService.currentCategory()===e?i.themeManager.currentNoteTheme().colors.primary:"rgb(243 244 246)")("color",i.noteService.currentCategory()===e?"white":"rgb(107 114 128)"),P("shadow-md",i.noteService.currentCategory()===e),l(),w(" ",e," ")}}function Be(o,a){if(o&1&&N(0,Ie,2,7,"button",26,I),o&2){let e=s(2);V(e.noteService.categories())}}function He(o,a){o&1&&(n(0,"div",28)(1,"div",31),C(2,"app-icon",32),r(),n(3,"p"),p(4,"\uC791\uC131\uB41C \uB178\uD2B8\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),r()()),o&2&&(l(2),_("size",32))}function Oe(o,a){if(o&1){let e=y();n(0,"div",37),u("dragstart",function(t){let d=c(e).$implicit,h=s(4);return m(h.handleNoteDragStart(t,d))})("dragover",function(t){c(e);let d=s(4);return m(d.handleNoteDragOver(t))})("drop",function(t){let d=c(e).$implicit,h=s(4);return m(h.handleNoteDrop(t,d))}),n(1,"app-note-card",38),u("onClick",function(t){c(e);let d=s(4);return m(d.handleEditNote(t))})("onPin",function(t){c(e);let d=s(4);return m(d.handlePinNote(t))})("onDelete",function(t){c(e);let d=s(4);return m(d.handleDeleteNote(t))})("onLongPress",function(t){c(e);let d=s(4);return m(d.selectedNoteForMenu.set(t))}),r()()}if(o&2){let e=a.$implicit,i=s(4);P("opacity-50",(i.draggedNote==null?null:i.draggedNote.id)===e.id),l(),_("note",e)}}function Fe(o,a){if(o&1&&(n(0,"div",29)(1,"h2",33),C(2,"app-icon",34),p(3," \uACE0\uC815\uB41C \uB178\uD2B8 "),r(),n(4,"div",35),N(5,Oe,2,3,"div",36,X),r()()),o&2){let e=s(3);l(2),_("size",12),l(3),V(e.pinnedNotes())}}function Ae(o,a){o&1&&(n(0,"h2",39),p(1,"\uAE30\uD0C0 \uB178\uD2B8"),r())}function ze(o,a){if(o&1){let e=y();n(0,"div",37),u("dragstart",function(t){let d=c(e).$implicit,h=s(4);return m(h.handleNoteDragStart(t,d))})("dragover",function(t){c(e);let d=s(4);return m(d.handleNoteDragOver(t))})("drop",function(t){let d=c(e).$implicit,h=s(4);return m(h.handleNoteDrop(t,d))}),n(1,"app-note-card",38),u("onClick",function(t){c(e);let d=s(4);return m(d.handleEditNote(t))})("onPin",function(t){c(e);let d=s(4);return m(d.handlePinNote(t))})("onDelete",function(t){c(e);let d=s(4);return m(d.handleDeleteNote(t))})("onLongPress",function(t){c(e);let d=s(4);return m(d.selectedNoteForMenu.set(t))}),r()()}if(o&2){let e=a.$implicit,i=s(4);P("opacity-50",(i.draggedNote==null?null:i.draggedNote.id)===e.id),l(),_("note",e)}}function Le(o,a){if(o&1&&(n(0,"div",30),g(1,Ae,2,0,"h2",39),n(2,"div",35),N(3,ze,2,3,"div",36,X),r()()),o&2){let e=s(3);l(),x(e.pinnedNotes().length>0?1:-1),l(2),V(e.otherNotes())}}function je(o,a){if(o&1&&(n(0,"div",15),g(1,He,5,1,"div",28),g(2,Fe,7,1,"div",29),g(3,Le,5,1,"div",30),r()),o&2){let e=s(2);l(),x(e.noteService.filteredNotes().length===0?1:-1),l(),x(e.pinnedNotes().length>0?2:-1),l(),x(e.otherNotes().length>0?3:-1)}}function $e(o,a){if(o&1&&(n(0,"option",43),p(1),r()),o&2){let e=a.$implicit;_("value",e),l(),v(e)}}function We(o,a){o&1&&(n(0,"div",28)(1,"span",46),p(2,"\uC2A4\uD399\uC774 \uC5C6\uC2B5\uB2C8\uB2E4."),r()())}function Ge(o,a){o&1&&(n(0,"span",55),p(1,"\uC644\uB8CC"),r())}function Ue(o,a){o&1&&(n(0,"span",56),p(1,"\uC9C4\uD589\uC911"),r())}function qe(o,a){if(o&1){let e=y();n(0,"div",47),u("click",function(){let t=c(e).$implicit,d=s(3);return d.selectedSpecId.set(t.id),m(d.showSpecDetail.set(!0))}),n(1,"div",48)(2,"span",49),p(3),r(),n(4,"span",50),p(5),r()(),n(6,"p",51),p(7),r(),n(8,"p",52),p(9),r(),n(10,"div",53)(11,"span",54),p(12),r(),g(13,Ge,2,0,"span",55)(14,Ue,2,0,"span",56),r(),n(15,"div",57),C(16,"div",58),r()()}if(o&2){let e=a.$implicit;l(3),v(e.id),l(2),v(e.mainCategory),l(2),v(e.midCategory),l(2),v(e.request),l(3),w("\uC9C4\uD589: ",e.progress,"%"),l(),x(e.status==="completed"?13:14),l(3),b("width",e.progress,"%")}}function Qe(o,a){if(o&1){let e=y();n(0,"div",16)(1,"div",40)(2,"select",41),u("ngModelChange",function(t){c(e);let d=s(2);return m(d.noteService.specFilter.set(t))}),n(3,"option",42),p(4,"\uBAA8\uB4E0 \uCE74\uD14C\uACE0\uB9AC"),r(),N(5,$e,2,2,"option",43,I),r()(),n(7,"div",44),g(8,We,3,0,"div",28),N(9,qe,17,8,"div",45,X),r()()}if(o&2){let e=s(2);l(2),_("ngModel",e.noteService.specFilter()),l(3),V(e.noteService.specMainCategories()),l(3),x(e.noteService.filteredSpecs().length===0?8:-1),l(),V(e.noteService.filteredSpecs())}}function Re(o,a){o&1&&(n(0,"span",76),p(1,"\u2713 \uC644\uB8CC"),r())}function Je(o,a){o&1&&(n(0,"span",77),p(1,"\u23F3 \uC9C4\uD589\uC911"),r())}function Ke(o,a){if(o&1){let e=y();n(0,"div",59),u("click",function(){c(e);let t=s(2);return m(t.showSpecDetail.set(!1))}),n(1,"div",60),u("click",function(t){return c(e),m(t.stopPropagation())}),n(2,"div",61),C(3,"div",62),r(),n(4,"div",63)(5,"div",64)(6,"div",65)(7,"span",66),p(8),r(),n(9,"span",67),p(10),r()(),n(11,"h2",68),p(12),r()(),n(13,"button",69),u("click",function(){c(e);let t=s(2);return m(t.showSpecDetail.set(!1))}),O(),n(14,"svg",70),C(15,"line",71)(16,"line",72),r()()(),F(),n(17,"div",73)(18,"div")(19,"div",74)(20,"p",75),p(21,"\uC0C1\uD0DC"),r(),g(22,Re,2,0,"span",76)(23,Je,2,0,"span",77),r(),n(24,"div",74)(25,"p",75),p(26,"\uC9C4\uD589\uB960"),r(),n(27,"p",78),p(28),r()(),n(29,"div",79),C(30,"div",80),r()(),n(31,"div",35)(32,"div",81)(33,"p",82),p(34,"\uC6B0\uC120\uC21C\uC704"),r(),n(35,"p",83),p(36),r()(),n(37,"div",84)(38,"p",85),p(39,"\uC2E4\uD604\uAC00\uB2A5"),r(),n(40,"p",86),p(41),r()()(),n(42,"div")(43,"p",87),p(44,"\uC694\uAD6C\uC0AC\uD56D"),r(),n(45,"p",88),p(46),r()(),n(47,"div")(48,"p",87),p(49,"\uAE30\uAC04"),r(),n(50,"p",89),p(51),r()()(),n(52,"div",90)(53,"button",91),u("click",function(){c(e);let t=s(2);return m(t.showSpecDetail.set(!1))}),p(54," \uB2EB\uAE30 "),r()()()()}if(o&2){let e=s(2);l(8),w("ID ",e.selectedSpec().id),l(2),v(e.selectedSpec().mainCategory),l(2),v(e.selectedSpec().midCategory),l(10),x(e.selectedSpec().status==="completed"?22:23),l(6),w("",e.selectedSpec().progress,"%"),l(2),b("width",e.selectedSpec().progress,"%"),l(6),v(e.selectedSpec().priority),l(5),v(e.selectedSpec().feasibility),l(5),v(e.selectedSpec().request),l(5),ee("",e.selectedSpec().startDate," ~ ",e.selectedSpec().endDate)}}function Xe(o,a){if(o&1){let e=y();n(0,"div",1)(1,"div",2)(2,"button",3),u("click",function(){c(e);let t=s();return m(t.sidebarOpen.set(!0))}),C(3,"app-icon",4),r(),n(4,"h1",5),p(5,"\uC774\uC9C0\uB178\uD2B8"),r(),n(6,"div",6)(7,"button",7),u("click",function(){c(e);let t=s();return m(t.showCategoryManager.set(!0))}),C(8,"app-icon",8),r(),n(9,"button",9),u("click",function(){c(e);let t=s();return m(t.isSearchVisible.set(!t.isSearchVisible()))}),C(10,"app-icon",10),r()()(),g(11,Pe,4,4,"div",11),n(12,"div",12)(13,"div",13)(14,"button",14),u("click",function(){c(e);let t=s();return m(t.currentView.set("notes"))}),p(15," \u{1F4DD} \uB178\uD2B8 "),r(),n(16,"button",14),u("click",function(){c(e);let t=s();return m(t.currentView.set("spec-plan"))}),p(17," \u{1F4CB} \uC2A4\uD399 "),r()(),g(18,Be,2,0),r()(),g(19,je,4,3,"div",15),g(20,Qe,11,2,"div",16),n(21,"button",17),u("click",function(){c(e);let t=s();return m(t.handleCreateNote())}),C(22,"app-icon",18),r(),n(23,"app-sidebar-drawer",19),u("close",function(){c(e);let t=s();return m(t.sidebarOpen.set(!1))})("login",function(){c(e);let t=s();return m(t.handleLogin())})("openSyncSettings",function(){c(e);let t=s();return m(t.openSettings())}),r(),n(24,"app-category-manager",20),u("close",function(){c(e);let t=s();return m(t.showCategoryManager.set(!1))})("addNewCategory",function(t){c(e);let d=s();return m(d.handleAddCategory(t))})("deleteCategory",function(t){c(e);let d=s();return m(d.handleDeleteCategory(t))})("reorderCategories",function(t){c(e);let d=s();return m(d.noteService.categories.set(t))}),r(),g(25,Ke,55,12,"div",21),n(26,"app-context-menu-overlay",22),u("close",function(){c(e);let t=s();return m(t.selectedNoteForMenu.set(null))})("pin",function(t){c(e);let d=s();return m(d.handlePinNote(t))})("delete",function(t){c(e);let d=s();return m(d.handleDeleteNote(t))})("duplicate",function(t){c(e);let d=s();return m(d.handleDuplicateNote(t))})("addWidget",function(t){c(e);let d=s();return m(d.handleAddWidget(t))}),r()}if(o&2){let e=s();l(4),b("color",e.themeManager.currentNoteTheme().colors.primary),l(5),P("bg-gray-100",e.isSearchVisible()),l(2),x(e.isSearchVisible()?11:-1),l(3),b("background-color",e.currentView()==="notes"?e.themeManager.currentNoteTheme().colors.primary:"rgb(243 244 246)")("color",e.currentView()==="notes"?"white":"rgb(107 114 128)"),l(2),b("background-color",e.currentView()==="spec-plan"?e.themeManager.currentNoteTheme().colors.primary:"rgb(243 244 246)")("color",e.currentView()==="spec-plan"?"white":"rgb(107 114 128)"),l(2),x(e.currentView()==="notes"?18:-1),l(),x(e.currentView()==="notes"?19:-1),l(),x(e.currentView()==="spec-plan"?20:-1),l(),b("background-color",e.themeManager.currentNoteTheme().colors.primary),l(),_("size",28),l(),_("isOpen",e.sidebarOpen())("isLoggedIn",e.isLoggedIn()),l(),_("isOpen",e.showCategoryManager())("categories",e.noteService.categories()),l(),x(e.showSpecDetail()&&e.selectedSpec()?25:-1),l(),_("note",e.selectedNoteForMenu())}}var Ce=class o{router=M(ue);route=M(pe);noteService=M(_e);themeManager=M(T);showSplash=D(!1);sidebarOpen=D(!1);isSearchVisible=D(!1);showCategoryManager=D(!1);selectedNoteForMenu=D(null);isLoggedIn=D(!1);currentView=D("notes");selectedSpecId=D(null);showSpecDetail=D(!1);draggedNote=null;pinnedNotes=z(()=>this.noteService.filteredNotes().filter(a=>a.isPinned));otherNotes=z(()=>this.noteService.filteredNotes().filter(a=>!a.isPinned));selectedSpec=z(()=>{let a=this.selectedSpecId();return a?this.noteService.specs().find(e=>e.id===a):null});ngOnInit(){this.route.params.subscribe(a=>{let e=a.screenName;if(e)switch(this.closeAllModals(),e){case"note-management":this.sidebarOpen.set(!1),this.currentView.set("notes");break;case"note-registration-editing":this.handleCreateNote();break;case"note-search":this.isSearchVisible.set(!0);break;case"folder-registration-editing":this.showCategoryManager.set(!0);break;case"note-archive-bin":break;case"note-tag-management":this.sidebarOpen.set(!0);break;case"display-settings":break}})}closeAllModals(){this.sidebarOpen.set(!1),this.showCategoryManager.set(!1),this.showSpecDetail.set(!1),this.selectedNoteForMenu.set(null)}handleCreateNote(){this.router.navigate(["/note/mobile/edit","new"])}handleEditNote(a){this.router.navigate(["/note/mobile/edit",a.id])}handleDeleteNote(a){confirm("\uC815\uB9D0 \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?")&&this.noteService.deleteNote(a)}handlePinNote(a){this.noteService.togglePin(a)}handleDuplicateNote(a){this.noteService.duplicateNote(a.id),alert("\uB178\uD2B8\uAC00 \uBCF5\uC81C\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}handleAddWidget(a){alert(`'${a.title}' \uB178\uD2B8\uAC00 \uD648 \uD654\uBA74 \uC704\uC82F\uC5D0 \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`)}handleAddCategory(a){this.noteService.categories().includes(a)?alert("\uC774\uBBF8 \uC874\uC7AC\uD558\uB294 \uD3F4\uB354\uBA85\uC785\uB2C8\uB2E4."):this.noteService.categories.update(e=>[...e,a])}handleDeleteCategory(a){confirm(`'${a}' \uD3F4\uB354\uB97C \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?`)&&(this.noteService.categories.update(e=>e.filter(i=>i!==a)),this.noteService.currentCategory()===a&&this.noteService.currentCategory.set("\uC804\uCCB4"))}handleLogin(){this.isLoggedIn()?(this.isLoggedIn.set(!1),alert("\uB85C\uADF8\uC544\uC6C3 \uB418\uC5C8\uC2B5\uB2C8\uB2E4.")):(this.isLoggedIn.set(!0),alert("\uAD6C\uAE00 \uACC4\uC815\uC73C\uB85C \uB85C\uADF8\uC778\uB418\uC5C8\uC2B5\uB2C8\uB2E4."))}openSettings(){this.sidebarOpen.set(!1),this.router.navigate(["/note/mobile/settings"])}handleNoteDragStart(a,e){this.draggedNote=e}handleNoteDragOver(a){a.preventDefault()}handleNoteDrop(a,e){a.preventDefault(),!(!this.draggedNote||this.draggedNote.id===e.id)&&this.draggedNote.isPinned===e.isPinned&&(this.noteService.notes.update(i=>{let t=[...i],d=t.findIndex(J=>J.id===this.draggedNote.id),h=t.findIndex(J=>J.id===e.id);return d>-1&&h>-1&&(t.splice(d,1),t.splice(h,0,this.draggedNote)),t}),this.draggedNote=null)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=S({type:o,selectors:[["app-mobile-home"]],decls:3,vars:1,consts:[[1,"w-full","h-[100vh]","bg-white","flex","flex-col","overflow-hidden","relative"],[1,"p-4","pt-6","bg-white","sticky","top-0","z-10"],[1,"flex","justify-between","items-center","mb-4"],[1,"p-2","-ml-2","text-gray-600","rounded-full","hover:bg-gray-100",3,"click"],["name","menu"],[1,"text-xl","font-bold","text-gray-800"],[1,"flex","gap-2"],["title","\uD3F4\uB354 \uAD00\uB9AC",1,"p-2","text-gray-600","rounded-full","hover:bg-gray-100",3,"click"],["name","folder-edit"],[1,"p-2","-mr-2","text-gray-600","rounded-full","hover:bg-gray-100",3,"click"],["name","search"],[1,"relative","mb-4","animate-fade-in"],[1,"flex","gap-2","overflow-x-auto","pb-2","scrollbar-hide"],[1,"flex","gap-1","flex-shrink-0"],[1,"px-3","py-1","rounded-full","text-xs","font-medium","whitespace-nowrap","transition-colors",3,"click"],[1,"flex-1","overflow-y-auto","px-4","pb-20","bg-gray-50"],[1,"flex","flex-col","flex-1","overflow-y-auto","bg-gray-50"],[1,"absolute","bottom-6","right-6","w-14","h-14","text-white","rounded-full","shadow-lg","flex","items-center","justify-center","hover:opacity-90","active:scale-90","transition-all","z-20",3,"click"],["name","plus",3,"size"],[3,"close","login","openSyncSettings","isOpen","isLoggedIn"],[3,"close","addNewCategory","deleteCategory","reorderCategories","isOpen","categories"],[1,"fixed","inset-0","z-50","flex","items-end","bg-black/50","backdrop-blur-sm"],[3,"close","pin","delete","duplicate","addWidget","note"],[1,"absolute","left-3","top-2.5","text-gray-400"],["name","search",3,"size"],["type","text","placeholder","\uB178\uD2B8 \uAC80\uC0C9...",1,"w-full","bg-gray-100","py-2","pl-10","pr-4","rounded-xl","text-sm","focus:outline-none","focus:ring-2",3,"ngModelChange","ngModel"],[1,"px-4","py-1.5","rounded-full","text-sm","font-medium","whitespace-nowrap","transition-colors",3,"backgroundColor","color","shadow-md"],[1,"px-4","py-1.5","rounded-full","text-sm","font-medium","whitespace-nowrap","transition-colors",3,"click"],[1,"flex","flex-col","items-center","justify-center","h-64","text-gray-400"],[1,"mb-4","mt-2"],[1,"mt-2"],[1,"w-16","h-16","bg-gray-200","rounded-full","flex","items-center","justify-center","mb-4"],["name","image","className","opacity-50",3,"size"],[1,"text-xs","font-bold","text-gray-400","mb-2","flex","items-center","gap-1"],["name","pin",3,"size"],[1,"grid","grid-cols-2","gap-3"],["draggable","true",1,"h-full",3,"opacity-50"],["draggable","true",1,"h-full",3,"dragstart","dragover","drop"],[3,"onClick","onPin","onDelete","onLongPress","note"],[1,"text-xs","font-bold","text-gray-400","mb-2"],[1,"p-4","border-b","border-gray-200","bg-white"],[1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","text-sm","focus:ring-2","outline-none","bg-white",3,"ngModelChange","ngModel"],["value","all"],[3,"value"],[1,"flex-1","overflow-y-auto","pb-20"],[1,"p-4","border-b","border-gray-100","bg-white","hover:bg-blue-50","transition-colors","cursor-pointer"],[1,"text-sm"],[1,"p-4","border-b","border-gray-100","bg-white","hover:bg-blue-50","transition-colors","cursor-pointer",3,"click"],[1,"flex","items-center","gap-2","mb-1"],[1,"text-xs","font-bold","px-1.5","py-0.5","rounded","bg-gray-100","text-gray-700"],[1,"text-xs","font-medium","text-gray-600"],[1,"text-sm","font-medium","text-slate-800","truncate","mb-1"],[1,"text-xs","text-slate-600","mb-2","line-clamp-2"],[1,"flex","items-center","justify-between","mb-1"],[1,"text-xs","text-gray-600"],[1,"text-xs","px-2","py-0.5","rounded-full","bg-green-100","text-green-700","font-medium"],[1,"text-xs","px-2","py-0.5","rounded-full","bg-blue-100","text-blue-700","font-medium"],[1,"w-full","bg-gray-200","rounded-full","h-1.5"],[1,"bg-indigo-600","h-1.5","rounded-full","transition-all"],[1,"fixed","inset-0","z-50","flex","items-end","bg-black/50","backdrop-blur-sm",3,"click"],[1,"bg-white","rounded-t-3xl","w-full","max-h-[90vh]","overflow-y-auto","flex","flex-col",3,"click"],[1,"flex","justify-center","pt-3","pb-1"],[1,"w-10","h-1","bg-gray-300","rounded-full"],[1,"p-6","border-b","border-gray-100","flex","justify-between","items-start"],[1,"flex-1"],[1,"flex","items-center","gap-2","mb-2"],[1,"text-xs","font-bold","px-2","py-1","rounded-full","bg-indigo-100","text-indigo-700"],[1,"text-xs","font-bold","px-2","py-1","rounded-full","bg-gray-100","text-gray-700"],[1,"text-xl","font-bold","text-slate-800"],[1,"text-slate-400","p-1",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"p-6","space-y-4","flex-1"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-sm","font-bold","text-slate-700"],[1,"text-xs","px-2","py-1","rounded-full","bg-green-100","text-green-700","font-medium"],[1,"text-xs","px-2","py-1","rounded-full","bg-blue-100","text-blue-700","font-medium"],[1,"text-sm","font-bold","text-indigo-600"],[1,"w-full","bg-gray-200","rounded-full","h-3"],[1,"bg-indigo-600","h-3","rounded-full","transition-all"],[1,"bg-purple-50","p-3","rounded-lg"],[1,"text-xs","text-purple-600","font-bold","mb-1"],[1,"text-lg","font-bold","text-purple-700"],[1,"bg-orange-50","p-3","rounded-lg"],[1,"text-xs","text-orange-600","font-bold","mb-1"],[1,"text-lg","font-bold","text-orange-700"],[1,"text-sm","font-bold","text-slate-700","mb-2"],[1,"text-sm","text-slate-600","leading-relaxed"],[1,"text-sm","text-slate-600"],[1,"p-4","border-t","border-gray-100","bg-gray-50","safe-area-pb"],[1,"w-full","px-4","py-3","bg-indigo-600","hover:bg-indigo-700","text-white","font-bold","rounded-lg","transition-colors",3,"click"]],template:function(e,i){e&1&&(n(0,"div",0),g(1,Te,1,0,"app-splash")(2,Xe,27,25),r()),e&2&&(l(),x(i.showSplash()?1:2))},dependencies:[E,W,ce,me,L,de,j,$,k,G,U,q,Q,R],styles:[".scrollbar-hide[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0}to{opacity:1}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in .2s ease-out}"]})};export{Ce as MobileHomeComponent};
