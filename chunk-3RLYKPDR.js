import{a as et}from"./chunk-3ODN44QF.js";import{a as Z}from"./chunk-4DRAGH36.js";import"./chunk-VCISZ2N4.js";import{k as tt}from"./chunk-LW5MFUDH.js";import"./chunk-DJJXWOPV.js";import"./chunk-WPFHTHSV.js";import"./chunk-UZ4ZBC3S.js";import"./chunk-43TLI6JO.js";import{b as X,d as C,g as R}from"./chunk-BOMXJJQJ.js";import{d as Q,g as q,i as W}from"./chunk-IESNQYPT.js";import{E as $,F as J}from"./chunk-GYV7E64H.js";import{$b as x,Ad as H,Dd as Y,Fd as G,Kc as k,Mc as v,Rb as m,Sb as n,Tb as i,aa as b,ba as D,bb as c,bc as s,dc as g,ea as M,hb as _,hc as V,ic as j,jc as N,ka as d,l as B,la as u,ob as w,pb as T,pc as O,qd as F,rd as K,sc as r,tc as S,ub as I,uc as f,wc as z}from"./chunk-KPABI5SC.js";import"./chunk-WWX6BADO.js";var p=class a{constructor(e,t){this.router=e;this.http=t}STORAGE_KEY="dollar_token_user";TOKEN_KEY="dollar_token_auth_token";login(e,t){return console.log("[DollarTokenAuth] \uB85C\uADF8\uC778 \uC2DC\uB3C4:",e),console.log("[DollarTokenAuth] production:",Z.production),console.log("[DollarTokenAuth] \uBAA9\uC5C5 \uB85C\uADF8\uC778 \uC0AC\uC6A9"),this.mockLogin(e,t)}mockLogin(e,t){console.log("[DollarTokenAuth] mockLogin \uD638\uCD9C:",e,t);let o={admin:{userId:"dt_admin",username:"admin",email:"admin@dollartoken.com",walletAddress:"0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb",balance:1e4,token:"mock_token_admin"},user1:{userId:"dt_user1",username:"user1",email:"user1@dollartoken.com",walletAddress:"0x123456789abcdef",balance:5e3,token:"mock_token_user1"}};if(console.log("[DollarTokenAuth] mockUsers:",Object.keys(o)),console.log("[DollarTokenAuth] username exists?",!!o[e]),console.log("[DollarTokenAuth] password match?",t==="1017"),o[e]&&t==="1017"){console.log("[DollarTokenAuth] \uB85C\uADF8\uC778 \uC131\uACF5:",o[e]);let l=o[e];return this.setUser(l),this.setToken(l.token),console.log("[DollarTokenAuth] returning of(true)"),B(!0)}return console.log("[DollarTokenAuth] \uB85C\uADF8\uC778 \uC2E4\uD328 - \uC798\uBABB\uB41C \uC778\uC99D \uC815\uBCF4"),console.log("[DollarTokenAuth] username:",e,"password:",t),B(!1)}logout(){console.log("[DollarTokenAuth] \uB85C\uADF8\uC544\uC6C3");try{localStorage.removeItem(this.STORAGE_KEY),localStorage.removeItem(this.TOKEN_KEY)}catch(e){console.error("[DollarTokenAuth] \uB85C\uADF8\uC544\uC6C3 \uC911 \uC624\uB958:",e)}finally{this.router.navigate(["/dollar-token/login"]).catch(e=>{console.error("[DollarTokenAuth] \uB124\uBE44\uAC8C\uC774\uC158 \uC608\uC678 \uBC1C\uC0DD:",e),window.location.hash="#/dollar-token/login"})}}isAuthenticated(){let e=localStorage.getItem(this.TOKEN_KEY);return e!==null&&e.trim()!==""}getCurrentUser(){let e=localStorage.getItem(this.STORAGE_KEY);if(e)try{return JSON.parse(e)}catch{return null}return null}setUser(e){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}setToken(e){localStorage.setItem(this.TOKEN_KEY,e)}getToken(){return localStorage.getItem(this.TOKEN_KEY)}getAuthHeaders(){let e=this.getToken();return new Q({"Content-Type":"application/json",Authorization:e?`Bearer ${e}`:""})}static \u0275fac=function(t){return new(t||a)(M(C),M(q))};static \u0275prov=b({token:a,factory:a.\u0275fac,providedIn:"root"})};function rt(a,e){a&1&&(n(0,"div",26)(1,"p"),r(2,"\uAC70\uB798 \uB0B4\uC5ED\uC774 \uC5C6\uC2B5\uB2C8\uB2E4."),i()())}function at(a,e){if(a&1&&(n(0,"div",27)(1,"div",28),r(2),i(),n(3,"div",29)(4,"p",30),r(5),i(),n(6,"p",31),r(7),k(8,"date"),i()(),n(9,"div",32)(10,"p",33),r(11),k(12,"number"),i(),n(13,"p",34),r(14),i()()()),a&2){let t=e.$implicit,o=g();O("pending",t.status==="pending"),c(),O("send",t.type==="send")("receive",t.type==="receive"),c(),f(" ",t.type==="send"?"\u{1F4E4}":t.type==="receive"?"\u{1F4E5}":"\u{1F504}"," "),c(3),S(o.getTypeText(t.type)),c(2),S(v(8,21,t.date,"yyyy-MM-dd HH:mm")),c(2),O("positive",t.type==="receive")("negative",t.type==="send"),c(2),z("",t.type==="send"?"-":"+","",v(12,24,t.amount,"1.2-2")," ",t.currency),c(2),O("completed",t.status==="completed")("pending",t.status==="pending"),c(),f(" ",o.getStatusText(t.status)," ")}}function lt(a,e){if(a&1){let t=x();n(0,"div",35),s("click",function(){d(t);let l=g();return u(l.closeModal())}),n(1,"div",36),s("click",function(l){return d(t),u(l.stopPropagation())}),n(2,"h3"),r(3,"\uC1A1\uAE08"),i(),n(4,"p"),r(5,"\uC1A1\uAE08 \uAE30\uB2A5\uC740 \uAC1C\uBC1C \uC911\uC785\uB2C8\uB2E4."),i(),n(6,"button",37),s("click",function(){d(t);let l=g();return u(l.closeModal())}),r(7,"\uB2EB\uAE30"),i()()()}}function ct(a,e){if(a&1){let t=x();n(0,"div",35),s("click",function(){d(t);let l=g();return u(l.closeModal())}),n(1,"div",36),s("click",function(l){return d(t),u(l.stopPropagation())}),n(2,"h3"),r(3,"\uBC1B\uAE30"),i(),n(4,"p"),r(5),i(),n(6,"button",37),s("click",function(){d(t);let l=g();return u(l.closeModal())}),r(7,"\uB2EB\uAE30"),i()()()}if(a&2){let t=g();c(5),f("\uB0B4 \uC9C0\uAC11 \uC8FC\uC18C: ",t.walletAddress)}}function st(a,e){if(a&1){let t=x();n(0,"div",35),s("click",function(){d(t);let l=g();return u(l.closeModal())}),n(1,"div",36),s("click",function(l){return d(t),u(l.stopPropagation())}),n(2,"h3"),r(3,"\uD658\uC804"),i(),n(4,"p"),r(5,"\uD658\uC804 \uAE30\uB2A5\uC740 \uAC1C\uBC1C \uC911\uC785\uB2C8\uB2E4."),i(),n(6,"button",37),s("click",function(){d(t);let l=g();return u(l.closeModal())}),r(7,"\uB2EB\uAE30"),i()()()}}var E=class a{constructor(e,t){this.authService=e;this.router=t}currentUser=null;balance=0;walletAddress="";transactions=[];showSendModal=!1;showReceiveModal=!1;showExchangeModal=!1;ngOnInit(){this.loadUserData(),this.loadTransactions()}loadUserData(){this.currentUser=this.authService.getCurrentUser(),this.currentUser&&(this.balance=this.currentUser.balance||0,this.walletAddress=this.currentUser.walletAddress||"N/A")}loadTransactions(){this.transactions=[{id:"tx_001",type:"receive",amount:1e3,currency:"USDT",date:new Date("2025-10-20"),status:"completed",sender:"0x123...abc"},{id:"tx_002",type:"send",amount:500,currency:"USDT",date:new Date("2025-10-21"),status:"completed",recipient:"0x456...def"},{id:"tx_003",type:"exchange",amount:2e3,currency:"USDT",date:new Date("2025-10-22"),status:"pending"}]}onLogout(){confirm("\uB85C\uADF8\uC544\uC6C3 \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?")&&this.authService.logout()}openSendModal(){this.showSendModal=!0}openReceiveModal(){this.showReceiveModal=!0}openExchangeModal(){this.showExchangeModal=!0}closeModal(){this.showSendModal=!1,this.showReceiveModal=!1,this.showExchangeModal=!1}copyWalletAddress(){navigator.clipboard.writeText(this.walletAddress).then(()=>{alert("\uC9C0\uAC11 \uC8FC\uC18C\uAC00 \uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")})}getStatusText(e){switch(e){case"completed":return"\uC644\uB8CC";case"pending":return"\uB300\uAE30\uC911";case"failed":return"\uC2E4\uD328";default:return e}}getTypeText(e){switch(e){case"send":return"\uC1A1\uAE08";case"receive":return"\uBC1B\uAE30";case"exchange":return"\uD658\uC804";default:return e}}static \u0275fac=function(t){return new(t||a)(_(p),_(C))};static \u0275cmp=w({type:a,selectors:[["app-dollar-token-main"]],standalone:!1,decls:55,vars:15,consts:[[1,"dollar-token-container"],[1,"dt-header"],[1,"header-left"],[1,"subtitle"],[1,"header-right"],[1,"user-name"],[1,"btn-logout",3,"click"],[1,"dt-main-content"],[1,"wallet-card"],[1,"wallet-header"],[1,"wallet-address",3,"click"],[1,"copy-icon"],[1,"wallet-balance"],[1,"balance-label"],[1,"balance-amount"],[1,"balance-usd"],[1,"wallet-actions"],[1,"btn-action","btn-send",3,"click"],[1,"icon"],[1,"btn-action","btn-receive",3,"click"],[1,"btn-action","btn-exchange",3,"click"],[1,"transactions-card"],[1,"transactions-list"],["class","no-transactions",4,"ngIf"],["class","transaction-item",3,"pending",4,"ngFor","ngForOf"],["class","modal-backdrop",3,"click",4,"ngIf"],[1,"no-transactions"],[1,"transaction-item"],[1,"tx-icon"],[1,"tx-info"],[1,"tx-type"],[1,"tx-date"],[1,"tx-amount"],[1,"amount"],[1,"status"],[1,"modal-backdrop",3,"click"],[1,"modal-content",3,"click"],[1,"btn-close",3,"click"]],template:function(t,o){t&1&&(n(0,"div",0)(1,"header",1)(2,"div",2)(3,"h1"),r(4,"\u{1F4B5} \uB2EC\uB7EC\uD1A0\uD070"),i(),n(5,"p",3),r(6,"\uB2EC\uB7EC \uC2A4\uD14C\uC774\uBE14 \uCF54\uC778 \uAC70\uB798 \uD50C\uB7AB\uD3FC"),i()(),n(7,"div",4)(8,"span",5),r(9),i(),n(10,"button",6),s("click",function(){return o.onLogout()}),r(11,"\uB85C\uADF8\uC544\uC6C3"),i()()(),n(12,"div",7)(13,"div",8)(14,"div",9)(15,"h2"),r(16,"\uB0B4 \uC9C0\uAC11"),i(),n(17,"span",10),s("click",function(){return o.copyWalletAddress()}),r(18),n(19,"span",11),r(20,"\u{1F4CB}"),i()()(),n(21,"div",12)(22,"p",13),r(23,"\uD604\uC7AC \uC794\uC561"),i(),n(24,"h3",14),r(25),k(26,"number"),i(),n(27,"p",15),r(28),k(29,"number"),i()(),n(30,"div",16)(31,"button",17),s("click",function(){return o.openSendModal()}),n(32,"span",18),r(33,"\u{1F4E4}"),i(),n(34,"span"),r(35,"\uC1A1\uAE08"),i()(),n(36,"button",19),s("click",function(){return o.openReceiveModal()}),n(37,"span",18),r(38,"\u{1F4E5}"),i(),n(39,"span"),r(40,"\uBC1B\uAE30"),i()(),n(41,"button",20),s("click",function(){return o.openExchangeModal()}),n(42,"span",18),r(43,"\u{1F504}"),i(),n(44,"span"),r(45,"\uD658\uC804"),i()()()(),n(46,"div",21)(47,"h2"),r(48,"\uAC70\uB798 \uB0B4\uC5ED"),i(),n(49,"div",22),I(50,rt,3,0,"div",23)(51,at,15,27,"div",24),i()()(),I(52,lt,8,0,"div",25)(53,ct,8,1,"div",25)(54,st,8,0,"div",25),i()),t&2&&(c(9),S(o.currentUser==null?null:o.currentUser.username),c(9),f(" ",o.walletAddress," "),c(7),f("",v(26,9,o.balance,"1.2-2")," USDT"),c(3),f("\u2248 $",v(29,12,o.balance,"1.2-2")," USD"),c(22),m("ngIf",o.transactions.length===0),c(),m("ngForOf",o.transactions),c(),m("ngIf",o.showSendModal),c(),m("ngIf",o.showReceiveModal),c(),m("ngIf",o.showExchangeModal))},dependencies:[F,K,Y,H],styles:[".dollar-token-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.dt-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#fffffff2;padding:20px 30px;border-radius:15px;box-shadow:0 4px 20px #0000001a;margin-bottom:30px}.dt-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:28px;color:#333}.dt-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:5px 0 0;color:#666;font-size:14px}.dt-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.dt-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-weight:600;color:#333}.dt-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{padding:8px 20px;background:#ff4757;color:#fff;border:none;border-radius:8px;cursor:pointer;transition:all .3s ease}.dt-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]:hover{background:#e84118;transform:translateY(-2px)}.dt-main-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:30px;max-width:1400px;margin:0 auto}@media (max-width: 1024px){.dt-main-content[_ngcontent-%COMP%]{grid-template-columns:1fr}}.wallet-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:20px;padding:30px;box-shadow:0 8px 30px #0000001f}.wallet-card[_ngcontent-%COMP%]   .wallet-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px}.wallet-card[_ngcontent-%COMP%]   .wallet-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:24px;color:#333}.wallet-card[_ngcontent-%COMP%]   .wallet-header[_ngcontent-%COMP%]   .wallet-address[_ngcontent-%COMP%]{font-size:12px;color:#666;cursor:pointer;padding:8px 12px;background:#f8f9fa;border-radius:8px;transition:all .3s ease}.wallet-card[_ngcontent-%COMP%]   .wallet-header[_ngcontent-%COMP%]   .wallet-address[_ngcontent-%COMP%]:hover{background:#e9ecef}.wallet-card[_ngcontent-%COMP%]   .wallet-header[_ngcontent-%COMP%]   .wallet-address[_ngcontent-%COMP%]   .copy-icon[_ngcontent-%COMP%]{margin-left:5px}.wallet-card[_ngcontent-%COMP%]   .wallet-balance[_ngcontent-%COMP%]{text-align:center;padding:30px 0;border-top:2px solid #f0f0f0;border-bottom:2px solid #f0f0f0;margin-bottom:30px}.wallet-card[_ngcontent-%COMP%]   .wallet-balance[_ngcontent-%COMP%]   .balance-label[_ngcontent-%COMP%]{margin:0 0 10px;color:#888;font-size:14px}.wallet-card[_ngcontent-%COMP%]   .wallet-balance[_ngcontent-%COMP%]   .balance-amount[_ngcontent-%COMP%]{margin:0;font-size:48px;font-weight:700;color:#667eea}.wallet-card[_ngcontent-%COMP%]   .wallet-balance[_ngcontent-%COMP%]   .balance-usd[_ngcontent-%COMP%]{margin:10px 0 0;color:#999;font-size:16px}.wallet-card[_ngcontent-%COMP%]   .wallet-actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:15px}.wallet-card[_ngcontent-%COMP%]   .wallet-actions[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]{padding:15px 10px;border:none;border-radius:12px;cursor:pointer;font-size:14px;font-weight:600;transition:all .3s ease;display:flex;flex-direction:column;align-items:center;gap:8px}.wallet-card[_ngcontent-%COMP%]   .wallet-actions[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:24px}.wallet-card[_ngcontent-%COMP%]   .wallet-actions[_ngcontent-%COMP%]   .btn-action[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 20px #00000026}.wallet-card[_ngcontent-%COMP%]   .wallet-actions[_ngcontent-%COMP%]   .btn-action.btn-send[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.wallet-card[_ngcontent-%COMP%]   .wallet-actions[_ngcontent-%COMP%]   .btn-action.btn-receive[_ngcontent-%COMP%]{background:linear-gradient(135deg,#5f27cd,#341f97);color:#fff}.wallet-card[_ngcontent-%COMP%]   .wallet-actions[_ngcontent-%COMP%]   .btn-action.btn-exchange[_ngcontent-%COMP%]{background:linear-gradient(135deg,#00d2ff,#3a47d5);color:#fff}.transactions-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:20px;padding:30px;box-shadow:0 8px 30px #0000001f}.transactions-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 20px;font-size:24px;color:#333}.transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]{max-height:500px;overflow-y:auto}.transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .no-transactions[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#999}.transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;padding:15px;border-bottom:1px solid #f0f0f0;transition:all .3s ease}.transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:hover{background:#f8f9fa}.transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item.pending[_ngcontent-%COMP%]{opacity:.6}.transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .tx-icon[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:24px;background:#f8f9fa}.transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .tx-icon.send[_ngcontent-%COMP%]{background:#ffe0e0}.transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .tx-icon.receive[_ngcontent-%COMP%]{background:#e0f7e0}.transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .tx-info[_ngcontent-%COMP%]{flex:1}.transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .tx-info[_ngcontent-%COMP%]   .tx-type[_ngcontent-%COMP%]{margin:0 0 5px;font-weight:600;color:#333}.transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .tx-info[_ngcontent-%COMP%]   .tx-date[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#999}.transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .tx-amount[_ngcontent-%COMP%]{text-align:right}.transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .tx-amount[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin:0 0 5px;font-size:18px;font-weight:700}.transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .tx-amount[_ngcontent-%COMP%]   .amount.positive[_ngcontent-%COMP%]{color:#27ae60}.transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .tx-amount[_ngcontent-%COMP%]   .amount.negative[_ngcontent-%COMP%]{color:#e74c3c}.transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .tx-amount[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{margin:0;font-size:12px;padding:3px 8px;border-radius:10px;display:inline-block}.transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .tx-amount[_ngcontent-%COMP%]   .status.completed[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.transactions-card[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .tx-amount[_ngcontent-%COMP%]   .status.pending[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:9999}.modal-backdrop[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:15px;max-width:500px;width:90%;box-shadow:0 10px 40px #0000004d}.modal-backdrop[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px;font-size:24px;color:#333}.modal-backdrop[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 20px;color:#666}.modal-backdrop[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{width:100%;padding:12px;background:#667eea;color:#fff;border:none;border-radius:8px;cursor:pointer;font-size:16px;font-weight:600;transition:all .3s ease}.modal-backdrop[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background:#5568d3}"]})};var dt=["loginComponent"],A=class a{constructor(e,t,o){this.authService=e;this.router=t;this.route=o}loginComponent;loginConfig={title:"\u{1F4B5} \uB2EC\uB7EC\uD1A0\uD070",subtitle:"\uB2EC\uB7EC \uC2A4\uD14C\uC774\uBE14 \uCF54\uC778\uC73C\uB85C \uC548\uC804\uD558\uAC8C \uAC70\uB798\uD558\uC138\uC694",moduleName:"dollar-token",showSocialLogin:!1,showRegisterLink:!1};returnUrl="/dollar-token";ngOnInit(){if(this.authService.isAuthenticated()){this.router.navigate([this.returnUrl]);return}this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/dollar-token"}onLogin(e){alert("\u{1F525} NEW CODE: onLogin \uD638\uCD9C! username="+e.username),console.log("[DollarTokenLogin] onLogin \uD638\uCD9C\uB428"),console.log("[DollarTokenLogin] credentials:",e),console.log("[DollarTokenLogin] authService:",this.authService),this.authService.login(e.username,e.password).subscribe({next:t=>{console.log("[DollarTokenLogin] subscribe next - success:",t),t?(console.log("[DollarTokenLogin] \uB85C\uADF8\uC778 \uC131\uACF5 - \uC774\uB3D9:",this.returnUrl),this.router.navigate([this.returnUrl])):(console.warn("[DollarTokenLogin] \uB85C\uADF8\uC778 \uC2E4\uD328 - success is false"),this.loginComponent&&this.loginComponent.setError("\uC0AC\uC6A9\uC790 \uC774\uB984 \uB610\uB294 \uBE44\uBC00\uBC88\uD638\uAC00 \uC62C\uBC14\uB974\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4."))},error:t=>{console.warn("[DollarTokenLogin] subscribe error:",t),this.loginComponent&&this.loginComponent.setError("\uB85C\uADF8\uC778 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}static \u0275fac=function(t){return new(t||a)(_(p),_(C),_(X))};static \u0275cmp=w({type:a,selectors:[["app-dollar-token-login"]],viewQuery:function(t,o){if(t&1&&V(dt,5),t&2){let l;j(l=N())&&(o.loginComponent=l.first)}},standalone:!1,decls:2,vars:1,consts:[["loginComponent",""],[3,"loginSubmit","config"]],template:function(t,o){if(t&1){let l=x();n(0,"app-unified-login",1,0),s("loginSubmit",function(ot){return d(l),u(o.onLogin(ot))}),i()}t&2&&m("config",o.loginConfig)},dependencies:[et],encapsulation:2})};var h=class a{constructor(e,t){this.authService=e;this.router=t}canActivate(e,t){return console.log("[DollarTokenAuthGuard] \uAD8C\uD55C \uD655\uC778 \uC2DC\uC791"),this.authService.isAuthenticated()?(console.log("[DollarTokenAuthGuard] \uC778\uC99D \uC131\uACF5"),!0):(console.log("[DollarTokenAuthGuard] \uC778\uC99D \uC2E4\uD328 - \uB85C\uADF8\uC778 \uD398\uC774\uC9C0\uB85C \uC774\uB3D9"),this.router.navigate(["/dollar-token/login"],{queryParams:{returnUrl:t.url}}),!1)}static \u0275fac=function(t){return new(t||a)(M(p),M(C))};static \u0275prov=b({token:a,factory:a.\u0275fac,providedIn:"root"})};var ut=[{path:"login",component:A},{path:"",component:E,canActivate:[h]}],y=class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=T({type:a});static \u0275inj=D({imports:[R.forChild(ut),R]})};var nt=class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=T({type:a});static \u0275inj=D({providers:[p,h],imports:[G,$,J,W,tt,y]})};export{nt as DollarTokenModule};
