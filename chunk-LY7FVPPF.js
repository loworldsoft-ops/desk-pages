import{a as An}from"./chunk-V2OYJ4N4.js";import{f as zn,g as A}from"./chunk-RQPZERCG.js";import{b as kn,f as Rn}from"./chunk-L7KPWZXJ.js";import{a as Xe}from"./chunk-SJVX2RDN.js";import{a as X}from"./chunk-GCCXCMC7.js";import{b as On,c as Tn,d as En}from"./chunk-I5QPUQNU.js";import{a as Rt}from"./chunk-GW37IABN.js";import{a as Wn}from"./chunk-I7LDI25N.js";import{d as In}from"./chunk-URZ7EM6I.js";import{b as Pn}from"./chunk-NDZUP4Y3.js";import"./chunk-TQB7XTTO.js";import{a as ae}from"./chunk-4DRAGH36.js";import{g as xn,k as vn}from"./chunk-YKT2DST2.js";import"./chunk-ZTC7FD34.js";import{e as Cn}from"./chunk-IETAKAO6.js";import{b as te}from"./chunk-DKJAT7FW.js";import{e as Dn,i as Sn,j as Qe}from"./chunk-KKBH3IZU.js";import"./chunk-PU3NJVWI.js";import"./chunk-265GCEVW.js";import{b as wn,c as yn,i as $e,j as Ge,p as Mn,q as He}from"./chunk-ECCXUGB5.js";import{a as V,b as bn}from"./chunk-LJMAQA5N.js";import{a as K,b as je,c as Z,e as fn,f as hn,g as _n,h as Ue}from"./chunk-VTZTOIJT.js";import{M as un,qa as Q,sa as ee,va as ge}from"./chunk-E2QGNPJC.js";import{b as mn,d as Be,g as gn}from"./chunk-ERU5XYPD.js";import{g as Le}from"./chunk-XRSSTKR3.js";import{E as cn,F as pn,c as pe,e as kt,h as me,i as on,j as an,l as rn,m as Ne,n as sn,s as ln,v as dn}from"./chunk-26VDYJPQ.js";import{$b as C,Aa as Te,Ac as De,B as be,Ba as E,Da as Ht,F as Ot,H as R,Hc as Wt,Ib as Qt,Id as ce,Jb as Xt,Jc as en,K as Tt,Kb as U,Lb as M,Mb as D,Nb as ke,Ob as Re,Pb as S,Qb as I,Rb as g,Sb as a,Tb as s,Ub as b,W as q,Ya as oe,_b as qt,aa as j,ba as se,bb as l,bc as c,bd as tn,da as Bt,dc as d,ea as Et,ec as Jt,ed as Ae,f as F,fa as y,fc as Yt,fd as Se,g as ie,h as Lt,hb as W,hc as $,hd as nn,ic as G,jb as Ee,jc as H,ka as p,la as m,ma as we,na as jt,nc as Kt,oa as Ut,ob as h,oc as J,pb as le,pc as ze,qb as We,qc as de,rc as Zt,sb as k,sc as u,tc as P,td as Fe,ub as N,uc as T,ud as Y,xb as v,xd as Ve,ya as $t,yc as ye,z as Nt,za as Gt,zc as Me}from"./chunk-UMLP25CN.js";import{a as _,b as L,h as Oe}from"./chunk-WWX6BADO.js";var qe={id:"page-1",name:"Home",path:"/home",createdAt:"2025-01-01T00:00:00.000Z",updatedAt:"2025-01-01T00:00:00.000Z",sections:[{id:"section-1",rows:[{id:"row-1-1",type:"row",columns:[{id:"col-1-1-1",widget:{id:"widget-text-1",type:"widget",widgetType:"text",properties:{text:"\uD658\uC601\uD569\uB2C8\uB2E4! Wix \uC2A4\uD0C0\uC77C \uBE4C\uB354\uC785\uB2C8\uB2E4",fontSize:32,color:"#2196F3",fontWeight:"bold",textAlign:"center",fontFamily:"Pretendard, sans-serif"}}}]},{id:"row-1-2",type:"row",columns:[{id:"col-1-2-1",widget:{id:"widget-image-1",type:"widget",widgetType:"image",properties:{source:{src:"images/ai/loworld_1.png",alt:"LOWORLD \uC774\uBBF8\uC9C0 1"},style:{width:{enabled:!0,value:400,unit:"px",cssProperty:"width"},height:{enabled:!0,value:300,unit:"px",cssProperty:"height"}}}}},{id:"col-1-2-2",widget:{id:"widget-text-2",type:"widget",widgetType:"text",properties:{text:`\uB354\uBE14\uD074\uB9AD\uD558\uC5EC \uD14D\uC2A4\uD2B8\uB97C \uC218\uC815\uD558\uC138\uC694.

\uC774 \uC704\uC82F\uC740 \uB2E4\uC74C \uAE30\uB2A5\uC744 \uC9C0\uC6D0\uD569\uB2C8\uB2E4:
- \uD14D\uC2A4\uD2B8 \uD3B8\uC9D1
- \uD3F0\uD2B8 \uD06C\uAE30 \uC870\uC808
- \uC0C9\uC0C1 \uBCC0\uACBD
- \uC815\uB82C \uC124\uC815`,fontSize:16,color:"#333333",fontWeight:"normal",textAlign:"left",fontFamily:"Pretendard, sans-serif"}}}]},{id:"row-1-3",type:"row",columns:[{id:"col-1-3-1",widget:{id:"widget-image-2",type:"widget",widgetType:"image",properties:{source:{src:"images/ai/loworld_2.png",alt:"LOWORLD \uC774\uBBF8\uC9C0 2"},style:{width:{enabled:!0,value:300,unit:"px",cssProperty:"width"},height:{enabled:!0,value:300,unit:"px",cssProperty:"height"}}}}},{id:"col-1-3-2",widget:{id:"widget-image-3",type:"widget",widgetType:"image",properties:{source:{src:"images/ai/loworld_3.png",alt:"LOWORLD \uC774\uBBF8\uC9C0 3"},style:{width:{enabled:!0,value:300,unit:"px",cssProperty:"width"},height:{enabled:!0,value:300,unit:"px",cssProperty:"height"}}}}}]},{id:"row-1-4",type:"row",columns:[{id:"col-1-4-1",widget:{id:"widget-text-3",type:"widget",widgetType:"text",properties:{text:"\u{1F3A8} \uC2A4\uD0C0\uC77C \uCEE4\uC2A4\uD130\uB9C8\uC774\uC9D5",fontSize:24,color:"#4CAF50",fontWeight:"bold",textAlign:"left",fontFamily:"Pretendard, sans-serif"}}},{id:"col-1-4-2",widget:{id:"widget-text-4",type:"widget",widgetType:"text",properties:{text:"\u21A9\uFE0F Undo/Redo \uAE30\uB2A5",fontSize:24,color:"#FF9800",fontWeight:"bold",textAlign:"center",fontFamily:"Pretendard, sans-serif"}}},{id:"col-1-4-3",widget:{id:"widget-text-5",type:"widget",widgetType:"text",properties:{text:"\u{1F4BE} \uC790\uB3D9 \uC800\uC7A5",fontSize:24,color:"#9C27B0",fontWeight:"bold",textAlign:"right",fontFamily:"Pretendard, sans-serif"}}}]}]}]};var zt=(o=>(o.IDLE="IDLE",o.SAVING="SAVING",o.SAVED="SAVED",o.ERROR="ERROR",o))(zt||{}),ue=class i{http=y(Le);baseUrl=`${ae.baseSyncUrl}/wix`;saveStateSubject=new ie({status:"IDLE",isPending:!1});saveState$=this.saveStateSubject.asObservable();appDataChangeSubject=new F;pageDataChangeSubject=new F;autoSaveEnabled=!0;debounceTime=1e3;constructor(){this.initAutoSave(),console.log("\u2705 WixAutoSaveService \uCD08\uAE30\uD654")}initAutoSave(){this.appDataChangeSubject.pipe(be(()=>this.autoSaveEnabled),Ot(this.debounceTime),Tt((t,e)=>JSON.stringify(t)===JSON.stringify(e))).subscribe(t=>{this.saveAppToLocalStorage(t),this.saveAppToServer(t)}),this.pageDataChangeSubject.pipe(be(()=>this.autoSaveEnabled),Ot(this.debounceTime),Tt((t,e)=>JSON.stringify(t)===JSON.stringify(e))).subscribe(t=>{this.savePageToLocalStorage(t)})}notifyAppDataChange(t){this.setSaveStatus("IDLE",!0),this.appDataChangeSubject.next(t)}notifyPageDataChange(t){this.setSaveStatus("IDLE",!0),this.pageDataChangeSubject.next(t)}saveAppToLocalStorage(t){try{localStorage.setItem("wixAppData",JSON.stringify(t)),console.log("\u{1F4BE} LocalStorage\uC5D0 \uC571 \uC800\uC7A5 \uC644\uB8CC")}catch(e){console.warn("\u274C LocalStorage \uC800\uC7A5 \uC2E4\uD328:",e),this.setSaveStatus("ERROR",!1,"\uB85C\uCEEC \uC800\uC7A5 \uC2E4\uD328")}}savePageToLocalStorage(t){try{localStorage.setItem("wixPageData",JSON.stringify(t)),console.log("\u{1F4BE} LocalStorage\uC5D0 \uD398\uC774\uC9C0 \uC800\uC7A5 \uC644\uB8CC")}catch(e){console.warn("\u274C LocalStorage \uC800\uC7A5 \uC2E4\uD328:",e),this.setSaveStatus("ERROR",!1,"\uB85C\uCEEC \uC800\uC7A5 \uC2E4\uD328")}}saveAppToServer(t){this.setSaveStatus("SAVING",!0);let e=L(_({},t),{pages:JSON.stringify(t.pages)});this.http.patch(`${this.baseUrl}/apps`,e).subscribe({next:n=>{console.log("\u2601\uFE0F \uC11C\uBC84\uC5D0 \uC571 \uC800\uC7A5 \uC644\uB8CC:",n),this.setSaveStatus("SAVED",!1)},error:n=>{console.warn("\u274C \uC11C\uBC84 \uC800\uC7A5 \uC2E4\uD328:",n),this.setSaveStatus("ERROR",!1,n.message||"\uC11C\uBC84 \uC800\uC7A5 \uC2E4\uD328")}})}loadAppFromLocalStorage(){try{let t=localStorage.getItem("wixAppData");if(t){let e=JSON.parse(t);return console.log("\u{1F4C2} LocalStorage\uC5D0\uC11C \uC571 \uB85C\uB4DC \uC644\uB8CC"),e}return null}catch(t){return console.warn("\u274C LocalStorage \uB85C\uB4DC \uC2E4\uD328:",t),null}}loadPageFromLocalStorage(){try{let t=localStorage.getItem("wixPageData");if(t){let e=JSON.parse(t);return console.log("\u{1F4C2} LocalStorage\uC5D0\uC11C \uD398\uC774\uC9C0 \uB85C\uB4DC \uC644\uB8CC"),e}return null}catch(t){return console.warn("\u274C LocalStorage \uB85C\uB4DC \uC2E4\uD328:",t),null}}manualSave(t){console.log("\u{1F4BE} \uC218\uB3D9 \uC800\uC7A5 \uC2DC\uC791..."),this.saveAppToLocalStorage(t),this.saveAppToServer(t)}setAutoSaveEnabled(t){this.autoSaveEnabled=t,console.log(`\u{1F504} \uC790\uB3D9 \uC800\uC7A5 ${t?"\uD65C\uC131\uD654":"\uBE44\uD65C\uC131\uD654"}`)}setDebounceTime(t){this.debounceTime=Math.max(100,t),console.log(`\u23F1\uFE0F Debounce \uC2DC\uAC04: ${this.debounceTime}ms`)}setSaveStatus(t,e,n){this.saveStateSubject.next({status:t,lastSaved:t==="SAVED"?new Date:this.saveStateSubject.value.lastSaved,error:n,isPending:e})}clearLocalStorage(){localStorage.removeItem("wixAppData"),localStorage.removeItem("wixPageData"),console.log("\u{1F5D1}\uFE0F LocalStorage \uCD08\uAE30\uD654 \uC644\uB8CC")}getCurrentSaveState(){return this.saveStateSubject.value}getLastSavedFormatted(){let t=this.saveStateSubject.value.lastSaved;if(!t)return"\uC800\uC7A5\uB41C \uC801 \uC5C6\uC74C";let n=new Date().getTime()-t.getTime(),o=Math.floor(n/1e3),r=Math.floor(o/60),f=Math.floor(r/60);return o<60?`${o}\uCD08 \uC804`:r<60?`${r}\uBD84 \uC804`:f<24?`${f}\uC2DC\uAC04 \uC804`:t.toLocaleString("ko-KR")}isSavePending(){return this.saveStateSubject.value.isPending}static \u0275fac=function(e){return new(e||i)};static \u0275prov=j({token:i,factory:i.\u0275fac,providedIn:"root"})};function $n(i,t){if(i&1&&(a(0,"button",6)(1,"mat-icon"),u(2,"error_outline"),s()()),i&2){let e=d();g("matTooltip",e.saveState.error||"\uC5D0\uB7EC \uBC1C\uC0DD")}}var Je=class i{autoSaveService=y(ue);destroy$=new F;saveState={status:"IDLE",isPending:!1};SaveStatus=zt;autoSaveEnabled=!0;lastSavedText="";ngOnInit(){this.autoSaveService.saveState$.pipe(q(this.destroy$)).subscribe(t=>{this.saveState=t,this.updateLastSavedText()}),Nt(1e3).pipe(q(this.destroy$)).subscribe(()=>{this.updateLastSavedText()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateLastSavedText(){this.lastSavedText=this.autoSaveService.getLastSavedFormatted()}toggleAutoSave(){this.autoSaveEnabled=!this.autoSaveEnabled,this.autoSaveService.setAutoSaveEnabled(this.autoSaveEnabled)}getStatusIcon(){switch(this.saveState.status){case"SAVING":return"cloud_upload";case"SAVED":return"cloud_done";case"ERROR":return"cloud_off";default:return"cloud_queue"}}getStatusText(){if(this.saveState.isPending)return"\uC800\uC7A5 \uB300\uAE30 \uC911...";switch(this.saveState.status){case"SAVING":return"\uC800\uC7A5 \uC911...";case"SAVED":return`\uC800\uC7A5\uB428 (${this.lastSavedText})`;case"ERROR":return"\uC800\uC7A5 \uC2E4\uD328";default:return"\uC800\uC7A5 \uC548\uB428"}}getStatusClass(){switch(this.saveState.status){case"SAVING":return"saving";case"SAVED":return"saved";case"ERROR":return"error";default:return"idle"}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-save-status-indicator"]],standalone:!1,decls:11,vars:9,consts:[[1,"save-status-indicator"],[1,"status-main"],[1,"status-text"],[1,"status-actions"],["mat-icon-button","",1,"toggle-btn",3,"click","matTooltip"],["mat-icon-button","","class","error-btn",3,"matTooltip",4,"ngIf"],["mat-icon-button","",1,"error-btn",3,"matTooltip"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"mat-icon"),u(3),s(),a(4,"span",2),u(5),s()(),a(6,"div",3)(7,"button",4),c("click",function(){return n.toggleAutoSave()}),a(8,"mat-icon"),u(9),s()(),N(10,$n,3,1,"button",5),s()()),e&2&&(Zt(n.getStatusClass()),l(2),ze("spinning",n.saveState.status===n.SaveStatus.SAVING),l(),T(" ",n.getStatusIcon()," "),l(2),P(n.getStatusText()),l(2),g("matTooltip",n.autoSaveEnabled?"\uC790\uB3D9 \uC800\uC7A5 \uBE44\uD65C\uC131\uD654":"\uC790\uB3D9 \uC800\uC7A5 \uD65C\uC131\uD654"),l(2),P(n.autoSaveEnabled?"sync":"sync_disabled"),l(),g("ngIf",n.saveState.status===n.SaveStatus.ERROR))},dependencies:[Y,Q,V,te],styles:[".save-status-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:8px 16px;background:#fff;border-radius:24px;box-shadow:0 2px 8px #0000001a;transition:all .3s ease;min-width:200px;gap:12px}.save-status-indicator[_ngcontent-%COMP%]   .status-main[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.save-status-indicator[_ngcontent-%COMP%]   .status-main[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;transition:all .3s ease}.save-status-indicator[_ngcontent-%COMP%]   .status-main[_ngcontent-%COMP%]   mat-icon.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.save-status-indicator[_ngcontent-%COMP%]   .status-main[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{font-size:14px;font-weight:500;white-space:nowrap}.save-status-indicator[_ngcontent-%COMP%]   .status-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.save-status-indicator[_ngcontent-%COMP%]   .status-actions[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%], .save-status-indicator[_ngcontent-%COMP%]   .status-actions[_ngcontent-%COMP%]   .error-btn[_ngcontent-%COMP%]{width:32px;height:32px}.save-status-indicator[_ngcontent-%COMP%]   .status-actions[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .save-status-indicator[_ngcontent-%COMP%]   .status-actions[_ngcontent-%COMP%]   .error-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.save-status-indicator.idle[_ngcontent-%COMP%]{background:#f5f5f5}.save-status-indicator.idle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#9e9e9e}.save-status-indicator.idle[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{color:#757575}.save-status-indicator.saving[_ngcontent-%COMP%]{background:#e3f2fd;border:1px solid #2196F3}.save-status-indicator.saving[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2196f3}.save-status-indicator.saving[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{color:#1976d2}.save-status-indicator.saved[_ngcontent-%COMP%]{background:#e8f5e9;border:1px solid #4CAF50}.save-status-indicator.saved[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#4caf50}.save-status-indicator.saved[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{color:#2e7d32}.save-status-indicator.error[_ngcontent-%COMP%]{background:#ffebee;border:1px solid #f44336}.save-status-indicator.error[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336}.save-status-indicator.error[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{color:#c62828}.save-status-indicator.error[_ngcontent-%COMP%]   .error-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336;animation:_ngcontent-%COMP%_pulse 1s ease-in-out infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.save-status-indicator[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026;transform:translateY(-1px)}"]})};var Qn=(i,t)=>t.component;function Xn(i,t){if(i&1){let e=C();a(0,"div",5),c("click",function(){let o=p(e).$implicit,r=d();return m(r.selectWidget(o))}),a(1,"mat-icon"),u(2),s(),a(3,"p"),u(4),s()()}if(i&2){let e=t.$implicit;l(2),P(e.icon),l(2),P(e.title)}}var Ke=class i{constructor(t){this.dialogRef=t}designList=[{icon:"image",title:"\uC774\uBBF8\uC9C0",component:"image"},{icon:"text_fields",title:"\uD14D\uC2A4\uD2B8",component:"text"},{icon:"check_box_outline_blank",title:"\uC5EC\uBC31",component:"spacer"},{icon:"videocam",title:"\uB3D9\uC601\uC0C1",component:"video"},{icon:"crop_16_9",title:"\uBC84\uD2BC",component:"button"}];selectWidget(t){this.dialogRef.close(t)}close(){this.dialogRef.close()}static \u0275fac=function(e){return new(e||i)(W(K))};static \u0275cmp=h({type:i,selectors:[["app-widget-list-dialog"]],standalone:!1,decls:9,vars:0,consts:[[1,"widget-list-dialog"],[1,"widget-grid"],[1,"widget-item"],[1,"actions"],["mat-button","",3,"click"],[1,"widget-item",3,"click"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"h2"),u(2,"\uC704\uC82F \uC120\uD0DD"),s(),a(3,"div",1),S(4,Xn,5,2,"div",2,Qn),s(),a(6,"div",3)(7,"button",4),c("click",function(){return n.close()}),u(8,"\uCDE8\uC18C"),s()()()),e&2&&(l(4),I(n.designList))},dependencies:[ee,V],styles:[".widget-list-dialog[_ngcontent-%COMP%]{padding:20px;min-width:400px}.widget-list-dialog[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}.widget-list-dialog[_ngcontent-%COMP%]   .widget-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:15px;margin:20px 0}.widget-list-dialog[_ngcontent-%COMP%]   .widget-grid[_ngcontent-%COMP%]   .widget-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:15px;border:1px solid #ddd;border-radius:8px;cursor:pointer;transition:all .2s}.widget-list-dialog[_ngcontent-%COMP%]   .widget-grid[_ngcontent-%COMP%]   .widget-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;transform:translateY(-2px);box-shadow:0 2px 8px #0000001a}.widget-list-dialog[_ngcontent-%COMP%]   .widget-grid[_ngcontent-%COMP%]   .widget-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;margin-bottom:8px}.widget-list-dialog[_ngcontent-%COMP%]   .widget-grid[_ngcontent-%COMP%]   .widget-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px}.widget-list-dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px}"]})};var Ze=class i{constructor(t,e){this.dialogRef=t;this.data=e}onConfirm(){this.dialogRef.close(!0)}onCancel(){this.dialogRef.close(!1)}static \u0275fac=function(e){return new(e||i)(W(K),W(je))};static \u0275cmp=h({type:i,selectors:[["app-confirm-dialog"]],decls:10,vars:4,consts:[["mat-dialog-title",""],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,n){e&1&&(a(0,"h2",0),u(1),s(),a(2,"mat-dialog-content")(3,"p"),u(4),s()(),a(5,"mat-dialog-actions",1)(6,"button",2),c("click",function(){return n.onCancel()}),u(7),s(),a(8,"button",3),c("click",function(){return n.onConfirm()}),u(9),s()()),e&2&&(l(),P(n.data.title),l(3),P(n.data.message),l(3),T(" ",n.data.cancelText||"\uCDE8\uC18C"," "),l(2),T(" ",n.data.confirmText||"\uD655\uC778"," "))},dependencies:[ce,Ue,fn,_n,hn,ge,ee],styles:["mat-dialog-content[_ngcontent-%COMP%]{padding:20px 0}"]})};var Vn=[{icon:"edit",label:"\uD3B8\uC9D1",action:"edit"},{icon:"content_copy",label:"\uBCF5\uC81C",action:"duplicate"},{icon:"delete",label:"\uC0AD\uC81C",action:"delete"}],et=Vn,tt=Vn;function qn(i,t){if(i&1&&(a(0,"mat-icon"),u(1),s()),i&2){let e=d().$implicit;l(),P(e.icon)}}function Jn(i,t){if(i&1){let e=C();a(0,"div",3),c("click",function(){let o=p(e).$implicit,r=d();return m(r.onMenuClick(o))}),N(1,qn,2,1,"mat-icon",4),a(2,"span"),u(3),s()()}if(i&2){let e=t.$implicit;ze("disabled",e.disabled),l(),g("ngIf",e.icon),l(2),P(e.label)}}var nt=class i{menuData=[];x=0;y=0;menuSelect=new v;close=new v;onMenuClick(t){t.disabled||(this.menuSelect.emit(t.param),this.close.emit())}onBackdropClick(){this.close.emit()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-context-menu"]],inputs:{menuData:"menuData",x:"x",y:"y"},outputs:{menuSelect:"menuSelect",close:"close"},standalone:!1,decls:3,vars:5,consts:[[1,"context-menu-backdrop",3,"click"],[1,"context-menu"],["class","menu-item",3,"disabled","click",4,"ngFor","ngForOf"],[1,"menu-item",3,"click"],[4,"ngIf"]],template:function(e,n){e&1&&(a(0,"div",0),c("click",function(){return n.onBackdropClick()}),s(),a(1,"div",1),N(2,Jn,4,4,"div",2),s()),e&2&&(l(),J("left",n.x,"px")("top",n.y,"px"),l(),g("ngForOf",n.menuData))},dependencies:[Fe,Y,V],styles:[".context-menu-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:9998}.context-menu[_ngcontent-%COMP%]{position:fixed;background:#fff;border-radius:8px;box-shadow:0 4px 12px #00000026;padding:8px 0;min-width:180px;z-index:9999}.context-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:10px 16px;cursor:pointer;transition:background-color .2s}.context-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover:not(.disabled){background-color:#f5f5f5}.context-menu[_ngcontent-%COMP%]   .menu-item.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.context-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.context-menu[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}"]})};var ne=class i{constructor(t,e,n,o){this.el=t;this.viewContainer=e;this.appRef=n;this.injector=o}menuData=[];selectMenu=new v;menuRef;onContextMenu(t){t.preventDefault(),t.stopPropagation(),this.closeMenu(),this.menuRef=nn(nt,{environmentInjector:this.appRef.injector,elementInjector:this.injector}),this.menuRef.instance.menuData=this.menuData,this.menuRef.instance.x=t.clientX,this.menuRef.instance.y=t.clientY,this.menuRef.instance.menuSelect.subscribe(n=>{this.selectMenu.emit(n),this.closeMenu()}),this.menuRef.instance.close.subscribe(()=>{this.closeMenu()}),this.appRef.attachView(this.menuRef.hostView);let e=this.menuRef.hostView.rootNodes[0];document.body.appendChild(e)}closeMenu(){this.menuRef&&(this.appRef.detachView(this.menuRef.hostView),this.menuRef.destroy(),this.menuRef=void 0)}ngOnDestroy(){this.closeMenu()}static \u0275fac=function(e){return new(e||i)(W(Ht),W(Ee),W(Qt),W(Ut))};static \u0275dir=We({type:i,selectors:[["","appWixContextMenu",""]],hostBindings:function(e,n){e&1&&c("contextmenu",function(r){return n.onContextMenu(r)})},inputs:{menuData:"menuData"},outputs:{selectMenu:"selectMenu"},standalone:!1})};var B=class{widgetDropSubject=new F;emitWidgetDrop(t,e){this.widgetDropSubject.next({draggedId:t,widget:e})}getWidgetDropObservable(){return this.widgetDropSubject.asObservable()}};var Yn=(i,t)=>t.id;function Kn(i,t){if(i&1){let e=C();a(0,"div",1)(1,"div",2),c("dragover",function(o){p(e);let r=d();return m(r.onDragOver(o,"top",r.data.id))})("dragleave",function(o){p(e);let r=d();return m(r.onDragLeave(o))})("drop",function(o){p(e);let r=d();return m(r.onDrop(o,"top",null))}),s(),a(2,"div",3),c("dragover",function(o){p(e);let r=d();return m(r.onDragOver(o,"bottom",r.data.id))})("dragleave",function(o){p(e);let r=d();return m(r.onDragLeave(o))})("drop",function(o){p(e);let r=d();return m(r.onDrop(o,"bottom",null))}),s(),a(3,"app-widget-design",4),c("removeWidget",function(o){p(e);let r=d();return m(r.onWidgetRemoved(o))})("itemChanged",function(o){p(e);let r=d();return m(r.onWidgetChanged(o))}),s()()}if(i&2){let e=d();l(3),g("data",e.data.widget)("columnId",e.data.id)}}function Zn(i,t){if(i&1){let e=C();a(0,"div",5)(1,"div",6),c("dragover",function(o){p(e);let r=d(2);return m(r.onDragOver(o,"top",r.data.id))})("dragleave",function(o){p(e);let r=d(2);return m(r.onDragLeave(o))})("drop",function(o){let r=p(e).$index,f=d(2);return m(f.onDrop(o,"top",r))}),s(),a(2,"div",7),c("dragover",function(o){p(e);let r=d(2);return m(r.onDragOver(o,"bottom",r.data.id))})("dragleave",function(o){p(e);let r=d(2);return m(r.onDragLeave(o))})("drop",function(o){let r=p(e).$index,f=d(2);return m(f.onDrop(o,"bottom",r))}),s(),a(3,"app-row-design",8),c("changedItem",function(o){p(e);let r=d(2);return m(r.onRowChanged(o))}),s()()}if(i&2){let e=t.$implicit;l(3),g("data",e)}}function ei(i,t){if(i&1&&S(0,Zn,4,1,"div",5,Yn),i&2){let e=d();I(e.data.rows)}}var he=class i{data;rowIndex;itemChanged=new v;sketchDragVM=y(B);addItem(t){throw new Error("Method not implemented.")}removeItem(t){throw new Error("Method not implemented.")}onItemChange(t){throw new Error("Method not implemented.")}addRow(t){}removeRow(t){}addWidget(t){}removeWidget(t){}onDragOver(t,e,n){t.preventDefault(),t.stopPropagation(),console.log("\uB4DC\uB798\uADF8 \uC624\uBC84"),t.preventDefault(),t.target.classList.add("hovered")}onDragLeave(t){t.preventDefault(),t.stopPropagation(),console.log("\uB4DC\uB798\uADF8 \uB9AC\uBE0C"),t.target.classList.remove("hovered")}onDrop(t,e,n){if(t.preventDefault(),t.stopPropagation(),t.target.classList.remove("hovered"),!t.dataTransfer){console.log("dataTransfer \uC5C6\uC74C, \uCEEC\uB7FC");return}let r=t.dataTransfer.getData("widget");if(!r){console.log("\uC774\uBCA4\uD2B8 \uB370\uC774\uD130 \uC548 \uB118\uC5B4\uC634");return}let f=JSON.parse(r);if(f.draggedId===this.data.id){console.log("\uB3D9\uC77C \uD0C0\uAC9F");return}console.log("\uC544\uC774\uD15C \uB4DC\uB86D",f),this.sketchDragVM.widgetDropSubject.next(f),this.insertRow(f.widget,e,n),this.itemChanged.emit(this.data)}insertRow(t,e,n){if(this.data.rows){let o=this.createRow(t),r=n!==null?e==="top"?n:n+1:this.data.rows.length;this.data.rows.splice(r,0,o)}else if(this.data.widget){let o=this.createRow(this.data.widget),r=this.createRow(t);this.data.rows=e==="top"?[r,o]:[o,r],this.data.widget=void 0}}ensureRowStructure(){if(!this.data.widget)return;let t=this.data.widget;this.data.rows=[{id:A(),type:"row",columns:[_({},t)]}]}createRow(t){return{id:A(),type:"row",columns:[{id:A(),widget:t}]}}onRowChanged(t){if(console.log("row\uC5C5\uB370\uC774\uD2B8(\uD604\uC7AC column), ",t),!this.data.rows){console.log("\uD604\uC7AC row \uBE44\uC5B4\uC788\uC74C");return}let e=this.data.rows.findIndex(o=>o.id===t.id);if(e===-1){console.log("row id \uB9E4\uCE6D \uC548\uB428");return}if(this.data.rows[e].columns.length===0){this.data.rows.splice(e,1),this.itemChanged.emit(this.data);return}this.data.rows[e]=_({},t),this.itemChanged.emit(this.data)}onWidgetRemoved(t){if(console.log(t),!this.data.widget){console.log("\uC704\uC82F \uB370\uC774\uD130 \uC5C6\uC74C");return}if(this.data.widget.id!==t.id){console.log("\uC704\uC82F \uB370\uC774\uD130 \uB9E4\uCE6D \uC548\uB428");return}this.data.widget=void 0,console.log("\uC704\uC82F \uC81C\uAC70 \uC644\uB8CC(\uD604\uC7AC \uCEEC\uB7FC), ",this.data),this.itemChanged.emit(this.data)}onWidgetChanged(t){if(console.log(t),!this.data.widget){console.log("\uC704\uC82F \uB370\uC774\uD130 \uC5C6\uC74C");return}if(this.data.widget.id!==t.id){console.log("\uC704\uC82F \uB370\uC774\uD130 \uB9E4\uCE6D \uC548\uB428");return}this.data=L(_({},this.data),{widget:t}),this.itemChanged.emit(this.data)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-column-design"]],inputs:{data:"data",rowIndex:"rowIndex"},outputs:{itemChanged:"itemChanged"},standalone:!1,decls:3,vars:2,consts:[[1,"container"],[1,"widget-container"],[1,"drop-handler","top",3,"dragover","dragleave","drop"],[1,"drop-handler","bottom",3,"dragover","dragleave","drop"],[3,"removeWidget","itemChanged","data","columnId"],[1,"row-container"],[1,"drop-handler","handler-row","top",3,"dragover","dragleave","drop"],[1,"drop-handler","handler-row","bottom",3,"dragover","dragleave","drop"],[3,"changedItem","data"]],template:function(e,n){e&1&&(a(0,"div",0),M(1,Kn,4,2,"div",1),M(2,ei,2,0),s()),e&2&&(l(),D(n.data.widget?1:-1),l(),D(n.data.rows?2:-1))},styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{width:100%}.row-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(10px,1fr));width:100%}.widget-container[_ngcontent-%COMP%]{position:relative;width:100%}.row-container[_ngcontent-%COMP%]{position:relative;width:100%;padding-top:3px;padding-bottom:3px}.drop-handler[_ngcontent-%COMP%]{position:absolute;z-index:10;background-color:#2196f30d;border:1px dashed rgba(33,150,243,.2);transition:all .3s ease;display:flex;align-items:center;justify-content:center}.drop-handler[_ngcontent-%COMP%]:hover{background-color:#2196f31a;border-color:#2196f366}.drop-handler[_ngcontent-%COMP%]:before{content:"";position:absolute;opacity:0;transition:opacity .2s ease}.drop-handler[_ngcontent-%COMP%]:after{content:"\\22ee\\22ee";position:absolute;color:#2196f34d;font-size:16px;font-weight:700;opacity:.5;transition:opacity .2s ease}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{width:100%;height:30px;border-left:none;border-right:none}.top[_ngcontent-%COMP%]:before, .bottom[_ngcontent-%COMP%]:before{width:100%;height:2px;background:#2196f34d;border-radius:2px}.top[_ngcontent-%COMP%]:after, .bottom[_ngcontent-%COMP%]:after{content:"\\22ef\\22ef\\22ef";font-size:20px;letter-spacing:4px}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{width:30px;height:100%;border-top:none;border-bottom:none}.left[_ngcontent-%COMP%]:before, .right[_ngcontent-%COMP%]:before{width:2px;height:100%;background:#2196f34d;border-radius:2px}.left[_ngcontent-%COMP%]:after, .right[_ngcontent-%COMP%]:after{content:"\\22ee";font-size:20px;line-height:8px}.drop-handler.top[_ngcontent-%COMP%]{top:-15px}.drop-handler.bottom[_ngcontent-%COMP%]{bottom:-15px}.drop-handler.left[_ngcontent-%COMP%]{left:-15px}.drop-handler.right[_ngcontent-%COMP%]{right:-15px}.drop-handler.hovered[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#2196f34d,#2196f31a)!important;border:3px solid #2196F3!important;border-radius:6px;box-shadow:0 2px 12px #2196f399;animation:_ngcontent-%COMP%_pulse 1s ease-in-out infinite}.drop-handler.hovered[_ngcontent-%COMP%]:before{opacity:1;background:#2196f3!important;height:4px!important;box-shadow:0 0 8px #2196f3cc}.drop-handler.hovered[_ngcontent-%COMP%]:after{content:"\\2193  \\c5ec\\ae30\\c5d0  \\b193\\ae30"!important;position:absolute;color:#fff!important;font-size:13px!important;font-weight:700;background:#2196f3!important;padding:4px 12px!important;border-radius:4px;box-shadow:0 2px 8px #0000004d;white-space:nowrap;opacity:1!important;letter-spacing:normal!important}.top.hovered[_ngcontent-%COMP%]:after{content:"\\2191  \\c704\\c5d0  \\b193\\ae30"!important}.bottom.hovered[_ngcontent-%COMP%]:after{content:"\\2193  \\c544\\b798\\c5d0  \\b193\\ae30"!important}.left.hovered[_ngcontent-%COMP%]:after{content:"\\2190  \\c67c\\cabd\\c5d0  \\b193\\ae30"!important}.right.hovered[_ngcontent-%COMP%]:after{content:"\\2192  \\c624\\b978\\cabd\\c5d0  \\b193\\ae30"!important}.top.hovered[_ngcontent-%COMP%]:before, .bottom.hovered[_ngcontent-%COMP%]:before{width:100%!important;height:4px!important}.left.hovered[_ngcontent-%COMP%]:before, .right.hovered[_ngcontent-%COMP%]:before{width:4px!important;height:100%!important}.handler-row.hovered[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#4caf504d,#4caf501a);border:2px solid #4CAF50;border-radius:6px;box-shadow:0 2px 8px #4caf5066;animation:_ngcontent-%COMP%_pulse 1s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.02);opacity:.9}}']})};var ni=i=>({"grid-template-columns":i}),ii=(i,t)=>t.id;function oi(i,t){if(i&1){let e=C();a(0,"div",8),c("mousedown",function(o){p(e);let r=d().$index,f=d();return m(f.onResizeStart(o,r))}),b(1,"div",9),s()}}function ai(i,t){if(i&1){let e=C();a(0,"div",2)(1,"div",3),c("dragover",function(o){let r=p(e).$implicit,f=d();return m(f.onDragOver(o,"left",r.id))})("dragleave",function(o){p(e);let r=d();return m(r.onDragLeave(o))})("drop",function(o){let r=p(e).$implicit,f=d();return m(f.onDrop(o,"left",r.id))}),s(),a(2,"div",4),c("dragover",function(o){let r=p(e).$implicit,f=d();return m(f.onDragOver(o,"right",r.id))})("dragleave",function(o){p(e);let r=d();return m(r.onDragLeave(o))})("drop",function(o){let r=p(e).$implicit,f=d();return m(f.onDrop(o,"right",r.id))}),s(),a(3,"div",5)(4,"app-column-design",6),c("itemChanged",function(o){p(e);let r=d();return m(r.onItemChange(o))}),s()(),M(5,oi,2,0,"div",7),s()}if(i&2){let e=t.$implicit,n=t.$index,o=d();l(4),g("data",e),l(),D(n<o.data.columns.length-1?5:-1)}}var _e=class i{data;rowIndex;changedItem=new v;sketchVM=y(B);resizing=!1;resizeColumnIndex=-1;startX=0;startWidth=0;ngOnInit(){}addItem(t){throw new Error("Method not implemented.")}removeItem(t){throw new Error("Method not implemented.")}onItemChange(t){console.log("\uB370\uC774\uD130 \uBCC0\uD654 \uAC10\uC9C0, \uD604\uC7AC \uB85C\uC6B0");let e=this.data.columns.findIndex(o=>o.id===t.id);if(e===-1){console.log("\uB9E4\uCE6D\uB418\uB294 \uCEEC\uB7FC \uC5C6\uC74C");return}let n=this.data.columns[e];if(!t.widget&&(!t.rows||t.rows.length===0)){console.log("\uBE48 \uCEEC\uB7FC \uC815\uB9AC"),this.data.columns.splice(e,1),this.changedItem.emit(this.data);return}this.data.columns[e]=t,this.changedItem.emit(this.data)}getGridTemplateColumns(){let t=this.data.columns.length;return t===0?"1fr":`repeat(${t}, minmax(200px, 1fr))`}onDragOver(t,e,n){t.preventDefault(),t.stopPropagation(),t.target.classList.add("hovered")}onDragLeave(t){t.preventDefault(),t.stopPropagation(),t.target.classList.remove("hovered")}onDrop(t,e,n){if(t.preventDefault(),t.stopPropagation(),t.target.classList.remove("hovered"),!t.dataTransfer){console.log("dataTransfer \uC5C6\uC74C, \uB85C\uC6B0");return}let r=t.dataTransfer.getData("widget");if(!r){console.log("\uC774\uBCA4\uD2B8 \uB370\uC774\uD130 \uC548 \uB118\uC5B4\uC634",r??"\uBE44\uC5B4\uC788\uC74C");return}let f=JSON.parse(r);console.log("\uC544\uC774\uD15C \uB4DC\uB86D",f),this.sketchVM.emitWidgetDrop(f.draggedId,f.widget),this.insertColumn(f.widget,e,n)}insertColumn(t,e,n){let o=this.data.columns.findIndex(f=>f.id===n);if(o===-1)return;let r={id:A(),widget:t};e==="left"?this.data.columns.splice(o,0,r):this.data.columns.splice(o+1,0,r)}onResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.resizing=!0,this.resizeColumnIndex=e,this.startX=t.clientX;let n=t.target.closest(".column-container");n&&(this.startWidth=n.offsetWidth),document.addEventListener("mousemove",this.onResizeMove.bind(this)),document.addEventListener("mouseup",this.onResizeEnd.bind(this)),document.body.style.cursor="col-resize"}onResizeMove(t){if(!this.resizing)return;let e=t.clientX-this.startX,n=Math.max(200,this.startWidth+e),o=document.querySelectorAll(".column-container")[this.resizeColumnIndex];o&&(o.style.width=`${n}px`,o.style.minWidth=`${n}px`)}onResizeEnd(t){this.resizing&&(this.resizing=!1,this.resizeColumnIndex=-1,document.removeEventListener("mousemove",this.onResizeMove.bind(this)),document.removeEventListener("mouseup",this.onResizeEnd.bind(this)),document.body.style.cursor="")}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-row-design"]],inputs:{data:"data",rowIndex:"rowIndex"},outputs:{changedItem:"changedItem"},standalone:!1,decls:4,vars:4,consts:[[1,"container"],[1,"grid-layout"],[1,"column-container"],[1,"drop-handler","left",3,"dragover","dragleave","drop"],[1,"drop-handler","right",3,"dragover","dragleave","drop"],[1,"column-content"],[3,"itemChanged","data"],["title","\uB4DC\uB798\uADF8\uD558\uC5EC \uB108\uBE44 \uC870\uC808",1,"resize-handle"],["title","\uB4DC\uB798\uADF8\uD558\uC5EC \uB108\uBE44 \uC870\uC808",1,"resize-handle",3,"mousedown"],[1,"resize-line"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1),S(2,ai,6,2,"div",2,ii),s()()),e&2&&(l(),de(en(2,ni,n.getGridTemplateColumns())),l(),I(n.data.columns))},dependencies:[he],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;width:100%;overflow-x:auto}.container[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:4px}.container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.column-container[_ngcontent-%COMP%]{position:relative;min-width:200px;flex-shrink:0;display:flex;flex-direction:row}.column-content[_ngcontent-%COMP%]{flex:1;min-width:0}.resize-handle[_ngcontent-%COMP%]{position:absolute;right:-4px;top:0;bottom:0;width:8px;cursor:col-resize;z-index:100;display:flex;align-items:center;justify-content:center;transition:background-color .2s ease}.resize-handle[_ngcontent-%COMP%]:hover{background-color:#2196f31a}.resize-handle[_ngcontent-%COMP%]:hover   .resize-line[_ngcontent-%COMP%]{background-color:#2196f3;width:3px}.resize-handle[_ngcontent-%COMP%]:active{background-color:#2196f333}.resize-line[_ngcontent-%COMP%]{width:2px;height:100%;background-color:#0000001a;transition:all .2s ease}.grid-column[_ngcontent-%COMP%]{border:1px solid gray}.grid-layout[_ngcontent-%COMP%]{display:grid;width:100%;min-width:100%;gap:8px}.drop-handler[_ngcontent-%COMP%]{position:absolute;z-index:10;background-color:#9c27b00d;border:1px dashed rgba(156,39,176,.2);transition:all .3s ease;display:flex;align-items:center;justify-content:center}.drop-handler[_ngcontent-%COMP%]:hover{background-color:#9c27b01a;border-color:#9c27b066}.drop-handler[_ngcontent-%COMP%]:before{content:"";position:absolute;opacity:0;transition:opacity .2s ease}.drop-handler[_ngcontent-%COMP%]:after{content:"\\22ee";position:absolute;color:#9c27b04d;font-size:16px;font-weight:700;opacity:.5;transition:opacity .2s ease}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{width:100%;height:30px;border-left:none;border-right:none}.top[_ngcontent-%COMP%]:before, .bottom[_ngcontent-%COMP%]:before{width:100%;height:2px;background:#9c27b04d;border-radius:2px}.top[_ngcontent-%COMP%]:after, .bottom[_ngcontent-%COMP%]:after{content:"\\22ef\\22ef\\22ef";font-size:20px;letter-spacing:4px}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{width:30px;height:100%;border-top:none;border-bottom:none}.left[_ngcontent-%COMP%]:before, .right[_ngcontent-%COMP%]:before{width:2px;height:100%;background:#9c27b04d;border-radius:2px}.left[_ngcontent-%COMP%]:after, .right[_ngcontent-%COMP%]:after{content:"\\22ee\\22ee\\22ee";font-size:20px;line-height:8px}.drop-handler.top[_ngcontent-%COMP%]{top:-15px}.drop-handler.bottom[_ngcontent-%COMP%]{bottom:-15px}.drop-handler.left[_ngcontent-%COMP%]{left:-15px}.drop-handler.right[_ngcontent-%COMP%]{right:-15px}.drop-handler.hovered[_ngcontent-%COMP%]{background:linear-gradient(to right,#9c27b04d,#9c27b01a)!important;border:3px solid #9C27B0!important;border-radius:6px;box-shadow:0 2px 12px #9c27b099;animation:_ngcontent-%COMP%_pulse 1s ease-in-out infinite}.drop-handler.hovered[_ngcontent-%COMP%]:before{opacity:1;background:#9c27b0!important;box-shadow:0 0 8px #9c27b0cc}.drop-handler.hovered[_ngcontent-%COMP%]:after{content:"\\2192  \\c5ec\\ae30\\c5d0  \\b193\\ae30"!important;position:absolute;color:#fff!important;font-size:13px!important;font-weight:700;background:#9c27b0!important;padding:4px 12px!important;border-radius:4px;box-shadow:0 2px 8px #0000004d;white-space:nowrap;opacity:1!important;letter-spacing:normal!important}.left.hovered[_ngcontent-%COMP%]:after{content:"\\2190  \\c67c\\cabd\\c5d0  \\b193\\ae30"!important}.left.hovered[_ngcontent-%COMP%]:before{width:4px!important;height:100%!important}.right.hovered[_ngcontent-%COMP%]:after{content:"\\2192  \\c624\\b978\\cabd\\c5d0  \\b193\\ae30"!important}.right.hovered[_ngcontent-%COMP%]:before{width:4px!important;height:100%!important}.top.hovered[_ngcontent-%COMP%]:after{content:"\\2191  \\c704\\c5d0  \\b193\\ae30"!important}.top.hovered[_ngcontent-%COMP%]:before{width:100%!important;height:4px!important}.bottom.hovered[_ngcontent-%COMP%]:after{content:"\\2193  \\c544\\b798\\c5d0  \\b193\\ae30"!important}.bottom.hovered[_ngcontent-%COMP%]:before{width:100%!important;height:4px!important}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.02);opacity:.9}}']})};var si=(i,t)=>t.id;function li(i,t){if(i&1){let e=C();a(0,"div",1)(1,"button",7),c("click",function(){p(e);let o=d();return m(o.openWidgetDialog())}),a(2,"mat-icon",8),u(3,"add"),s()(),a(4,"div",9)(5,"span"),u(6,"\uC139\uC158 \uB0B4 \uC704\uC82F\uC744 \uCD94\uAC00\uD574\uC8FC\uC138\uC694"),s()()()}}function di(i,t){if(i&1){let e=C();a(0,"app-row-design",10),c("changedItem",function(o){p(e);let r=d();return m(r.onItemChange(o))}),s()}if(i&2){let e=t.$implicit,n=t.$index;g("data",e)("rowIndex",n)}}var it=class i{data;sectionIndex;changedItem=new v;createSection=new v;deleteSection=new v;dialog=y(Z);menuData=tt.section??et;addItem(t){if(!t)return;let e=this.createWidget(t),n=this.createRow(e);this.data.rows.push(n),this.changedItem.emit(this.data)}removeItem(t){throw new Error("Method not implemented.")}onItemChange(t){console.log("section\uC5D0\uC11C \uB370\uC774\uD130 \uBCC0\uD654 \uAC10\uC9C0",t);let e=this.data.rows.findIndex(o=>o.id===t.id);if(e===-1){console.log("\uB9E4\uCE6D\uB418\uB294 row \uC5C6\uC74C(\uD604\uC7AC \uC139\uC158)");return}let n=this.data.rows[e];if(t.columns.length===0){console.log(`row \uBE44\uC5B4\uC788\uC74C, 
`,t),this.data.rows.splice(e,1);return}this.data.rows[e]=_({},t),this.changedItem.emit(this.data)}onMenuSelect(t){console.log("\uBA54\uB274 \uC158\uD0DD, ",t),this[t]()}addSection(){this.createSection.emit(this.sectionIndex)}delete(){this.dialog.open(Ze).afterClosed().pipe(R(1)).subscribe(e=>{e&&this.remove()})}remove(){this.deleteSection.emit(this.sectionIndex)}openWidgetDialog(){this.dialog.open(Ke,{panelClass:"widget-dialog"}).afterClosed().pipe(R(1)).subscribe(e=>{this.addItem(e)})}createRow(t){return{id:A(),type:"row",columns:[{id:A(),widget:t}]}}createWidget(t){return{id:A(),type:"widget",widgetType:t}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-section-design"]],inputs:{data:"data",sectionIndex:"sectionIndex"},outputs:{changedItem:"changedItem",createSection:"createSection",deleteSection:"deleteSection"},standalone:!1,decls:9,vars:2,consts:[["appWixContextMenu","",1,"container",3,"selectMenu","menuData"],[1,"init-container"],[1,"row-container"],[3,"data","rowIndex"],[1,"handler-container"],["mat-icon-button","",1,"handler-button",3,"click"],[1,"handler-icon"],["mat-icon-button","",1,"init-button",3,"click"],[1,"init-icon"],[1,"init-content"],[3,"changedItem","data","rowIndex"]],template:function(e,n){e&1&&(a(0,"div",0),c("selectMenu",function(r){return n.onMenuSelect(r)}),M(1,li,7,0,"div",1),a(2,"div",2),S(3,di,1,2,"app-row-design",3,si),s(),a(5,"div",4)(6,"button",5),c("click",function(){return n.openWidgetDialog()}),a(7,"mat-icon",6),u(8,"add"),s()()()()),e&2&&(g("menuData",n.menuData),l(),D(n.data.rows.length===0?1:-1),l(2),I(n.data.rows))},dependencies:[Q,V,ne,_e],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;border-bottom:1px solid blue;box-sizing:border-box}.init-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;align-items:center;justify-content:center;height:100%;min-height:300px}.init-button[_ngcontent-%COMP%]{background-color:#000}.init-icon[_ngcontent-%COMP%]{color:#fff}.row-container[_ngcontent-%COMP%]{padding:0 30px}.handler-container[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;height:5px;background-color:transparent;display:flex;align-items:center;justify-content:center}.handler-container[_ngcontent-%COMP%]:hover{background-color:#000;z-index:10}.handler-button[_ngcontent-%COMP%]{visibility:hidden;background-color:#000}.handler-icon[_ngcontent-%COMP%]{color:#fff}.handler-container[_ngcontent-%COMP%]:hover   .handler-button[_ngcontent-%COMP%]{visibility:visible;z-index:11}"]})};var pi=(i,t)=>t.id;function mi(i,t){if(i&1){let e=C();a(0,"app-section-design",3),c("createSection",function(o){p(e);let r=d();return m(r.addSection(o))})("deleteSection",function(o){p(e);let r=d();return m(r.deleteSection(o))})("changedItem",function(o){p(e);let r=d();return m(r.onItemChange(o))}),s()}if(i&2){let e=t.$implicit,n=t.$index;g("data",e)("sectionIndex",n)}}var ot=class i{data;changedItem=new v;ngOnChanges(t){console.log("\uD398\uC774\uC9C0 \uBCC0\uACBD",this.data),this.data.sections.length===0&&this.addSection(-1)}ngOnInit(){}addSection(t){console.log("\uC139\uC158 \uCD94\uAC00",t);let e=this.createSection();this.data.sections.splice(t+1,0,e)}deleteSection(t){this.data.sections.splice(t,1)}onItemChange(t){let e=this.data.sections.findIndex(n=>n.id===t.id);if(e===-1){console.log("\uB9E4\uCE6D\uB418\uB294 \uC139\uC158 \uC5C6\uC74C(\uD604\uC7AC \uD398\uC774\uC9C0)");return}if(t.rows.length===0){console.log("\uBE44\uC5B4\uC788\uB294 \uC139\uC158, ",t),this.data.sections[e]=_({},t),this.changedItem.emit(this.data);return}console.log("\uD398\uC774\uC9C0 \uB370\uC774\uD130 \uC5C5\uB370\uC774\uD2B8"),this.data.sections[e]=_({},t),this.changedItem.emit(this.data)}createSection(){return{id:A(),rows:[]}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-page-design"]],inputs:{data:"data"},outputs:{changedItem:"changedItem"},standalone:!1,features:[Te],decls:4,vars:0,consts:[[1,"container"],[1,"section-container"],[3,"data","sectionIndex"],[3,"createSection","deleteSection","changedItem","data","sectionIndex"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1),S(2,mi,1,2,"app-section-design",2,pi),s()()),e&2&&(l(2),I(n.data.sections))},dependencies:[it],styles:[".conatainer[_ngcontent-%COMP%], .section-container[_ngcontent-%COMP%]{width:100%;height:100%}"]})};var at=class i{dialog=y(Z);autoSaveService=y(ue);pageData=qe;ngOnInit(){this.loadData()}onItemChange(t){if(console.log(t),t.id!==this.pageData.id){console.log("\uD398\uC774\uC9C0 \uB370\uC774\uD130 id \uB9E4\uCE6D \uC548\uB428");return}this.pageData=t,this.autoSaveService.notifyPageDataChange(this.pageData)}syncData(){localStorage.setItem("wixPageData",JSON.stringify(this.pageData))}loadData(){let t=this.autoSaveService.loadPageFromLocalStorage();t?(console.log("\u2705 LocalStorage\uC5D0\uC11C \uD398\uC774\uC9C0 \uB370\uC774\uD130 \uB85C\uB4DC:",t),this.pageData=t):(console.log("\u{1F4C4} Mock \uB370\uC774\uD130 \uC0AC\uC6A9:",qe),this.pageData=qe,this.autoSaveService.notifyPageDataChange(this.pageData))}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-wix-layout"]],standalone:!1,decls:7,vars:1,consts:[[1,"wix-container"],[1,"wix-header"],[1,"wix-body"],[3,"changedItem","data"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"h2"),u(3,"Wix Page Builder"),s(),b(4,"app-save-status-indicator"),s(),a(5,"div",2)(6,"app-page-design",3),c("changedItem",function(r){return n.onItemChange(r)}),s()()()),e&2&&(l(6),g("data",n.pageData))},dependencies:[Je,ot],styles:[".wix-container[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;flex-direction:column;background-color:#f5f5f5}.wix-header[_ngcontent-%COMP%]{padding:20px;background-color:#fff;border-bottom:1px solid #e0e0e0;display:flex;align-items:center;justify-content:space-between;gap:20px}.wix-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333}.wix-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:20px}"]})};var Ce=class i{debugLogger=y(Cn);ADMIN_USERNAME=Rt.decrypt(ae.auth.username);ADMIN_PASSWORD=Rt.decrypt(ae.auth.password);currentUserSubject=new ie(null);isWixLoggedInSubject=new ie(!1);currentUser$=this.currentUserSubject.asObservable();isWixLoggedIn$=this.isWixLoggedInSubject.asObservable();constructor(){let t=localStorage.getItem("wixUser"),e=localStorage.getItem("wixToken");if(t&&e)try{this.currentUserSubject.next(JSON.parse(t)),this.isWixLoggedInSubject.next(!0)}catch{this.clearWixAuth()}}get currentUser(){return this.currentUserSubject.value}get isWixLoggedIn(){return this.isWixLoggedInSubject.value}wixLogin(t,e){return Oe(this,null,function*(){try{if(this.debugLogger.info("WixAuth","\u{1F510} \uB85C\uADF8\uC778 \uC2DC\uB3C4 \uC2DC\uC791"),this.debugLogger.info("WixAuth",`\u{1F4DD} \uC785\uB825\uB41C username: ${t}`),this.debugLogger.info("WixAuth",`\u2705 \uD658\uACBD\uBCC0\uC218 username: ${this.ADMIN_USERNAME}`),this.debugLogger.info("WixAuth",`\u2705 \uD658\uACBD\uBCC0\uC218 password: ${this.ADMIN_PASSWORD}`),yield new Promise(r=>setTimeout(r,800)),this.debugLogger.info("WixAuth",`\u{1F50D} Username \uC77C\uCE58: ${t===this.ADMIN_USERNAME}`),this.debugLogger.info("WixAuth",`\u{1F50D} Password \uC77C\uCE58: ${e===this.ADMIN_PASSWORD}`),t!==this.ADMIN_USERNAME||e!==this.ADMIN_PASSWORD)return this.debugLogger.error("WixAuth","\u274C \uB85C\uADF8\uC778 \uC2E4\uD328: \uC544\uC774\uB514 \uB610\uB294 \uBE44\uBC00\uBC88\uD638\uAC00 \uC77C\uCE58\uD558\uC9C0 \uC54A\uC74C"),!1;let n={id:"1",username:t,email:`${t}@example.com`,role:"admin",permissions:["create","read","update","delete","publish"]},o="wix_token_"+Date.now();return this.currentUserSubject.next(n),this.isWixLoggedInSubject.next(!0),localStorage.setItem("wixUser",JSON.stringify(n)),localStorage.setItem("wixToken",o),this.debugLogger.success("WixAuth","\u2705 \uB85C\uADF8\uC778 \uC131\uACF5!"),!0}catch(n){return this.debugLogger.error("WixAuth",`\u274C \uB85C\uADF8\uC778 \uC911 \uC624\uB958 \uBC1C\uC0DD: ${n}`),!1}})}hasPermission(t){let e=this.currentUser;return e?e.permissions.includes(t):!1}hasRole(t){let e=this.currentUser;return e?e.role===t:!1}wixLogout(){this.currentUserSubject.next(null),this.isWixLoggedInSubject.next(!1),this.clearWixAuth()}clearWixAuth(){localStorage.removeItem("wixUser"),localStorage.removeItem("wixToken")}getToken(){return localStorage.getItem("wixToken")}static \u0275fac=function(e){return new(e||i)};static \u0275prov=j({token:i,factory:i.\u0275fac,providedIn:"root"})};var fi=["loginComponent"],rt=class i{constructor(t,e,n){this.wixAuthService=t;this.router=e;this.route=n;this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/wix"}loginComponent;loginConfig={title:"\u{1F3D7}\uFE0F \uC6F9\uC0AC\uC774\uD2B8 \uBE4C\uB354",subtitle:"\uCF54\uB529 \uC5C6\uC774 \uC6F9\uC0AC\uC774\uD2B8 \uB9CC\uB4E4\uAE30",moduleName:"wix",showSocialLogin:!1,showRegisterLink:!1,themeColors:{primary:"#f59e0b",secondary:"#ea580c",accent:"#fbbf24"}};returnUrl="/wix";onLogin(t){return Oe(this,null,function*(){this.loginComponent&&this.loginComponent.setLoading(!0);try{(yield this.wixAuthService.wixLogin(t.username,t.password))?this.router.navigateByUrl(this.returnUrl):this.loginComponent&&this.loginComponent.setError("\uB85C\uADF8\uC778\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4. \uC0AC\uC6A9\uC790\uBA85\uACFC \uBE44\uBC00\uBC88\uD638\uB97C \uD655\uC778\uD574\uC8FC\uC138\uC694.")}catch(e){this.loginComponent&&this.loginComponent.setError("\uB85C\uADF8\uC778 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4."),console.warn("Login error:",e)}finally{this.loginComponent&&this.loginComponent.setLoading(!1)}})}static \u0275fac=function(e){return new(e||i)(W(Ce),W(Be),W(mn))};static \u0275cmp=h({type:i,selectors:[["app-wix-login"]],viewQuery:function(e,n){if(e&1&&$(fi,5),e&2){let o;G(o=H())&&(n.loginComponent=o.first)}},standalone:!1,decls:2,vars:1,consts:[["loginComponent",""],[3,"loginSubmit","config"]],template:function(e,n){if(e&1){let o=C();a(0,"app-unified-login",1,0),c("loginSubmit",function(f){return p(o),m(n.onLogin(f))}),s()}e&2&&g("config",n.loginConfig)},dependencies:[Wn],encapsulation:2})};var st=class i{constructor(t,e){this.wixAuthService=t;this.router=e}canActivate(t,e){if(this.wixAuthService.isWixLoggedIn){let n=t.data.permission;if(n&&!this.wixAuthService.hasPermission(n))return this.router.navigate(["/wix/access-denied"]),!1;let o=t.data.role;return o&&!this.wixAuthService.hasRole(o)?(this.router.navigate(["/wix/access-denied"]),!1):!0}return this.router.createUrlTree(["/wix/login"],{queryParams:{returnUrl:e.url}})}static \u0275fac=function(e){return new(e||i)(Et(Ce),Et(Be))};static \u0275prov=j({token:i,factory:i.\u0275fac,providedIn:"root"})};var hi=[{path:"login",component:rt},{path:"",component:at,canActivate:[st]}],lt=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=le({type:i});static \u0275inj=se({imports:[gn.forChild(hi)]})};function _i(i,t){if(i&1&&(a(0,"mat-option",17),u(1),s()),i&2){let e=t.$implicit;g("value",e),l(),T(" ",e," ")}}function Ci(i,t){if(i&1){let e=C();a(0,"mat-form-field",14)(1,"mat-select",16,0),c("selectionChange",function(o){p(e);let r=d(2);return m(r._changePageSize(o.value))}),S(3,_i,2,2,"mat-option",17,Re),s(),a(5,"div",18),c("click",function(){p(e);let o=Kt(2);return m(o.open())}),s()()}if(i&2){let e=d(2);g("appearance",e._formFieldAppearance)("color",e.color),l(),g("value",e.pageSize)("disabled",e.disabled),Xt("aria-labelledby",e._pageSizeLabelId),g("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),l(2),I(e._displayedPageSizeOptions)}}function xi(i,t){if(i&1&&(a(0,"div",15),u(1),s()),i&2){let e=d(2);l(),P(e.pageSize)}}function vi(i,t){if(i&1&&(a(0,"div",3)(1,"div",13),u(2),s(),M(3,Ci,6,7,"mat-form-field",14),M(4,xi,2,1,"div",15),s()),i&2){let e=d();l(),U("id",e._pageSizeLabelId),l(),T(" ",e._intl.itemsPerPageLabel," "),l(),D(e._displayedPageSizeOptions.length>1?3:-1),l(),D(e._displayedPageSizeOptions.length<=1?4:-1)}}function bi(i,t){if(i&1){let e=C();a(0,"button",19),c("click",function(){p(e);let o=d();return m(o._buttonClicked(0,o._previousButtonsDisabled()))}),we(),a(1,"svg",8),b(2,"path",20),s()()}if(i&2){let e=d();g("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("disabled",e._previousButtonsDisabled())("tabindex",e._previousButtonsDisabled()?-1:null),U("aria-label",e._intl.firstPageLabel)}}function wi(i,t){if(i&1){let e=C();a(0,"button",21),c("click",function(){p(e);let o=d();return m(o._buttonClicked(o.getNumberOfPages()-1,o._nextButtonsDisabled()))}),we(),a(1,"svg",8),b(2,"path",22),s()()}if(i&2){let e=d();g("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("disabled",e._nextButtonsDisabled())("tabindex",e._nextButtonsDisabled()?-1:null),U("aria-label",e._intl.lastPageLabel)}}var dt=(()=>{class i{changes=new F;itemsPerPageLabel="Items per page:";nextPageLabel="Next page";previousPageLabel="Previous page";firstPageLabel="First page";lastPageLabel="Last page";getRangeLabel=(e,n,o)=>{if(o==0||n==0)return`0 of ${o}`;o=Math.max(o,0);let r=e*n,f=r<o?Math.min(r+n,o):r+n;return`${r+1} \u2013 ${f} of ${o}`};static \u0275fac=function(n){return new(n||i)};static \u0275prov=j({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function yi(i){return i||new dt}var Mi={provide:dt,deps:[[new $t,new Gt,dt]],useFactory:yi},Di=50;var Si=new Bt("MAT_PAGINATOR_DEFAULT_OPTIONS"),Ii=(()=>{class i{_intl=y(dt);_changeDetectorRef=y(tn);_formFieldAppearance;_pageSizeLabelId=y(un).getId("mat-paginator-page-size-label-");_intlChanges;_isInitialized=!1;_initializedStream=new Lt(1);color;get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(e||0,0),this._changeDetectorRef.markForCheck()}_pageIndex=0;get length(){return this._length}set length(e){this._length=e||0,this._changeDetectorRef.markForCheck()}_length=0;get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(e||0,0),this._updateDisplayedPageSizeOptions()}_pageSize;get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(n=>Se(n,0)),this._updateDisplayedPageSizeOptions()}_pageSizeOptions=[];hidePageSize=!1;showFirstLastButtons=!1;selectConfig={};disabled=!1;page=new v;_displayedPageSizeOptions;initialized=this._initializedStream;constructor(){let e=this._intl,n=y(Si,{optional:!0});if(this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),n){let{pageSize:o,pageSizeOptions:r,hidePageSize:f,showFirstLastButtons:ve}=n;o!=null&&(this._pageSize=o),r!=null&&(this._pageSizeOptions=r),f!=null&&(this.hidePageSize=f),ve!=null&&(this.showFirstLastButtons=ve)}this._formFieldAppearance=n?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){this.hasNextPage()&&this._navigate(this.pageIndex+1)}previousPage(){this.hasPreviousPage()&&this._navigate(this.pageIndex-1)}firstPage(){this.hasPreviousPage()&&this._navigate(0)}lastPage(){this.hasNextPage()&&this._navigate(this.getNumberOfPages()-1)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let e=this.getNumberOfPages()-1;return this.pageIndex<e&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){let n=this.pageIndex*this.pageSize,o=this.pageIndex;this.pageIndex=Math.floor(n/e)||0,this.pageSize=e,this._emitPageEvent(o)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:Di),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,n)=>e-n),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}_navigate(e){let n=this.pageIndex;e!==n&&(this.pageIndex=e,this._emitPageEvent(n))}_buttonClicked(e,n){n||this._navigate(e)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=h({type:i,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",Se],length:[2,"length","length",Se],pageSize:[2,"pageSize","pageSize",Se],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",Ae],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",Ae],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",Ae]},outputs:{page:"page"},exportAs:["matPaginator"],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(n,o){n&1&&(a(0,"div",1)(1,"div",2),M(2,vi,5,4,"div",3),a(3,"div",4)(4,"div",5),u(5),s(),M(6,bi,3,5,"button",6),a(7,"button",7),c("click",function(){return o._buttonClicked(o.pageIndex-1,o._previousButtonsDisabled())}),we(),a(8,"svg",8),b(9,"path",9),s()(),jt(),a(10,"button",10),c("click",function(){return o._buttonClicked(o.pageIndex+1,o._nextButtonsDisabled())}),we(),a(11,"svg",8),b(12,"path",11),s()(),M(13,wi,3,5,"button",12),s()()()),n&2&&(l(2),D(o.hidePageSize?-1:2),l(3),T(" ",o._intl.getRangeLabel(o.pageIndex,o.pageSize,o.length)," "),l(),D(o.showFirstLastButtons?6:-1),l(),g("matTooltip",o._intl.previousPageLabel)("matTooltipDisabled",o._previousButtonsDisabled())("disabled",o._previousButtonsDisabled())("tabindex",o._previousButtonsDisabled()?-1:null),U("aria-label",o._intl.previousPageLabel),l(3),g("matTooltip",o._intl.nextPageLabel)("matTooltipDisabled",o._nextButtonsDisabled())("disabled",o._nextButtonsDisabled())("tabindex",o._nextButtonsDisabled()?-1:null),U("aria-label",o._intl.nextPageLabel),l(3),D(o.showFirstLastButtons?13:-1))},dependencies:[$e,Sn,Dn,Q,te],styles:[`.mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-sys-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-sys-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-sys-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-sys-body-small-tracking));--mat-form-field-container-height: var(--mat-paginator-form-field-container-height, 40px);--mat-form-field-container-vertical-padding: var(--mat-paginator-form-field-container-vertical-padding, 8px)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-sys-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size, 56px)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:var(--mat-paginator-page-size-select-width, 84px)}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}@media(forced-colors: active){.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon,.mat-mdc-paginator-icon{fill:currentColor}.mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-range-actions .mat-mdc-icon-button[aria-disabled]{color:GrayText}}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display, block);position:absolute;top:50%;left:50%;width:var(--mat-paginator-page-size-select-width, 84px);height:var(--mat-paginator-page-size-select-touch-target-height, 48px);background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}
`],encapsulation:2,changeDetection:0})}return i})(),Nn=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=le({type:i});static \u0275inj=se({providers:[Mi],imports:[ge,Qe,Xe,Ii]})}return i})();var ct=(z=>(z.Nature="nature",z.People="people",z.Technology="technology",z.Business="business",z.Food="food",z.Travel="travel",z.Art="art",z.Fashion="fashion",z.Sports="sports",z.Animals="animals",z))(ct||{});var re=class i{http=y(Le);baseUrl=`${ae.apiUrl}/static`;selectedCategory="nature";imageSource$=new ie([]);getImagesByCategory(t){let e=`${this.baseUrl}/pexels_${t}.json`;console.log("\uC774\uBBF8\uC9C0 \uC694\uCCAD \uACBD\uB85C:",e),this.selectedCategory=t,this.http.get(e).pipe(R(1)).subscribe({next:n=>{this.imageSource$.next(n),console.log("\uC774\uBBF8\uC9C0 \uC694\uCCAD \uC644\uB8CC:",n.length)},error:n=>{console.warn("\uC774\uBBF8\uC9C0 \uB85C\uB4DC \uC2E4\uD328:",n),this.imageSource$.next([])}})}initImages(){this.getImagesByCategory("nature")}static \u0275fac=function(e){return new(e||i)};static \u0275prov=j({token:i,factory:i.\u0275fac})};var Oi=(i,t)=>t.id;function Ti(i,t){if(i&1&&b(0,"app-widget",1),i&2){let e=d();g("data",e.data.widget)}}function Ei(i,t){if(i&1){let e=C();a(0,"app-row",2),c("changedItem",function(o){p(e);let r=d(2);return m(r.onRowChange(o))}),s()}if(i&2){let e=t.$implicit;g("data",e)}}function Wi(i,t){if(i&1&&S(0,Ei,1,1,"app-row",1,Oi),i&2){let e=d();I(e.data.rows)}}var xe=class i{data;changedItem=new v;onWidgetChange(t){this.data.widget=t,this.changedItem.emit(this.data)}onRowChange(t){if(!this.data.rows)return;let e=this.data.rows.findIndex(n=>n.id===t.id);e!==-1&&(this.data.rows[e]=t,this.changedItem.emit(this.data))}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-column"]],inputs:{data:"data"},outputs:{changedItem:"changedItem"},standalone:!1,decls:3,vars:2,consts:[[1,"column-container"],[3,"data"],[3,"changedItem","data"]],template:function(e,n){e&1&&(a(0,"div",0),M(1,Ti,1,1,"app-widget",1),M(2,Wi,2,0),s()),e&2&&(l(),D(n.data.widget?1:-1),l(),D(n.data.rows?2:-1))},styles:[".column-container[_ngcontent-%COMP%]{flex:1;min-height:50px;padding:5px;border:1px dashed #ddd}"]})};var Ri=(i,t)=>t.id;function zi(i,t){if(i&1){let e=C();a(0,"app-column",2),c("changedItem",function(o){p(e);let r=d();return m(r.onItemChange(o))}),s()}if(i&2){let e=t.$implicit;g("data",e)}}var pt=class i{data;changedItem=new v;addColumn(t){let e=this.createColumn();this.data.columns.splice(t+1,0,e),this.changedItem.emit(this.data)}onItemChange(t){let e=this.data.columns.findIndex(n=>n.id===t.id);if(e===-1){console.log("\uB9E4\uCE6D\uB418\uB294 \uC5F4 \uC5C6\uC74C");return}this.data.columns[e]=_({},t),this.changedItem.emit(this.data)}createColumn(){return{id:A()}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-row"]],inputs:{data:"data"},outputs:{changedItem:"changedItem"},standalone:!1,decls:3,vars:0,consts:[[1,"row-container"],[3,"data"],[3,"changedItem","data"]],template:function(e,n){e&1&&(a(0,"div",0),S(1,zi,1,1,"app-column",1,Ri),s()),e&2&&(l(),I(n.data.columns))},dependencies:[xe],styles:[".row-container[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%}"]})};var O=class i{properties;widgetRemove=new v;dialog=y(Z);ngOnInit(){}remove(){this.widgetRemove.emit()}openUpdateDialog(t){return this.dialog.open(t,{data:{properties:this.properties}})}static \u0275fac=function(e){return new(e||i)};static \u0275dir=We({type:i,inputs:{properties:"properties"},outputs:{widgetRemove:"widgetRemove"}})};var mt=class i extends O{getDefaultProperties(){return{source:{src:"/assets/svg/rocket.svg",alt:"\uC774\uBBF8\uC9C0"}}}updateWidgetProperties(t){this.properties=_(_({},this.properties),t)}static \u0275fac=(()=>{let t;return function(n){return(t||(t=E(i)))(n||i)}})();static \u0275cmp=h({type:i,selectors:[["app-widget-image"]],standalone:!1,features:[k],decls:2,vars:2,consts:[[1,"widget-image"],[1,"image",3,"src","alt"]],template:function(e,n){e&1&&(a(0,"div",0),b(1,"img",1),s()),e&2&&(l(),g("src",(n.properties==null||n.properties.source==null?null:n.properties.source.src)||"/assets/svg/rocket.svg",oe)("alt",(n.properties==null||n.properties.source==null?null:n.properties.source.alt)||"image"))},styles:[".widget-image[_ngcontent-%COMP%]{width:100%}.widget-image[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:100%;height:auto;display:block}"]})};var gt=class i extends O{getDefaultProperties(){return{text:"Sample text",fontSize:16,color:"#000000"}}updateWidgetProperties(t){this.properties=_(_({},this.properties),t)}static \u0275fac=(()=>{let t;return function(n){return(t||(t=E(i)))(n||i)}})();static \u0275cmp=h({type:i,selectors:[["app-widget-text"]],standalone:!1,features:[k],decls:2,vars:5,consts:[[1,"widget-text"]],template:function(e,n){e&1&&(a(0,"div",0),u(1),s()),e&2&&(J("font-size",(n.properties==null?null:n.properties.fontSize)||16,"px")("color",(n.properties==null?null:n.properties.color)||"#000000"),l(),T(" ",(n.properties==null?null:n.properties.text)||"Sample text",`
`))},styles:[".widget-text[_ngcontent-%COMP%]{width:100%;padding:8px}"]})};var ut=class i extends O{getDefaultProperties(){return{url:"",autoplay:!1}}updateWidgetProperties(t){this.properties=_(_({},this.properties),t)}static \u0275fac=(()=>{let t;return function(n){return(t||(t=E(i)))(n||i)}})();static \u0275cmp=h({type:i,selectors:[["app-widget-video"]],standalone:!1,features:[k],decls:3,vars:1,consts:[[1,"widget-video"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"p"),u(2),s()()),e&2&&(l(2),T("Video Widget: ",(n.properties==null?null:n.properties.url)||"No URL"))},styles:[".widget-video[_ngcontent-%COMP%]{width:100%;padding:8px}"]})};var ft=class i extends O{getDefaultProperties(){return{text:"Click me",link:"",color:"primary"}}updateWidgetProperties(t){this.properties=_(_({},this.properties),t)}static \u0275fac=(()=>{let t;return function(n){return(t||(t=E(i)))(n||i)}})();static \u0275cmp=h({type:i,selectors:[["app-widget-button"]],standalone:!1,features:[k],decls:3,vars:2,consts:[[1,"widget-button"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"button"),u(2),s()()),e&2&&(l(),U("color",(n.properties==null?null:n.properties.color)||"primary"),l(),T(" ",(n.properties==null?null:n.properties.text)||"Click me"," "))},styles:[".widget-button[_ngcontent-%COMP%]{width:100%}.widget-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;cursor:pointer}"]})};var ht=class i extends O{getDefaultProperties(){return{height:20}}updateWidgetProperties(t){this.properties=_(_({},this.properties),t)}static \u0275fac=(()=>{let t;return function(n){return(t||(t=E(i)))(n||i)}})();static \u0275cmp=h({type:i,selectors:[["app-widget-spacer"]],standalone:!1,features:[k],decls:1,vars:2,consts:[[1,"widget-spacer"]],template:function(e,n){e&1&&b(0,"div",0),e&2&&J("height",(n.properties==null?null:n.properties.height)||20,"px")},styles:[".widget-spacer[_ngcontent-%COMP%]{width:100%;background-color:transparent}"]})};function Bi(i,t){if(i&1&&b(0,"app-widget-image",1),i&2){let e=d();g("properties",e.data.properties)}}function ji(i,t){if(i&1&&b(0,"app-widget-text",1),i&2){let e=d();g("properties",e.data.properties)}}function Ui(i,t){if(i&1&&b(0,"app-widget-video",1),i&2){let e=d();g("properties",e.data.properties)}}function $i(i,t){if(i&1&&b(0,"app-widget-button",1),i&2){let e=d();g("properties",e.data.properties)}}function Gi(i,t){if(i&1&&b(0,"app-widget-spacer",1),i&2){let e=d();g("properties",e.data.properties)}}function Hi(i,t){if(i&1&&(a(0,"div"),u(1),s()),i&2){let e=d();l(),T("Unknown widget type: ",e.data.widgetType)}}var _t=class i{data;static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-widget"]],inputs:{data:"data"},standalone:!1,decls:7,vars:1,consts:[[1,"widget-container"],[3,"properties"]],template:function(e,n){if(e&1&&(a(0,"div",0),M(1,Bi,1,1,"app-widget-image",1)(2,ji,1,1,"app-widget-text",1)(3,Ui,1,1,"app-widget-video",1)(4,$i,1,1,"app-widget-button",1)(5,Gi,1,1,"app-widget-spacer",1)(6,Hi,2,1,"div"),s()),e&2){let o;l(),D((o=n.data.widgetType)==="image"?1:o==="text"?2:o==="video"?3:o==="button"?4:o==="spacer"?5:6)}},dependencies:[mt,gt,ut,ft,ht],styles:[".widget-container[_ngcontent-%COMP%]{width:100%;position:relative}"]})};var Ct=class i{constructor(t,e){this.dialogRef=t;this.data=e;this.properties=e.properties||{},this.imageSrc=this.data.properties?.source?.src||"",this.imageAlt=this.data.properties?.source?.alt||""}properties;imageSrc="";imageAlt="";save(){this.dialogRef.close({source:{src:this.imageSrc,alt:this.imageAlt}})}close(){this.dialogRef.close()}static \u0275fac=function(e){return new(e||i)(W(K),W(je))};static \u0275cmp=h({type:i,selectors:[["app-widget-image-update-dialog"]],standalone:!1,decls:16,vars:2,consts:[[1,"image-update-dialog"],[1,"form-field"],["type","text","placeholder","\uC774\uBBF8\uC9C0 URL\uC744 \uC785\uB825\uD558\uC138\uC694",3,"ngModelChange","ngModel"],["type","text","placeholder","\uC774\uBBF8\uC9C0 \uC124\uBA85\uC744 \uC785\uB825\uD558\uC138\uC694",3,"ngModelChange","ngModel"],[1,"actions"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"h2"),u(2,"\uC774\uBBF8\uC9C0 \uC218\uC815"),s(),a(3,"div",1)(4,"label"),u(5,"\uC774\uBBF8\uC9C0 URL"),s(),a(6,"input",2),De("ngModelChange",function(r){return Me(n.imageSrc,r)||(n.imageSrc=r),r}),s()(),a(7,"div",1)(8,"label"),u(9,"Alt \uD14D\uC2A4\uD2B8"),s(),a(10,"input",3),De("ngModelChange",function(r){return Me(n.imageAlt,r)||(n.imageAlt=r),r}),s()(),a(11,"div",4)(12,"button",5),c("click",function(){return n.close()}),u(13,"\uCDE8\uC18C"),s(),a(14,"button",6),c("click",function(){return n.save()}),u(15,"\uC800\uC7A5"),s()()()),e&2&&(l(6),ye("ngModel",n.imageSrc),l(4),ye("ngModel",n.imageAlt))},dependencies:[pe,me,Ne,ee],styles:[".image-update-dialog[_ngcontent-%COMP%]{padding:20px;min-width:400px}.image-update-dialog[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}.image-update-dialog[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{margin-bottom:20px}.image-update-dialog[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500}.image-update-dialog[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px}.image-update-dialog[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;margin-top:20px}"]})};function Qi(i,t){if(i&1&&(a(0,"mat-icon"),u(1),s()),i&2){let e=d().$implicit;l(),P(e.data.icon)}}function Xi(i,t){if(i&1&&(a(0,"span"),u(1),s()),i&2){let e=d().$implicit;l(),P(e.data.label)}}function qi(i,t){if(i&1){let e=C();a(0,"button",5),c("click",function(){let o=p(e).$implicit,r=d(2);return m(r.onButtonClick(o))}),N(1,Qi,2,1,"mat-icon",6)(2,Xi,2,1,"span",6),s()}if(i&2){let e=t.$implicit;g("matTooltip",e.data.tooltip||"")("ngStyle",e.style),l(),g("ngIf",e.data.icon),l(),g("ngIf",e.data.label)}}function Ji(i,t){if(i&1&&(a(0,"div",3),N(1,qi,3,4,"button",4),s()),i&2){let e=d();l(),g("ngForOf",e.toolbarData.buttonConfigs)}}var xt=class i{toolbarData;onButtonClick(t){t.event&&t.event()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-wix-toolbar"]],inputs:{toolbarData:"toolbarData"},standalone:!1,decls:5,vars:3,consts:[[1,"toolbar",3,"ngStyle"],[1,"toolbar-title"],["class","toolbar-actions",4,"ngIf"],[1,"toolbar-actions"],["mat-icon-button","",3,"matTooltip","ngStyle","click",4,"ngFor","ngForOf"],["mat-icon-button","",3,"click","matTooltip","ngStyle"],[4,"ngIf"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"h2"),u(3),s()(),N(4,Ji,2,1,"div",2),s()),e&2&&(g("ngStyle",n.toolbarData.style),l(3),P(n.toolbarData.data),l(),g("ngIf",n.toolbarData.buttonConfigs))},dependencies:[Fe,Y,Ve,Q,V,te],styles:[".toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 24px;background:#fff;border-bottom:1px solid #e0e0e0;box-shadow:0 2px 4px #0000000d}.toolbar[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:500;color:#1a1a1a}.toolbar[_ngcontent-%COMP%]   .toolbar-actions[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.toolbar[_ngcontent-%COMP%]   .toolbar-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.toolbar[_ngcontent-%COMP%]   .toolbar-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}"]})};var Ki=["observe"],Zi=(i,t)=>t.id;function eo(i,t){if(i&1&&b(0,"mat-tab",7),i&2){let e=t.$implicit;g("label",e.label)}}function to(i,t){if(i&1){let e=C();a(0,"div",9,0)(2,"img",10),c("click",function(){let o=p(e).$implicit,r=d();return m(r.onItemSelect(o))})("error",function(){let o=p(e).$implicit,r=d();return m(r.onImageError(o))}),s()()}if(i&2){let e=t.$implicit,n=d();l(2),g("src",n.loadedImages.has(e.id)?e.src.medium:n.placeholder,oe)("alt",e.alt||"pexels image"),U("data-src",e.src.medium)}}var vt=class i{constructor(t,e){this.dialogRef=t;this.staticImageVM=e}toolbarData={data:"\uBB34\uB8CC \uC774\uBBF8\uC9C0",buttonConfigs:[{data:{icon:"close"},style:{label:{fontSize:"100px"}},event:()=>{this.close()}}],style:{label:{fontSize:"20px"}}};categoryList=Object.values(ct);categories=[{key:"nature",label:"\uC790\uC5F0"},{key:"animals",label:"\uB3D9\uBB3C"},{key:"food",label:"\uC74C\uC2DD"},{key:"travel",label:"\uC5EC\uD589"},{key:"people",label:"\uC778\uBB3C"},{key:"technology",label:"\uAE30\uC220"}];images=[];placeholder="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";loadedImages=new Set;destroy$=new F;imageBoxes;observer;ngOnInit(){this.initImage(),this.staticImageVM.imageSource$.pipe(q(this.destroy$)).subscribe(t=>{this.images=t})}ngAfterViewInit(){console.log("this.imageBoxes.length =",this.imageBoxes.length),this.observer=new IntersectionObserver(t=>{t.forEach(e=>{if(!e.isIntersecting){console.log("interscting \uC548\uB428");return}let n=e.target,o=n.querySelector("img"),r=o?.getAttribute("data-src");if(!r){console.log("datasrc \uC5C6\uC74C");return}o?.setAttribute("src",r);let f=n.getAttribute("data-id");f&&this.loadedImages.add(+f),this.observer.unobserve(n)})},{rootMargin:"50px"}),this.imageBoxes.changes.subscribe(t=>{t.forEach((e,n)=>{e.nativeElement.setAttribute("data-id",this.images[n].id.toString()),this.observer.observe(e.nativeElement)})}),this.imageBoxes.length>0&&this.imageBoxes.forEach((t,e)=>{t.nativeElement.setAttribute("data-id",this.images[e].id.toString()),this.observer.observe(t.nativeElement)})}close(t){this.dialogRef.close(t)}onTabChange(t){let e=t.index,n=this.categories[e].key;this.loadImages(n)}initImage(){this.loadImages(this.categories[0].key)}loadImages(t){this.staticImageVM.getImagesByCategory(t)}onItemSelect(t){console.log("\uD604\uC7AC \uB370\uC774\uD130, ",t),this.close(t)}onImageError(t){console.log("\uC5D0\uB7EC \uBC1C\uC0DD, ",t)}ngOnDestroy(){this.observer.disconnect()}static \u0275fac=function(e){return new(e||i)(W(K),W(re))};static \u0275cmp=h({type:i,selectors:[["app-image-gallery-dialog"]],viewQuery:function(e,n){if(e&1&&$(Ki,5),e&2){let o;G(o=H())&&(n.imageBoxes=o)}},standalone:!1,decls:11,vars:1,consts:[["observe",""],[1,"container"],[1,"container-header"],[3,"toolbarData"],[1,"container-body"],[1,"tab-box"],["animationDuration","0ms",3,"selectedTabChange"],[3,"label"],[1,"image-container"],[1,"image-box"],["loading","lazy",3,"click","error","src","alt"]],template:function(e,n){e&1&&(a(0,"div",1)(1,"div",2),b(2,"app-wix-toolbar",3),s(),a(3,"div",4)(4,"div",5)(5,"mat-tab-group",6),c("selectedTabChange",function(r){return n.onTabChange(r)}),S(6,eo,1,1,"mat-tab",7,ke),s()(),a(8,"div",8),S(9,to,3,3,"div",9,Zi),s()()()),e&2&&(l(2),g("toolbarData",n.toolbarData),l(4),I(n.categories),l(3),I(n.images))},dependencies:[On,Tn,xt],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}.conatiner-header[_ngcontent-%COMP%]{flex:0 0 auto;position:sticky;top:0;left:0;width:100%;padding:10px 0}.container-body[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;flex-direction:column;overflow:hidden}.tab-box[_ngcontent-%COMP%]{flex:0 0 auto}.image-container[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;flex-wrap:wrap;gap:10px;overflow-y:auto}.image-box[_ngcontent-%COMP%]{flex:0 0 calc((100% - 20px) / 3);aspect-ratio:4/3;overflow:hidden;box-sizing:border-box}.image-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}"]})};var no=["container"],io=["*"],bt=class i{style={};resized=new v;container;isResizing=!1;startX=0;startY=0;startWidth=0;startHeight=0;ngAfterViewInit(){this.style.width&&(this.container.nativeElement.style.width=this.style.width),this.style.height&&(this.container.nativeElement.style.height=this.style.height)}onMouseDown(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.startX=t.clientX,this.startY=t.clientY;let n=this.container.nativeElement.getBoundingClientRect();this.startWidth=n.width,this.startHeight=n.height;let o=f=>{if(!this.isResizing)return;let ve=f.clientX-this.startX,Vt=f.clientY-this.startY,Pe=this.startWidth,z=this.startHeight;e.includes("e")&&(Pe=Math.max(50,this.startWidth+ve)),e.includes("w")&&(Pe=Math.max(50,this.startWidth-ve)),e.includes("s")&&(z=Math.max(50,this.startHeight+Vt)),e.includes("n")&&(z=Math.max(50,this.startHeight-Vt)),this.container.nativeElement.style.width=`${Pe}px`,this.container.nativeElement.style.height=`${z}px`,this.resized.emit({width:Pe,height:z})},r=()=>{this.isResizing=!1,document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",r)};document.addEventListener("mousemove",o),document.addEventListener("mouseup",r)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-resize-handler"]],viewQuery:function(e,n){if(e&1&&$(no,5),e&2){let o;G(o=H())&&(n.container=o.first)}},inputs:{style:"style"},outputs:{resized:"resized"},standalone:!1,ngContentSelectors:io,decls:11,vars:1,consts:[["container",""],[1,"resize-container",3,"ngStyle"],[1,"resize-handle","n",3,"mousedown"],[1,"resize-handle","e",3,"mousedown"],[1,"resize-handle","s",3,"mousedown"],[1,"resize-handle","w",3,"mousedown"],[1,"resize-handle","ne",3,"mousedown"],[1,"resize-handle","se",3,"mousedown"],[1,"resize-handle","sw",3,"mousedown"],[1,"resize-handle","nw",3,"mousedown"]],template:function(e,n){if(e&1){let o=C();Jt(),a(0,"div",1,0),Yt(2),a(3,"div",2),c("mousedown",function(f){return p(o),m(n.onMouseDown(f,"n"))}),s(),a(4,"div",3),c("mousedown",function(f){return p(o),m(n.onMouseDown(f,"e"))}),s(),a(5,"div",4),c("mousedown",function(f){return p(o),m(n.onMouseDown(f,"s"))}),s(),a(6,"div",5),c("mousedown",function(f){return p(o),m(n.onMouseDown(f,"w"))}),s(),a(7,"div",6),c("mousedown",function(f){return p(o),m(n.onMouseDown(f,"ne"))}),s(),a(8,"div",7),c("mousedown",function(f){return p(o),m(n.onMouseDown(f,"se"))}),s(),a(9,"div",8),c("mousedown",function(f){return p(o),m(n.onMouseDown(f,"sw"))}),s(),a(10,"div",9),c("mousedown",function(f){return p(o),m(n.onMouseDown(f,"nw"))}),s()()}e&2&&g("ngStyle",n.style)},dependencies:[Ve],styles:[".resize-container[_ngcontent-%COMP%]{position:relative;min-width:50px;min-height:50px}.resize-container[_ngcontent-%COMP%]   .resize-handle[_ngcontent-%COMP%]{position:absolute;background:#2196f3;opacity:0;transition:opacity .2s}.resize-container[_ngcontent-%COMP%]   .resize-handle[_ngcontent-%COMP%]:hover{opacity:.8}.resize-container[_ngcontent-%COMP%]:hover   .resize-handle[_ngcontent-%COMP%]{opacity:.5}.resize-container[_ngcontent-%COMP%]   .resize-handle.n[_ngcontent-%COMP%]{top:0;left:0;right:0;height:4px;cursor:ns-resize}.resize-container[_ngcontent-%COMP%]   .resize-handle.e[_ngcontent-%COMP%]{top:0;right:0;bottom:0;width:4px;cursor:ew-resize}.resize-container[_ngcontent-%COMP%]   .resize-handle.s[_ngcontent-%COMP%]{bottom:0;left:0;right:0;height:4px;cursor:ns-resize}.resize-container[_ngcontent-%COMP%]   .resize-handle.w[_ngcontent-%COMP%]{top:0;left:0;bottom:0;width:4px;cursor:ew-resize}.resize-container[_ngcontent-%COMP%]   .resize-handle.ne[_ngcontent-%COMP%]{top:0;right:0;width:8px;height:8px;cursor:ne-resize}.resize-container[_ngcontent-%COMP%]   .resize-handle.se[_ngcontent-%COMP%]{bottom:0;right:0;width:8px;height:8px;cursor:se-resize}.resize-container[_ngcontent-%COMP%]   .resize-handle.sw[_ngcontent-%COMP%]{bottom:0;left:0;width:8px;height:8px;cursor:sw-resize}.resize-container[_ngcontent-%COMP%]   .resize-handle.nw[_ngcontent-%COMP%]{top:0;left:0;width:8px;height:8px;cursor:nw-resize}"]})};var ao=["fileInput"];function ro(i,t){if(i&1){let e=C();a(0,"app-resize-handler",6),c("resized",function(o){p(e);let r=d();return m(r.onResize(o))}),b(1,"img",7),s()}if(i&2){let e=d();de(e.style),l(),de(e.style),g("src",e.properties.source.src,oe)("alt",e.properties.source.alt)}}function so(i,t){if(i&1){let e=C();a(0,"div",8),c("click",function(){p(e);let o=d();return m(o.selectFromGallery())}),b(1,"img",9),a(2,"p",10),u(3,"\uD074\uB9AD\uD558\uC5EC \uC774\uBBF8\uC9C0 \uC120\uD0DD"),s()()}if(i&2){let e=d();l(),de(e.style),g("src","/assets/svg/add_image_request.svg",oe)("alt","\uC774\uBBF8\uC9C0\uB97C \uCD94\uAC00\uD574\uC8FC\uC138\uC694")}}function lo(i,t){if(i&1&&(a(0,"span",5),u(1),s()),i&2){let e=d();l(),P(e.properties.description)}}var wt=class i extends O{updateProperties=new v;fileInput;style={};menuData=[{icon:"edit",label:"\uC774\uBBF8\uC9C0 \uC218\uC815",param:"edit"},{icon:"image",label:"\uC774\uBBF8\uC9C0 \uBCC0\uACBD",param:"changeImage"},{icon:"upload",label:"\uD30C\uC77C \uC5C5\uB85C\uB4DC",param:"uploadImage"},{icon:"photo_library",label:"\uAC24\uB7EC\uB9AC\uC5D0\uC11C \uC120\uD0DD",param:"selectFromGallery"},{icon:"close",label:"\uC704\uC82F \uC81C\uAC70",param:"delete"}];ngOnChanges(t){this.style=_({},this.getStyle())}getDefaultProperties(){return{style:{rounded:{enabled:!1,label:"\uBAA8\uC11C\uB9AC \uB465\uAE00\uAC8C(px)",cssProperty:"border-radius",value:0,unit:"px",updateValue:!0,exclusiveKey:"circled"},circled:{enabled:!1,label:"\uC6D0\uD615 \uC774\uBBF8\uC9C0",cssProperty:"border-radius",value:"50%",updateValue:!1,exclusiveKey:"rounded"},blackWhite:{enabled:!1,label:"\uD751\uBC31 \uC774\uBBF8\uC9C0",cssProperty:"filter",value:"grayscale(100%)",updateValue:!1},width:{enabled:!0,label:"\uB108\uBE44(px)",cssProperty:"width",value:300,unit:"px",updateValue:!0,ckeckable:!1},height:{enabled:!0,label:"\uB192\uC774(px)",cssProperty:"height",value:200,unit:"px",updateValue:!0,ckeckable:!1}},source:{src:"",alt:""},description:"",link:"",animation:{}}}getStyle(){let t={};for(let e in this.properties?.style){let n=this.properties.style[e];n.enabled&&(t[n.cssProperty]=n.unit?`${n.value}${n.unit}`:n.value)}return t}onMenuSelect(t){console.log("\uC774\uBCA4\uD2B8 \uBC1C\uC0DD, ",t),this[t]()}delete(){this.dialog.open(X,{data:{title:"\uC704\uC82F \uC0AD\uC81C",message:"\uC815\uB9D0\uB85C \uC774 \uC774\uBBF8\uC9C0 \uC704\uC82F\uC744 \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?"}}).afterClosed().pipe(R(1)).subscribe(e=>{e&&this.remove()})}edit(){this.openUpdateDialog(Ct).afterClosed().pipe(R(1)).subscribe(e=>{if(console.log("\uD074\uB85C\uC988, ",e),!e){console.log("\uC544\uBB34 \uB370\uC774\uD130\uB3C4 \uC548\uB118\uC5B4\uC634, ",e);return}this.properties=_({},e),this.updateWidgetProperties(this.properties)})}changeImage(){let t=prompt("\uC774\uBBF8\uC9C0 URL\uC744 \uC785\uB825\uD558\uC138\uC694:",this.properties.source?.src||"");t!==null&&this.updateWidgetProperties(L(_({},this.properties),{source:L(_({},this.properties.source),{src:t})}))}uploadImage(){this.fileInput.nativeElement.click()}onFileSelected(t){let e=t.target;if(e.files&&e.files[0]){let n=e.files[0];if(!n.type.startsWith("image/")){alert("\uC774\uBBF8\uC9C0 \uD30C\uC77C\uB9CC \uC5C5\uB85C\uB4DC \uAC00\uB2A5\uD569\uB2C8\uB2E4.");return}if(n.size>5*1024*1024){alert("\uD30C\uC77C \uD06C\uAE30\uB294 5MB \uC774\uD558\uC5EC\uC57C \uD569\uB2C8\uB2E4.");return}let o=new FileReader;o.onload=r=>{let f=r.target?.result;this.updateWidgetProperties(L(_({},this.properties),{source:{src:f,alt:n.name}}))},o.readAsDataURL(n)}}selectFromGallery(){this.dialog.open(vt,{width:"90vw",maxWidth:"1200px",height:"80vh"}).afterClosed().pipe(R(1)).subscribe(e=>{e&&this.updateWidgetProperties(L(_({},this.properties),{source:{src:e.src?.large||e.src?.medium||e.url,alt:e.alt||"Selected image"}}))})}updateWidgetProperties(t){this.properties=_(_({},this.properties),t),this.style=this.getStyle(),this.updateProperties.emit(this.properties)}onClick(){this.properties?.action&&this[this.properties.action.action]()}modal(){console.log("\uBAA8\uB2EC")}link(){console.log("\uB9C1\uD06C",this.properties.action.value)}onResize({width:t,height:e}){console.log("\uC0C8 \uD06C\uAE30px",t,e),this.properties.size.width=t,this.properties.size.height=e,this.properties.style.width?this.properties.style.width.value=t:this.properties.style.width={enabled:!0,label:"\uB108\uBE44",cssProperty:"width",value:t,unit:"px",updateValue:!0,ckeckable:!1},this.properties.style.height?this.properties.style.height.value=e:this.properties.style.height={enabled:!0,label:"\uB192\uC774",cssProperty:"height",value:e,unit:"px",updateValue:!0,ckeckable:!1},console.log(this.properties),this.updateWidgetProperties(this.properties)}static \u0275fac=(()=>{let t;return function(n){return(t||(t=E(i)))(n||i)}})();static \u0275cmp=h({type:i,selectors:[["app-widget-image-design"]],viewQuery:function(e,n){if(e&1&&$(ao,5),e&2){let o;G(o=H())&&(n.fileInput=o.first)}},outputs:{updateProperties:"updateProperties"},standalone:!1,features:[k,Te],decls:6,vars:3,consts:[["fileInput",""],["appWixContextMenu","",1,"container",3,"selectMenu","menuData"],["type","file","accept","image/*",2,"display","none",3,"change"],[3,"style"],[1,"empty-state"],[1,"description"],[3,"resized"],[1,"widget-image",3,"src","alt"],[1,"empty-state",3,"click"],[1,"widget-image","placeholder",3,"src","alt"],[1,"hint"]],template:function(e,n){if(e&1){let o=C();a(0,"div",1),c("selectMenu",function(f){return p(o),m(n.onMenuSelect(f))}),a(1,"input",2,0),c("change",function(f){return p(o),m(n.onFileSelected(f))}),s(),M(3,ro,2,6,"app-resize-handler",3)(4,so,4,4,"div",4),M(5,lo,2,1,"span",5),s()}e&2&&(g("menuData",n.menuData),l(3),D(n.properties.source!=null&&n.properties.source.src?3:4),l(2),D(n.properties.description?5:-1))},dependencies:[ne,bt],styles:[".container[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:flex;flex-direction:column;align-items:center;justify-content:center}.widget-image[_ngcontent-%COMP%]{width:auto;height:auto;max-width:100%;max-height:100%;object-fit:cover;object-position:center;position:relative;z-index:1}.widget-image.placeholder[_ngcontent-%COMP%]{opacity:.5;cursor:pointer;transition:opacity .2s}.widget-image.placeholder[_ngcontent-%COMP%]:hover{opacity:.8}.resize-wrapper[_ngcontent-%COMP%]{display:inline-block;position:relative;width:100%;height:100%}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;padding:24px;border:2px dashed #ccc;border-radius:8px;cursor:pointer;transition:all .2s;background:#00000005}.empty-state[_ngcontent-%COMP%]:hover{border-color:#2196f3;background:#2196f30d}.empty-state[_ngcontent-%COMP%]:hover   .hint[_ngcontent-%COMP%]{color:#2196f3}.empty-state[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-size:14px;color:#666;transition:color .2s}.description[_ngcontent-%COMP%]{margin-top:8px;font-size:14px;color:#666;text-align:center}"]})};function co(i,t){if(i&1){let e=C();a(0,"div",3)(1,"textarea",4),De("ngModelChange",function(o){p(e);let r=d();return Me(r.tempText,o)||(r.tempText=o),m(o)}),c("keydown.escape",function(){p(e);let o=d();return m(o.cancelEdit())})("blur",function(){p(e);let o=d();return m(o.saveText())}),s(),a(2,"div",5)(3,"button",6),c("click",function(){p(e);let o=d();return m(o.toggleBold())}),a(4,"mat-icon"),u(5,"format_bold"),s()(),a(6,"button",7),c("click",function(){p(e);let o=d();return m(o.toggleItalic())}),a(7,"mat-icon"),u(8,"format_italic"),s()(),a(9,"button",8),c("click",function(){p(e);let o=d();return m(o.fontSize())}),a(10,"mat-icon"),u(11,"format_size"),s()(),a(12,"button",9),c("click",function(){p(e);let o=d();return m(o.color())}),a(13,"mat-icon"),u(14,"palette"),s()(),a(15,"button",10),c("click",function(){p(e);let o=d();return m(o.align())}),a(16,"mat-icon"),u(17,"format_align_left"),s()(),b(18,"div",11),a(19,"button",12),c("click",function(){p(e);let o=d();return m(o.saveText())}),u(20," \uC800\uC7A5 "),s(),a(21,"button",13),c("click",function(){p(e);let o=d();return m(o.cancelEdit())}),u(22," \uCDE8\uC18C "),s()()()}if(i&2){let e=d();l(),J("font-size",e.properties.fontSize,"px")("color",e.properties.color)("font-family",e.properties.fontFamily),ye("ngModel",e.tempText)}}function po(i,t){if(i&1){let e=C();a(0,"div",14),c("dblclick",function(){p(e);let o=d();return m(o.onDoubleClick())}),u(1),s()}if(i&2){let e=d();J("font-size",e.properties.fontSize,"px")("color",e.properties.color)("font-weight",e.properties.fontWeight)("font-style",e.properties.fontStyle)("text-align",e.properties.textAlign)("font-family",e.properties.fontFamily),l(),T(" ",e.properties.text||"\uD14D\uC2A4\uD2B8\uB97C \uC785\uB825\uD558\uC138\uC694 (\uB354\uBE14\uD074\uB9AD)"," ")}}var yt=class i extends O{updateProperties=new v;isEditing=!1;tempText="";menuData=[{icon:"edit",label:"\uD14D\uC2A4\uD2B8 \uC218\uC815",param:"edit"},{icon:"format_size",label:"\uD3F0\uD2B8 \uD06C\uAE30",param:"fontSize"},{icon:"palette",label:"\uC0C9\uC0C1 \uBCC0\uACBD",param:"color"},{icon:"format_align_left",label:"\uC815\uB82C",param:"align"},{icon:"close",label:"\uC704\uC82F \uC81C\uAC70",param:"delete"}];ngOnInit(){super.ngOnInit(),this.properties||(this.properties=this.getDefaultProperties())}getDefaultProperties(){return{text:"\uD14D\uC2A4\uD2B8\uB97C \uC785\uB825\uD558\uC138\uC694",fontSize:16,color:"#000000",fontWeight:"normal",fontStyle:"normal",textAlign:"left",fontFamily:"Pretendard, sans-serif"}}updateWidgetProperties(t){this.properties=_(_({},this.properties),t),this.updateProperties.emit(this.properties)}onMenuSelect(t){console.log("\uBA54\uB274 \uC120\uD0DD: ",t),this[t]()}delete(){this.dialog.open(X,{data:{title:"\uC704\uC82F \uC0AD\uC81C",message:"\uC815\uB9D0\uB85C \uC774 \uD14D\uC2A4\uD2B8 \uC704\uC82F\uC744 \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?"}}).afterClosed().pipe(R(1)).subscribe(e=>{e&&this.remove()})}edit(){this.isEditing=!0,this.tempText=this.properties.text||"",setTimeout(()=>{let t=document.querySelector(".text-editor");t&&(t.focus(),t.select())},0)}saveText(){this.tempText.trim()&&this.updateWidgetProperties({text:this.tempText}),this.isEditing=!1}cancelEdit(){this.isEditing=!1,this.tempText=""}onDoubleClick(){this.edit()}fontSize(){let t=this.properties.fontSize||16,e=[12,14,16,18,20,24,28,32,36,48,64],o=(e.indexOf(t)+1)%e.length;this.updateWidgetProperties({fontSize:e[o]})}color(){let t=["#000000","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF"],e=this.properties.color||"#000000",o=(t.indexOf(e)+1)%t.length;this.updateWidgetProperties({color:t[o]})}align(){let t=["left","center","right","justify"],e=this.properties.textAlign||"left",o=(t.indexOf(e)+1)%t.length;this.updateWidgetProperties({textAlign:t[o]})}toggleBold(){let t=this.properties.fontWeight||"normal";this.updateWidgetProperties({fontWeight:t==="bold"?"normal":"bold"})}toggleItalic(){let t=this.properties.fontStyle||"normal";this.updateWidgetProperties({fontStyle:t==="italic"?"normal":"italic"})}static \u0275fac=(()=>{let t;return function(n){return(t||(t=E(i)))(n||i)}})();static \u0275cmp=h({type:i,selectors:[["app-widget-text-design"]],outputs:{updateProperties:"updateProperties"},standalone:!1,features:[k],decls:3,vars:2,consts:[[1,"text-widget-container"],["class","edit-mode",4,"ngIf"],["class","text-display",3,"fontSize","color","fontWeight","fontStyle","textAlign","fontFamily","dblclick",4,"ngIf"],[1,"edit-mode"],["rows","5",1,"text-editor",3,"ngModelChange","keydown.escape","blur","ngModel"],[1,"edit-toolbar"],["mat-icon-button","","matTooltip","\uAD75\uAC8C",3,"click"],["mat-icon-button","","matTooltip","\uAE30\uC6B8\uC784",3,"click"],["mat-icon-button","","matTooltip","\uD3F0\uD2B8 \uD06C\uAE30",3,"click"],["mat-icon-button","","matTooltip","\uC0C9\uC0C1",3,"click"],["mat-icon-button","","matTooltip","\uC815\uB82C",3,"click"],[1,"spacer"],["mat-raised-button","","color","primary",3,"click"],["mat-button","",3,"click"],[1,"text-display",3,"dblclick"]],template:function(e,n){e&1&&(a(0,"div",0),N(1,co,23,7,"div",1)(2,po,2,13,"div",2),s()),e&2&&(l(),g("ngIf",n.isEditing),l(),g("ngIf",!n.isEditing))},dependencies:[Y,pe,me,Ne,ee,Q,V,te],styles:[".text-widget-container[_ngcontent-%COMP%]{width:100%;height:100%;min-height:50px;position:relative}.text-widget-container[_ngcontent-%COMP%]   .edit-mode[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;height:100%}.text-widget-container[_ngcontent-%COMP%]   .edit-mode[_ngcontent-%COMP%]   .text-editor[_ngcontent-%COMP%]{width:100%;flex:1;padding:12px;border:2px solid #2196F3;border-radius:4px;outline:none;font-family:inherit;resize:vertical;min-height:100px;background:#fff}.text-widget-container[_ngcontent-%COMP%]   .edit-mode[_ngcontent-%COMP%]   .text-editor[_ngcontent-%COMP%]:focus{border-color:#1976d2;box-shadow:0 0 0 3px #2196f31a}.text-widget-container[_ngcontent-%COMP%]   .edit-mode[_ngcontent-%COMP%]   .edit-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;padding:8px;background:#f5f5f5;border-radius:4px;flex-wrap:wrap}.text-widget-container[_ngcontent-%COMP%]   .edit-mode[_ngcontent-%COMP%]   .edit-toolbar[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1}.text-widget-container[_ngcontent-%COMP%]   .edit-mode[_ngcontent-%COMP%]   .edit-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([mat-raised-button]){opacity:.7;transition:opacity .2s}.text-widget-container[_ngcontent-%COMP%]   .edit-mode[_ngcontent-%COMP%]   .edit-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not([mat-raised-button]):hover{opacity:1}.text-widget-container[_ngcontent-%COMP%]   .text-display[_ngcontent-%COMP%]{width:100%;height:100%;min-height:50px;padding:12px;cursor:pointer;transition:all .2s;border:2px dashed transparent;border-radius:4px;word-wrap:break-word;white-space:pre-wrap}.text-widget-container[_ngcontent-%COMP%]   .text-display[_ngcontent-%COMP%]:hover{border-color:#e0e0e0;background:#00000005}.text-widget-container[_ngcontent-%COMP%]   .text-display[_ngcontent-%COMP%]:active{background:#0000000a}[_nghost-%COMP%]{display:block;width:100%;height:100%}"]})};var Mt=class i extends O{getDefaultProperties(){throw new Error("Method not implemented.")}updateWidgetProperties(){throw new Error("Method not implemented.")}onMenuSelect(t){console.log("\uC774\uBCA4\uD2B8 \uBC1C\uC0DD, ",t),this[t]()}delete(){this.dialog.open(X).afterClosed().pipe(R(1)).subscribe(e=>{e&&this.remove()})}edit(){}static \u0275fac=(()=>{let t;return function(n){return(t||(t=E(i)))(n||i)}})();static \u0275cmp=h({type:i,selectors:[["app-widget-video-design"]],standalone:!1,features:[k],decls:3,vars:0,template:function(e,n){e&1&&(a(0,"div")(1,"p"),u(2,"widget-video works!"),s()())},encapsulation:2})};var Dt=class i extends O{menuData=[{icon:"edit",label:"\uC704\uC82F \uC218\uC815",param:"edit"},{icon:"close",label:"\uC704\uC82F \uC81C\uAC70",param:"delete"}];getDefaultProperties(){throw new Error("Method not implemented.")}updateWidgetProperties(){throw new Error("Method not implemented.")}onMenuSelect(t){console.log("\uC774\uBCA4\uD2B8 \uBC1C\uC0DD, ",t),this[t]()}delete(){this.dialog.open(X).afterClosed().pipe(R(1)).subscribe(e=>{e&&this.remove()})}edit(){}static \u0275fac=(()=>{let t;return function(n){return(t||(t=E(i)))(n||i)}})();static \u0275cmp=h({type:i,selectors:[["app-widget-button-design"]],standalone:!1,features:[k],decls:3,vars:1,consts:[["appWixContextMenu","",3,"selectMenu","menuData"]],template:function(e,n){e&1&&(a(0,"div",0),c("selectMenu",function(r){return n.onMenuSelect(r)}),a(1,"p"),u(2,"widget-button works!"),s()()),e&2&&g("menuData",n.menuData)},dependencies:[ne],encapsulation:2})};var St=class i extends O{menuData=[{icon:"edit",label:"\uC704\uC82F \uC218\uC815",param:"edit"},{icon:"close",label:"\uC704\uC82F \uC81C\uAC70",param:"delete"}];getDefaultProperties(){throw new Error("Method not implemented.")}updateWidgetProperties(){throw new Error("Method not implemented.")}onMenuSelect(t){console.log("\uC774\uBCA4\uD2B8 \uBC1C\uC0DD, ",t),this[t]()}delete(){this.dialog.open(X).afterClosed().pipe(R(1)).subscribe(e=>{e&&this.remove()})}edit(){}static \u0275fac=(()=>{let t;return function(n){return(t||(t=E(i)))(n||i)}})();static \u0275cmp=h({type:i,selectors:[["app-widget-spacer-design"]],standalone:!1,features:[k],decls:3,vars:0,template:function(e,n){e&1&&(a(0,"div")(1,"p"),u(2,"widget-spacer works!"),s()())},encapsulation:2})};var mo={image:wt,text:yt,video:Mt,button:Dt,spacer:St},_l={image:"WidgetImageComponent",text:"WidgetTextComponent",video:"WidgetVideoComponent",button:"WidgetButtonComponent",spacer:"WidgetSpacerComponent",icon:"WidgetIconComponent",title:"WidgetTitleComponent"};var jn=mo;var go=["container"],It=class i{data;columnId;removeWidget=new v;itemChanged=new v;container;sketchDragVM=y(B);dialog=y(Z);destroy$=new F;menuData=tt[this.data?.widgetType]??et;ngOnInit(){this.loadComponent(),this.trackDropEvent()}loadComponent(){this.container.clear();let t=jn[this.data.widgetType];if(!t){console.log("\uB9E4\uCE6D\uB294 \uC704\uC82F\uC774 \uC5C6\uC74C");return}let e=this.container.createComponent(t);e.setInput("properties",this.data.properties),e.instance.widgetRemove.pipe(q(this.destroy$)).subscribe(()=>{this.remove()}),e.instance.updateProperties.pipe(q(this.destroy$)).subscribe(n=>{this.data=L(_({},this.data),{properties:_({},n)}),e.setInput("properties",this.data.properties),this.itemChanged.emit(this.data)})}trackDropEvent(){this.sketchDragVM.getWidgetDropObservable().pipe(be(t=>t.widget.id===this.data.id),q(this.destroy$)).subscribe(t=>{console.log("\uB4DC\uB798\uADF8\uB4DC\uB86D \uC774\uBCA4\uD2B8 \uBC1C\uC0DD"),this.removeWidget.emit(this.data)})}updateWidgetProperties(t){throw new Error("Method not implemented.")}remove(){this.removeWidget.emit(this.data)}onDragStart(t){console.log("\uB4DC\uB798\uADF8 \uC2DC\uC791"),t.stopPropagation();let e={widget:_({},this.data),draggedId:this.columnId};if(!t.dataTransfer){console.log("dataTransfer \uC5C6\uC74C, ",t.dataTransfer);return}t.dataTransfer.setData("widget",JSON.stringify(e));let n=t.dataTransfer.getData("widget");console.log("\uB370\uC774\uD130 \uB2F4\uAE40, ",n)}ngOnDestroy(){console.log("\uC704\uC82F \uC81C\uAC70"),this.destroy$.next()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-widget-design"]],viewQuery:function(e,n){if(e&1&&$(go,7,Ee),e&2){let o;G(o=H())&&(n.container=o.first)}},inputs:{data:"data",columnId:"columnId"},outputs:{removeWidget:"removeWidget",itemChanged:"itemChanged"},standalone:!1,decls:3,vars:0,consts:[["container",""],["appHoverEffect","","draggable","true",1,"container",3,"dragstart"]],template:function(e,n){if(e&1){let o=C();a(0,"div",1),c("dragstart",function(f){return p(o),m(n.onDragStart(f))}),qt(1,null,0),s()}},styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{width:100%;height:100%;cursor:move;transition:opacity .2s ease}.container[_ngcontent-%COMP%]:active{cursor:grabbing}.container.dragging[_ngcontent-%COMP%]{opacity:.5;border:2px dashed #2196F3}.container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0;word-break:break-word;white-space:normal}']})};function uo(i,t){if(i&1&&u(0),i&2){let e=d().$implicit;T(" ",e.errorMessage," ")}}function fo(i,t){if(i&1&&M(0,uo,1,1),i&2){let e,n=t.$implicit,o=d(2).$implicit,r=d();D((e=r.formGroup.get(o.controlName))!=null&&e.hasError(n.validator)?0:-1)}}function ho(i,t){if(i&1&&(a(0,"mat-error"),S(1,fo,1,1,null,null,Re),s()),i&2){let e=d().$implicit;l(),I(e.validators)}}function _o(i,t){if(i&1&&(a(0,"mat-form-field",1)(1,"mat-label"),u(2),s(),b(3,"input",2),M(4,ho,3,0,"mat-error"),s()),i&2){let e,n=t.$implicit,o=d();l(2),P(n.label),l(),g("formControlName",n.controlName)("type",n.type||"text"),l(),D((e=o.formGroup.get(n.controlName))!=null&&e.invalid&&((e=o.formGroup.get(n.controlName))!=null&&e.touched)?4:-1)}}var Pt=class i{formGroupData;formReady=new v;formGroup=new an({});ngOnInit(){this.formGroupData.controls.forEach(t=>{let e=[];t.validators&&t.validators.forEach(n=>{switch(n.validator){case"required":e.push(kt.required);break;case"email":e.push(kt.email);break}}),this.formGroup.addControl(t.controlName,new rn(t.defaultValue||"",e))}),this.formReady.emit(this.formGroup)}onSubmit(){}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-basic-form-group"]],inputs:{formGroupData:"formGroupData"},outputs:{formReady:"formReady"},decls:3,vars:1,consts:[[3,"submit","formGroup"],["appearance","outline",2,"width","100%","margin-bottom","16px"],["matInput","",3,"formControlName","type"]],template:function(e,n){e&1&&(a(0,"form",0),c("submit",function(){return n.onSubmit()}),S(1,_o,5,4,"mat-form-field",1,ke),s()),e&2&&(g("formGroup",n.formGroup),l(),I(n.formGroupData.controls))},dependencies:[ce,pn,sn,pe,me,on,ln,dn,Ge,$e,wn,yn,He,Mn],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}"]})};var Un=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=le({type:i});static \u0275inj=se({providers:[{provide:B,useClass:B},{provide:re,useClass:re}],imports:[ce,cn,lt,vn,bn,ge,Ue,In,Xe,Ge,He,Pn,An,En,Nn,Rn,zn,Qe,kn,xn,Pt]})};Wt(xe,[pt,_t],[]);Wt(he,[_e,It],[]);export{Un as WixModule};
