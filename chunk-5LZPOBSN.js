import{a as ie}from"./chunk-SAWA3JHK.js";import"./chunk-7UZYWCAJ.js";import{a as Nt}from"./chunk-GU442SJH.js";import{c as Tt,d as Ye,f as Ue,g as Ze,h as Xe}from"./chunk-DUKSTT3K.js";import{a as Ft,b as jt,c as Be,d as be,e as Lt,f as Vt,h as Rt,i as $t,m as qt}from"./chunk-A6MZFBFX.js";import"./chunk-WPFHTHSV.js";import{e as Gt}from"./chunk-DJJXWOPV.js";import{b as Yt}from"./chunk-F5BAXZCI.js";import{c as Ht}from"./chunk-OZDCUURW.js";import{va as Wt}from"./chunk-E4KGRJ5E.js";import{d as Bt,g as Ke}from"./chunk-BOMXJJQJ.js";import{g as he,i as zt,k as xe}from"./chunk-IESNQYPT.js";import{E as At}from"./chunk-GYV7E64H.js";import{$a as Se,$b as E,Aa as te,Ad as Dt,D as mt,Da as ht,Dd as Et,Ed as It,F as ut,Fd as Ae,Gc as Me,Kb as N,Kc as Z,Lb as f,Lc as ze,Mb as _,Mc as ge,Nb as Mt,Nc as yt,Ob as Ot,Pb as k,Qb as S,Rb as w,S as Ct,Sb as o,Sc as kt,Tb as i,U as ft,Ub as m,Vb as B,W as j,Wb as F,Wc as qe,Xa as ke,Y as ve,Za as xt,_b as vt,_c as Te,a as ct,aa as le,ab as bt,ba as we,bb as s,bc as h,c as se,dc as l,ea as _t,f as ee,fa as oe,g as de,hb as L,hc as K,ic as Q,jb as De,jc as J,ka as u,la as C,m as st,ma as v,na as z,ob as W,oc as I,pb as Ee,pc as M,q as dt,qc as wt,rb as Pt,rc as V,rd as _e,sc as c,tc as g,ub as ne,uc as x,ud as St,va as ye,vc as Ie,w as lt,x as pt,xb as q,y as gt}from"./chunk-KPABI5SC.js";import{a as A,b as H,h as rt}from"./chunk-WWX6BADO.js";var X=class r{constructor(t){this.http=t;this.loadSpecs()}specsSubject=new de(null);specs$=this.specsSubject.asObservable();loadingSubject=new de(!1);loading$=this.loadingSubject.asObservable();errorSubject=new de(null);error$=this.errorSubject.asObservable();specsData$=null;CALENDAR_DATA_PATH="./data/calendar.json";NOTE_DATA_PATH="./data/note.json";loadSpecs(){if(this.specsData$){this.specsData$.subscribe(t=>this.specsSubject.next(t));return}this.loadingSubject.next(!0),this.errorSubject.next(null),console.log(`[ProjectSpecsService] Loading project specs from separate files:
      - Calendar: ${this.CALENDAR_DATA_PATH}
      - Note: ${this.NOTE_DATA_PATH}`),this.specsData$=lt({calendar:this.http.get(this.CALENDAR_DATA_PATH),note:this.http.get(this.NOTE_DATA_PATH)}).pipe(ve(({calendar:t,note:e})=>{console.log("[ProjectSpecsService] All project specs loaded successfully"),console.log("[ProjectSpecsService] Available projects: calendar, note")}),ve(({calendar:t,note:e})=>{Object.entries({calendar:t,note:e}).forEach(([a,d])=>{(!d.name||!d.specifications||!d.wbs||!d.ia)&&console.warn(`[ProjectSpecsService] Project '${a}' may have incomplete data`)})}),mt(t=>{let e="Failed to load project specifications";return t instanceof Error?e=t.message:t.status&&(e=`HTTP ${t.status}: ${t.statusText}`),console.error(`[ProjectSpecsService] Error loading specs: ${e}`,t),this.errorSubject.next(e),this.loadingSubject.next(!1),st(()=>new Error(e))}),ve(({calendar:t,note:e})=>{let n={calendar:t,note:e};this.specsSubject.next(n),this.loadingSubject.next(!1)}),Ct(1)),this.specsData$.subscribe({next:t=>{console.log("[ProjectSpecsService] Initial subscription successful")},error:t=>{console.error("[ProjectSpecsService] Initial subscription error:",t)}})}getProjectSpec(t){return new se(e=>{this.specsSubject.subscribe(n=>{n&&n[t]?e.next(n[t]):e.next(void 0),e.complete()})})}getSpecifications(t){return new se(e=>{this.specsSubject.subscribe(n=>{if(n&&n[t]){let a=n[t].specifications||[];console.log(`[ProjectSpecsService] Loaded ${a.length} specifications for project '${t}'`),e.next(a)}else console.warn(`[ProjectSpecsService] Project '${t}' not found`),e.next([]);e.complete()})})}getWBS(t){return new se(e=>{this.specsSubject.subscribe(n=>{if(n&&n[t]){let a=n[t].wbs?.tasks||[];console.log(`[ProjectSpecsService] Loaded WBS with ${a.length} tasks for project '${t}'`),e.next(a)}else console.warn(`[ProjectSpecsService] Project '${t}' not found`),e.next([]);e.complete()})})}getIA(t){return new se(e=>{this.specsSubject.subscribe(n=>{if(n&&n[t]){let a=n[t].ia||{pages:[],userFlows:[]};console.log(`[ProjectSpecsService] Loaded ${a.pages.length} pages and ${a.userFlows.length} user flows for project '${t}'`),e.next(a)}else console.warn(`[ProjectSpecsService] Project '${t}' not found`),e.next({pages:[],userFlows:[]});e.complete()})})}getArchitecture(t){return new se(e=>{this.specsSubject.subscribe(n=>{if(n&&n[t]){let a=n[t].systemArchitecture;console.log(`[ProjectSpecsService] Loaded architecture for project '${t}'`),e.next(a)}else console.warn(`[ProjectSpecsService] Project '${t}' not found`),e.next(void 0);e.complete()})})}getProjectKeys(){return new se(t=>{this.specsSubject.subscribe(e=>{e?t.next(Object.keys(e)):t.next([]),t.complete()})})}hasProject(t){return new se(e=>{this.specsSubject.subscribe(n=>{e.next(!!n&&t in n),e.complete()})})}reloadSpecs(){this.specsData$=null,this.loadSpecs()}getSpecsSync(){let t=this.specsSubject.value;return console.log("[ProjectSpecsService] getSpecsSync called",t?`${Object.keys(t).length} projects available`:"No data"),t}getProjectSpecSync(t){let e=this.specsSubject.value,n=e?e[t]:void 0;return console.log(`[ProjectSpecsService] getProjectSpecSync('${t}') called`,n?"Found":"Not found"),n}debugStatus(){let t=this.specsSubject.value,e=this.loadingSubject.value,n=this.errorSubject.value;console.log("%c[ProjectSpecsService] Debug Status","color: blue; font-weight: bold;"),console.log("  Loading:",e),console.log("  Error:",n),console.log("  Projects loaded:",t?Object.keys(t).join(", "):"None"),console.log("  Full data:",t)}debugProject(t){let e=this.getProjectSpecSync(t);console.log(`%c[ProjectSpecsService] Project: ${t}`,"color: green; font-weight: bold;"),e?(console.log("  Name:",e.displayName),console.log("  Status:",e.overview?.status),console.log("  Specifications:",e.specifications?.length||0),console.log("  WBS Tasks:",e.wbs?.tasks?.length||0),console.log("  IA Pages:",e.ia?.pages?.length||0),console.log("  Architecture:",Object.keys(e.systemArchitecture||{}).length,"fields"),console.log("  Full project:",e)):console.warn(`  Project '${t}' not found`)}static \u0275fac=function(e){return new(e||r)(_t(he))};static \u0275prov=le({token:r,factory:r.\u0275fac,providedIn:"root"})};var je=class r{mergedDataSubject=new de(null);mergedData$=this.mergedDataSubject.asObservable();constructor(){}convertTableToSpecifications(t,e="SPEC"){return t.map((n,a)=>({id:`${e}-${String(a+1).padStart(3,"0")}`,category:`${n.mainCategory} > ${n.midCategory}`,title:n.subCategory||n.midCategory,description:n.request.split(`
`)[0],fullDescription:n.request,mainCategory:n.mainCategory,midCategory:n.midCategory,subCategory:n.subCategory,priority:this.convertScoreToPriority(n.priority),feasibility:this.convertScoreToPriority(n.feasibility),isHighPriority:n.isRed||!1,note:n.note,status:parseFloat(n.feasibility)>=1.5?"\uACC4\uD68D":"\uC9C4\uD589\uC911",version:"v1.0"}))}extractRequirements(t){let e=new Map;return t.forEach(n=>{let a=n.mainCategory;e.has(a)||e.set(a,new Set),n.request.split(`
`).filter(p=>p.trim().length>0).forEach(p=>{e.get(a).add(p.trim())})}),Array.from(e.entries()).map(([n,a])=>({category:n,items:Array.from(a)}))}mergeSpecPlanWithProjectSpec(t,e,n="SPEC"){let a=this.convertTableToSpecifications(e,n),d=this.extractRequirements(e),p=H(A({},t),{specifications:[...t.specifications||[],...a],requirements:[...t.requirements||[],...d]});return this.mergedDataSubject.next(p),p}mergeAndSave(t,e,n){let a=n[t]||{},d=this.getProjectCode(t),p=this.mergeSpecPlanWithProjectSpec(a,e,d);return H(A({},n),{[t]:p})}getProjectCode(t){return{calendar:"EZCAL",note:"EZNOTE","calendar-plus":"EZCAL-PLUS"}[t]||t.toUpperCase().substring(0,4)}convertScoreToPriority(t){let e=parseFloat(t);return e>=2?"\uB192\uC74C":e>=1.5?"\uC911\uAC04":"\uB0AE\uC74C"}getHighPriorityItems(t){return t.filter(e=>e.isRed===!0)}getCategoryStatistics(t){let e=new Map;return t.forEach(n=>{let a=n.mainCategory;e.set(a,(e.get(a)||0)+1)}),e}getPriorityStatistics(t){return{high:t.filter(e=>parseFloat(e.priority)>=2).length,medium:t.filter(e=>1.5<=parseFloat(e.priority)&&parseFloat(e.priority)<2).length,low:t.filter(e=>parseFloat(e.priority)<1.5).length,total:t.length}}getFeasibilityStatistics(t){return{high:t.filter(e=>parseFloat(e.feasibility)>=2).length,medium:t.filter(e=>1.5<=parseFloat(e.feasibility)&&parseFloat(e.feasibility)<2).length,low:t.filter(e=>parseFloat(e.feasibility)<1.5).length,total:t.length}}convertToJSON(t){return JSON.stringify(t,null,2)}convertToCSV(t){let e=["ID","\uB300\uBD84\uB958","\uC911\uBD84\uB958","\uC18C\uBD84\uB958","\uC758\uB8B0 \uB0B4\uC6A9","\uBC18\uC601\uC694\uCCAD","\uBC18\uC601\uAC00\uB2A5","\uBE44\uACE0"],n=t.map(d=>[d.id.toString(),d.mainCategory,d.midCategory,d.subCategory,d.request.replace(/\n/g," | "),d.priority,d.feasibility,d.note.replace(/\n/g," | ")]);return[e.join(","),...n.map(d=>d.map(p=>`"${p}"`).join(","))].join(`
`)}getMergedData$(){return this.mergedData$}getMergedDataSync(){return this.mergedDataSubject.value}reset(){this.mergedDataSubject.next(null)}static \u0275fac=function(e){return new(e||r)};static \u0275prov=le({token:r,factory:r.\u0275fac,providedIn:"root"})};function Ut(r){let t=new Map;return r.forEach(e=>{let n=e.mainCategory;t.has(n)||t.set(n,[]),t.get(n).push(e)}),t}function Zt(r){return{id:`REQ-${r.id}`,title:r.subCategory||r.request.split(`
`)[0],description:r.request,category:r.mainCategory,subcategory:r.midCategory,priority:r.priority,feasibility:r.feasibility,status:parseFloat(r.feasibility)>=1.5?"\uAC00\uB2A5":"\uAC80\uD1A0 \uD544\uC694",note:r.note,isRed:r.isRed||!1}}var an=(r,t)=>t.id;function rn(r,t){if(r&1&&(B(0,"td",15),c(1),F()),r&2){let e=l(),n=e.$implicit,a=e.$index,d=l();N("rowspan",d.getMainCategorySpan(a)),s(),x(" ",n.mainCategory," ")}}function cn(r,t){if(r&1&&(B(0,"td",16),c(1),F()),r&2){let e=l(),n=e.$implicit,a=e.$index,d=l();N("rowspan",d.getMidCategorySpan(a)),s(),x(" ",n.midCategory," ")}}function sn(r,t){if(r&1&&(B(0,"tr",12)(1,"td",14),c(2),F(),f(3,rn,2,2,"td",15),f(4,cn,2,2,"td",16),B(5,"td",17),c(6),F(),B(7,"td",18)(8,"div"),c(9),F()(),B(10,"td",19)(11,"span"),c(12),F()(),B(13,"td",19)(14,"span"),c(15),F()(),B(16,"td",20),c(17),F()()),r&2){let e=t.$implicit,n=t.$index,a=l();s(2),g(e.id),s(),_(a.shouldShowMainCategory(n)?3:-1),s(),_(a.shouldShowMidCategory(n)?4:-1),s(2),x(" ",e.subCategory," "),s(2),M("text-red-600",e.isRed)("font-semibold",e.isRed),s(),x(" ",e.request," "),s(2),V(a.getScoreClass(e.priority)),s(),x(" ",e.priority," "),s(2),V(a.getScoreClass(e.feasibility)),s(),x(" ",e.feasibility," "),s(2),x(" ",e.note," ")}}var pe=class r{set folderType(t){this.currentFolderType=t,this.loadTableData(t)}http=oe(he);specPlanMergeService=oe(je);destroy$=new ee;currentFolderType="calendar";CALENDAR_DATA_PATH="./data/calendar.json";NOTE_DATA_PATH="./data/note.json";calendarData=[];noteData=[];tableData=ye([]);ngOnInit(){this.loadTableData(this.currentFolderType)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadTableData(t){let e=t==="note"?this.NOTE_DATA_PATH:this.CALENDAR_DATA_PATH;this.http.get(e).pipe(j(this.destroy$)).subscribe({next:n=>{t==="note"?(this.noteData=n.specPlanTable||[],this.tableData.set(this.noteData)):(this.calendarData=n.specPlanTable||[],this.tableData.set(this.calendarData))},error:n=>{console.error(`[SpecPlan] ${t} \uB370\uC774\uD130 \uB85C\uB4DC \uC2E4\uD328:`,n),this.tableData.set([])}})}shouldShowMainCategory(t){return t===0?!0:this.tableData()[t].mainCategory!==this.tableData()[t-1].mainCategory}getMainCategorySpan(t){let e=this.tableData()[t].mainCategory,n=0;for(let a=t;a<this.tableData().length&&this.tableData()[a].mainCategory===e;a++)n++;return n}shouldShowMidCategory(t){if(t===0)return!0;let e=this.tableData()[t],n=this.tableData()[t-1];return e.midCategory!==n.midCategory||e.mainCategory!==n.mainCategory}getMidCategorySpan(t){let e=this.tableData()[t],n=0;for(let a=t;a<this.tableData().length&&(this.tableData()[a].midCategory===e.midCategory&&this.tableData()[a].mainCategory===e.mainCategory);a++)n++;return n}getScoreClass(t){let e="inline-block px-2 py-0.5 rounded-full font-bold text-xs ",n=parseFloat(t);return n>=2?e+"bg-red-100 text-red-700 border border-red-200":n>=1.5?e+"bg-blue-100 text-blue-700 border border-blue-200":e+"bg-green-100 text-green-700 border border-green-200"}convertToSpecifications(t="SPEC"){return this.specPlanMergeService.convertTableToSpecifications(this.tableData(),t)}getCategories(){return Ut(this.tableData())}getRequirements(){return this.specPlanMergeService.extractRequirements(this.tableData())}mergeToProjectSpec(t){return this.specPlanMergeService.mergeSpecPlanWithProjectSpec(t||{},this.tableData(),"SPEC")}getHighPriorityItems(){return this.specPlanMergeService.getHighPriorityItems(this.tableData())}getPriorityStats(){return this.specPlanMergeService.getPriorityStatistics(this.tableData())}getFeasibilityStats(){return this.specPlanMergeService.getFeasibilityStatistics(this.tableData())}convertRowToRequirement(t){return Zt(t)}exportAsJSON(){let t=this.mergeToProjectSpec();return this.specPlanMergeService.convertToJSON(t)}exportAsCSV(){return this.specPlanMergeService.convertToCSV(this.tableData())}getStatistics(){return{total:this.tableData().length,categories:new Set(this.tableData().map(t=>t.mainCategory)).size,highPriority:this.getHighPriorityItems().length,priorityStats:this.getPriorityStats(),feasibilityStats:this.getFeasibilityStats()}}getCategoryStats(){return this.specPlanMergeService.getCategoryStatistics(this.tableData())}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=W({type:r,selectors:[["app-spec-plan"]],inputs:{folderType:"folderType"},decls:31,vars:0,consts:[[1,"spec-plan-container"],[1,"spec-plan-wrapper"],[1,"spec-plan-header"],[1,"spec-plan-table-wrapper"],[1,"w-full","border-collapse","text-xs","sm:text-sm"],[1,"bg-black","text-white"],[1,"border","border-gray-600","p-2","w-12","text-center"],[1,"border","border-gray-600","p-2","w-24"],[1,"border","border-gray-600","p-2","w-32"],[1,"border","border-gray-600","p-2","min-w-[300px]"],[1,"border","border-gray-600","p-2","w-20","text-center"],[1,"border","border-gray-600","p-2","w-40"],[1,"hover:bg-gray-50","transition-colors"],[1,"spec-plan-footer"],[1,"border","border-gray-300","p-2","text-center","text-gray-500"],[1,"border","border-gray-300","p-2","font-bold","bg-[#d9ead3]","text-center","align-middle"],[1,"border","border-gray-300","p-2","font-medium","align-middle"],[1,"border","border-gray-300","p-2","align-top","text-gray-700"],[1,"border","border-gray-300","p-2","align-top","whitespace-pre-line","leading-relaxed"],[1,"border","border-gray-300","p-2","text-center"],[1,"border","border-gray-300","p-2","align-top","text-xs","text-gray-600","italic"]],template:function(e,n){e&1&&(B(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),c(4,"\uAE30\uB2A5 \uC694\uAD6C\uC0AC\uD56D \uBA85\uC138\uC11C (\uAE30\uD68D\uC548)"),F()(),B(5,"div",3)(6,"table",4)(7,"thead")(8,"tr",5)(9,"th",6),c(10,"no."),F(),B(11,"th",7),c(12,"\uB300\uBD84\uB958"),F(),B(13,"th",8),c(14,"\uC911\uBD84\uB958"),F(),B(15,"th",8),c(16,"\uC18C\uBD84\uB958"),F(),B(17,"th",9),c(18,"\uC758\uB8B0 \uB0B4\uC6A9"),F(),B(19,"th",10),c(20,"\uBC18\uC601\uC694\uCCAD"),F(),B(21,"th",10),c(22,"\uBC18\uC601\uAC00\uB2A5"),F(),B(23,"th",11),c(24,"\uBE44\uACE0"),F()()(),B(25,"tbody"),k(26,sn,18,16,"tr",12,an),F()()(),B(28,"div",13)(29,"p"),c(30,"\xA9 2024 UI/UX Planning Document"),F()()()()),e&2&&(s(26),S(n.tableData()))},dependencies:[Ae],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}.spec-plan-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%;background:#f9fafb;padding:16px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.spec-plan-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:#fff;border-radius:8px;border:1px solid #e5e7eb;box-shadow:0 10px 15px -3px #0000001a;overflow:hidden;flex:1;min-height:0}.spec-plan-header[_ngcontent-%COMP%]{flex-shrink:0;background:#1e293b;padding:16px;border-bottom:1px solid #e5e7eb}.spec-plan-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:700;color:#fff;text-align:center}.spec-plan-table-wrapper[_ngcontent-%COMP%]{flex:1;overflow:auto;min-height:0}.spec-plan-footer[_ngcontent-%COMP%]{flex-shrink:0;padding:16px;background:#f3f4f6;border-top:1px solid #e5e7eb}.spec-plan-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#9ca3af;text-align:right;font-style:italic}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{word-break:keep-all}"],changeDetection:0})};var dn=(r,t)=>t.id+"_"+r,ln=(r,t)=>t.category+"_"+r,pn=(r,t)=>t+"_"+r;function gn(r,t){if(r&1&&m(0,"app-spec-plan",15),r&2){let e=l(2);w("folderType",e.folderType)}}function mn(r,t){if(r&1&&(o(0,"div",37)(1,"h3"),c(2,"PC Environment"),i(),o(3,"div",38)(4,"span",39),c(5,"Structure"),i(),o(6,"span",40),c(7),i()(),o(8,"div",38)(9,"span",39),c(10,"Sidebar"),i(),o(11,"span",40),c(12),i()(),o(13,"div",38)(14,"span",39),c(15,"Scroll"),i(),o(16,"span",40),c(17),i()()(),o(18,"div",41)(19,"h3"),c(20,"Mobile Environment"),i(),o(21,"div",38)(22,"span",39),c(23,"Structure"),i(),o(24,"span",40),c(25),i()(),o(26,"div",38)(27,"span",39),c(28,"Navigation"),i(),o(29,"span",40),c(30),i()(),o(31,"div",38)(32,"span",39),c(33,"Experience"),i(),o(34,"span",40),c(35),i()()()),r&2){let e=l(3);s(7),g(e.currentProjectSpec.layoutStrategy.desktop.structure),s(5),g(e.currentProjectSpec.layoutStrategy.desktop.sidebar),s(5),g(e.currentProjectSpec.layoutStrategy.desktop.scroll),s(8),g(e.currentProjectSpec.layoutStrategy.mobile.structure),s(5),g(e.currentProjectSpec.layoutStrategy.mobile.sidebar),s(5),g(e.currentProjectSpec.layoutStrategy.mobile.scroll)}}function un(r,t){if(r&1&&(o(0,"tr")(1,"td",42),c(2),i(),o(3,"td",43),c(4),i(),o(5,"td",44),c(6),i(),o(7,"td",45),c(8),i(),o(9,"td",45),c(10),i(),o(11,"td",46)(12,"span",47),c(13),i()()()),r&2){let e=t.$implicit,n=l(3);s(2),g(e.id),s(2),g(e.category),s(2),g(e.title),s(2),g(e.pcSpec),s(2),g(e.mobileSpec),s(2),V(n.getStatusClass(e.status)),s(),g(e.status)}}function Cn(r,t){if(r&1&&(o(0,"li"),c(1),i()),r&2){let e=t.$implicit;s(),g(e)}}function fn(r,t){if(r&1&&(o(0,"div",36)(1,"h4"),c(2),i(),o(3,"ul"),k(4,Cn,2,1,"li",null,pn),i()()),r&2){let e=t.$implicit;s(2),g(e.category),s(2),S(e.items)}}function _n(r,t){if(r&1&&(o(0,"section",16)(1,"div",17)(2,"span",18),c(3,"\u{1F4CA}"),i(),o(4,"h2"),c(5,"Project Overview"),i()(),o(6,"div",19)(7,"div",20)(8,"span",12),c(9,"Project Title"),i(),o(10,"span",21),c(11),i()(),o(12,"div",22)(13,"span",12),c(14,"Objective"),i(),o(15,"span",21),c(16),i()(),o(17,"div",20)(18,"span",12),c(19,"Target Users"),i(),o(20,"span",21),c(21),i()(),o(22,"div",20)(23,"span",12),c(24,"Platform"),i(),o(25,"span",21),c(26),i()(),o(27,"div",20)(28,"span",12),c(29,"Status"),i(),o(30,"span",23),c(31),i()(),o(32,"div",20)(33,"span",12),c(34,"Scope"),i(),o(35,"span",21),c(36),i()()()(),o(37,"section",16)(38,"div",17)(39,"span",18),c(40,"\u{1F4F1}"),i(),o(41,"h2"),c(42,"UI/UX Layout Strategy"),i()(),o(43,"div",24),f(44,mn,36,6),i()(),o(45,"section",16)(46,"div",17)(47,"span",18),c(48,"\u2699\uFE0F"),i(),o(49,"h2"),c(50,"Functional Specifications"),i()(),o(51,"div",25)(52,"table",26)(53,"thead")(54,"tr")(55,"th",27),c(56,"ID"),i(),o(57,"th",28),c(58,"Category"),i(),o(59,"th",29),c(60,"Feature"),i(),o(61,"th"),c(62,"PC Specification"),i(),o(63,"th"),c(64,"Mobile Specification"),i(),o(65,"th",27),c(66,"Status"),i()()(),o(67,"tbody"),k(68,un,14,8,"tr",null,dn),i()()()(),o(70,"div",30)(71,"section",16)(72,"div",17)(73,"span",18),c(74,"\u{1F3D7}\uFE0F"),i(),o(75,"h2"),c(76,"Architecture"),i()(),o(77,"div",31)(78,"div",32)(79,"span",33),c(80,"Frontend"),i(),o(81,"span",34),c(82),i()(),o(83,"div",32)(84,"span",33),c(85,"Backend"),i(),o(86,"span",34),c(87),i()(),o(88,"div",32)(89,"span",33),c(90,"DB"),i(),o(91,"span",34),c(92),i()(),o(93,"div",32)(94,"span",33),c(95,"Deploy"),i(),o(96,"span",34),c(97),i()()()(),o(98,"section",16)(99,"div",17)(100,"span",18),c(101,"\u{1F4DD}"),i(),o(102,"h2"),c(103,"Key Requirements"),i()(),o(104,"div",35),k(105,fn,6,1,"div",36,ln),i()()()),r&2){let e=l(2);s(11),g(e.currentProjectSpec.overview.projectName),s(5),g(e.currentProjectSpec.overview.objective),s(5),g(e.currentProjectSpec.overview.targetUsers),s(5),g(e.currentProjectSpec.overview.platforms),s(5),g(e.currentProjectSpec.overview.status),s(5),g(e.currentProjectSpec.overview.mainScope),s(8),_(e.currentProjectSpec.layoutStrategy?44:-1),s(24),S(e.currentProjectSpec.specifications),s(14),g(e.currentProjectSpec.systemArchitecture.frontend),s(5),g(e.currentProjectSpec.systemArchitecture.backend),s(5),g(e.currentProjectSpec.systemArchitecture.database),s(5),g(e.currentProjectSpec.systemArchitecture.deployment),s(8),S(e.currentProjectSpec.requirements)}}function hn(r,t){if(r&1){let e=E();o(0,"header",2)(1,"div",3)(2,"div",4)(3,"span",5),c(4,"FUNCTIONAL SPECIFICATION"),i(),o(5,"h1"),c(6),o(7,"span",6),c(8),i()(),o(9,"p",7),c(10),i()(),o(11,"div",8)(12,"div",9)(13,"button",10),h("click",function(){u(e);let a=l();return C(a.toggleViewMode("standard"))}),c(14,"\uD45C\uC900 \uBA85\uC138"),i(),o(15,"button",10),h("click",function(){u(e);let a=l();return C(a.toggleViewMode("planning"))}),c(16,"\uAE30\uD68D\uC548 \uBCF4\uAE30"),i()(),o(17,"div",11)(18,"span",12),c(19,"Last Updated:"),i(),o(20,"span",13),c(21),i()()()()(),o(22,"div",14),f(23,gn,1,1,"app-spec-plan",15)(24,_n,107,11),i()}if(r&2){let e=l();s(6),x("",e.currentProjectSpec.displayName," "),s(2),g(e.currentProjectSpec.overview.version),s(2),g(e.currentProjectSpec.description),s(3),M("active",e.viewMode==="standard"),s(2),M("active",e.viewMode==="planning"),s(6),g(e.currentProjectSpec.overview.todayDate),s(2),_(e.viewMode==="planning"?23:24)}}function xn(r,t){r&1&&(o(0,"div",1),m(1,"div",48),o(2,"p"),c(3,"Loading Functional Specifications..."),i()())}var ue=class r{constructor(t){this.projectSpecsService=t}folderType="calendar";currentProjectSpec=null;isLoading=!1;errorMessage=null;viewMode="planning";destroy$=new ee;ngOnInit(){this.subscribeToProjectSpecs()}ngOnChanges(t){t.folderType&&!t.folderType.firstChange&&this.updateCurrentSpec()}ngAfterViewInit(){this.updateCurrentSpec()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToProjectSpecs(){this.projectSpecsService.loading$.pipe(j(this.destroy$)).subscribe(t=>{this.isLoading=t}),this.projectSpecsService.error$.pipe(j(this.destroy$)).subscribe(t=>{this.errorMessage=t,t&&console.error("Error loading project specs:",t)}),this.projectSpecsService.specs$.pipe(j(this.destroy$)).subscribe(()=>{this.updateCurrentSpec()})}updateCurrentSpec(){this.currentProjectSpec=this.projectSpecsService.getProjectSpecSync(this.folderType)||null}toggleViewMode(t){this.viewMode=t}getStatusClass(t){if(!t)return"";let e=t.toLowerCase().replace(" ","");return e.includes("\uC644\uB8CC")||e.includes("complete")||e.includes("done")?"complete":e.includes("\uC9C4\uD589")||e.includes("ongoing")||e.includes("progress")?"ongoing":e.includes("\uB300\uAE30")||e.includes("\uACC4\uD68D")||e.includes("\uAE30\uD68D")||e.includes("pending")?"pending":""}getPriorityClass(t){if(!t)return"";let e=t.toLowerCase();return e.includes("p0")||e.includes("\uB192\uC74C")?"high":e.includes("p1")||e.includes("\uC911\uAC04")?"medium":e.includes("p2")||e.includes("\uB0AE\uC74C")?"low":""}static \u0275fac=function(e){return new(e||r)(L(X))};static \u0275cmp=W({type:r,selectors:[["app-spec-doc"]],inputs:{folderType:"folderType"},standalone:!1,features:[te],decls:3,vars:1,consts:[[1,"spec-doc-container"],[1,"loading-state"],[1,"spec-header"],[1,"header-content"],[1,"title-group"],[1,"category-tag"],[1,"version"],[1,"subtitle"],[1,"header-right-group"],[1,"view-toggle"],[3,"click"],[1,"update-info"],[1,"label"],[1,"date"],[1,"spec-content"],[3,"folderType"],[1,"section"],[1,"section-title"],[1,"icon"],[1,"summary-grid"],[1,"summary-card"],[1,"value"],[1,"summary-card","highlight"],[1,"value","status-badge"],[1,"strategy-grid"],[1,"table-container"],[1,"spec-table"],["width","80"],["width","180"],["width","150"],[1,"footer-grid"],[1,"arch-box"],[1,"arch-item"],[1,"tag"],[1,"tech"],[1,"req-box"],[1,"req-group"],[1,"strategy-card","pc"],[1,"spec-item"],[1,"spec-label"],[1,"spec-value"],[1,"strategy-card","mobile"],[1,"id-cell"],[1,"category-cell"],[1,"title-cell"],[1,"desc-cell"],[1,"status-cell"],[1,"badge"],[1,"spinner"]],template:function(e,n){e&1&&(o(0,"div",0),f(1,hn,25,9)(2,xn,4,0,"div",1),i()),e&2&&(s(),_(n.currentProjectSpec?1:2))},dependencies:[pe],styles:['@charset "UTF-8";.spec-doc-container[_ngcontent-%COMP%]{--primary-color: #4f46e5;--secondary-color: #6366f1;--bg-color: #f8fafc;--card-bg: #ffffff;--text-main: #1e293b;--text-muted: #64748b;--accent-pc: #0ea5e9;--accent-mobile: #ec4899;--border-color: #e2e8f0;width:100%;height:100%;background-color:var(--bg-color);overflow-y:auto;font-family:Inter,system-ui,-apple-system,sans-serif;color:var(--text-main)}.spec-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e293b,#334155);color:#fff;padding:40px 30px}.spec-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;display:flex;justify-content:space-between;align-items:flex-end}.spec-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:12px}.spec-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right-group[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]{display:flex;background:#ffffff1a;padding:4px;border-radius:8px;gap:4px}.spec-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right-group[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 14px;border:none;background:transparent;font-size:12px;font-weight:600;color:#ffffffb3;cursor:pointer;border-radius:6px;transition:all .2s}.spec-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right-group[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#fff;color:#1e293b;box-shadow:0 2px 4px #0000001a}.spec-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-right-group[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(.active){background:#ffffff26;color:#fff}.spec-header[_ngcontent-%COMP%]   .category-tag[_ngcontent-%COMP%]{font-size:12px;font-weight:700;letter-spacing:.1em;color:var(--secondary-color);margin-bottom:8px;display:block}.spec-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:32px;font-weight:800;display:flex;align-items:center;gap:12px}.spec-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .version[_ngcontent-%COMP%]{font-size:14px;font-weight:500;background:#ffffff1a;padding:4px 12px;border-radius:20px;color:#94a3b8}.spec-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:8px 0 0;font-size:16px;color:#94a3b8}.spec-header[_ngcontent-%COMP%]   .update-info[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#94a3b8}.spec-header[_ngcontent-%COMP%]   .update-info[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#fff;font-weight:600;margin-left:6px}.spec-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:40px 30px}.section[_ngcontent-%COMP%]{margin-bottom:50px}.section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:20px}.section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:700}.section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:24px}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:20px}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{background:var(--card-bg);padding:20px;border-radius:12px;border:1px solid var(--border-color);display:flex;flex-direction:column;gap:8px}.summary-grid[_ngcontent-%COMP%]   .summary-card.highlight[_ngcontent-%COMP%]{border-left:4px solid var(--primary-color)}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--text-muted);text-transform:uppercase}.summary-grid[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:15px;font-weight:500}.strategy-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:25px}.strategy-grid[_ngcontent-%COMP%]   .strategy-card[_ngcontent-%COMP%]{background:var(--card-bg);padding:24px;border-radius:16px;border:1px solid var(--border-color);box-shadow:0 4px 6px -1px #0000000d}.strategy-grid[_ngcontent-%COMP%]   .strategy-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px;font-size:18px;font-weight:700}.strategy-grid[_ngcontent-%COMP%]   .strategy-card.pc[_ngcontent-%COMP%]{border-top:4px solid var(--accent-pc)}.strategy-grid[_ngcontent-%COMP%]   .strategy-card.pc[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--accent-pc)}.strategy-grid[_ngcontent-%COMP%]   .strategy-card.mobile[_ngcontent-%COMP%]{border-top:4px solid var(--accent-mobile)}.strategy-grid[_ngcontent-%COMP%]   .strategy-card.mobile[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--accent-mobile)}.strategy-grid[_ngcontent-%COMP%]   .strategy-card[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:12px 0;border-bottom:1px dashed var(--border-color)}.strategy-grid[_ngcontent-%COMP%]   .strategy-card[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]:last-child{border:none}.strategy-grid[_ngcontent-%COMP%]   .strategy-card[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   .spec-label[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:var(--text-muted)}.strategy-grid[_ngcontent-%COMP%]   .strategy-card[_ngcontent-%COMP%]   .spec-item[_ngcontent-%COMP%]   .spec-value[_ngcontent-%COMP%]{font-size:14px;text-align:right}.table-container[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:16px;border:1px solid var(--border-color);overflow:hidden;box-shadow:0 10px 15px -3px #0000000d}.spec-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;table-layout:fixed}.spec-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f1f5f9;padding:16px;text-align:left;font-size:13px;font-weight:700;color:var(--text-muted);border-bottom:1px solid var(--border-color)}.spec-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px;font-size:14px;border-bottom:1px solid var(--border-color);vertical-align:top;word-break:keep-all}.spec-table[_ngcontent-%COMP%]   .id-cell[_ngcontent-%COMP%]{font-family:monospace;font-weight:600;color:var(--primary-color)}.spec-table[_ngcontent-%COMP%]   .category-cell[_ngcontent-%COMP%]{font-size:12px;color:var(--text-muted)}.spec-table[_ngcontent-%COMP%]   .title-cell[_ngcontent-%COMP%]{font-weight:600}.spec-table[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:6px;font-size:11px;font-weight:700}.spec-table[_ngcontent-%COMP%]   .badge.complete[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.spec-table[_ngcontent-%COMP%]   .badge.ongoing[_ngcontent-%COMP%]{background:#fef9c3;color:#854d0e}.spec-table[_ngcontent-%COMP%]   .badge.pending[_ngcontent-%COMP%]{background:#f1f5f9;color:#475569}.footer-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:30px}.arch-box[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:12px}.arch-box[_ngcontent-%COMP%]   .arch-item[_ngcontent-%COMP%]{background:#fff;padding:15px;border-radius:10px;border:1px solid var(--border-color);display:flex;flex-direction:column;gap:4px}.arch-box[_ngcontent-%COMP%]   .arch-item[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{font-size:11px;font-weight:700;color:var(--secondary-color);text-transform:uppercase}.arch-box[_ngcontent-%COMP%]   .arch-item[_ngcontent-%COMP%]   .tech[_ngcontent-%COMP%]{font-size:14px;font-weight:600}.req-box[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:12px;border:1px solid var(--border-color)}.req-box[_ngcontent-%COMP%]   .req-group[_ngcontent-%COMP%]{margin-bottom:20px}.req-box[_ngcontent-%COMP%]   .req-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.req-box[_ngcontent-%COMP%]   .req-group[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 10px;font-size:15px;color:var(--primary-color)}.req-box[_ngcontent-%COMP%]   .req-group[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:18px;color:var(--text-muted);font-size:14px}.req-box[_ngcontent-%COMP%]   .req-group[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px;gap:20px;color:var(--text-muted)}.loading-state[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid var(--border-color);border-top:4px solid var(--primary-color);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.spec-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:20px}.summary-grid[_ngcontent-%COMP%], .strategy-grid[_ngcontent-%COMP%], .footer-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.spec-table[_ngcontent-%COMP%]{display:block;overflow-x:auto}}.spec-table[_ngcontent-%COMP%]{background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 2px 8px #00000014;border:1px solid #e0e0e0}.table-header[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr 3fr 1.5fr 1.5fr;background:#f8f9fa;border-bottom:1px solid #e0e0e0;font-weight:600;font-size:13px;color:#333}.table-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:15px 12px;text-align:left}.table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr 3fr 1.5fr 1.5fr;border-bottom:1px solid #e0e0e0;font-size:13px;color:#666}.table-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.table-row[_ngcontent-%COMP%]:hover{background:#fafbfc}.table-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:12px;display:flex;align-items:center}.col-id[_ngcontent-%COMP%]{font-weight:600;color:#667eea;flex:0 0 80px}.col-title[_ngcontent-%COMP%]{font-weight:500;color:#333;flex:0 0 150px}.col-description[_ngcontent-%COMP%]{color:#777;flex:1}.col-details[_ngcontent-%COMP%]{color:#999;flex:0 0 120px;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.col-priority[_ngcontent-%COMP%], .col-status[_ngcontent-%COMP%]{justify-content:center;flex:0 0 100px}.badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;border-radius:12px;font-size:12px;font-weight:600;text-align:center}.badge.priority.high[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626}.badge.priority.medium[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.badge.priority.low[_ngcontent-%COMP%], .badge.status.in-progress[_ngcontent-%COMP%]{background:#dbeafe;color:#2563eb}.badge.status.completed[_ngcontent-%COMP%]{background:#dcfce7;color:#16a34a}.badge.status.planned[_ngcontent-%COMP%]{background:#e9d5ff;color:#7c3aed}.ui-requirements[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 8px #00000014}.ui-requirements[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:20px}.ui-requirements[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:8px 0;color:#555;font-size:14px;line-height:1.6}.ui-requirements[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2713";margin-right:8px;color:#667eea;font-weight:700}']})};var bn=["ganttScrollContainer"],Pn=["taskListBody"],Kt=(r,t)=>t.id+"_"+r,Mn=(r,t)=>t.name,Qe=(r,t)=>t.toMillis();function On(r,t){if(r&1){let e=E();o(0,"button",56),h("click",function(){u(e);let a=l().$implicit,d=l(2);return C(d.toggleExpand(a.id))}),v(),o(1,"svg",57),m(2,"polyline",58),i()()}if(r&2){let e=l().$implicit,n=l(2);M("expanded",n.isExpanded(e.id))}}function vn(r,t){r&1&&(o(0,"div",51),v(),o(1,"svg",59),m(2,"circle",60),i()())}function wn(r,t){if(r&1&&(o(0,"div",46)(1,"div",19)(2,"div",47),m(3,"div",48),o(4,"div",49),f(5,On,3,2,"button",50)(6,vn,3,0,"div",51),i(),o(7,"span",52),c(8),i()()(),o(9,"div",20)(10,"span",53),c(11),i()(),o(12,"div",21)(13,"div",54)(14,"span",55),c(15),i()()(),o(16,"div",22),c(17),Z(18,"date"),i(),o(19,"div",22),c(20),Z(21,"date"),i()()),r&2){let e=t.$implicit,n=l(2);M("level-0",n.getItemLevel(e)===0)("level-1",n.getItemLevel(e)===1)("level-2",n.getItemLevel(e)===2)("group-task",n.hasChildren(e))("progress-high",e.progress>=75)("progress-medium",e.progress>=50&&e.progress<75)("progress-low",e.progress<50),s(3),M("high",e.progress>=75)("medium",e.progress>=50&&e.progress<75)("low",e.progress<50),s(2),_(n.hasChildren(e)?5:6),s(2),w("title",e.name),s(),g(e.name),s(3),g(e.responsible),s(4),x("",e.progress,"%"),s(2),x(" ",ge(18,27,e.startDate,"MM/dd")," "),s(3),x(" ",ge(21,30,e.endDate,"MM/dd")," ")}}function yn(r,t){if(r&1&&(o(0,"div",61),c(1),i()),r&2){let e=t.$implicit,n=l(2);I("width",e.colSpan*n.columnWidth,"px"),s(),x(" ",e.name," ")}}function kn(r,t){if(r&1&&(o(0,"div",62),c(1),i()),r&2){let e=t.$implicit,n=l(2);I("width",n.columnWidth,"px"),M("today",n.isToday(e))("weekend",e.weekday>5),s(),x(" ",e.day," ")}}function Sn(r,t){if(r&1&&(o(0,"div",63),c(1),i()),r&2){let e=t.$implicit,n=l(2);I("width",n.columnWidth,"px"),M("today",n.isToday(e))("weekend",e.weekday>5),s(),x(" ",n.getDayName(e)," ")}}function Dn(r,t){if(r&1&&m(0,"div",64),r&2){let e=t.$implicit,n=l(2);I("width",n.columnWidth,"px"),M("weekend",e.weekday>5)("today",n.isToday(e))}}function En(r,t){r&1&&m(0,"div",65),r&2&&I("left",t,"px")}function In(r,t){if(r&1&&(o(0,"span",71),c(1),i()),r&2){let e=l().$implicit;s(),x("",e.progress,"%")}}function zn(r,t){if(r&1&&(o(0,"div",66)(1,"div",67)(2,"div",68),m(3,"div",69),ne(4,In,2,1,"span",70),i()()()),r&2){let e=t.$implicit,n=l(2);M("group-row",n.hasChildren(e));let a=n.getTaskPosition(e);s(),I("left",a.left,"px")("width",a.width,"px"),s(),w("title",e.name+" ("+e.progress+"%)"),s(),I("width",e.progress,"%"),s(),w("ngIf",a.width>60)}}function Tn(r,t){if(r&1){let e=E();o(0,"div",3)(1,"div",4)(2,"h2"),c(3),i(),o(4,"div",5)(5,"div",6),m(6,"div",7),o(7,"span"),c(8,"75% \uC774\uC0C1"),i()(),o(9,"div",6),m(10,"div",8),o(11,"span"),c(12,"50-75%"),i()(),o(13,"div",6),m(14,"div",9),o(15,"span"),c(16,"25% \uBBF8\uB9CC"),i()()()(),o(17,"div",10)(18,"div",11)(19,"button",12),h("click",function(){u(e);let a=l();return C(a.scrollToToday())}),c(20,"\uC624\uB298\uB85C \uC774\uB3D9"),i(),m(21,"div",13),o(22,"button",14),h("click",function(){u(e);let a=l();return C(a.updateZoom("day"))}),c(23,"\uC77C"),i(),o(24,"button",14),h("click",function(){u(e);let a=l();return C(a.updateZoom("week"))}),c(25,"\uC8FC"),i(),o(26,"button",14),h("click",function(){u(e);let a=l();return C(a.updateZoom("month"))}),c(27,"\uC6D4"),i()()()(),o(28,"div",15)(29,"div",16)(30,"div",17)(31,"div",18)(32,"div",19),c(33,"\uC791\uC5C5\uBA85"),i(),o(34,"div",20),c(35,"\uB2F4\uB2F9"),i(),o(36,"div",21),c(37,"\uC9C4\uCC99"),i(),o(38,"div",22),c(39,"\uC2DC\uC791\uC77C"),i(),o(40,"div",22),c(41,"\uC885\uB8CC\uC77C"),i()()(),o(42,"div",23,0),h("scroll",function(a){u(e);let d=l();return C(d.onTaskListScroll(a))}),k(44,wn,22,33,"div",24,Kt),i()(),o(46,"div",25,1),h("scroll",function(a){u(e);let d=l();return C(d.onGanttScroll(a))}),o(48,"div",26)(49,"div",27)(50,"div",28),k(51,yn,2,3,"div",29,Mn),i(),o(53,"div",30),k(54,kn,2,7,"div",31,Qe),i(),o(56,"div",32),k(57,Sn,2,7,"div",33,Qe),i()(),m(59,"div",34),o(60,"div",35)(61,"div",36),k(62,Dn,1,6,"div",37,Qe),i(),f(64,En,1,2,"div",38),o(65,"div",39),k(66,zn,5,10,"div",40,Kt),i()()()()(),o(68,"div",41)(69,"div",42)(70,"div",43)(71,"div",44),c(72,"\uC804\uCCB4 \uC791\uC5C5 \uC218"),i(),o(73,"div",45),c(74),i()(),o(75,"div",43)(76,"div",44),c(77,"\uC2DC\uC791\uC77C"),i(),o(78,"div",45),c(79),i()(),o(80,"div",43)(81,"div",44),c(82,"\uC885\uB8CC\uC77C"),i(),o(83,"div",45),c(84),i()(),o(85,"div",43)(86,"div",44),c(87,"\uD604\uC7AC \uC2A4\uCF00\uC904"),i(),o(88,"div",45),c(89),i()()()()}if(r&2){let e,n=l();s(3),x("",n.currentProjectData.name," WBS & Gantt"),s(19),M("active",n.zoomLevel==="day"),s(2),M("active",n.zoomLevel==="week"),s(2),M("active",n.zoomLevel==="month"),s(18),S(n.renderItems(n.currentProjectData.wbs.tasks)),s(5),I("width",n.timeline.days.length*n.columnWidth,"px"),s(2),S(n.timeline.months),s(3),S(n.timeline.days),s(3),S(n.timeline.days),s(3),I("width",n.timeline.days.length*n.columnWidth,"px"),s(2),S(n.timeline.days),s(2),_((e=n.getTodayPosition())?64:-1,e),s(2),S(n.renderItems(n.currentProjectData.wbs.tasks)),s(8),x("",n.getAllTasks(n.currentProjectData.wbs.tasks).length,"\uAC1C"),s(5),g(n.projectStartDate==null?null:n.projectStartDate.toFormat("yyyy-MM-dd")),s(5),g(n.projectEndDate==null?null:n.projectEndDate.toFormat("yyyy-MM-dd")),s(5),x("",n.zoomLevel==="day"?"\uC77C\uBCC4":n.zoomLevel==="week"?"\uC8FC\uBCC4":"\uC6D4\uBCC4"," \uBCF4\uAE30")}}var ae=class r{constructor(t){this.projectSpecsService=t}folderType="calendar";ganttScrollContainer;taskListBody;currentProjectData=null;isLoading=!1;errorMessage=null;expandedItems=new Set;timeline={days:[],months:[]};projectStartDate=null;projectEndDate=null;columnWidth=40;zoomLevel="day";destroy$=new ee;ngOnInit(){this.loadExpandedState(),this.subscribeToProjectSpecs()}ngOnChanges(t){t.folderType&&!t.folderType.firstChange&&(this.loadExpandedState(),this.updateCurrentData())}ngAfterViewInit(){this.updateCurrentData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}saveExpandedState(){let t=Array.from(this.expandedItems);localStorage.setItem(`wbs-expanded-${this.folderType}`,JSON.stringify(t))}loadExpandedState(){let t=localStorage.getItem(`wbs-expanded-${this.folderType}`);if(t)try{let e=JSON.parse(t);this.expandedItems=new Set(e)}catch(e){console.error("Failed to load expanded state:",e)}}subscribeToProjectSpecs(){this.projectSpecsService.loading$.pipe(j(this.destroy$)).subscribe(t=>{this.isLoading=t}),this.projectSpecsService.error$.pipe(j(this.destroy$)).subscribe(t=>{this.errorMessage=t}),this.projectSpecsService.specs$.pipe(j(this.destroy$)).subscribe(()=>{this.updateCurrentData()})}updateCurrentData(){let t=this.projectSpecsService.getProjectSpecSync(this.folderType);t&&(this.currentProjectData={name:t.name,wbs:t.wbs},this.currentProjectData.wbs.tasks.length>0&&this.expandedItems.add(this.currentProjectData.wbs.tasks[0].id),this.calculateTimeline())}calculateTimeline(){if(!this.currentProjectData||!this.currentProjectData.wbs.tasks.length)return;let t=this.getAllTasks(this.currentProjectData.wbs.tasks);if(t.length===0)return;let e=t.map(O=>ie.fromISO(O.startDate)).filter(O=>O.isValid),n=t.map(O=>ie.fromISO(O.endDate)).filter(O=>O.isValid);if(e.length===0||n.length===0){console.warn("\uC720\uD6A8\uD55C \uB0A0\uC9DC\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4.");return}let a=ie.min(...e),d=ie.max(...n);if(!a||!d||!a.isValid||!d.isValid)return;this.projectStartDate=a.startOf("month"),this.projectEndDate=d.endOf("month"),this.projectEndDate.diff(this.projectStartDate,"years").years>5&&(this.projectEndDate=this.projectStartDate.plus({years:1}));let p=[],b=[],P=this.projectStartDate;for(;P<=this.projectEndDate;){p.push(P);let O=P.toFormat("yyyy\uB144 L\uC6D4"),y=b[b.length-1];y&&y.name===O?y.colSpan++:b.push({name:O,colSpan:1}),P=P.plus({days:1})}this.timeline={days:p,months:b}}getAllTasks(t){let e=[];return t.forEach(n=>{e.push(n),n.subtasks&&e.push(...this.getAllTasks(n.subtasks))}),e}getTaskPosition(t){if(!this.projectStartDate)return{left:0,width:0};if(!t.startDate||!t.endDate)return{left:0,width:0};let e=ie.fromISO(t.startDate),n=ie.fromISO(t.endDate);if(!e.isValid||!n.isValid)return{left:0,width:0};let a=e.diff(this.projectStartDate,"days").days,d=n.diff(e,"days").days+1;return{left:a*this.columnWidth,width:d*this.columnWidth}}getTodayPosition(){if(!this.projectStartDate||!this.projectEndDate)return null;let t=ie.now().startOf("day");return t<this.projectStartDate||t>this.projectEndDate?null:t.diff(this.projectStartDate,"days").days*this.columnWidth}scrollingSide=null;onGanttScroll(t){if(this.scrollingSide==="list")return;this.scrollingSide="gantt";let e=t.target;this.taskListBody&&(this.taskListBody.nativeElement.scrollTop=e.scrollTop),this.scrollingSide=null}onTaskListScroll(t){if(this.scrollingSide==="gantt")return;this.scrollingSide="list";let e=t.target;this.ganttScrollContainer&&(this.ganttScrollContainer.nativeElement.scrollTop=e.scrollTop),this.scrollingSide=null}isToday(t){return t.hasSame(ie.now(),"day")}getDayName(t){return["\uC77C","\uC6D4","\uD654","\uC218","\uBAA9","\uAE08","\uD1A0"][t.weekday%7]}updateZoom(t){switch(this.zoomLevel=t,t){case"day":this.columnWidth=40;break;case"week":this.columnWidth=15;break;case"month":this.columnWidth=5;break}}scrollToToday(){let t=this.getTodayPosition();t!==null&&this.ganttScrollContainer&&this.ganttScrollContainer.nativeElement.scrollTo({left:t-200,behavior:"smooth"})}toggleExpand(t){this.expandedItems.has(t)?this.expandedItems.delete(t):this.expandedItems.add(t),this.saveExpandedState()}isExpanded(t){return this.expandedItems.has(t)}getProgressColor(t){return t===100?"#22c55e":t>0?"#3b82f6":"#94a3b8"}renderItems(t){let e=[];return t.forEach(n=>{e.push(n),n.subtasks&&this.isExpanded(n.id)&&e.push(...this.renderItems(n.subtasks))}),e}getLevel(t,e,n=0){for(let a of t){if(a.id===e)return n;if(a.subtasks){let d=this.getLevel(a.subtasks,e,n+1);if(d>=0)return d}}return 0}hasChildren(t){return!!(t.subtasks&&t.subtasks.length>0)}getItemLevel(t){return this.currentProjectData?.wbs.tasks?this.getLevel(this.currentProjectData.wbs.tasks,t.id):0}static \u0275fac=function(e){return new(e||r)(L(X))};static \u0275cmp=W({type:r,selectors:[["app-wbs-doc"]],viewQuery:function(e,n){if(e&1&&(K(bn,5),K(Pn,5)),e&2){let a;Q(a=J())&&(n.ganttScrollContainer=a.first),Q(a=J())&&(n.taskListBody=a.first)}},inputs:{folderType:"folderType"},standalone:!1,features:[te],decls:2,vars:1,consts:[["taskListBody",""],["ganttScrollContainer",""],[1,"wbs-doc-container"],[1,"wbs-header"],[1,"header-left"],[1,"wbs-legend"],[1,"legend-item"],[1,"legend-color",2,"background","#10b981"],[1,"legend-color",2,"background","#f59e0b"],[1,"legend-color",2,"background","#ef4444"],[1,"header-right"],[1,"zoom-controls"],[1,"today-btn",3,"click"],[1,"separator"],[3,"click"],[1,"gantt-wrapper"],[1,"task-list-side"],[1,"side-header"],[1,"header-row"],[1,"col-tree-name"],[1,"col-responsible"],[1,"col-progress"],[1,"col-date"],[1,"side-body",3,"scroll"],[1,"task-row",3,"level-0","level-1","level-2","group-task","progress-high","progress-medium","progress-low"],[1,"gantt-chart-side",3,"scroll"],[1,"gantt-container"],[1,"gantt-header"],[1,"month-row"],[1,"month-cell",3,"width"],[1,"day-row"],[1,"day-cell","num-cell",3,"today","weekend","width"],[1,"day-row","weekday-row"],[1,"day-cell","name-cell",3,"today","weekend","width"],[1,"gantt-body-spacer",2,"height","1px"],[1,"gantt-body"],[1,"gantt-grid"],[1,"grid-column",3,"weekend","today","width"],[1,"today-line-overlay",2,"display","block",3,"left"],[1,"tasks-container"],[1,"gantt-task-row",3,"group-row"],[1,"wbs-summary"],[1,"summary-grid"],[1,"summary-item"],[1,"summary-label"],[1,"summary-value"],[1,"task-row"],[1,"tree-content"],[1,"progress-indicator"],[1,"tree-icon-wrapper"],[1,"expand-btn",3,"expanded"],[1,"no-expand"],[1,"item-name",3,"title"],[1,"responsible-badge"],[1,"progress-display"],[1,"progress-text"],[1,"expand-btn",3,"click"],["viewBox","0 0 16 16","width","16","height","16",1,"expand-icon"],["points","6 2 12 8 6 14"],["viewBox","0 0 16 16","width","16","height","16",1,"task-icon"],["cx","8","cy","8","r","3"],[1,"month-cell"],[1,"day-cell","num-cell"],[1,"day-cell","name-cell"],[1,"grid-column"],[1,"today-line-overlay",2,"display","block"],[1,"gantt-task-row"],[1,"task-bar-wrapper"],[1,"task-bar",3,"title"],[1,"progress-fill"],["class","task-label",4,"ngIf"],[1,"task-label"]],template:function(e,n){e&1&&(o(0,"div",2),f(1,Tn,90,16),i()),e&2&&(s(),_(n.currentProjectData?1:-1))},dependencies:[_e,Dt],styles:[".wbs-doc-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;background:#fff;padding:0;overflow:hidden;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif}.wbs-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 24px;background:#f8fafc;border-bottom:1px solid #e2e8f0}.wbs-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.25rem;color:#1e293b}.wbs-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .wbs-legend[_ngcontent-%COMP%]{display:flex;gap:16px}.wbs-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .wbs-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:12px;color:#64748b}.wbs-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .wbs-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:2px}.wbs-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]{display:flex;gap:4px;background:#f1f5f9;padding:4px;border-radius:6px}.wbs-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:4px 12px;border:none;background:transparent;font-size:12px;cursor:pointer;border-radius:4px;color:#64748b}.wbs-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#fff;color:#3b82f6;box-shadow:0 1px 3px #0000001a}.wbs-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   button.today-btn[_ngcontent-%COMP%]{color:#3b82f6;font-weight:600}.wbs-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   button.today-btn[_ngcontent-%COMP%]:hover{background:#3b82f60d}.wbs-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.wbs-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .zoom-controls[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{width:1px;height:16px;background:#e2e8f0;margin:0 4px}.gantt-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;overflow:hidden;position:relative}.task-list-side[_ngcontent-%COMP%]{width:600px;flex-shrink:0;display:flex;flex-direction:column;border-right:1px solid #e2e8f0;background:#fff;z-index:10;overflow:hidden}.task-list-side[_ngcontent-%COMP%]   .side-header[_ngcontent-%COMP%]{height:90px;background:#f8fafc;border-bottom:1px solid #e2e8f0;font-weight:600;font-size:11px;color:#475569;padding:0;display:flex;flex-direction:column;justify-content:center}.task-list-side[_ngcontent-%COMP%]   .side-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 80px 60px 70px 70px;height:100%;align-items:center;padding:0}.task-list-side[_ngcontent-%COMP%]   .side-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;justify-content:center;border-right:1px solid #e2e8f0;padding:0 8px}.task-list-side[_ngcontent-%COMP%]   .side-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .col-tree-name[_ngcontent-%COMP%]{justify-content:flex-start;padding-left:20px}.task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden}.task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:2px}.task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 80px 60px 70px 70px;min-height:32px;align-items:center;border-bottom:1px solid #f1f5f9;transition:background-color .15s ease}.task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;border-right:1px solid #f1f5f9;padding:0 4px;font-size:11px}.task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row.level-0[_ngcontent-%COMP%]{background-color:#eff6ff;font-weight:700}.task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row.level-0[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#1e40af;font-size:12px}.task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row.level-1[_ngcontent-%COMP%]{background-color:#fff;font-weight:500}.task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row.level-1[_ngcontent-%COMP%]   .tree-content[_ngcontent-%COMP%]{padding-left:16px}.task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row.level-2[_ngcontent-%COMP%]{background-color:#fff;font-weight:400}.task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row.level-2[_ngcontent-%COMP%]   .tree-content[_ngcontent-%COMP%]{padding-left:32px}.task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]:hover{background-color:#f8fafc}.task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .col-tree-name[_ngcontent-%COMP%]{padding:0}.task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .col-tree-name[_ngcontent-%COMP%]   .tree-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;height:100%;width:100%;padding-left:8px}.task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{width:3px;height:20px;flex-shrink:0;border-radius:1.5px}.task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .progress-indicator.high[_ngcontent-%COMP%]{background:#10b981}.task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .progress-indicator.medium[_ngcontent-%COMP%]{background:#f59e0b}.task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .progress-indicator.low[_ngcontent-%COMP%]{background:#ef4444}.task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .tree-icon-wrapper[_ngcontent-%COMP%]{width:16px;display:flex;align-items:center;justify-content:center}.task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]{background:none;border:none;padding:0;cursor:pointer;color:#64748b;display:flex;transition:transform .15s ease}.task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .expand-btn.expanded[_ngcontent-%COMP%]{transform:rotate(90deg)}.task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:currentColor;fill:none;stroke-width:2}.task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .task-icon[_ngcontent-%COMP%]{color:#cbd5e1;fill:currentColor}.task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .responsible-badge[_ngcontent-%COMP%]{background:#f1f5f9;padding:2px 6px;border-radius:4px;font-size:10px;color:#475569}.task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .col-responsible[_ngcontent-%COMP%], .task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .col-progress[_ngcontent-%COMP%], .task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .col-date[_ngcontent-%COMP%]{justify-content:center}.gantt-chart-side[_ngcontent-%COMP%]{flex:1;overflow:auto;position:relative}.gantt-chart-side[_ngcontent-%COMP%]   .gantt-container[_ngcontent-%COMP%]{position:relative}.gantt-chart-side[_ngcontent-%COMP%]   .gantt-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:50;background:#fff;border-bottom:1px solid #e2e8f0}.gantt-chart-side[_ngcontent-%COMP%]   .gantt-header[_ngcontent-%COMP%]   .month-row[_ngcontent-%COMP%]{height:30px;display:flex;border-bottom:1px solid #cbd5e1;background:#334155}.gantt-chart-side[_ngcontent-%COMP%]   .gantt-header[_ngcontent-%COMP%]   .month-row[_ngcontent-%COMP%]   .month-cell[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:11px;font-weight:700;color:#fff;border-right:1px solid #475569}.gantt-chart-side[_ngcontent-%COMP%]   .gantt-header[_ngcontent-%COMP%]   .day-row[_ngcontent-%COMP%]{height:30px;display:flex;border-bottom:1px solid #cbd5e1}.gantt-chart-side[_ngcontent-%COMP%]   .gantt-header[_ngcontent-%COMP%]   .day-row[_ngcontent-%COMP%]   .day-cell[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:10px;color:#475569;border-right:1px solid #e2e8f0;background:#f8fafc;box-sizing:border-box}.gantt-chart-side[_ngcontent-%COMP%]   .gantt-header[_ngcontent-%COMP%]   .day-row[_ngcontent-%COMP%]   .day-cell.num-cell[_ngcontent-%COMP%]{font-weight:600}.gantt-chart-side[_ngcontent-%COMP%]   .gantt-header[_ngcontent-%COMP%]   .day-row[_ngcontent-%COMP%]   .day-cell.name-cell[_ngcontent-%COMP%]{font-size:9px;color:#64748b;background:#fff}.gantt-chart-side[_ngcontent-%COMP%]   .gantt-header[_ngcontent-%COMP%]   .day-row[_ngcontent-%COMP%]   .day-cell.weekend[_ngcontent-%COMP%]{background:#fef2f2;color:#ef4444}.gantt-chart-side[_ngcontent-%COMP%]   .gantt-header[_ngcontent-%COMP%]   .day-row[_ngcontent-%COMP%]   .day-cell.today[_ngcontent-%COMP%]{background:#dbeafe;color:#1d4ed8;font-weight:700;border-right:1px solid #3b82f6}.gantt-chart-side[_ngcontent-%COMP%]   .gantt-body[_ngcontent-%COMP%]{position:relative;background:#fff}.gantt-chart-side[_ngcontent-%COMP%]   .gantt-body[_ngcontent-%COMP%]   .gantt-grid[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;pointer-events:none}.gantt-chart-side[_ngcontent-%COMP%]   .gantt-body[_ngcontent-%COMP%]   .gantt-grid[_ngcontent-%COMP%]   .grid-column[_ngcontent-%COMP%]{height:100%;border-right:1px solid #f1f5f9}.gantt-chart-side[_ngcontent-%COMP%]   .gantt-body[_ngcontent-%COMP%]   .gantt-grid[_ngcontent-%COMP%]   .grid-column.weekend[_ngcontent-%COMP%]{background:#f1f5f980}.gantt-chart-side[_ngcontent-%COMP%]   .gantt-body[_ngcontent-%COMP%]   .gantt-grid[_ngcontent-%COMP%]   .grid-column.today[_ngcontent-%COMP%]{background:#3b82f608;border-right:1px solid rgba(59,130,246,.4)}.gantt-chart-side[_ngcontent-%COMP%]   .gantt-body[_ngcontent-%COMP%]   .today-line-overlay[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;width:2px;background:#ef4444;z-index:5;pointer-events:none;box-shadow:0 0 4px #ef444466}.gantt-chart-side[_ngcontent-%COMP%]   .gantt-body[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]{position:relative}.gantt-chart-side[_ngcontent-%COMP%]   .gantt-body[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .gantt-task-row[_ngcontent-%COMP%]{height:32px;border-bottom:1px solid transparent;position:relative;display:flex;align-items:center}.gantt-chart-side[_ngcontent-%COMP%]   .gantt-body[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .gantt-task-row[_ngcontent-%COMP%]   .task-bar-wrapper[_ngcontent-%COMP%]{position:absolute;height:18px;display:flex;align-items:center;transition:all .3s cubic-bezier(.4,0,.2,1)}.gantt-chart-side[_ngcontent-%COMP%]   .gantt-body[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .gantt-task-row[_ngcontent-%COMP%]   .task-bar[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:2px;position:relative;overflow:hidden;background:#e2e8f0;border:1px solid #cbd5e1;color:#fff;font-size:9px;display:flex;align-items:center;justify-content:center;cursor:pointer}.gantt-chart-side[_ngcontent-%COMP%]   .gantt-body[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .gantt-task-row[_ngcontent-%COMP%]   .task-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;background:#8b5cf6;opacity:.8}.gantt-chart-side[_ngcontent-%COMP%]   .gantt-body[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .gantt-task-row[_ngcontent-%COMP%]   .task-bar[_ngcontent-%COMP%]   .task-label[_ngcontent-%COMP%]{position:relative;z-index:1;font-weight:600;color:#fff;text-shadow:0 1px 1px rgba(0,0,0,.3)}.gantt-chart-side[_ngcontent-%COMP%]   .gantt-body[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .gantt-task-row.group-row[_ngcontent-%COMP%]{background:#f8fafc80}.gantt-chart-side[_ngcontent-%COMP%]   .gantt-body[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .gantt-task-row.group-row[_ngcontent-%COMP%]   .task-bar[_ngcontent-%COMP%]{background:#94a3b8;border:none;height:8px;top:4px}.gantt-chart-side[_ngcontent-%COMP%]   .gantt-body[_ngcontent-%COMP%]   .tasks-container[_ngcontent-%COMP%]   .gantt-task-row.group-row[_ngcontent-%COMP%]   .task-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{background:#334155}.expand-btn[_ngcontent-%COMP%]{width:20px;height:20px;padding:0;display:flex;align-items:center;justify-content:center;background:transparent;border:none;cursor:pointer;color:#64748b;font-size:10px;transition:transform .2s}.expand-btn.expanded[_ngcontent-%COMP%]{transform:rotate(90deg)}.no-expand[_ngcontent-%COMP%]{width:20px}.wbs-summary[_ngcontent-%COMP%]{padding:16px 24px;background:#f8fafc;border-top:1px solid #e2e8f0}.wbs-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{display:flex;gap:32px}.wbs-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{font-size:11px;color:#64748b;margin-bottom:4px}.wbs-summary[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#1e293b}"]})};var Le=class r{STATUS_COLORS={open:"#94a3b8",inProgress:"#3b82f6",completed:"#22c55e",urgent:"#ef4444"};SCREEN_TYPE_COLORS={screen:{bg:"#DBEAFE",border:"#3b82f6",text:"#1E40AF"},modal:{bg:"#F3E8FF",border:"#a855f7",text:"#6B21A8"},panel:{bg:"#D1FAE5",border:"#22c55e",text:"#065F46"},sheet:{bg:"#FFEDD5",border:"#f97316",text:"#9A3412"}};generateScreensFromMapping(t,e,n){let a=[],d=Object.keys(t),p=new Map;for(let[P,O]of Object.entries(t)){let y=O.depth;p.has(y)||p.set(y,[]),p.get(y).push(P)}let b=1;for(let P of d){let O=t[P],y=O.specIds.map(R=>String(R)),D=e.filter(R=>y.some(ce=>R.id.includes(ce))),T=n?.[P]?A({},n[P]):this.calculateHierarchicalPosition(P,O.depth,p),$=this.calculateItemsProgress(D),G=this.getColorByProgress($,D),U={id:`SCR-${String(b).padStart(3,"0")}`,name:P,icon:O.icon,description:O.description,color:G,position:T,features:this.extractFeatures(D),events:this.generateEvents(P,D),connections:[],screenType:O.type,path:O.path,depth:O.depth,parent:O.parent};a.push(U),b++}return this.setConnectionsByParent(a,t),a}generateScreensFromSpecPlan(t,e,n){let a=this.groupByMainCategory(t),d=this.sortByDepth(Object.keys(a),e),p=[],b=e==="calendar"?"EZCAL":"EZNOTE",P=this.groupScreensByDepth(d),O=1;for(let y of d){let D=a[y];if(!D)continue;let $=this.SCREEN_HIERARCHY[y]?.depth??0,G=n?.[y]?A({},n[y]):this.calculateHierarchicalPosition(y,$,P),U=this.calculateItemsProgress(D),R=this.getColorByProgress(U,D),ce={id:`${b}-SCR-${String(O).padStart(3,"0")}`,name:y,icon:this.SCREEN_ICONS[y]||"\u{1F4C4}",description:`${y} \uAD00\uB828 \uAE30\uB2A5 (Depth ${$})`,color:R,position:G,features:this.extractFeatures(D),events:this.generateEvents(y,D),connections:[]};p.push(ce),O++}return this.setHierarchicalConnections(p),p}SCREEN_ICONS={"\uCE98\uB9B0\uB354 \uAD00\uB9AC":"\u{1F4C5}","\uCE98\uB9B0\uB354 \uBAA9\uB85D":"\u{1F4CB}","\uC77C\uC815 \uB4F1\uB85D":"\u2795","\uC77C\uC815 \uC218\uC815":"\u270F\uFE0F","\uCE98\uB9B0\uB354 \uC218\uC815":"\u2699\uFE0F","\uBCF4\uC644 \uAE30\uB2A5":"\u{1F527}",\uC124\uC815:"\u2699\uFE0F","\uB178\uD2B8 \uAD00\uB9AC":"\u{1F4DD}","\uB178\uD2B8 \uBAA9\uB85D":"\u{1F4CB}","\uB178\uD2B8 \uB4F1\uB85D":"\u2795","\uB178\uD2B8 \uB4F1\uB85D/\uC218\uC815":"\u270F\uFE0F","\uD3F4\uB354 \uB4F1\uB85D/\uC218\uC815":"\u{1F4C1}"};ENTRY_SCREENS={calendar:"\uCE98\uB9B0\uB354 \uAD00\uB9AC",note:"\uB178\uD2B8 \uAD00\uB9AC"};SCREEN_HIERARCHY={"\uCE98\uB9B0\uB354 \uAD00\uB9AC":{children:["\uCE98\uB9B0\uB354 \uBAA9\uB85D","\uC77C\uC815 \uB4F1\uB85D"],depth:0},"\uCE98\uB9B0\uB354 \uBAA9\uB85D":{children:["\uCE98\uB9B0\uB354 \uC218\uC815"],depth:1},"\uC77C\uC815 \uB4F1\uB85D":{children:["\uC77C\uC815 \uC218\uC815","\uC124\uC815"],depth:1},"\uCE98\uB9B0\uB354 \uC218\uC815":{children:[],depth:2},"\uC77C\uC815 \uC218\uC815":{children:["\uBCF4\uC644 \uAE30\uB2A5"],depth:2},\uC124\uC815:{children:[],depth:2},"\uBCF4\uC644 \uAE30\uB2A5":{children:[],depth:3},"\uB178\uD2B8 \uAD00\uB9AC":{children:["\uB178\uD2B8 \uBAA9\uB85D","\uB178\uD2B8 \uB4F1\uB85D"],depth:0},"\uB178\uD2B8 \uBAA9\uB85D":{children:["\uD3F4\uB354 \uB4F1\uB85D/\uC218\uC815"],depth:1},"\uB178\uD2B8 \uB4F1\uB85D":{children:["\uB178\uD2B8 \uB4F1\uB85D/\uC218\uC815","\uC124\uC815"],depth:1},"\uD3F4\uB354 \uB4F1\uB85D/\uC218\uC815":{children:[],depth:2},"\uB178\uD2B8 \uB4F1\uB85D/\uC218\uC815":{children:["\uBCF4\uC644 \uAE30\uB2A5"],depth:2}};setConnectionsByParent(t,e){let n=new Map(t.map(a=>[a.name,a]));for(let a of t){let d=e[a.name];if(!d?.parent)continue;let p=n.get(d.parent);p&&p.connections.push({targetScreenId:a.id,type:"navigate",label:a.name})}}sortByDepth(t,e){return t.sort((n,a)=>{let d=this.SCREEN_HIERARCHY[n]?.depth??99,p=this.SCREEN_HIERARCHY[a]?.depth??99;return d-p})}groupScreensByDepth(t){let e=new Map;for(let n of t){let a=this.SCREEN_HIERARCHY[n]?.depth??0;e.has(a)||e.set(a,[]),e.get(a).push(n)}return e}calculateHierarchicalPosition(t,e,n){let a=n.get(e)||[],d=a.indexOf(t),p=a.length,b=60,P=280,O=280,y=200,D=320,T=2e3,$=b+e*P,G=(p-1)*D,R=(T-G)/2+d*D;return{x:Math.max(50,R),y:$}}autoLayoutScreens(t){let p=new Map;for(let D of t){let T=D.depth??0;p.has(T)||p.set(T,[]),p.get(T).push(D)}let b=Array.from(p.keys()).sort((D,T)=>D-T),P={},O=100,y=60;for(let D of b){let T=p.get(D),$=y+D*300,G=T.length*280+(T.length-1)*80,U=O;T.forEach((R,ce)=>{let et=U+ce*360;P[R.name]={x:et,y:$}})}return P}isScreensColliding(t,e){return!(t.x+t.width+10<e.x||e.x+e.width+10<t.x||t.y+t.height+10<e.y||e.y+e.height+10<t.y)}findCollidingScreens(t,e){let d=[];for(let p=0;p<t.length;p++)for(let b=p+1;b<t.length;b++){let P=t[p],O=t[b],y=e[P.name],D=e[O.name];y&&D&&this.isScreensColliding({x:y.x,y:y.y,width:280,height:200},{x:D.x,y:D.y,width:280,height:200})&&(d.includes(P.name)||d.push(P.name),d.includes(O.name)||d.push(O.name))}return d}setHierarchicalConnections(t){let e=new Map(t.map(n=>[n.name,n]));for(let n of t){let a=this.SCREEN_HIERARCHY[n.name];if(a)for(let d of a.children){let p=e.get(d);p&&n.connections.push({targetScreenId:p.id,type:"navigate",label:d})}}}groupByMainCategory(t){return t.reduce((e,n)=>{let a=n.mainCategory;return e[a]||(e[a]=[]),e[a].push(n),e},{})}extractFeatures(t){return t.map(e=>({id:e.id,midCategory:e.midCategory,subCategory:e.subCategory||"",name:e.subCategory||e.midCategory,request:e.request,priority:e.priority,feasibility:e.feasibility,status:e.status||"open",wbsInfo:e.startDate?{startDate:e.startDate,endDate:e.endDate||"",progress:e.progress||0,responsible:e.responsible||""}:void 0}))}generateEvents(t,e){let n=[],a=this.toSnakeCase(t);return n.push({id:`evt-${a}-view`,name:`${a}_viewed`,displayName:`${t} \uD398\uC774\uC9C0 \uC870\uD68C`,type:"pageview",trigger:"\uD398\uC774\uC9C0 \uB85C\uB4DC"}),e.filter(p=>p.status==="completed"||p.isHighPriority||parseFloat(p.priority)>=1.5).slice(0,5).forEach((p,b)=>{let P=this.toSnakeCase(p.subCategory||p.midCategory);n.push({id:`evt-${a}-${b}`,name:`${P}_action`,displayName:`${p.subCategory||p.midCategory} \uB3D9\uC791`,type:this.determineEventType(p),trigger:`${p.subCategory||p.midCategory} \uC2E4\uD589`,relatedFeatureId:p.id})}),n}determineEventType(t){let e=(t.subCategory||t.midCategory).toLowerCase();return e.includes("\uC644\uB8CC")||e.includes("\uC800\uC7A5")||e.includes("\uB4F1\uB85D")?"conversion":e.includes("\uC774\uB3D9")||e.includes("\uC804\uD658")?"navigation":"action"}toSnakeCase(t){return t.replace(/\s+/g,"_").replace(/[\/\\]/g,"_").replace(/[()]/g,"").toLowerCase()}getScreenDepth(t){return this.SCREEN_HIERARCHY[t]?.depth??0}getParentScreen(t,e){for(let[n,a]of Object.entries(this.SCREEN_HIERARCHY))if(a.children.includes(t))return e.find(d=>d.name===n)}getChildScreens(t,e){let n=this.SCREEN_HIERARCHY[t];return n?e.filter(a=>n.children.includes(a.name)):[]}setConnections(t){}groupFeaturesByMidCategory(t){let e={};for(let n of t)e[n.midCategory]||(e[n.midCategory]=[]),e[n.midCategory].push(n);return Object.entries(e).map(([n,a])=>({midCategory:n,features:a}))}calculateScreenProgress(t){let e=t.features;if(e.length===0)return 0;let n=e.reduce((a,d)=>d.status==="completed"?a+100:d.status==="inProgress"?a+(d.wbsInfo?.progress||50):a,0);return Math.round(n/e.length)}getEventColor(t){let e={pageview:{bg:"#FEF3C7",border:"#FCD34D",text:"#92400E"},action:{bg:"#DBEAFE",border:"#60A5FA",text:"#1E40AF"},conversion:{bg:"#D1FAE5",border:"#34D399",text:"#065F46"},navigation:{bg:"#FEE2E2",border:"#F87171",text:"#991B1B"},error:{bg:"#FEE2E2",border:"#EF4444",text:"#B91C1C"}};return e[t]||e.action}calculateEdgePath(t,e){let n={x:t.x+t.width/2,y:t.y+t.height},a={x:e.x+e.width/2,y:e.y},d=(n.y+a.y)/2;return`M ${n.x} ${n.y} 
            C ${n.x} ${d}, 
              ${a.x} ${d}, 
              ${a.x} ${a.y}`}calculateItemsProgress(t){if(t.length===0)return 0;let e=t.reduce((n,a)=>a.status==="completed"?n+100:a.status==="inProgress"?n+(a.progress||50):n,0);return Math.round(e/t.length)}getColorByProgress(t,e){return e.some(a=>a.isHighPriority)?this.STATUS_COLORS.urgent:t===0?this.STATUS_COLORS.open:t===100?this.STATUS_COLORS.completed:this.STATUS_COLORS.inProgress}static \u0275fac=function(e){return new(e||r)};static \u0275prov=le({token:r,factory:r.\u0275fac,providedIn:"root"})};var Fn=["container"],jn=["intentName"],Ln=["fileInput"],Vn=r=>({"height.px":r}),Rn=r=>({"border-top-color":r}),Jt=r=>({"background-color":r}),$n=(r,t)=>t.type,re=(r,t)=>t.id,Hn=(r,t)=>t.mainCategory,Wn=(r,t)=>t.name,en=(r,t)=>t.targetScreenId,Je=(r,t)=>t.midCategory;function Nn(r,t){r&1&&(o(0,"span",23),c(1,"\u{1F4C5} \uC774\uC9C0\uCE98\uB9B0\uB354"),i())}function Gn(r,t){r&1&&(o(0,"span",24),c(1,"\u{1F4DD} \uC774\uC9C0\uB178\uD2B8"),i())}function qn(r,t){r&1&&m(0,"span",34)}function Yn(r,t){r&1&&(o(0,"div",42),m(1,"div",49),o(2,"span"),c(3,"\uB370\uC774\uD130 \uB85C\uB4DC \uC911..."),i()())}function Un(r,t){if(r&1){let e=E();o(0,"button",55),h("click",function(){u(e);let a=l(2);return C(a.groupSelectedNodes())}),v(),o(1,"svg",4),m(2,"rect",56)(3,"rect",57)(4,"rect",58)(5,"rect",59),i(),c(6),i()}if(r&2){let e=l(2);s(6),x(" \uB2E4\uC911\uC120\uD0DD \uC800\uC7A5 (",e.selectedNodeIds.size,") ")}}function Zn(r,t){if(r&1){let e=E();o(0,"div",50)(1,"div",51),c(2),i(),ne(3,Un,7,1,"button",52),o(4,"button",53),h("click",function(){u(e);let a=l();return C(a.clearSelection())}),v(),o(5,"svg",4),m(6,"path",54),i(),c(7," \uCDE8\uC18C "),i()()}if(r&2){let e=l();s(2),x(" \uC120\uD0DD\uB41C \uB178\uB4DC: ",e.selectedNodeIds.size,"\uAC1C "),s(),w("ngIf",e.selectedNodeIds.size>=2)}}function Xn(r,t){if(r&1&&(o(0,"span",81),c(1),i()),r&2){let e=l().$implicit;s(),g(e.subCategory)}}function Kn(r,t){r&1&&(o(0,"span",82),c(1,"\u{1F525}"),i())}function Qn(r,t){if(r&1&&(o(0,"div",96)(1,"div",97),c(2,"\u{1F4CC} \uBE44\uACE0"),i(),o(3,"div",103),c(4),i()()),r&2){let e=l(2).$implicit;s(4),g(e.note)}}function Jn(r,t){if(r&1&&(o(0,"div",90)(1,"div",96)(2,"div",97),c(3,"\u{1F4DD} \uC758\uB8B0\uB0B4\uC6A9"),i(),o(4,"div",98),c(5),i()(),f(6,Qn,5,1,"div",96),o(7,"div",99)(8,"div",100)(9,"span",101),c(10,"ID"),i(),o(11,"span",102),c(12),i()()()()),r&2){let e=l().$implicit;s(5),g(e.request),s(),_(e.note?6:-1),s(6),g(e.id)}}function eo(r,t){if(r&1&&(o(0,"div",91),c(1),i()),r&2){let e=l().$implicit;s(),x(" \u{1F4CC} ",e.note," ")}}function to(r,t){r&1&&m(0,"div",104)}function no(r,t){if(r&1){let e=E();o(0,"div",68)(1,"div",69),h("click",function(a){return u(e),C(a.stopPropagation())}),v(),o(2,"svg",4),m(3,"circle",70)(4,"circle",71)(5,"circle",72)(6,"circle",73)(7,"circle",74)(8,"circle",75),i()(),z(),o(9,"div",76),h("click",function(a){let d=u(e).$implicit,p=l(3);return C(p.toggleCardExpand(d.id,a))}),o(10,"div",77)(11,"div",78)(12,"span",79),c(13),i(),o(14,"span",80),c(15),i(),f(16,Xn,2,1,"span",81),i(),f(17,Kn,2,0,"span",82),i(),o(18,"div",83),c(19),i(),o(20,"div",84),c(21),i(),o(22,"div",85),c(23),i(),o(24,"div",86)(25,"div",87)(26,"span",88),c(27,"\uBC18\uC601\uC694\uCCAD"),i(),o(28,"span",89),c(29),i()(),o(30,"div",87)(31,"span",88),c(32,"\uBC18\uC601\uAC00\uB2A5"),i(),o(33,"span",89),c(34),i()()(),f(35,Jn,13,3,"div",90),f(36,eo,2,1,"div",91),o(37,"div",92),v(),o(38,"svg",93),m(39,"path",94),i()()(),ne(40,to,1,0,"div",95),i()}if(r&2){let e=t.$implicit,n=l(3);M("high-priority",e.isHighPriority)("expanded",n.isCardExpanded(e.id)),s(12),w("ngStyle",Me(24,Jt,n.getMainCategoryColor(e.mainCategory))),s(),x(" ",e.mainCategory," "),s(2),g(e.midCategory),s(),_(e.subCategory?16:-1),s(),_(e.isHighPriority?17:-1),s(2),g(e.subCategory||e.request.split(`
`)[0].substring(0,40)),s(2),g(e.id),s(2),x(" ",e.request.split(`
`)[0]," "),s(5),V(n.getPriorityClass(e.priority)),s(),Ie(" ",n.getScoreVisual(e.priority)," ",e.priority," "),s(4),V(n.getFeasibilityClass(e.feasibility)),s(),Ie(" ",n.getScoreVisual(e.feasibility)," ",e.feasibility," "),s(),_(n.isCardExpanded(e.id)?35:-1),s(),_(!n.isCardExpanded(e.id)&&e.note?36:-1),s(2),M("rotated",n.isCardExpanded(e.id))}}function oo(r,t){r&1&&(o(0,"div",67)(1,"span"),c(2,"\uD56D\uBAA9\uC744 \uC5EC\uAE30\uB85C \uB4DC\uB798\uADF8\uD558\uC138\uC694"),i()())}function io(r,t){if(r&1){let e=E();o(0,"div",60)(1,"div",61)(2,"div",62),m(3,"span",63),c(4),i(),o(5,"span",64),c(6),i()(),o(7,"div",65),h("cdkDropListDropped",function(a){let d=u(e).$implicit,p=l(2);return C(p.onKanbanDrop(a,d.type))}),k(8,no,41,26,"div",66,re),f(10,oo,3,0,"div",67),i()()}if(r&2){let e=t.$implicit,n=l(2);s(),w("ngStyle",Me(8,Rn,e.color)),s(2),w("ngStyle",Me(10,Jt,e.color)),s(),x(" ",e.title," "),s(2),g(e.items.length),s(),w("id","kanban-"+e.type)("cdkDropListData",e.items)("cdkDropListConnectedTo",n.connectedDropLists),s(),S(e.items),s(2),_(e.items.length===0?10:-1)}}function ao(r,t){if(r&1&&(o(0,"div",44),k(1,io,11,12,"div",60,$n),i()),r&2){let e=l();s(),S(e.kanbanColumns)}}function ro(r,t){r&1&&(o(0,"span",129),c(1,"\u{1F525}"),i())}function co(r,t){if(r&1&&(o(0,"div",141)(1,"span",97),c(2,"\uBE44\uACE0"),i(),o(3,"span",142),c(4),i()()),r&2){let e=l(2).$implicit;s(4),g(e.note)}}function so(r,t){if(r&1&&(o(0,"div",137)(1,"div",141)(2,"span",97),c(3,"\uC758\uB8B0\uB0B4\uC6A9"),i(),o(4,"span",142),c(5),i()(),f(6,co,5,1,"div",141),o(7,"div",143)(8,"span",144),c(9),i()()()),r&2){let e=l().$implicit;s(5),g(e.request),s(),_(e.note?6:-1),s(3),g(e.id)}}function lo(r,t){if(r&1){let e=E();o(0,"div",124),h("click",function(a){let d=u(e).$implicit,p=l(4);return C(p.toggleCardExpand(d.id,a))}),m(1,"div",125),o(2,"div",126)(3,"div",127)(4,"span",128),c(5),i(),f(6,ro,2,0,"span",129),i(),o(7,"div",130),m(8,"span",131),c(9),i(),o(10,"div",132)(11,"div",133)(12,"span",134),c(13,"\u{1F4CB}"),i(),o(14,"span",135),c(15),i()(),o(16,"div",136)(17,"span",134),c(18,"\u2705"),i(),o(19,"span",135),c(20),i()()(),f(21,so,10,3,"div",137),i(),o(22,"div",138),v(),o(23,"svg",139),m(24,"path",140),i()()()}if(r&2){let e=t.$implicit,n=l(4);M("high-priority",e.isHighPriority)("expanded",n.expandedCardId===e.id),s(),M("high",+e.feasibility>=4)("medium",+e.feasibility==3)("low",+e.feasibility<3),s(4),x(" ",e.subCategory||e.request.split("\\n")[0].substring(0,30)," "),s(),_(e.isHighPriority?6:-1),s(),I("background",n.getKanbanColumnStatus(e).color+"15")("color",n.getKanbanColumnStatus(e).color)("border-color",n.getKanbanColumnStatus(e).color),s(),I("background",n.getKanbanColumnStatus(e).color),s(),x(" ",n.getKanbanColumnStatus(e).label," "),s(2),M("high",+e.priority>=4),s(4),g(e.priority),s(),M("high",+e.feasibility>=4),s(4),g(e.feasibility),s(),_(n.expandedCardId===e.id?21:-1),s(),M("expanded",n.expandedCardId===e.id)}}function po(r,t){if(r&1&&(o(0,"div",118)(1,"div",119)(2,"span",120),c(3),i(),o(4,"span",121),c(5),i()(),o(6,"div",122),k(7,lo,25,30,"div",123,re),i()()),r&2){let e=t.$implicit;s(3),g(e.name),s(2),g(e.items.length),s(2),S(e.items)}}function go(r,t){if(r&1&&(o(0,"div",109)(1,"div",110)(2,"div",111)(3,"span",112),c(4),i(),o(5,"span",113),c(6),i()(),o(7,"div",114)(8,"span",115),c(9),i(),o(10,"span",116),c(11),i()()(),o(12,"div",117),k(13,po,9,2,"div",118,Wn),i()()),r&2){let e=t.$implicit,n=l(2);I("border-left-color",e.color),s(),I("background",e.color+"15"),s(2),I("background",e.color),s(),x(" ",e.mainCategory.charAt(0)," "),s(2),g(e.mainCategory),s(3),x("",e.midCategories.length," \uC911\uBD84\uB958"),s(2),x("",n.getTotalItemsInMainCategory(e)," \uD56D\uBAA9"),s(2),S(e.midCategories)}}function mo(r,t){if(r&1&&(o(0,"div",45)(1,"div",105)(2,"div",26)(3,"span",27),c(4,"\uB300\uBD84\uB958"),i(),o(5,"span",28),c(6),i()(),o(7,"div",26)(8,"span",27),c(9,"\uC804\uCCB4 \uD56D\uBAA9"),i(),o(10,"span",28),c(11),i()(),o(12,"div",106)(13,"span",27),c(14,"\u{1F525} \uAE34\uAE09"),i(),o(15,"span",28),c(16),i()()(),o(17,"div",107),k(18,go,15,10,"div",108,Hn),i()()),r&2){let e=l();s(6),g(e.hierarchicalData.length),s(5),g(e.specPlanData.length),s(5),g(e.getHighPriorityCount()),s(2),S(e.hierarchicalData)}}function uo(r,t){if(r&1&&(o(0,"tr")(1,"td",147)(2,"span",157),c(3),i()(),o(4,"td",148)(5,"span",158),c(6),i()(),o(7,"td",149)(8,"span",159),c(9),i()(),o(10,"td",150),c(11),i(),o(12,"td",151),c(13),i(),o(14,"td",152)(15,"div",160),c(16),i()(),o(17,"td",153)(18,"span",161),c(19),i()(),o(20,"td",154)(21,"span",161),c(22),i()(),o(23,"td",155)(24,"div",162),c(25),i()()()),r&2){let e=t.$implicit,n=l(2);M("high-priority",e.isHighPriority)("completed",e.status==="completed"),s(3),g(e.id),s(2),I("background",n.getKanbanColumnStatus(e).color+"15")("color",n.getKanbanColumnStatus(e).color)("border-color",n.getKanbanColumnStatus(e).color),s(),x(" ",n.getKanbanColumnStatus(e).label," "),s(2),I("background",n.getMainCategoryColor(e.mainCategory)),s(),x(" ",e.mainCategory," "),s(2),g(e.midCategory),s(2),g(e.subCategory),s(3),g(e.request),s(2),V(n.getPriorityClass(e.priority)),s(),x(" ",e.priority," "),s(2),V(n.getFeasibilityClass(e.feasibility)),s(),x(" ",e.feasibility," "),s(3),g(e.note)}}function Co(r,t){if(r&1&&(o(0,"div",46)(1,"div",145)(2,"table",146)(3,"thead")(4,"tr")(5,"th",147),c(6,"ID"),i(),o(7,"th",148),c(8,"\uC0C1\uD0DC"),i(),o(9,"th",149),c(10,"\uB300\uBD84\uB958"),i(),o(11,"th",150),c(12,"\uC911\uBD84\uB958"),i(),o(13,"th",151),c(14,"\uC18C\uBD84\uB958"),i(),o(15,"th",152),c(16,"\uC758\uB8B0\uB0B4\uC6A9"),i(),o(17,"th",153),c(18,"\uBC18\uC601\uC694\uCCAD"),i(),o(19,"th",154),c(20,"\uBC18\uC601\uAC00\uB2A5"),i(),o(21,"th",155),c(22,"\uBE44\uACE0"),i()()(),o(23,"tbody"),k(24,uo,26,25,"tr",156,re),i()()()()),r&2){let e=l();s(24),S(e.specPlanData)}}function fo(r,t){if(r&1&&(o(0,"div",47),m(1,"app-wbs-doc",163),i()),r&2){let e=l();s(),w("folderType",e.folderType)}}function _o(r,t){if(r&1&&(v(),m(0,"path",196)),r&2){let e=l().$implicit,n=l().$implicit,a=l(2);V("edge-"+e.type),N("d",a.calculateEdgePath(n,t))}}function ho(r,t){if(r&1&&f(0,_o,1,3,":svg:path",195),r&2){let e,n=t.$implicit,a=l(3);_((e=a.getTargetScreen(n.targetScreenId))?0:-1,e)}}function xo(r,t){if(r&1&&k(0,ho,1,1,null,null,en),r&2){let e=t.$implicit;S(e.connections)}}function bo(r,t){if(r&1&&(o(0,"span",201),c(1),i()),r&2){let e=l().$implicit,n=l(2);s(),g(n.getScreenTypeLabel(e.screenType))}}function Po(r,t){if(r&1&&(o(0,"div",204)(1,"span",205),c(2),i(),o(3,"span",206),c(4),i()()),r&2){let e=t.$implicit;s(2),g(e.midCategory),s(2),x("(",e.features.length,")")}}function Mo(r,t){if(r&1&&(o(0,"div",203),k(1,Po,5,2,"div",204,Je),i()),r&2){let e=l().$implicit,n=l(2);s(),S(n.getGroupedFeatures(e))}}function Oo(r,t){if(r&1&&(o(0,"span",223),c(1),Z(2,"slice"),i()),r&2){let e=l().$implicit;w("title",e.request),s(),Ie("",yt(2,3,e.request,0,30),"",e.request.length>30?"...":"")}}function vo(r,t){if(r&1&&(o(0,"span",224),c(1),i()),r&2){let e=l().$implicit;s(),x("",e.wbsInfo==null?null:e.wbsInfo.progress,"%")}}function wo(r,t){if(r&1&&(o(0,"li",221),m(1,"span",131),o(2,"span",222),c(3),i(),f(4,Oo,3,7,"span",223),f(5,vo,2,1,"span",224),i()),r&2){let e=t.$implicit;V(e.status),s(),V(e.status),s(2),g(e.subCategory||e.midCategory),s(),_(e.request?4:-1),s(),_((e.wbsInfo==null?null:e.wbsInfo.progress)!==void 0?5:-1)}}function yo(r,t){if(r&1&&(o(0,"div",208)(1,"div",217)(2,"span",168),c(3,"folder"),i(),c(4),o(5,"span",218),c(6),i()(),o(7,"ul",219),k(8,wo,6,7,"li",220,re),i()()),r&2){let e=t.$implicit;s(4),x(" ",e.midCategory," "),s(2),x("",e.features.length,"\uAC1C"),s(2),S(e.features)}}function ko(r,t){if(r&1&&(o(0,"span",225),c(1),i()),r&2){let e=t.$implicit;V(e.type),w("title",e.displayName||e.name),s(),x(" ",e.displayName||e.name," ")}}function So(r,t){if(r&1&&(o(0,"div",207),k(1,yo,10,2,"div",208,Je),o(3,"div",209)(4,"div",210)(5,"span",168),c(6,"bolt"),i(),c(7," \uC774\uBCA4\uD2B8 "),i(),o(8,"div",211),k(9,ko,2,4,"span",212,re),i()()(),o(11,"div",213)(12,"div",214),c(13),Z(14,"number"),i(),o(15,"div",215),m(16,"div",216),i()()),r&2){let e=l().$implicit,n=l(2);s(),S(n.getGroupedFeatures(e)),s(8),S(e.events),s(4),x("\uC9C4\uD589\uB960: ",ge(14,3,n.getScreenProgress(e),"1.0-0"),"%"),s(3),I("width",n.getScreenProgress(e),"%")}}function Do(r,t){if(r&1){let e=E();o(0,"div",197),h("cdkDragStarted",function(a){let d=u(e).$implicit,p=l(2);return C(p.onScreenDragStart(a,d))})("cdkDragMoved",function(a){let d=u(e).$implicit,p=l(2);return C(p.onScreenDragMove(a,d))})("cdkDragEnded",function(a){let d=u(e).$implicit,p=l(2);return C(p.onScreenDragEnd(a,d))})("click",function(){let a=u(e).$implicit,d=l(2);return C(d.selectScreen(a))}),o(1,"div",198)(2,"span",199),c(3),i(),o(4,"span",200),c(5),i(),f(6,bo,2,1,"span",201),o(7,"button",202),h("click",function(a){let d=u(e).$implicit,p=l(2);return C(p.toggleScreenExpand(d.id,a))}),o(8,"span",168),c(9),i()()(),f(10,Mo,3,0,"div",203),f(11,So,17,6),i()}if(r&2){let e=t.$implicit,n=l(2);I("left",e.position.x,"px")("top",e.position.y,"px"),M("selected",n.selectedScreenId===e.id)("expanded",n.isScreenExpanded(e.id))("type-screen",e.screenType==="screen")("type-modal",e.screenType==="modal")("type-panel",e.screenType==="panel")("type-sheet",e.screenType==="sheet"),w("cdkDragData",e),s(),I("background-color",e.color),s(2),g(e.icon),s(2),g(e.name),s(),_(e.screenType?6:-1),s(3),x(" ",n.isScreenExpanded(e.id)?"expand_less":"expand_more"," "),s(),_(n.isScreenExpanded(e.id)?-1:10),s(),_(n.isScreenExpanded(e.id)?11:-1)}}function Eo(r,t){r&1&&(o(0,"div",193)(1,"span",168),c(2,"account_tree"),i(),o(3,"p"),c(4,"\uAE30\uD68D\uC548 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4"),i(),o(5,"p",226),c(6,"\uAE30\uD68D\uC548 \uBDF0\uC5D0\uC11C \uB370\uC774\uD130\uB97C \uCD94\uAC00\uD558\uBA74 IA \uD50C\uB85C\uC6B0\uCC28\uD2B8\uAC00 \uC790\uB3D9\uC73C\uB85C \uC0DD\uC131\uB429\uB2C8\uB2E4"),i()())}function Io(r,t){if(r&1&&(o(0,"div",254)(1,"span",259),c(2,"\uC758\uB8B0\uB0B4\uC6A9:"),i(),c(3),i()),r&2){let e=l().$implicit;s(3),x(" ",e.request," ")}}function zo(r,t){if(r&1&&(o(0,"span",256)(1,"span",168),c(2,"star"),i(),c(3),i()),r&2){let e=l().$implicit;s(3),x(" \uC6B0\uC120\uC21C\uC704: ",e.priority," ")}}function To(r,t){if(r&1&&(o(0,"span",257)(1,"span",168),c(2,"check_circle"),i(),c(3),i()),r&2){let e=l().$implicit;s(3),x(" \uBC18\uC601\uAC00\uB2A5: ",e.feasibility," ")}}function Ao(r,t){if(r&1&&(o(0,"span",258)(1,"span",168),c(2,"trending_up"),i(),c(3),i()),r&2){let e=l().$implicit;s(3),x(" \uC9C4\uD589: ",e.wbsInfo==null?null:e.wbsInfo.progress,"% ")}}function Bo(r,t){if(r&1&&(o(0,"div",250)(1,"div",127),m(2,"span",251),o(3,"span",252),c(4),i(),o(5,"span",253),c(6),i()(),f(7,Io,4,1,"div",254),o(8,"div",255),f(9,zo,4,1,"span",256),f(10,To,4,1,"span",257),f(11,Ao,4,1,"span",258),i()()),r&2){let e=t.$implicit,n=l(4);s(2),V(e.status),s(2),g(e.subCategory||e.midCategory),s(),V(e.status),s(),x(" ",n.getStatusLabel(e.status)," "),s(),_(e.request?7:-1),s(2),_(e.priority?9:-1),s(),_(e.feasibility?10:-1),s(),_((e.wbsInfo==null?null:e.wbsInfo.progress)!==void 0?11:-1)}}function Fo(r,t){if(r&1&&(o(0,"div",241)(1,"div",246)(2,"span",168),c(3,"folder_open"),i(),o(4,"span",247),c(5),i(),o(6,"span",248),c(7),i()(),o(8,"div",249),k(9,Bo,12,10,"div",250,re),i()()),r&2){let e=t.$implicit;s(5),g(e.midCategory),s(2),x("",e.features.length,"\uAC1C"),s(2),S(e.features)}}function jo(r,t){if(r&1&&(o(0,"div",260)(1,"span",261),c(2),i(),o(3,"div",262)(4,"span",263),c(5),i(),o(6,"span",264),c(7),i()()()),r&2){let e=t.$implicit;V(e.type),s(),V(e.type),s(),g(e.type),s(3),g(e.displayName||e.name),s(2),x("\uD2B8\uB9AC\uAC70: ",e.trigger)}}function Lo(r,t){if(r&1){let e=E();o(0,"div",267),h("click",function(){let a=u(e),d=l(5);return C(d.selectScreen(a))}),o(1,"span",268),c(2),i(),o(3,"span",269),c(4),i(),o(5,"span",270),c(6),i(),o(7,"span",271),c(8,"arrow_forward"),i()()}if(r&2){let e=t,n=l().$implicit;s(2),g(e.icon),s(2),g(e.name),s(2),g(n.type)}}function Vo(r,t){if(r&1&&f(0,Lo,9,3,"div",266),r&2){let e,n=t.$implicit,a=l(4);_((e=a.getTargetScreen(n.targetScreenId))?0:-1,e)}}function Ro(r,t){if(r&1&&(o(0,"div",245)(1,"h4",240)(2,"span",168),c(3,"link"),i(),c(4," \uC5F0\uACB0\uB41C \uD654\uBA74 "),i(),o(5,"div",265),k(6,Vo,1,1,null,null,en),i()()),r&2){let e=l();s(6),S(e.connections)}}function $o(r,t){if(r&1){let e=E();o(0,"div",227),h("click",function(a){return u(e),C(a.stopPropagation())})("wheel",function(a){return u(e),C(a.stopPropagation())}),o(1,"div",228)(2,"span",229),c(3),i(),o(4,"div",230)(5,"h3",231),c(6),i(),o(7,"span",144),c(8),i()(),o(9,"button",232),h("click",function(){u(e);let a=l(2);return C(a.closeDetailPanel())}),o(10,"span",168),c(11,"close"),i()()(),o(12,"div",233)(13,"div",234)(14,"div",235)(15,"span",236),c(16,"\uC804\uCCB4 \uAE30\uB2A5"),i(),o(17,"span",237),c(18),i()(),o(19,"div",235)(20,"span",236),c(21,"\uC9C4\uD589\uB960"),i(),o(22,"span",237),c(23),Z(24,"number"),i()(),o(25,"div",235)(26,"span",236),c(27,"\uC774\uBCA4\uD2B8"),i(),o(28,"span",237),c(29),i()()(),o(30,"div",238)(31,"div",215),m(32,"div",216),i()(),o(33,"div",239)(34,"h4",240)(35,"span",168),c(36,"list_alt"),i(),c(37," \uAE30\uD68D\uC548 \uC0C1\uC138 "),i(),k(38,Fo,11,2,"div",241,Je),i(),o(40,"div",242)(41,"h4",240)(42,"span",168),c(43,"bolt"),i(),c(44," \uC774\uBCA4\uD2B8 \uBAA9\uB85D "),i(),o(45,"div",243),k(46,jo,8,7,"div",244,re),i()(),f(48,Ro,8,0,"div",245),i()()}if(r&2){let e=t,n=l(2);s(),I("background-color",e.color),s(2),g(e.icon),s(3),g(e.name),s(2),g(e.id),s(10),x("",e.features.length,"\uAC1C"),s(5),x("",ge(24,11,n.getScreenProgress(e),"1.0-0"),"%"),s(6),x("",e.events.length,"\uAC1C"),s(3),I("width",n.getScreenProgress(e),"%"),s(6),S(n.getGroupedFeatures(e)),s(8),S(e.events),s(2),_(e.connections.length>0?48:-1)}}function Ho(r,t){if(r&1){let e=E();o(0,"div",164),h("wheel",function(a){u(e);let d=l();return C(d.onFlowchartWheel(a))})("mousedown",function(a){u(e);let d=l();return C(d.startFlowchartPan(a))})("mousemove",function(a){u(e);let d=l();return C(d.onFlowchartPanMove(a))})("mouseup",function(){u(e);let a=l();return C(a.endFlowchartPan())})("mouseleave",function(){u(e);let a=l();return C(a.endFlowchartPan())}),o(1,"div",165)(2,"div",166)(3,"button",167),h("click",function(){u(e);let a=l();return C(a.flowchartZoomIn())}),o(4,"span",168),c(5,"add"),i()(),o(6,"span",169),c(7),Z(8,"number"),i(),o(9,"button",170),h("click",function(){u(e);let a=l();return C(a.flowchartZoomOut())}),o(10,"span",168),c(11,"remove"),i()(),o(12,"button",171),h("click",function(){u(e);let a=l();return C(a.flowchartFitToScreen())}),o(13,"span",168),c(14,"fit_screen"),i()(),o(15,"button",172),h("click",function(){u(e);let a=l();return C(a.autoLayoutFlowchart())}),o(16,"span",168),c(17,"auto_awesome"),i(),o(18,"span",173),c(19,"\uC790\uB3D9 \uC815\uB82C"),i()()(),o(20,"div",166)(21,"span",174),c(22,"\uD654\uBA74 \uD0C0\uC785:"),i(),o(23,"span",175)(24,"span",176),m(25,"span",177),c(26,"\uD654\uBA74"),i(),o(27,"span",176),m(28,"span",178),c(29,"\uBAA8\uB2EC"),i(),o(30,"span",176),m(31,"span",179),c(32,"\uD328\uB110"),i(),o(33,"span",176),m(34,"span",180),c(35,"\uC2DC\uD2B8"),i()(),o(36,"span",181),c(37,"|"),i(),o(38,"span",174),c(39,"\uC0C1\uD0DC:"),i(),o(40,"span",182)(41,"span",183),m(42,"span",184),c(43,"\uB300\uAE30"),i(),o(44,"span",183),m(45,"span",185),c(46,"\uC9C4\uD589"),i(),o(47,"span",183),m(48,"span",186),c(49,"\uC644\uB8CC"),i()()()(),o(50,"div",187),v(),o(51,"svg",188)(52,"defs")(53,"marker",189),m(54,"polygon",190),i()(),k(55,xo,2,0,null,null,re),i(),z(),o(57,"div",191),k(58,Do,12,25,"div",192,re),i()(),f(60,Eo,7,0,"div",193),f(61,$o,49,14,"div",194),i()}if(r&2){let e,n=l();s(7),x("",ge(8,6,n.flowchartZoom*100,"1.0-0"),"%"),s(43),I("transform",n.getFlowchartTransform()),s(),N("width",n.flowchartScreens.length*320),s(4),S(n.flowchartScreens),s(3),S(n.flowchartScreens),s(2),_(n.flowchartScreens.length===0?60:-1),s(),_((e=n.selectedScreenId&&n.getSelectedScreen())?61:-1,e)}}var Ve=class r{container;intentNameInput;fileInput;playSimulator=new q;zoomLevelChange=new q;penModeChange=new q;simulatorRequested=new q;width=qe(1200);height=qe(0);pages=[];userFlows=[];viewMode="kanban";isMultiSelectMode=!1;folderType="calendar";specPlanData=[];set zoomLevel(t){this._zoomLevel=t}get zoomLevel(){return this._zoomLevel}set isPenMode(t){this._isPenMode=t}get isPenMode(){return this._isPenMode}_zoomLevel=100;_isPenMode=!1;isSpacePressed=!1;subscription=new ct;offsetX=0;offsetY=0;isPanning=!1;panStartX=0;panStartY=0;draggingNodeId=null;draggingGroupId=null;dragStartX=0;dragStartY=0;nodePositions=new Map;selectedNodeIds=new Set;nodeGroups=new Map;autoGroupsByCategory=new Map;virtualGroupPositions=new Map;groupCounter=0;editingGroupId=null;editingGroupTitle="";kanbanColumns=[];expandedCardId=null;isLoading=!1;hierarchicalData=[];connectedDropLists=["kanban-open","kanban-inProgress","kanban-completed"];CALENDAR_DATA_PATH="./data/calendar.json";NOTE_DATA_PATH="./data/note.json";STORAGE_KEY_CALENDAR="ia-spec-plan-calendar";STORAGE_KEY_NOTE="ia-spec-plan-note";originalJsonData=null;hasUnsavedChanges=!1;flowchartScreens=[];selectedScreenId=null;expandedScreenId=null;flowchartZoom=100;flowchartPanX=0;flowchartPanY=0;isFlowchartPanning=!1;flowchartPanStartX=0;flowchartPanStartY=0;draggingScreenId=null;dragOffsetX=0;dragOffsetY=0;dragStartPosition={x:0,y:0};wasDragged=!1;STATUS_COLORS={open:"#94a3b8",inProgress:"#3b82f6",completed:"#22c55e",urgent:"#ef4444"};dialog=oe(Ht);snackbar=oe(Nt);router=oe(Bt);httpClient=oe(he);flowchartService=oe(Le);constructor(){}ngOnInit(){this.initializeNodePositions(),this.loadSpecPlanData(this.folderType),this.pages&&this.pages.length>0?this.createGroupsFromPages():this.createSampleRoleGroups()}ngOnDestroy(){this.subscription.unsubscribe()}loadSpecPlanData(t){this.isLoading=!0,this.hasUnsavedChanges=!1;let e=t==="note"?this.NOTE_DATA_PATH:this.CALENDAR_DATA_PATH;this.httpClient.get(e).subscribe({next:n=>{this.originalJsonData=n;let a=t==="note"?this.STORAGE_KEY_NOTE:this.STORAGE_KEY_CALENDAR,d=localStorage.getItem(a);if(d)try{let b=JSON.parse(d);this.specPlanData=b,this.initializeKanbanView(),this.createCanvasFromSpecPlan(),this.generateFlowchartData(),this.isLoading=!1,this.snackbar.open(`${t==="calendar"?"\uC774\uC9C0\uCE98\uB9B0\uB354":"\uC774\uC9C0\uB178\uD2B8"} \uC800\uC7A5\uB41C \uB370\uC774\uD130\uB97C \uBD88\uB7EC\uC654\uC2B5\uB2C8\uB2E4`,"\uD655\uC778",{duration:2e3});return}catch(b){console.error("LocalStorage \uB370\uC774\uD130 \uD30C\uC2F1 \uC2E4\uD328:",b)}let p=n.specPlanTable||[];this.specPlanData=p.map(b=>({id:`SP-${String(b.id).padStart(3,"0")}`,mainCategory:b.mainCategory,midCategory:b.midCategory,subCategory:b.subCategory||"",request:b.request,priority:b.priority,feasibility:b.feasibility,note:b.note||"",isHighPriority:b.isRed||!1,status:b.status||"open",startDate:b.startDate,endDate:b.endDate,progress:b.progress,responsible:b.responsible})),this.initializeKanbanView(),this.createCanvasFromSpecPlan(),this.generateFlowchartData(),this.isLoading=!1},error:n=>{console.error(`[IA Canvas] ${t} \uB370\uC774\uD130 \uB85C\uB4DC \uC2E4\uD328:`,n),this.createSampleSpecPlanData(),this.isLoading=!1}})}saveToLocalStorage(){let t=this.folderType==="note"?this.STORAGE_KEY_NOTE:this.STORAGE_KEY_CALENDAR;localStorage.setItem(t,JSON.stringify(this.specPlanData)),this.hasUnsavedChanges=!1,this.snackbar.open("\uBCC0\uACBD\uC0AC\uD56D\uC774 \uC800\uC7A5\uB418\uC5C8\uC2B5\uB2C8\uB2E4","\uD655\uC778",{duration:2e3})}downloadAsJson(){let t=this.originalJsonData?A({},this.originalJsonData):{};t.specPlanTable=this.specPlanData.map((d,p)=>({id:p+1,mainCategory:d.mainCategory,midCategory:d.midCategory,subCategory:d.subCategory,request:d.request,priority:d.priority,feasibility:d.feasibility,note:d.note,isRed:d.isHighPriority,status:d.status,startDate:d.startDate,endDate:d.endDate,progress:d.progress,responsible:d.responsible})),t.screenPositions=this.flowchartScreens.reduce((d,p)=>(d[p.name]={x:p.position.x,y:p.position.y},d),{});let e=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),n=URL.createObjectURL(e),a=document.createElement("a");a.href=n,a.download=`${this.folderType}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(n),this.hasUnsavedChanges=!1,this.snackbar.open(`${this.folderType}.json \uD30C\uC77C\uC774 \uB2E4\uC6B4\uB85C\uB4DC\uB418\uC5C8\uC2B5\uB2C8\uB2E4. public/data \uD3F4\uB354\uC5D0 \uAD50\uCCB4\uD558\uC138\uC694.`,"\uD655\uC778",{duration:4e3})}resetToOriginal(){if(confirm("\uC800\uC7A5\uB41C \uBCC0\uACBD\uC0AC\uD56D\uC744 \uC0AD\uC81C\uD558\uACE0 \uC6D0\uBCF8 \uB370\uC774\uD130\uB85C \uBCF5\uC6D0\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?")){let t=this.folderType==="note"?this.STORAGE_KEY_NOTE:this.STORAGE_KEY_CALENDAR;localStorage.removeItem(t),this.hasUnsavedChanges=!1;let e=this.folderType==="note"?this.NOTE_DATA_PATH:this.CALENDAR_DATA_PATH;this.isLoading=!0,this.httpClient.get(e).subscribe({next:n=>{let a=n.specPlanTable||[];this.specPlanData=a.map(d=>({id:`SP-${String(d.id).padStart(3,"0")}`,mainCategory:d.mainCategory,midCategory:d.midCategory,subCategory:d.subCategory||"",request:d.request,priority:d.priority,feasibility:d.feasibility,note:d.note||"",isHighPriority:d.isRed||!1,status:"open"})),this.initializeKanbanView(),this.createCanvasFromSpecPlan(),this.isLoading=!1,this.snackbar.open("\uC6D0\uBCF8 \uB370\uC774\uD130\uB85C \uBCF5\uC6D0\uB418\uC5C8\uC2B5\uB2C8\uB2E4","\uD655\uC778",{duration:2e3})},error:n=>{console.error("\uC6D0\uBCF8 \uB370\uC774\uD130 \uB85C\uB4DC \uC2E4\uD328:",n),this.isLoading=!1}})}}markAsChanged(){this.hasUnsavedChanges=!0}initializeKanbanView(){this.kanbanColumns=[{type:"open",title:"\uC624\uD508",color:"#94a3b8",items:[]},{type:"inProgress",title:"\uC9C4\uD589\uC911",color:"#3b82f6",items:[]},{type:"completed",title:"\uC644\uB8CC",color:"#22c55e",items:[]}],this.specPlanData&&this.specPlanData.length>0?this.categorizeItemsToKanban(this.specPlanData):this.createSampleSpecPlanData()}createCanvasFromSpecPlan(){if(!this.specPlanData||this.specPlanData.length===0)return;let t=new Map;this.specPlanData.forEach(n=>{let a=n.mainCategory||"\uAE30\uD0C0",d=n.midCategory||"\uAE30\uD0C0";t.has(a)||t.set(a,new Map);let p=t.get(a);p.has(d)||p.set(d,[]),p.get(d).push(n)}),this.hierarchicalData=[],Array.from(t.keys()).sort().forEach(n=>{let a=t.get(n),d=[];Array.from(a.keys()).sort().forEach(b=>{d.push({name:b,items:a.get(b)})}),this.hierarchicalData.push({mainCategory:n,color:this.getMainCategoryColor(n),midCategories:d})}),this.nodeGroups.clear(),this.nodePositions.clear(),this.virtualGroupPositions.clear()}createSampleSpecPlanData(){let t=[{id:"SP-001",mainCategory:"\uB85C\uADF8\uC778/\uD68C\uC6D0\uAC00\uC785",midCategory:"\uB85C\uADF8\uC778",subCategory:"\uC774\uBA54\uC77C \uB85C\uADF8\uC778",request:`\uC774\uBA54\uC77C\uACFC \uBE44\uBC00\uBC88\uD638\uB85C \uB85C\uADF8\uC778 \uAD6C\uD604
- \uBE44\uBC00\uBC88\uD638 \uC554\uD638\uD654
- \uC790\uB3D9 \uB85C\uADF8\uC778 \uC635\uC158`,priority:"3.0",feasibility:"2.5",note:"MVP \uD544\uC218",isHighPriority:!0},{id:"SP-002",mainCategory:"\uB85C\uADF8\uC778/\uD68C\uC6D0\uAC00\uC785",midCategory:"\uB85C\uADF8\uC778",subCategory:"\uC18C\uC15C \uB85C\uADF8\uC778",request:"\uAD6C\uAE00, \uCE74\uCE74\uC624, \uB124\uC774\uBC84 \uC18C\uC15C \uB85C\uADF8\uC778 \uC5F0\uB3D9",priority:"2.0",feasibility:"1.5",note:"2\uCC28 \uAC1C\uBC1C"},{id:"SP-003",mainCategory:"\uB85C\uADF8\uC778/\uD68C\uC6D0\uAC00\uC785",midCategory:"\uD68C\uC6D0\uAC00\uC785",subCategory:"\uC774\uBA54\uC77C \uC778\uC99D",request:`\uD68C\uC6D0\uAC00\uC785 \uC2DC \uC774\uBA54\uC77C \uC778\uC99D \uD544\uC218
- \uC778\uC99D \uBA54\uC77C \uBC1C\uC1A1
- \uC778\uC99D \uCF54\uB4DC \uD655\uC778`,priority:"2.5",feasibility:"2.0",note:""},{id:"SP-004",mainCategory:"\uCE98\uB9B0\uB354",midCategory:"\uC77C\uC815\uAD00\uB9AC",subCategory:"\uC77C\uC815 \uC0DD\uC131",request:`\uC0C8 \uC77C\uC815 \uC0DD\uC131 \uAE30\uB2A5
- \uC81C\uBAA9, \uB0A0\uC9DC, \uC2DC\uAC04 \uC785\uB825
- \uBC18\uBCF5 \uC124\uC815
- \uC54C\uB9BC \uC124\uC815`,priority:"3.0",feasibility:"2.5",note:"MVP \uD544\uC218",isHighPriority:!0},{id:"SP-005",mainCategory:"\uCE98\uB9B0\uB354",midCategory:"\uC77C\uC815\uAD00\uB9AC",subCategory:"\uC77C\uC815 \uC218\uC815/\uC0AD\uC81C",request:"\uAE30\uC874 \uC77C\uC815 \uC218\uC815 \uBC0F \uC0AD\uC81C \uAE30\uB2A5",priority:"2.5",feasibility:"2.0",note:""},{id:"SP-006",mainCategory:"\uCE98\uB9B0\uB354",midCategory:"\uBDF0",subCategory:"\uC6D4\uAC04 \uBDF0",request:`\uC6D4\uAC04 \uCE98\uB9B0\uB354 \uBDF0 \uAD6C\uD604
- \uC6D4\uBCC4 \uC77C\uC815 \uD45C\uC2DC
- \uB0A0\uC9DC \uD074\uB9AD \uC2DC \uC0C1\uC138`,priority:"2.5",feasibility:"2.0",note:""},{id:"SP-007",mainCategory:"\uCE98\uB9B0\uB354",midCategory:"\uBDF0",subCategory:"\uC8FC\uAC04/\uC77C\uAC04 \uBDF0",request:"\uC8FC\uAC04 \uBC0F \uC77C\uAC04 \uCE98\uB9B0\uB354 \uBDF0",priority:"2.0",feasibility:"1.5",note:"2\uCC28 \uAC1C\uBC1C"},{id:"SP-008",mainCategory:"\uB178\uD2B8",midCategory:"\uC5D0\uB514\uD130",subCategory:"\uB9AC\uCE58 \uD14D\uC2A4\uD2B8",request:`\uB9AC\uCE58 \uD14D\uC2A4\uD2B8 \uC5D0\uB514\uD130
- \uBCFC\uB4DC, \uC774\uD0E4\uB9AD, \uC5B8\uB354\uB77C\uC778
- \uD5E4\uB529
- \uB9AC\uC2A4\uD2B8`,priority:"3.0",feasibility:"2.5",note:"MVP \uD544\uC218",isHighPriority:!0},{id:"SP-009",mainCategory:"\uB178\uD2B8",midCategory:"\uC5D0\uB514\uD130",subCategory:"\uC774\uBBF8\uC9C0 \uC0BD\uC785",request:"\uB178\uD2B8\uC5D0 \uC774\uBBF8\uC9C0 \uCCA8\uBD80 \uAE30\uB2A5",priority:"2.0",feasibility:"1.0",note:"\uAE30\uC220 \uAC80\uD1A0 \uD544\uC694"},{id:"SP-010",mainCategory:"\uB178\uD2B8",midCategory:"\uD3F4\uB354",subCategory:"\uD3F4\uB354 \uAD00\uB9AC",request:`\uB178\uD2B8 \uD3F4\uB354 \uC0DD\uC131/\uC218\uC815/\uC0AD\uC81C
- \uB4DC\uB798\uADF8 \uC564 \uB4DC\uB86D\uC73C\uB85C \uC815\uB9AC`,priority:"2.0",feasibility:"1.5",note:""},{id:"SP-011",mainCategory:"\uD611\uC5C5",midCategory:"\uACF5\uC720",subCategory:"\uBB38\uC11C \uACF5\uC720",request:`\uBB38\uC11C \uACF5\uC720 \uB9C1\uD06C \uC0DD\uC131
- \uAD8C\uD55C \uC124\uC815 (\uBCF4\uAE30/\uD3B8\uC9D1)`,priority:"2.5",feasibility:"1.0",note:"\uBCF4\uC548 \uAC80\uD1A0 \uD544\uC694"},{id:"SP-012",mainCategory:"\uD611\uC5C5",midCategory:"\uC2E4\uC2DC\uAC04",subCategory:"\uB3D9\uC2DC \uD3B8\uC9D1",request:"\uC2E4\uC2DC\uAC04 \uB3D9\uC2DC \uD3B8\uC9D1 \uAE30\uB2A5",priority:"1.5",feasibility:"0.5",note:"3\uCC28 \uAC1C\uBC1C, \uBCF5\uC7A1\uB3C4 \uB192\uC74C"}];this.specPlanData=t,this.categorizeItemsToKanban(t)}categorizeItemsToKanban(t){this.kanbanColumns.forEach(e=>e.items=[]),t.forEach(e=>{switch(e.status||(e.status="open"),e.status){case"open":this.kanbanColumns[0].items.push(e);break;case"inProgress":this.kanbanColumns[1].items.push(e);break;case"completed":this.kanbanColumns[2].items.push(e);break;default:this.kanbanColumns[0].items.push(e)}})}getPriorityClass(t){let e=parseFloat(t)||0;return e>=4?"priority-high":e>=2?"priority-medium":"priority-low"}getFeasibilityClass(t){let e=parseFloat(t)||0;return e>=4?"feasibility-high":e>=2?"feasibility-medium":"feasibility-low"}getScoreVisual(t){let e=parseFloat(t)||0,n=Math.round(e),a=3-n;return"\u25CF".repeat(Math.min(n,3))+"\u25CB".repeat(Math.max(a,0))}toggleCardExpand(t,e){e.stopPropagation(),this.expandedCardId===t?this.expandedCardId=null:this.expandedCardId=t}isCardExpanded(t){return this.expandedCardId===t}getItemsByMainCategory(t){let e=new Map;return t.forEach(n=>{e.has(n.mainCategory)||e.set(n.mainCategory,[]),e.get(n.mainCategory).push(n)}),e}getMainCategoryColor(t){return this.STATUS_COLORS.open}getHighPriorityCount(){return this.specPlanData.filter(t=>t.isHighPriority).length}getCompletedCount(){return this.specPlanData.filter(t=>t.status==="completed").length}getInProgressCount(){return this.specPlanData.filter(t=>t.status==="inProgress").length}getTotalItemsInMainCategory(t){return t.midCategories.reduce((e,n)=>e+n.items.length,0)}onKanbanDrop(t,e){if(t.previousContainer===t.container)Ft(t.container.data,t.previousIndex,t.currentIndex);else{let n=t.previousContainer.data[t.previousIndex];n.status=e,jt(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex);let a=this.specPlanData.find(d=>d.id===n.id);a&&(a.status=e,a.progress=this.getProgressFromStatus(e)),this.syncHierarchicalData(),this.markAsChanged(),this.snackbar.open(`"${n.subCategory||n.midCategory}" \uD56D\uBAA9\uC774 "${this.getColumnTitle(e)}"\uC73C\uB85C \uC774\uB3D9\uB418\uC5C8\uC2B5\uB2C8\uB2E4`,"\uD655\uC778",{duration:3e3})}}getColumnTitle(t){switch(t){case"open":return"\uC624\uD508";case"inProgress":return"\uC9C4\uD589\uC911";case"completed":return"\uC644\uB8CC";default:return""}}syncHierarchicalData(){this.hierarchicalData.forEach(t=>{t.midCategories.forEach(e=>{e.items.forEach(n=>{let a=this.specPlanData.find(d=>d.id===n.id);a&&(n.status=a.status)})})})}getKanbanColumnStatus(t){switch(t.status||"open"){case"open":return{type:"open",label:"\uC624\uD508",color:"#3b82f6"};case"inProgress":return{type:"inProgress",label:"\uC9C4\uD589\uC911",color:"#f59e0b"};case"completed":return{type:"completed",label:"\uC644\uB8CC",color:"#10b981"};default:return{type:"open",label:"\uC624\uD508",color:"#3b82f6"}}}initializeNodePositions(){this.pages.forEach((t,e)=>{let n=100+e%3*350,a=100+Math.floor(e/3)*200;this.nodePositions.set(t.id,{x:n,y:a})})}autoGroupNodesByCategory(){let t=new Map;this.pages.forEach(a=>{let d=a.category||"\uAE30\uD0C0";t.has(d)||t.set(d,[]),t.get(d).push(a.id)});let e=100,n=100;t.forEach((a,d)=>{if(a.length===0)return;let p=this.STATUS_COLORS.open;this.autoGroupsByCategory.set(d,{nodeIds:a,color:p});let b=80;a.forEach((O,y)=>{let D=n,T=e+y*b;this.nodePositions.set(O,{x:D,y:T})});let P=a.length*b+50;e+=P+80,e>800&&(e=100,n+=400)})}createGroupsFromPages(){if(!this.pages||this.pages.length===0)return;this.nodeGroups.clear(),this.nodePositions.clear(),this.virtualGroupPositions.clear();let t=new Map;this.pages.forEach(G=>{let U=G.category||"\uAE30\uD0C0";t.has(U)||t.set(U,[]),t.get(U).push(G)});let e=Array.from(t.keys()).sort(),n=400,a=3,d=100,p=100,b=85,P=100,O=110,y=0,D=d,T=p,$=0;e.forEach(G=>{t.get(G).forEach(R=>{let ce=$%a,et=Math.floor($/a);ce===0&&$>0&&(T+=y+P,y=0),D=d+ce*n;let tt=`page-group-${R.id}`,Oe=[],nt=R.components||[];this.nodeGroups.set(tt,{nodeIds:Oe,title:R.name,x:D,y:T,description:R.description,category:G}),this.virtualGroupPositions.set(tt,{x:D,y:T});let Ne=O+(R.description?60:0);if(nt.length>0)nt.forEach((Ge,it)=>{let at=`${R.id}-comp-${it}`;Oe.push(at),this.nodePositions.set(at,{x:D+20,y:T+Ne+it*b})});else{let Ge=`${R.id}-comp-default`;Oe.push(Ge),this.nodePositions.set(Ge,{x:D+20,y:T+Ne})}let ot=Ne+Oe.length*b+20;ot>y&&(y=ot),$++})})}createSampleRoleGroups(){let t=[{id:"group-auth",title:"\uC778\uC99D & \uBCF4\uC548",color:this.STATUS_COLORS.open,nodeCount:3,col:0,row:0},{id:"group-main",title:"\uBA54\uC778 \uD654\uBA74",color:this.STATUS_COLORS.open,nodeCount:3,col:1,row:0},{id:"group-content",title:"\uCF58\uD150\uCE20 \uAD00\uB9AC",color:this.STATUS_COLORS.open,nodeCount:4,col:2,row:0},{id:"group-collab",title:"\uD611\uC5C5 & \uACF5\uC720",color:this.STATUS_COLORS.open,nodeCount:3,col:0,row:1},{id:"group-settings",title:"\uC124\uC815 & \uAD00\uB9AC",color:this.STATUS_COLORS.open,nodeCount:3,col:1,row:1}],e=0,n=85,a=400,d=600,p=100,b=100;t.forEach(P=>{let O=[],y=p+P.col*a,D=b+P.row*d;for(let T=0;T<P.nodeCount;T++){let $=`sample-${e}`;O.push($);let G=y+20,U=D+110+T*n;this.nodePositions.set($,{x:G,y:U}),e++}this.nodeGroups.set(P.id,{nodeIds:O,title:P.title,x:y,y:D}),this.virtualGroupPositions.set(P.id,{x:y,y:D})})}getCategoryColor(t){for(let[e,n]of this.autoGroupsByCategory)if(n.nodeIds.includes(t))return n.color;return this.STATUS_COLORS.open}getPageCategory(t){return this.pages.find(n=>n.id===t)?.category||""}getPageDescription(t){return this.pages.find(n=>n.id===t)?.description||""}getSampleNodeIds(){let t=[];for(let e of this.nodeGroups.values())t.push(...e.nodeIds);return t}getSampleNodeName(t){if(t.startsWith("SP-")){let n=this.specPlanData.find(a=>a.id===t);if(n)return n.subCategory||n.midCategory||n.request.substring(0,20)}if(t.includes("-comp-")){let n=t.split("-comp-"),a=n[0],d=n[1],p=this.pages.find(b=>b.id===a);if(p&&p.components)return d==="default"?"\uAE30\uBCF8 \uAD6C\uC131\uC694\uC18C":p.components[parseInt(d)]||"\uAD6C\uC131\uC694\uC18C"}let e=this.pages.find(n=>n.id===t);return e?e.name:"\uAD6C\uC131\uC694\uC18C"}getSpecPlanItem(t){return this.specPlanData.find(e=>e.id===t)}getNodePosition(t){return this.nodePositions.get(t)||{x:0,y:0}}onNodeMouseDown(t,e){this.isPenMode||this.isSpacePressed||t.button!==0||(t.stopPropagation(),this.draggingNodeId=e,this.dragStartX=t.clientX,this.dragStartY=t.clientY)}onCanvasMouseMove(t){if(this.draggingNodeId){let e=t.clientX-this.dragStartX,n=t.clientY-this.dragStartY,a=this.nodePositions.get(this.draggingNodeId)||{x:0,y:0},d=this.zoomLevel/100;this.nodePositions.set(this.draggingNodeId,{x:a.x+e/d,y:a.y+n/d}),this.dragStartX=t.clientX,this.dragStartY=t.clientY;return}if(this.isPanning){let e=t.clientX-this.panStartX,n=t.clientY-this.panStartY;this.offsetX+=e,this.offsetY+=n,this.panStartX=t.clientX,this.panStartY=t.clientY}}onCanvasMouseUp(){this.draggingNodeId=null,this.isPanning=!1}zoomIn(){this.zoomLevel<200&&(this.zoomLevel=Math.min(200,this.zoomLevel+10),this.zoomLevelChange.emit(this.zoomLevel))}zoomOut(){this.zoomLevel>50&&(this.zoomLevel=Math.max(50,this.zoomLevel-10),this.zoomLevelChange.emit(this.zoomLevel))}resetZoom(){this.zoomLevel=100,this.zoomLevelChange.emit(this.zoomLevel)}onWheel(t){(t.ctrlKey||t.metaKey)&&(t.preventDefault(),t.deltaY<0?this.zoomIn():this.zoomOut())}handleKeyboard(t){if(t.code==="Space"){let e=t.target;e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&(this.isSpacePressed=!0,t.preventDefault())}(t.ctrlKey||t.metaKey)&&(t.key==="+"||t.key==="="?(t.preventDefault(),this.zoomIn()):t.key==="-"?(t.preventDefault(),this.zoomOut()):t.key==="0"&&(t.preventDefault(),this.resetZoom()))}handleKeyUp(t){t.code==="Space"&&(this.isSpacePressed=!1)}onBlur(){this.isSpacePressed=!1}onCanvasMouseDown(t){(this.isSpacePressed||this.isPenMode)&&t.button===0&&(this.isPanning=!0,this.panStartX=t.clientX,this.panStartY=t.clientY,t.preventDefault())}togglePenMode(){this.isPenMode=!this.isPenMode,this.penModeChange.emit(this.isPenMode)}onNodeClick(t,e){this.isMultiSelectMode?(this.selectedNodeIds.has(e)?this.selectedNodeIds.delete(e):this.selectedNodeIds.add(e),t.stopPropagation()):t.shiftKey&&(this.selectedNodeIds.has(e)?this.selectedNodeIds.delete(e):this.selectedNodeIds.add(e),t.stopPropagation())}onNodeDoubleClick(t){let e;if(t.includes("-comp-")){let n=t.split("-comp-")[0];e=this.pages.find(a=>a.id===n)}else e=this.pages.find(n=>n.id===t);if(e){let n=e.projectModule||"desk",a=this.getProjectModuleRoute(n,e.id),d=document.querySelector("base")?.getAttribute("href")||"/",p=`${window.location.origin}${d}#${a}`;console.log("\u{1F517} Opening simulator in new window:",p),window.open(p,"_blank")}}getProjectModuleRoute(t,e){let n=t;return(!n||n==="desk")&&e&&(e.startsWith("EZCAL-")?n="calendar":e.startsWith("EZNOTE-")&&(n="note")),{calendar:"/calendar/pc",note:"/note/pc",project:"/project/pc",dashboard:"/dashboard/pc",desk:"/desk"}[n]||"/desk"}isNodeSelected(t){return this.selectedNodeIds.has(t)}groupSelectedNodes(){if(this.selectedNodeIds.size<2){this.snackbar.open("\uADF8\uB8F9\uD654\uD558\uB824\uBA74 \uCD5C\uC18C 2\uAC1C \uC774\uC0C1\uC758 \uB178\uB4DC\uB97C \uC120\uD0DD\uD558\uC138\uC694","\uB2EB\uAE30",{duration:3e3});return}let t=`group-${this.groupCounter++}`,e=Array.from(this.selectedNodeIds),n=100+this.groupCounter*50,a=100+this.groupCounter*50,d=80;e.forEach((p,b)=>{let P=n,O=a+b*d;this.nodePositions.set(p,{x:P,y:O})}),this.nodeGroups.set(t,{nodeIds:e,title:`\uADF8\uB8F9 ${this.groupCounter}`,x:n,y:a}),this.snackbar.open(`${e.length}\uAC1C\uC758 \uB178\uB4DC\uAC00 \uADF8\uB8F9\uD654\uB418\uC5C8\uC2B5\uB2C8\uB2E4`,"\uB2EB\uAE30",{duration:3e3}),this.selectedNodeIds.clear()}ungroupNodes(t){let e=this.nodeGroups.get(t);e&&(e.nodeIds.forEach(n=>this.selectedNodeIds.add(n)),this.nodeGroups.delete(t),this.snackbar.open("\uADF8\uB8F9\uC774 \uD574\uC81C\uB418\uC5C8\uC2B5\uB2C8\uB2E4","\uB2EB\uAE30",{duration:3e3}))}getGroupIdForNode(t){for(let[e,n]of this.nodeGroups)if(n.nodeIds.includes(t))return e;return null}getGroupNodes(t){return this.nodeGroups.get(t)?.nodeIds||[]}getGroupBounds(t){let e=this.nodeGroups.get(t);if(!e||e.nodeIds.length===0)return null;let n=this.virtualGroupPositions.get(t)||{x:e.x,y:e.y},a=n.x,d=n.y,p=a+320,b=e.nodeIds.length,P=85,O=110;e.description&&(O+=60);let y=d+O+b*P;return{minX:a,minY:d,maxX:p,maxY:y}}getCategoryGroupBounds(t){let e=this.autoGroupsByCategory.get(t);if(!e||e.nodeIds.length===0)return null;let n=1/0,a=1/0,d=-1/0,p=-1/0;return e.nodeIds.forEach(b=>{let P=this.getNodePosition(b);n=Math.min(n,P.x),a=Math.min(a,P.y),d=Math.max(d,P.x+160),p=Math.max(p,P.y+60)}),{minX:n,minY:a,maxX:d,maxY:p}}startEditingGroupTitle(t){let e=this.nodeGroups.get(t);e&&(this.editingGroupId=t,this.editingGroupTitle=e.title)}saveGroupTitle(t,e){let n=this.nodeGroups.get(t);n&&e.trim()&&(n.title=e.trim(),this.editingGroupId=null,this.editingGroupTitle="")}cancelEditingGroupTitle(){this.editingGroupId=null,this.editingGroupTitle=""}clearSelection(){this.selectedNodeIds.clear()}onGroupMouseDown(t,e){t.button===0&&(t.stopPropagation(),this.draggingGroupId=e,this.dragStartX=t.clientX,this.dragStartY=t.clientY)}onGroupMouseMove(t,e){if(this.draggingGroupId!==e||!this.draggingGroupId)return;let n=t.clientX-this.dragStartX,a=t.clientY-this.dragStartY,d=this.virtualGroupPositions.get(e);d&&(d.x+=n/(this.zoomLevel/100),d.y+=a/(this.zoomLevel/100)),this.dragStartX=t.clientX,this.dragStartY=t.clientY}onGroupMouseUp(){this.draggingGroupId=null}getTransformStyle(){return`translate(${this.offsetX}px, ${this.offsetY}px) scale(${this.zoomLevel/100})`}getProgressFromStatus(t){switch(t){case"completed":return 100;case"inProgress":return 50;case"open":default:return 0}}generateFlowchartData(){if(this.specPlanData.length===0)return;let t=this.originalJsonData?.screenPositions,e=this.originalJsonData?.screenMapping;e&&Object.keys(e).length>0?this.flowchartScreens=this.flowchartService.generateScreensFromMapping(e,this.specPlanData,t):this.flowchartScreens=this.flowchartService.generateScreensFromSpecPlan(this.specPlanData,this.folderType,t)}selectScreen(t){if(this.wasDragged){this.wasDragged=!1;return}this.selectedScreenId=t.id}getSelectedScreen(){return this.flowchartScreens.find(t=>t.id===this.selectedScreenId)}closeDetailPanel(){this.selectedScreenId=null}getStatusLabel(t){return{open:"\uB300\uAE30",inProgress:"\uC9C4\uD589\uC911",completed:"\uC644\uB8CC",review:"\uAC80\uD1A0\uC911",blocked:"\uBCF4\uB958"}[t]||t}getScreenTypeLabel(t){return{screen:"\uD654\uBA74",modal:"\uBAA8\uB2EC",panel:"\uD328\uB110",sheet:"\uC2DC\uD2B8"}[t]||t}toggleScreenExpand(t,e){e.stopPropagation(),this.expandedScreenId=this.expandedScreenId===t?null:t}isScreenExpanded(t){return this.expandedScreenId===t}getGroupedFeatures(t){return this.flowchartService.groupFeaturesByMidCategory(t.features)}getScreenProgress(t){return this.flowchartService.calculateScreenProgress(t)}getEventTypeColor(t){return this.flowchartService.getEventColor(t)}flowchartZoomIn(){this.flowchartZoom=Math.min(200,this.flowchartZoom+10)}flowchartZoomOut(){this.flowchartZoom=Math.max(50,this.flowchartZoom-10)}flowchartFitToScreen(){this.flowchartZoom=100,this.flowchartPanX=0,this.flowchartPanY=0}autoLayoutFlowchart(){if(this.flowchartScreens.length===0)return;let t=this.flowchartService.autoLayoutScreens(this.flowchartScreens);for(let n of this.flowchartScreens)t[n.name]&&(n.position=t[n.name]);let e=this.flowchartService.findCollidingScreens(this.flowchartScreens,t);e.length>0?this.snackbar.open(`\u26A0\uFE0F \uCDA9\uB3CC \uAC10\uC9C0: ${e.join(", ")} (\uACB9\uCE68)`,"\uD655\uC778",{duration:3e3}):this.snackbar.open("\u2713 \uC790\uB3D9 \uC815\uB82C \uC644\uB8CC (\uCDA9\uB3CC \uC5C6\uC74C)","\uD655\uC778",{duration:2e3}),this.flowchartZoom=100,this.flowchartPanX=0,this.flowchartPanY=0}startFlowchartPan(t){t.button===0&&(this.isFlowchartPanning=!0,this.flowchartPanStartX=t.clientX-this.flowchartPanX,this.flowchartPanStartY=t.clientY-this.flowchartPanY)}onFlowchartPanMove(t){this.isFlowchartPanning&&(this.flowchartPanX=t.clientX-this.flowchartPanStartX,this.flowchartPanY=t.clientY-this.flowchartPanStartY)}endFlowchartPan(){this.isFlowchartPanning=!1}onFlowchartWheel(t){t.preventDefault();let e=t.deltaY>0?-10:10;this.flowchartZoom=Math.max(50,Math.min(200,this.flowchartZoom+e))}getFlowchartTransform(){return`translate(${this.flowchartPanX}px, ${this.flowchartPanY}px) scale(${this.flowchartZoom/100})`}calculateEdgePath(t,e){let d=this.getScreenPositionWithOffset(t),p=this.getScreenPositionWithOffset(e);return this.flowchartService.calculateEdgePath(H(A({},d),{width:240,height:120}),H(A({},p),{width:240,height:120}))}getTargetScreen(t){return this.flowchartScreens.find(e=>e.id===t)}onScreenDragStart(t,e){this.draggingScreenId=e.id,this.dragStartPosition={x:e.position.x,y:e.position.y},this.dragOffsetX=0,this.dragOffsetY=0,this.wasDragged=!1}onScreenDragMove(t,e){let n=t.distance,a=this.flowchartZoom/100;this.dragOffsetX=n.x/a,this.dragOffsetY=n.y/a,(Math.abs(this.dragOffsetX)>5||Math.abs(this.dragOffsetY)>5)&&(this.wasDragged=!0),e.position.x=Math.max(0,this.dragStartPosition.x+this.dragOffsetX),e.position.y=Math.max(0,this.dragStartPosition.y+this.dragOffsetY),t.source._dragRef.reset()}onScreenDragEnd(t,e){e.position.x=Math.max(0,e.position.x),e.position.y=Math.max(0,e.position.y),this.draggingScreenId=null,this.dragOffsetX=0,this.dragOffsetY=0,t.source._dragRef.reset(),this.hasUnsavedChanges=!0}getScreenPositionWithOffset(t){return t.position}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=W({type:r,selectors:[["app-ia-canvas"]],viewQuery:function(e,n){if(e&1&&(K(Fn,7,De),K(jn,7),K(Ln,5)),e&2){let a;Q(a=J())&&(n.container=a.first),Q(a=J())&&(n.intentNameInput=a.first),Q(a=J())&&(n.fileInput=a.first)}},hostBindings:function(e,n){e&1&&h("keydown",function(d){return n.handleKeyboard(d)},Se)("keyup",function(d){return n.handleKeyUp(d)},Se)("blur",function(){return n.onBlur()},Se)},inputs:{width:[1,"width"],height:[1,"height"],pages:"pages",userFlows:"userFlows",viewMode:"viewMode",isMultiSelectMode:"isMultiSelectMode",folderType:"folderType",specPlanData:"specPlanData",zoomLevel:"zoomLevel",isPenMode:"isPenMode"},outputs:{playSimulator:"playSimulator",zoomLevelChange:"zoomLevelChange",penModeChange:"penModeChange",simulatorRequested:"simulatorRequested"},standalone:!1,decls:74,vars:26,consts:[[1,"chatflow-edit-container",3,"ngStyle"],[1,"top-toolbar"],[1,"view-mode-toggle"],[1,"toggle-btn",3,"click"],["width","16","height","16","viewBox","0 0 16 16","fill","currentColor"],["x","1","y","1","width","4","height","14","rx","1"],["x","6","y","3","width","4","height","10","rx","1"],["x","11","y","2","width","4","height","12","rx","1"],["x","1","y","1","width","6","height","6","rx","1"],["x","9","y","1","width","6","height","6","rx","1"],["x","1","y","9","width","6","height","6","rx","1"],["x","9","y","9","width","6","height","6","rx","1"],["cx","8","cy","3","r","2","fill","none","stroke","currentColor","stroke-width","1.5"],["cx","4","cy","11","r","2","fill","none","stroke","currentColor","stroke-width","1.5"],["cx","12","cy","11","r","2","fill","none","stroke","currentColor","stroke-width","1.5"],["d","M8 5v2M6 9L8 7M10 9L8 7","stroke","currentColor","stroke-width","1.5","fill","none"],["d","M3 1h10a2 2 0 012 2v10a2 2 0 01-2 2H3a2 2 0 01-2-2V3a2 2 0 012-2z","fill","none","stroke","currentColor","stroke-width","1.5"],["d","M4 5h8M4 8h8M4 11h5","stroke","currentColor","stroke-width","1.5","stroke-linecap","round"],["x","1","y","2","width","14","height","2","rx","0.5"],["x","1","y","5","width","10","height","2","rx","0.5"],["x","1","y","8","width","12","height","2","rx","0.5"],["x","1","y","11","width","8","height","2","rx","0.5"],[1,"data-source-info"],[1,"source-badge","calendar"],[1,"source-badge","note"],[1,"stats-info"],[1,"stat-item"],[1,"stat-label"],[1,"stat-value"],[1,"stat-item","high"],[1,"save-toolbar"],["title","\uBCC0\uACBD\uC0AC\uD56D \uC800\uC7A5",1,"save-btn","primary",3,"click"],["d","M2 2v12h12V4.5L11.5 2H2zm1 1h7v3H3V3zm8 0h.5l2.5 2.5V13H3V7h10v6H3V3h8z"],["x","4","y","8","width","8","height","4","rx","0.5"],[1,"unsaved-dot"],["title","JSON \uD30C\uC77C\uB85C \uB2E4\uC6B4\uB85C\uB4DC",1,"save-btn","secondary",3,"click"],["d","M8 10l-3-3h2V3h2v4h2l-3 3z"],["d","M13 11v2H3v-2H2v3h12v-3h-1z"],["title","\uC6D0\uBCF8 \uB370\uC774\uD130\uB85C \uBCF5\uC6D0",1,"save-btn","danger",3,"click"],["d","M8 3a5 5 0 00-4.546 2.914l-.908-.418A6 6 0 0114 8h-2a4 4 0 00-4-5z"],["d","M2 8a6 6 0 0010.454 4.086l.908.418A7 7 0 012 8h2z"],["d","M1 4v3h3"],[1,"loading-overlay"],["class","multiselect-toolbar",4,"ngIf"],["cdkDropListGroup","",1,"kanban-container"],[1,"hierarchical-canvas"],[1,"spec-plan-container"],[1,"wbs-view-container"],[1,"flowchart-container"],[1,"loading-spinner"],[1,"multiselect-toolbar"],[1,"selection-info"],["class","save-selection-btn",3,"click",4,"ngIf"],[1,"clear-btn",3,"click"],["d","M12 4L4 12M4 4L12 12","stroke","currentColor","stroke-width","1.5","stroke-linecap","round"],[1,"save-selection-btn",3,"click"],["x","1","y","1","width","5","height","5","stroke","currentColor","stroke-width","1","fill","none"],["x","10","y","1","width","5","height","5","stroke","currentColor","stroke-width","1","fill","none"],["x","1","y","10","width","5","height","5","stroke","currentColor","stroke-width","1","fill","none"],["x","10","y","10","width","5","height","5","stroke","currentColor","stroke-width","1","fill","none"],[1,"kanban-column"],[1,"kanban-column-header",3,"ngStyle"],[1,"column-title"],[1,"column-indicator",3,"ngStyle"],[1,"column-count"],["cdkDropList","",1,"kanban-column-content",3,"cdkDropListDropped","id","cdkDropListData","cdkDropListConnectedTo"],["cdkDrag","",1,"kanban-card",3,"high-priority","expanded"],[1,"empty-column"],["cdkDrag","",1,"kanban-card"],["cdkDragHandle","",1,"drag-handle",3,"click"],["cx","4","cy","4","r","1.5"],["cx","12","cy","4","r","1.5"],["cx","4","cy","8","r","1.5"],["cx","12","cy","8","r","1.5"],["cx","4","cy","12","r","1.5"],["cx","12","cy","12","r","1.5"],[1,"card-body",3,"click"],[1,"card-header"],[1,"card-categories"],[1,"category-badge","main",3,"ngStyle"],[1,"category-badge","mid"],[1,"category-badge","sub"],[1,"priority-flag"],[1,"card-title"],[1,"card-id"],[1,"card-request-preview"],[1,"card-scores"],[1,"score-item"],[1,"score-label"],[1,"score-value"],[1,"card-details"],[1,"card-note-preview"],[1,"expand-indicator"],["width","12","height","12","viewBox","0 0 12 12","fill","currentColor"],["d","M3 4.5L6 7.5L9 4.5","stroke","currentColor","stroke-width","1.5","fill","none","stroke-linecap","round"],["class","drag-placeholder",4,"cdkDragPlaceholder"],[1,"detail-section"],[1,"detail-label"],[1,"detail-content","request-content"],[1,"detail-section","info-row"],[1,"info-item"],[1,"info-label"],[1,"info-value"],[1,"detail-content","note-content"],[1,"drag-placeholder"],[1,"canvas-stats-bar"],[1,"stat-item","priority"],[1,"hierarchy-container"],[1,"main-category-card",3,"border-left-color"],[1,"main-category-card"],[1,"main-category-header"],[1,"main-category-title"],[1,"category-icon"],[1,"category-name"],[1,"main-category-stats"],[1,"mid-count"],[1,"item-count"],[1,"mid-categories-container"],[1,"mid-category-section"],[1,"mid-category-header"],[1,"mid-category-name"],[1,"mid-category-count"],[1,"items-list"],[1,"spec-item-card",3,"high-priority","expanded"],[1,"spec-item-card",3,"click"],[1,"feasibility-indicator"],[1,"item-content"],[1,"item-header"],[1,"item-title"],[1,"priority-badge"],[1,"kanban-status-badge"],[1,"status-dot"],[1,"item-scores"],[1,"score-badge","request"],[1,"score-icon"],[1,"score-num"],[1,"score-badge","feasibility"],[1,"item-details"],[1,"expand-icon"],["width","10","height","10","viewBox","0 0 10 10"],["d","M2 3.5L5 6.5L8 3.5","stroke","currentColor","stroke-width","1.5","fill","none"],[1,"detail-row"],[1,"detail-value"],[1,"detail-row","id-row"],[1,"detail-id"],[1,"spec-plan-table-wrapper"],[1,"spec-plan-table"],[1,"col-id"],[1,"col-status"],[1,"col-main"],[1,"col-mid"],[1,"col-sub"],[1,"col-request"],[1,"col-priority"],[1,"col-feasibility"],[1,"col-note"],[3,"high-priority","completed"],[1,"id-badge"],[1,"status-badge"],[1,"category-tag","main"],[1,"request-text"],[1,"score-badge"],[1,"note-text"],[3,"folderType"],[1,"flowchart-container",3,"wheel","mousedown","mousemove","mouseup","mouseleave"],[1,"flowchart-toolbar"],[1,"toolbar-group"],["title","\uD655\uB300",1,"toolbar-btn",3,"click"],[1,"material-icons"],[1,"zoom-level"],["title","\uCD95\uC18C",1,"toolbar-btn",3,"click"],["title","\uD654\uBA74 \uB9DE\uCDA4",1,"toolbar-btn",3,"click"],["title","\uC790\uB3D9 \uC815\uB82C",1,"toolbar-btn","auto-layout",3,"click"],[1,"btn-label"],[1,"toolbar-label"],[1,"screen-type-legend"],[1,"legend-item","screen-type"],[1,"dot","screen"],[1,"dot","modal"],[1,"dot","panel"],[1,"dot","sheet"],[1,"divider"],[1,"status-legend"],[1,"legend-item","status"],[1,"dot","open"],[1,"dot","in-progress"],[1,"dot","completed"],[1,"flowchart-canvas"],["height","2000",1,"edges-layer"],["id","arrowhead","markerWidth","10","markerHeight","7","refX","9","refY","3.5","orient","auto"],["points","0 0, 10 3.5, 0 7","fill","#666"],[1,"screen-nodes"],["cdkDrag","",1,"screen-node",3,"cdkDragData","left","top","selected","expanded","type-screen","type-modal","type-panel","type-sheet"],[1,"empty-flowchart"],[1,"detail-panel"],["marker-end","url(#arrowhead)",1,"edge-path",3,"class"],["marker-end","url(#arrowhead)",1,"edge-path"],["cdkDrag","",1,"screen-node",3,"cdkDragStarted","cdkDragMoved","cdkDragEnded","click","cdkDragData"],[1,"node-header"],[1,"node-icon"],[1,"node-title"],[1,"screen-type-badge"],[1,"expand-btn",3,"click"],[1,"features-preview"],[1,"preview-group"],[1,"preview-mid"],[1,"preview-count"],[1,"features-section","expanded"],[1,"feature-group"],[1,"events-section"],[1,"events-header"],[1,"event-tags"],[1,"event-tag",3,"class","title"],[1,"progress-bar-container"],[1,"progress-label"],[1,"progress-bar"],[1,"progress-fill"],[1,"group-header"],[1,"feature-count"],[1,"feature-list"],[1,"feature-item",3,"class"],[1,"feature-item"],[1,"feature-name"],[1,"feature-request",3,"title"],[1,"progress-badge"],[1,"event-tag",3,"title"],[1,"hint"],[1,"detail-panel",3,"click","wheel"],[1,"detail-header"],[1,"detail-icon"],[1,"detail-title-section"],[1,"detail-title"],[1,"close-btn",3,"click"],[1,"detail-content"],[1,"detail-summary"],[1,"summary-item"],[1,"summary-label"],[1,"summary-value"],[1,"detail-progress"],[1,"detail-features"],[1,"section-title"],[1,"detail-group"],[1,"detail-events"],[1,"events-list"],[1,"event-item",3,"class"],[1,"detail-connections"],[1,"detail-group-header"],[1,"group-name"],[1,"group-count"],[1,"detail-group-items"],[1,"detail-item"],[1,"status-indicator"],[1,"item-name"],[1,"item-status-badge"],[1,"item-request"],[1,"item-meta"],[1,"meta-item","priority"],[1,"meta-item","feasibility"],[1,"meta-item","progress"],[1,"request-label"],[1,"event-item"],[1,"event-type-badge"],[1,"event-info"],[1,"event-name"],[1,"event-trigger"],[1,"connections-list"],[1,"connection-item"],[1,"connection-item",3,"click"],[1,"connection-icon"],[1,"connection-name"],[1,"connection-type"],[1,"material-icons","arrow"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),h("click",function(){return n.viewMode="kanban"}),v(),o(4,"svg",4),m(5,"rect",5)(6,"rect",6)(7,"rect",7),i(),c(8," \uCE78\uBC18 "),i(),z(),o(9,"button",3),h("click",function(){return n.viewMode="canvas"}),v(),o(10,"svg",4),m(11,"rect",8)(12,"rect",9)(13,"rect",10)(14,"rect",11),i(),c(15," \uCE94\uBC84\uC2A4 "),i(),z(),o(16,"button",3),h("click",function(){return n.viewMode="flowchart"}),v(),o(17,"svg",4),m(18,"circle",12)(19,"circle",13)(20,"circle",14)(21,"path",15),i(),c(22," IA "),i(),z(),o(23,"button",3),h("click",function(){return n.viewMode="specPlan"}),v(),o(24,"svg",4),m(25,"path",16)(26,"path",17),i(),c(27," \uAE30\uD68D\uC548 "),i(),z(),o(28,"button",3),h("click",function(){return n.viewMode="wbs"}),v(),o(29,"svg",4),m(30,"rect",18)(31,"rect",19)(32,"rect",20)(33,"rect",21),i(),c(34," WBS "),i()(),z(),o(35,"div",22),f(36,Nn,2,0,"span",23)(37,Gn,2,0,"span",24),i(),o(38,"div",25)(39,"span",26)(40,"span",27),c(41,"\uC804\uCCB4"),i(),o(42,"span",28),c(43),i()(),o(44,"span",29)(45,"span",27),c(46,"\uAE34\uAE09"),i(),o(47,"span",28),c(48),i()()(),o(49,"div",30)(50,"button",31),h("click",function(){return n.saveToLocalStorage()}),v(),o(51,"svg",4),m(52,"path",32)(53,"rect",33),i(),c(54," \uC800\uC7A5 "),f(55,qn,1,0,"span",34),i(),z(),o(56,"button",35),h("click",function(){return n.downloadAsJson()}),v(),o(57,"svg",4),m(58,"path",36)(59,"path",37),i(),c(60," \uB2E4\uC6B4\uB85C\uB4DC "),i(),z(),o(61,"button",38),h("click",function(){return n.resetToOriginal()}),v(),o(62,"svg",4),m(63,"path",39)(64,"path",40)(65,"path",41),i(),c(66," \uCD08\uAE30\uD654 "),i()()(),f(67,Yn,4,0,"div",42),ne(68,Zn,8,2,"div",43),f(69,ao,3,0,"div",44),f(70,mo,20,3,"div",45),f(71,Co,26,0,"div",46),f(72,fo,2,1,"div",47),f(73,Ho,62,9,"div",48),i()),e&2&&(w("ngStyle",Me(24,Vn,n.height()?n.height():"")),s(3),M("active",n.viewMode==="kanban"),s(6),M("active",n.viewMode==="canvas"),s(7),M("active",n.viewMode==="flowchart"),s(7),M("active",n.viewMode==="specPlan"),s(5),M("active",n.viewMode==="wbs"),s(8),_(n.folderType==="calendar"?36:37),s(7),x("",n.specPlanData.length,"\uAC74"),s(5),x("",n.getHighPriorityCount(),"\uAC74"),s(2),M("has-changes",n.hasUnsavedChanges),s(5),_(n.hasUnsavedChanges?55:-1),s(12),_(n.isLoading?67:-1),s(),w("ngIf",n.selectedNodeIds.size>0),s(),_(n.viewMode==="kanban"?69:-1),s(),_(n.viewMode==="canvas"?70:-1),s(),_(n.viewMode==="specPlan"?71:-1),s(),_(n.viewMode==="wbs"?72:-1),s(),_(n.viewMode==="flowchart"?73:-1))},dependencies:[_e,St,Vt,Lt,be,Be,Rt,ae,It,Et],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;width:100%;height:100%;background:#f5f5f5}.chatflow-edit-container[_ngcontent-%COMP%]{width:100%;height:100%;padding:15px;box-sizing:border-box;display:flex;flex-direction:column;gap:12px;background:transparent}.top-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;flex-wrap:wrap}.view-mode-toggle[_ngcontent-%COMP%]{display:flex;gap:4px;padding:4px;background:#fff;border-radius:8px;border:1px solid #e5e7eb;width:fit-content;box-shadow:0 1px 3px #0000000d}.view-mode-toggle[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:8px 14px;border:none;border-radius:6px;background:transparent;cursor:pointer;font-size:13px;font-weight:500;color:#6b7280;transition:all .2s ease}.view-mode-toggle[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:.6}.view-mode-toggle[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151}.view-mode-toggle[_ngcontent-%COMP%]   .toggle-btn.active[_ngcontent-%COMP%]{background:#667eea;color:#fff;box-shadow:0 2px 4px #667eea4d}.view-mode-toggle[_ngcontent-%COMP%]   .toggle-btn.active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.data-source-info[_ngcontent-%COMP%]{display:flex;align-items:center}.data-source-info[_ngcontent-%COMP%]   .source-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:8px 14px;border-radius:8px;font-size:13px;font-weight:600}.data-source-info[_ngcontent-%COMP%]   .source-badge.calendar[_ngcontent-%COMP%]{background:#eff6ff;color:#2563eb;border:1px solid #bfdbfe}.data-source-info[_ngcontent-%COMP%]   .source-badge.note[_ngcontent-%COMP%]{background:#f5f3ff;color:#7c3aed;border:1px solid #ddd6fe}.stats-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.stats-info[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:6px 12px;background:#f8fafc;border-radius:6px;border:1px solid #e2e8f0}.stats-info[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:11px;color:#64748b}.stats-info[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#1e293b}.stats-info[_ngcontent-%COMP%]   .stat-item.high[_ngcontent-%COMP%]{background:#fef2f2;border-color:#fecaca}.stats-info[_ngcontent-%COMP%]   .stat-item.high[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%], .stats-info[_ngcontent-%COMP%]   .stat-item.high[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:#dc2626}.save-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-left:auto}.save-toolbar[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:8px 14px;border:1px solid #e2e8f0;border-radius:8px;background:#fff;cursor:pointer;font-size:12px;font-weight:500;color:#475569;transition:all .2s ease;position:relative}.save-toolbar[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:.7}.save-toolbar[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:hover{background:#f8fafc;border-color:#cbd5e1}.save-toolbar[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{opacity:1}.save-toolbar[_ngcontent-%COMP%]   .save-btn.primary[_ngcontent-%COMP%]{background:#667eea;border-color:#667eea;color:#fff}.save-toolbar[_ngcontent-%COMP%]   .save-btn.primary[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}.save-toolbar[_ngcontent-%COMP%]   .save-btn.primary[_ngcontent-%COMP%]:hover{background:#5a67d8;border-color:#5a67d8}.save-toolbar[_ngcontent-%COMP%]   .save-btn.primary.has-changes[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.save-toolbar[_ngcontent-%COMP%]   .save-btn.secondary[_ngcontent-%COMP%]{background:#f0fdf4;border-color:#86efac;color:#16a34a}.save-toolbar[_ngcontent-%COMP%]   .save-btn.secondary[_ngcontent-%COMP%]:hover{background:#dcfce7}.save-toolbar[_ngcontent-%COMP%]   .save-btn.danger[_ngcontent-%COMP%]{color:#dc2626}.save-toolbar[_ngcontent-%COMP%]   .save-btn.danger[_ngcontent-%COMP%]:hover{background:#fef2f2;border-color:#fecaca}.save-toolbar[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]   .unsaved-dot[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;width:10px;height:10px;background:#ef4444;border-radius:50%;border:2px solid white}@keyframes _ngcontent-%COMP%_pulse{0%,to{box-shadow:0 0 #667eea66}50%{box-shadow:0 0 0 8px #667eea00}}.loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#ffffffe6;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;z-index:100}.loading-overlay[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:32px;height:32px;border:3px solid #e2e8f0;border-top-color:#667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}.loading-overlay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;color:#64748b}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.kanban-container[_ngcontent-%COMP%]{display:flex;gap:16px;flex:1;overflow-x:auto;padding-bottom:16px}.kanban-container[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.kanban-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:4px}.kanban-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:4px}.kanban-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}.kanban-column[_ngcontent-%COMP%]{flex:0 0 360px;min-width:360px;background:#f8fafc;border-radius:12px;border:1px solid #e2e8f0;display:flex;flex-direction:column;max-height:calc(100vh - 180px)}.kanban-column[_ngcontent-%COMP%]   .kanban-column-header[_ngcontent-%COMP%]{padding:16px;border-top:3px solid;border-radius:12px 12px 0 0;background:#fff;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #e2e8f0}.kanban-column[_ngcontent-%COMP%]   .kanban-column-header[_ngcontent-%COMP%]   .column-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-weight:600;font-size:14px;color:#1e293b}.kanban-column[_ngcontent-%COMP%]   .kanban-column-header[_ngcontent-%COMP%]   .column-title[_ngcontent-%COMP%]   .column-indicator[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%}.kanban-column[_ngcontent-%COMP%]   .kanban-column-header[_ngcontent-%COMP%]   .column-count[_ngcontent-%COMP%]{background:#f1f5f9;color:#64748b;font-size:12px;font-weight:600;padding:4px 10px;border-radius:100px}.kanban-column[_ngcontent-%COMP%]   .kanban-column-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:12px;display:flex;flex-direction:column;gap:10px}.kanban-column[_ngcontent-%COMP%]   .kanban-column-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.kanban-column[_ngcontent-%COMP%]   .kanban-column-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.kanban-column[_ngcontent-%COMP%]   .kanban-column-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#e2e8f0;border-radius:3px}.kanban-column[_ngcontent-%COMP%]   .kanban-column-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#cbd5e1}.kanban-card[_ngcontent-%COMP%]{background:#fff;border-radius:10px;border:1px solid #e2e8f0;padding:14px 14px 14px 32px;cursor:pointer;transition:all .2s ease;position:relative}.kanban-card[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{position:absolute;left:8px;top:14px;width:20px;height:20px;display:flex;align-items:center;justify-content:center;cursor:grab;color:#cbd5e1;transition:color .2s ease;z-index:10}.kanban-card[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]:hover{color:#667eea}.kanban-card[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]:active{cursor:grabbing}.kanban-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{flex:1}.kanban-card[_ngcontent-%COMP%]:hover{border-color:#cbd5e1;box-shadow:0 4px 12px #00000014;transform:translateY(-2px)}.kanban-card[_ngcontent-%COMP%]:hover   .drag-handle[_ngcontent-%COMP%]{color:#94a3b8}.kanban-card.high-priority[_ngcontent-%COMP%]{border-left:3px solid #ef4444;background:linear-gradient(to right,#ef444408,#fff);padding-left:32px}.kanban-card.expanded[_ngcontent-%COMP%]{border-color:#667eea;box-shadow:0 8px 20px #667eea26}.kanban-card.cdk-drag-preview[_ngcontent-%COMP%]{box-shadow:0 12px 40px #0003;border-color:#667eea;opacity:.95;transform:rotate(2deg)}.kanban-card.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.kanban-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px}.kanban-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-categories[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px}.kanban-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .category-badge[_ngcontent-%COMP%]{font-size:10px;font-weight:600;padding:3px 8px;border-radius:4px}.kanban-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .category-badge.main[_ngcontent-%COMP%]{color:#fff}.kanban-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .category-badge.mid[_ngcontent-%COMP%]{background:#f1f5f9;color:#64748b}.kanban-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .category-badge.sub[_ngcontent-%COMP%]{background:#e0e7ff;color:#4f46e5;font-size:9px}.kanban-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .priority-flag[_ngcontent-%COMP%]{font-size:14px}.kanban-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#1e293b;margin-bottom:4px;line-height:1.4}.kanban-card[_ngcontent-%COMP%]   .card-id[_ngcontent-%COMP%]{font-size:10px;color:#94a3b8;font-family:monospace;margin-bottom:8px}.kanban-card[_ngcontent-%COMP%]   .card-request-preview[_ngcontent-%COMP%]{font-size:12px;color:#64748b;line-height:1.5;margin-bottom:12px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.kanban-card[_ngcontent-%COMP%]   .card-scores[_ngcontent-%COMP%]{display:flex;gap:16px;padding-top:10px;border-top:1px dashed #e2e8f0}.kanban-card[_ngcontent-%COMP%]   .card-scores[_ngcontent-%COMP%]   .score-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.kanban-card[_ngcontent-%COMP%]   .card-scores[_ngcontent-%COMP%]   .score-item[_ngcontent-%COMP%]   .score-label[_ngcontent-%COMP%]{font-size:10px;color:#94a3b8;font-weight:500}.kanban-card[_ngcontent-%COMP%]   .card-scores[_ngcontent-%COMP%]   .score-item[_ngcontent-%COMP%]   .score-value[_ngcontent-%COMP%]{font-size:12px;font-weight:600;display:flex;align-items:center;gap:6px}.kanban-card[_ngcontent-%COMP%]   .card-scores[_ngcontent-%COMP%]   .score-item[_ngcontent-%COMP%]   .score-value.priority-high[_ngcontent-%COMP%]{color:#ef4444}.kanban-card[_ngcontent-%COMP%]   .card-scores[_ngcontent-%COMP%]   .score-item[_ngcontent-%COMP%]   .score-value.priority-medium[_ngcontent-%COMP%]{color:#f59e0b}.kanban-card[_ngcontent-%COMP%]   .card-scores[_ngcontent-%COMP%]   .score-item[_ngcontent-%COMP%]   .score-value.priority-low[_ngcontent-%COMP%]{color:#6b7280}.kanban-card[_ngcontent-%COMP%]   .card-scores[_ngcontent-%COMP%]   .score-item[_ngcontent-%COMP%]   .score-value.feasibility-high[_ngcontent-%COMP%]{color:#10b981}.kanban-card[_ngcontent-%COMP%]   .card-scores[_ngcontent-%COMP%]   .score-item[_ngcontent-%COMP%]   .score-value.feasibility-medium[_ngcontent-%COMP%]{color:#f59e0b}.kanban-card[_ngcontent-%COMP%]   .card-scores[_ngcontent-%COMP%]   .score-item[_ngcontent-%COMP%]   .score-value.feasibility-low[_ngcontent-%COMP%]{color:#ef4444}.kanban-card[_ngcontent-%COMP%]   .card-note-preview[_ngcontent-%COMP%]{margin-top:10px;padding:8px 10px;background:#fef3c7;border-radius:6px;font-size:11px;color:#92400e;line-height:1.4}.kanban-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]{margin-top:14px;padding-top:14px;border-top:1px solid #e2e8f0;animation:_ngcontent-%COMP%_slideDown .2s ease}.kanban-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .detail-section[_ngcontent-%COMP%]{margin-bottom:12px}.kanban-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .detail-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.kanban-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .detail-section[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:11px;font-weight:600;color:#64748b;margin-bottom:6px}.kanban-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .detail-section[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]{font-size:12px;color:#374151;line-height:1.6}.kanban-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .detail-section[_ngcontent-%COMP%]   .detail-content.request-content[_ngcontent-%COMP%]{white-space:pre-line;background:#f8fafc;padding:10px;border-radius:6px;border:1px solid #e2e8f0}.kanban-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .detail-section[_ngcontent-%COMP%]   .detail-content.note-content[_ngcontent-%COMP%]{background:#fef3c7;padding:8px 10px;border-radius:6px;color:#92400e}.kanban-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .detail-section.info-row[_ngcontent-%COMP%]{display:flex;gap:20px}.kanban-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .detail-section.info-row[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.kanban-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .detail-section.info-row[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{font-size:10px;color:#94a3b8;font-weight:500}.kanban-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]   .detail-section.info-row[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{font-size:11px;color:#475569;font-weight:600;background:#f1f5f9;padding:2px 8px;border-radius:4px}.kanban-card[_ngcontent-%COMP%]   .expand-indicator[_ngcontent-%COMP%]{position:absolute;bottom:6px;right:10px;color:#94a3b8;transition:transform .2s ease}.kanban-card[_ngcontent-%COMP%]   .expand-indicator[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:transform .2s ease}.kanban-card[_ngcontent-%COMP%]   .expand-indicator[_ngcontent-%COMP%]   svg.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.empty-column[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:40px 20px;color:#94a3b8;font-size:13px;font-style:italic;border:2px dashed #e2e8f0;border-radius:8px;margin:8px;min-height:100px}.drag-placeholder[_ngcontent-%COMP%]{background:#667eea1a;border:2px dashed #667eea;border-radius:10px;min-height:80px;margin:10px 0;transition:all .2s ease}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .kanban-card[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.kanban-column-content.cdk-drop-list-receiving[_ngcontent-%COMP%]{background:#667eea0d;border:2px dashed rgba(102,126,234,.3);border-radius:8px;margin:4px}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;max-height:0}to{opacity:1;max-height:500px}}.multiselect-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;background:#3b82f614;border-radius:10px;border:1px solid rgba(59,130,246,.2);animation:_ngcontent-%COMP%_slideDown .2s ease}.multiselect-toolbar[_ngcontent-%COMP%]   .selection-info[_ngcontent-%COMP%]{font-size:13px;font-weight:500;color:#6b7280;margin-right:8px}.multiselect-toolbar[_ngcontent-%COMP%]   .save-selection-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:6px 12px;background:#3b82f6;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:12px;font-weight:600;transition:all .2s ease}.multiselect-toolbar[_ngcontent-%COMP%]   .save-selection-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;stroke:currentColor;fill:none}.multiselect-toolbar[_ngcontent-%COMP%]   .save-selection-btn[_ngcontent-%COMP%]:hover{background:#2563eb;transform:scale(1.05)}.multiselect-toolbar[_ngcontent-%COMP%]   .save-selection-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.multiselect-toolbar[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:6px 12px;background:#f3f4f6;color:#6b7280;border:1px solid #d1d5db;border-radius:6px;cursor:pointer;font-size:12px;font-weight:500;transition:all .2s ease}.multiselect-toolbar[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;stroke:currentColor;fill:none}.multiselect-toolbar[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]:hover{background:#e5e7eb;border-color:#9ca3af}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:12px 20px;background:#fffffff2;border-radius:14px;margin-bottom:16px;box-shadow:0 2px 12px #667eea14;border:1px solid rgba(102,126,234,.12)}.zoom-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 12px;background:#667eea0a;border-radius:8px}.zoom-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border:1px solid #d1d5db;border-radius:6px;background:#fff;cursor:pointer;font-size:16px;transition:all .2s ease}.zoom-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background:#f3f4f6;border-color:#9ca3af}.zoom-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active:not(:disabled){background:#e5e7eb}.zoom-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.zoom-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;line-height:1}.zoom-controls[_ngcontent-%COMP%]   .zoom-level[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#667eea;width:50px;text-align:center}.pen-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border:1px solid #d1d5db;border-radius:6px;background:#fff;cursor:pointer;font-size:16px;transition:all .2s ease;margin-left:auto}.pen-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;border-color:#9ca3af}.pen-button[_ngcontent-%COMP%]:active{background:#e5e7eb}.pen-button.pen-active[_ngcontent-%COMP%]{background:#667eea;border-color:#667eea;box-shadow:0 0 8px #667eea4d}.pen-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;line-height:1}.view-toggle[_ngcontent-%COMP%]{display:flex;gap:4px;padding:4px;background:#e5e7eb4d;border-radius:6px;border:1px solid #e5e7eb}.view-toggle[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:4px;background:transparent;cursor:pointer;font-size:14px;font-weight:500;color:#6b7280;transition:all .2s ease}.view-toggle[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover{background:#e5e7eb80;color:#374151}.view-toggle[_ngcontent-%COMP%]   .toggle-btn.active[_ngcontent-%COMP%]{background:#fff;color:#667eea;box-shadow:0 1px 3px #0000001a}.connection-guide[_ngcontent-%COMP%]{display:flex;gap:16px;padding:12px 16px;background:#10b9810d;border:1px solid rgba(16,185,129,.2);border-radius:10px;font-size:13px}.connection-guide[_ngcontent-%COMP%]   .guide-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#374151}.connection-guide[_ngcontent-%COMP%]   .guide-item.info-item[_ngcontent-%COMP%]{font-weight:500}.connection-guide[_ngcontent-%COMP%]   .guide-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-size:18px}.spec-plan-container[_ngcontent-%COMP%]{flex:1;overflow:auto;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000000d;border:1px solid #e5e7eb}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table-wrapper[_ngcontent-%COMP%]{min-width:100%;overflow-x:auto}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:13px}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;background:linear-gradient(to bottom,#f8fafc,#f1f5f9)}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:2px solid #e2e8f0}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:14px 12px;text-align:left;font-weight:600;color:#475569;white-space:nowrap;font-size:12px;text-transform:uppercase;letter-spacing:.5px}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.col-id[_ngcontent-%COMP%]{width:80px}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.col-status[_ngcontent-%COMP%], .spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.col-main[_ngcontent-%COMP%]{width:100px}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.col-mid[_ngcontent-%COMP%]{width:120px}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.col-sub[_ngcontent-%COMP%]{width:150px}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.col-request[_ngcontent-%COMP%]{min-width:250px}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.col-priority[_ngcontent-%COMP%], .spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.col-feasibility[_ngcontent-%COMP%]{width:80px;text-align:center}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.col-note[_ngcontent-%COMP%]{min-width:150px}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #f1f5f9;transition:all .2s ease}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8fafc}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.high-priority[_ngcontent-%COMP%]{background:linear-gradient(to right,rgba(239,68,68,.05),transparent)}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.high-priority[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:3px solid #ef4444}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.completed[_ngcontent-%COMP%]{opacity:.7}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.completed[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-decoration:line-through;color:#94a3b8}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.completed[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%], .spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.completed[_ngcontent-%COMP%]   .category-tag[_ngcontent-%COMP%], .spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.completed[_ngcontent-%COMP%]   .score-badge[_ngcontent-%COMP%], .spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.completed[_ngcontent-%COMP%]   .id-badge[_ngcontent-%COMP%]{text-decoration:none}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;vertical-align:top;color:#334155}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.col-priority[_ngcontent-%COMP%], .spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td.col-feasibility[_ngcontent-%COMP%]{text-align:center}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   .id-badge[_ngcontent-%COMP%]{font-family:monospace;font-size:11px;color:#64748b;background:#f1f5f9;padding:4px 8px;border-radius:4px}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 10px;border-radius:20px;font-size:11px;font-weight:600;border:1px solid}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   .category-tag[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;border-radius:4px;font-size:11px;font-weight:600}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   .category-tag.main[_ngcontent-%COMP%]{color:#fff}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   .score-badge[_ngcontent-%COMP%]{display:inline-block;min-width:32px;padding:4px 8px;border-radius:6px;font-size:12px;font-weight:600;text-align:center;background:#f1f5f9;color:#64748b}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   .score-badge.priority-high[_ngcontent-%COMP%], .spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   .score-badge.feasibility-high[_ngcontent-%COMP%]{background:#10b98126;color:#059669}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   .score-badge.priority-medium[_ngcontent-%COMP%], .spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   .score-badge.feasibility-medium[_ngcontent-%COMP%]{background:#f59e0b26;color:#d97706}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   .score-badge.priority-low[_ngcontent-%COMP%], .spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   .score-badge.feasibility-low[_ngcontent-%COMP%]{background:#ef444426;color:#dc2626}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   .request-text[_ngcontent-%COMP%], .spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   .note-text[_ngcontent-%COMP%]{max-width:300px;line-height:1.5;white-space:pre-wrap;word-break:break-word}.spec-plan-container[_ngcontent-%COMP%]   .spec-plan-table[_ngcontent-%COMP%]   .note-text[_ngcontent-%COMP%]{color:#64748b;font-size:12px}.hierarchical-canvas[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:0;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-radius:12px}.hierarchical-canvas[_ngcontent-%COMP%]   .canvas-stats-bar[_ngcontent-%COMP%]{display:flex;gap:24px;padding:16px 24px;background:#fff;border-bottom:1px solid #e2e8f0;position:sticky;top:0;z-index:10}.hierarchical-canvas[_ngcontent-%COMP%]   .canvas-stats-bar[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.hierarchical-canvas[_ngcontent-%COMP%]   .canvas-stats-bar[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:12px;color:#64748b;font-weight:500}.hierarchical-canvas[_ngcontent-%COMP%]   .canvas-stats-bar[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#1e293b}.hierarchical-canvas[_ngcontent-%COMP%]   .canvas-stats-bar[_ngcontent-%COMP%]   .stat-item.priority[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:#ef4444}.hierarchical-canvas[_ngcontent-%COMP%]   .hierarchy-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;padding:24px}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;border-left:5px solid #667eea;box-shadow:0 4px 20px #0000000f;overflow:hidden;transition:all .3s ease}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 30px #0000001a;transform:translateY(-2px)}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .main-category-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid #f1f5f9}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .main-category-header[_ngcontent-%COMP%]   .main-category-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .main-category-header[_ngcontent-%COMP%]   .main-category-title[_ngcontent-%COMP%]   .category-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:20px;font-weight:700;color:#fff}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .main-category-header[_ngcontent-%COMP%]   .main-category-title[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#1e293b}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .main-category-header[_ngcontent-%COMP%]   .main-category-stats[_ngcontent-%COMP%]{display:flex;gap:16px}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .main-category-header[_ngcontent-%COMP%]   .main-category-stats[_ngcontent-%COMP%]   .mid-count[_ngcontent-%COMP%], .hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .main-category-header[_ngcontent-%COMP%]   .main-category-stats[_ngcontent-%COMP%]   .item-count[_ngcontent-%COMP%]{font-size:13px;font-weight:500;color:#64748b;background:#f1f5f9;padding:6px 12px;border-radius:20px}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .main-category-header[_ngcontent-%COMP%]   .main-category-stats[_ngcontent-%COMP%]   .item-count[_ngcontent-%COMP%]{color:#667eea;background:#667eea1a}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .mid-categories-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:16px;padding:20px}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .mid-category-section[_ngcontent-%COMP%]{background:#f8fafc;border-radius:12px;border:1px solid #e2e8f0;overflow:hidden}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .mid-category-section[_ngcontent-%COMP%]   .mid-category-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:14px 16px;background:linear-gradient(to right,#f1f5f9,#f8fafc);border-bottom:1px solid #e2e8f0}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .mid-category-section[_ngcontent-%COMP%]   .mid-category-header[_ngcontent-%COMP%]   .mid-category-name[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#475569}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .mid-category-section[_ngcontent-%COMP%]   .mid-category-header[_ngcontent-%COMP%]   .mid-category-count[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#fff;background:#94a3b8;padding:2px 10px;border-radius:12px;min-width:24px;text-align:center}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .mid-category-section[_ngcontent-%COMP%]   .items-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;padding:12px;max-height:400px;overflow-y:auto}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .spec-item-card[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:10px;padding:12px 14px;background:#fff;border-radius:10px;border:1px solid #e2e8f0;cursor:pointer;transition:all .2s ease;position:relative}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .spec-item-card[_ngcontent-%COMP%]:hover{border-color:#cbd5e1;box-shadow:0 4px 12px #0000000f;transform:translate(4px)}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .spec-item-card.high-priority[_ngcontent-%COMP%]{border-left:3px solid #ef4444;background:linear-gradient(to right,#ef444408,#fff)}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .spec-item-card.expanded[_ngcontent-%COMP%]{background:#f8fafc;border-color:#667eea;box-shadow:0 6px 20px #667eea1f}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .spec-item-card[_ngcontent-%COMP%]   .feasibility-indicator[_ngcontent-%COMP%]{width:4px;height:100%;min-height:40px;border-radius:2px;position:absolute;left:0;top:0}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .spec-item-card[_ngcontent-%COMP%]   .feasibility-indicator.high[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#10b981,#059669)}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .spec-item-card[_ngcontent-%COMP%]   .feasibility-indicator.medium[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#f59e0b,#d97706)}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .spec-item-card[_ngcontent-%COMP%]   .feasibility-indicator.low[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#ef4444,#dc2626)}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .spec-item-card[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]{flex:1;min-width:0;padding-left:8px}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .spec-item-card[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .spec-item-card[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:#1e293b;flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .spec-item-card[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .priority-badge[_ngcontent-%COMP%]{font-size:12px}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .spec-item-card[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .kanban-status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border-radius:20px;font-size:10px;font-weight:600;border:1px solid;margin:6px 0}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .spec-item-card[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .kanban-status-badge[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{width:6px;height:6px;border-radius:50%}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .spec-item-card[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-scores[_ngcontent-%COMP%]{display:flex;gap:8px}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .spec-item-card[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-scores[_ngcontent-%COMP%]   .score-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;padding:3px 8px;border-radius:6px;font-size:11px;font-weight:600;background:#f1f5f9;color:#64748b}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .spec-item-card[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-scores[_ngcontent-%COMP%]   .score-badge[_ngcontent-%COMP%]   .score-icon[_ngcontent-%COMP%]{font-size:10px}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .spec-item-card[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-scores[_ngcontent-%COMP%]   .score-badge.high[_ngcontent-%COMP%]{background:#10b9811a;color:#059669}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .spec-item-card[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]{margin-top:12px;padding-top:12px;border-top:1px dashed #e2e8f0}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .spec-item-card[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{margin-bottom:10px}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .spec-item-card[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{display:block;font-size:10px;font-weight:600;color:#94a3b8;text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .spec-item-card[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:12px;color:#475569;line-height:1.5;white-space:pre-wrap}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .spec-item-card[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .detail-row.id-row[_ngcontent-%COMP%]{margin-bottom:0;text-align:right}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .spec-item-card[_ngcontent-%COMP%]   .item-content[_ngcontent-%COMP%]   .item-details[_ngcontent-%COMP%]   .detail-row.id-row[_ngcontent-%COMP%]   .detail-id[_ngcontent-%COMP%]{font-size:10px;color:#94a3b8;font-family:monospace}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .spec-item-card[_ngcontent-%COMP%]   .expand-icon[_ngcontent-%COMP%]{color:#94a3b8;transition:transform .2s ease;flex-shrink:0;padding-top:4px}.hierarchical-canvas[_ngcontent-%COMP%]   .main-category-card[_ngcontent-%COMP%]   .spec-item-card[_ngcontent-%COMP%]   .expand-icon.expanded[_ngcontent-%COMP%]{transform:rotate(180deg)}.chatflow-canvas[_ngcontent-%COMP%]{flex:1;position:relative;overflow:hidden;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000000d;border:1px solid #e5e7eb;cursor:grab}.chatflow-canvas.panning[_ngcontent-%COMP%]{cursor:grabbing}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-grid[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-image:linear-gradient(rgba(229,231,235,.5) 1px,transparent 1px),linear-gradient(90deg,rgba(229,231,235,.5) 1px,transparent 1px);background-size:40px 40px;pointer-events:none;z-index:0}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:auto;z-index:1}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]{position:absolute;border:1px solid #e2e8f0;border-radius:12px;background:#ffffffe6;pointer-events:none;transition:border-color .2s ease,box-shadow .2s ease;z-index:1;-webkit-user-select:none;user-select:none;box-shadow:0 4px 15px #0000000d;overflow:hidden}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]{position:relative;padding:16px;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-bottom:1px solid #e2e8f0;display:flex;flex-direction:column;gap:6px;min-height:50px}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-header-top[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .page-badge[_ngcontent-%COMP%]{font-size:10px;font-weight:800;padding:3px 8px;background:#64748b;color:#fff;border-radius:5px;letter-spacing:.8px;flex-shrink:0}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .group-label-bar[_ngcontent-%COMP%]{color:#1e293b;font-size:16px;font-weight:750;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;letter-spacing:-.3px}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .category-tag[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;font-size:11px;font-weight:500;color:#94a3b8;background:#fff;padding:2px 10px;border-radius:100px;border:1px solid #e2e8f0;box-shadow:0 1px 2px #00000008}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]   .group-description[_ngcontent-%COMP%]{padding:10px 16px;font-size:12px;color:#64748b;line-height:1.5;background:#f8fafc80;border-bottom:1px dashed #e2e8f0;min-height:30px}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .group-container[_ngcontent-%COMP%]:hover{background:#fffffff2;border-color:#cbd5e1;box-shadow:0 8px 25px #0000001a;transform:translateY(-2px)}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .node[_ngcontent-%COMP%]{position:absolute;width:280px;background:#fff;border-radius:8px;padding:10px 14px;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease,border-color .2s ease,background-color .2s ease;box-shadow:0 2px 5px #0000000d;color:#334155;border:1px solid #e2e8f0;z-index:10}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .node.component-node[_ngcontent-%COMP%]   .node-content-canvas[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;position:relative}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .node.component-node[_ngcontent-%COMP%]   .node-content-canvas[_ngcontent-%COMP%]   .node-icon-canvas[_ngcontent-%COMP%]{width:28px;height:28px;background:#f1f5f9;color:#64748b;border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:14px;transition:all .2s ease}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .node.component-node[_ngcontent-%COMP%]   .node-content-canvas[_ngcontent-%COMP%]   .node-priority-indicator[_ngcontent-%COMP%]{width:4px;height:100%;position:absolute;left:0;top:0;border-radius:2px 0 0 2px}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .node.component-node[_ngcontent-%COMP%]   .node-content-canvas[_ngcontent-%COMP%]   .node-priority-indicator.high[_ngcontent-%COMP%]{background:#10b981}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .node.component-node[_ngcontent-%COMP%]   .node-content-canvas[_ngcontent-%COMP%]   .node-priority-indicator.medium[_ngcontent-%COMP%]{background:#f59e0b}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .node.component-node[_ngcontent-%COMP%]   .node-content-canvas[_ngcontent-%COMP%]   .node-priority-indicator.low[_ngcontent-%COMP%]{background:#ef4444}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .node.component-node[_ngcontent-%COMP%]   .node-content-canvas[_ngcontent-%COMP%]   .node-info-canvas[_ngcontent-%COMP%]{flex:1;min-width:0}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .node.component-node[_ngcontent-%COMP%]   .node-content-canvas[_ngcontent-%COMP%]   .node-info-canvas.spec-node[_ngcontent-%COMP%]{padding-left:8px}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .node.component-node[_ngcontent-%COMP%]   .node-content-canvas[_ngcontent-%COMP%]   .node-info-canvas.spec-node[_ngcontent-%COMP%]   .node-category-badge[_ngcontent-%COMP%]{font-size:9px;font-weight:600;color:#667eea;background:#667eea1a;padding:2px 6px;border-radius:4px;display:inline-block;margin-bottom:4px}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .node.component-node[_ngcontent-%COMP%]   .node-content-canvas[_ngcontent-%COMP%]   .node-info-canvas.spec-node[_ngcontent-%COMP%]   .node-scores[_ngcontent-%COMP%]{display:flex;gap:8px;margin-top:4px}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .node.component-node[_ngcontent-%COMP%]   .node-content-canvas[_ngcontent-%COMP%]   .node-info-canvas.spec-node[_ngcontent-%COMP%]   .node-scores[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{font-size:10px;color:#94a3b8;font-weight:500}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .node.component-node[_ngcontent-%COMP%]   .node-content-canvas[_ngcontent-%COMP%]   .node-info-canvas.spec-node[_ngcontent-%COMP%]   .node-scores[_ngcontent-%COMP%]   .score.high[_ngcontent-%COMP%]{color:#10b981;font-weight:600}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .node.component-node[_ngcontent-%COMP%]   .node-content-canvas[_ngcontent-%COMP%]   .node-info-canvas[_ngcontent-%COMP%]   .node-name-canvas[_ngcontent-%COMP%]{font-weight:600;font-size:13px;color:#1e293b;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .node.component-node[_ngcontent-%COMP%]   .node-content-canvas[_ngcontent-%COMP%]   .node-info-canvas[_ngcontent-%COMP%]   .node-type-label-canvas[_ngcontent-%COMP%]{font-size:9px;color:#94a3b8;font-weight:600;text-transform:uppercase;letter-spacing:.4px}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .node.component-node[_ngcontent-%COMP%]   .node-content-canvas[_ngcontent-%COMP%]   .node-open-btn[_ngcontent-%COMP%]{width:24px;height:24px;background:#f1f5f9;border:none;border-radius:4px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#64748b;transition:all .2s ease;padding:0;flex-shrink:0;opacity:1}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .node.component-node[_ngcontent-%COMP%]   .node-content-canvas[_ngcontent-%COMP%]   .node-open-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .node.component-node[_ngcontent-%COMP%]   .node-content-canvas[_ngcontent-%COMP%]   .node-open-btn[_ngcontent-%COMP%]:hover{background:#e2e8f0;color:#3b82f6;transform:scale(1.1)}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .node.component-node[_ngcontent-%COMP%]   .node-content-canvas[_ngcontent-%COMP%]   .node-open-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .node.component-node[_ngcontent-%COMP%]:hover{border-color:#3b82f6;box-shadow:0 4px 12px #3b82f626;transform:translate(4px)}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .node.component-node[_ngcontent-%COMP%]:hover   .node-icon-canvas[_ngcontent-%COMP%]{background:#eff6ff;color:#3b82f6}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .node.component-node.high-priority[_ngcontent-%COMP%]{border-left:3px solid #ef4444;background:linear-gradient(to right,#ef44440d,#fff)}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .node.component-node.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background:#eff6ff;box-shadow:0 0 0 2px #3b82f61a,0 4px 12px #3b82f626}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .node.component-node.selected[_ngcontent-%COMP%]   .node-name-canvas[_ngcontent-%COMP%]{color:#2563eb}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .node.component-node.selected[_ngcontent-%COMP%]   .node-icon-canvas[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .draggable-node[_ngcontent-%COMP%]{cursor:grab;-webkit-user-select:none;user-select:none}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .draggable-node.dragging[_ngcontent-%COMP%]{cursor:grabbing!important;box-shadow:0 15px 35px #00000026!important;transform:scale(1.02)!important;z-index:100!important;opacity:.9}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .node.in-group[_ngcontent-%COMP%]{border-left:4px solid #3b82f6}.chatflow-canvas[_ngcontent-%COMP%]   .canvas-content[_ngcontent-%COMP%]   .node.in-group.selected[_ngcontent-%COMP%]{border-left-color:#1d4ed8}.wbs-container[_ngcontent-%COMP%]{padding:24px;height:100%;display:flex;flex-direction:column;background:#f8fafc;overflow:hidden}.wbs-container[_ngcontent-%COMP%]   .wbs-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-shrink:0}.wbs-container[_ngcontent-%COMP%]   .wbs-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:24px}.wbs-container[_ngcontent-%COMP%]   .wbs-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#1e293b}.wbs-container[_ngcontent-%COMP%]   .wbs-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .wbs-legend[_ngcontent-%COMP%]{display:flex;gap:16px}.wbs-container[_ngcontent-%COMP%]   .wbs-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .wbs-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:12px;color:#64748b}.wbs-container[_ngcontent-%COMP%]   .wbs-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .wbs-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:3px}.wbs-container[_ngcontent-%COMP%]   .wbs-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;gap:8px}.wbs-container[_ngcontent-%COMP%]   .wbs-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .wbs-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:8px 14px;border:1px solid #e2e8f0;border-radius:8px;background:#fff;cursor:pointer;font-size:12px;font-weight:500;color:#475569;transition:all .2s ease}.wbs-container[_ngcontent-%COMP%]   .wbs-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .wbs-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#cbd5e1}.wbs-container[_ngcontent-%COMP%]   .wbs-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .wbs-btn.primary[_ngcontent-%COMP%]{background:#667eea;border-color:#667eea;color:#fff}.wbs-container[_ngcontent-%COMP%]   .wbs-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .wbs-btn.primary[_ngcontent-%COMP%]:hover{background:#5a67d8}.wbs-container[_ngcontent-%COMP%]   .wbs-empty[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;background:#fff;border-radius:12px;border:2px dashed #e2e8f0}.wbs-container[_ngcontent-%COMP%]   .wbs-empty[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:48px}.wbs-container[_ngcontent-%COMP%]   .wbs-empty[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;color:#1e293b}.wbs-container[_ngcontent-%COMP%]   .wbs-empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#64748b}.wbs-container[_ngcontent-%COMP%]   .wbs-empty[_ngcontent-%COMP%]   .generate-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 24px;background:#667eea;color:#fff;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease}.wbs-container[_ngcontent-%COMP%]   .wbs-empty[_ngcontent-%COMP%]   .generate-btn[_ngcontent-%COMP%]:hover{background:#5a67d8;transform:translateY(-1px)}.wbs-container[_ngcontent-%COMP%]   .wbs-empty[_ngcontent-%COMP%]   .generate-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:currentColor;stroke-width:2}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;background:#fff;border-radius:12px;border:1px solid #e2e8f0;overflow:hidden;min-height:0}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]{width:400px;flex-shrink:0;border-right:1px solid #e2e8f0;display:flex;flex-direction:column}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-header[_ngcontent-%COMP%]{border-bottom:1px solid #e2e8f0;background:#f8fafc}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{display:flex;padding:12px 8px}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-size:11px;font-weight:600;color:#64748b;text-transform:uppercase}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .col-tree-name[_ngcontent-%COMP%]{flex:1;padding-left:12px}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .col-responsible[_ngcontent-%COMP%]{width:60px;text-align:center}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .col-progress[_ngcontent-%COMP%]{width:80px;text-align:center}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-header[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .col-date[_ngcontent-%COMP%]{width:50px;text-align:center}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px 8px;border-bottom:1px solid #f1f5f9;transition:background .15s ease}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]:hover{background:#f8fafc}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row.level-0[_ngcontent-%COMP%]{background:#f8fafc;font-weight:600}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row.level-0[_ngcontent-%COMP%]   .col-tree-name[_ngcontent-%COMP%]{padding-left:12px}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row.level-1[_ngcontent-%COMP%]   .col-tree-name[_ngcontent-%COMP%]{padding-left:32px}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row.level-2[_ngcontent-%COMP%]   .col-tree-name[_ngcontent-%COMP%]{padding-left:52px}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .col-tree-name[_ngcontent-%COMP%]{flex:1;min-width:0}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .col-tree-name[_ngcontent-%COMP%]   .tree-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .col-tree-name[_ngcontent-%COMP%]   .tree-content[_ngcontent-%COMP%]   .progress-indicator[_ngcontent-%COMP%]{width:4px;height:20px;border-radius:2px;flex-shrink:0}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .col-tree-name[_ngcontent-%COMP%]   .tree-content[_ngcontent-%COMP%]   .progress-indicator.high[_ngcontent-%COMP%]{background:#10b981}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .col-tree-name[_ngcontent-%COMP%]   .tree-content[_ngcontent-%COMP%]   .progress-indicator.medium[_ngcontent-%COMP%]{background:#f59e0b}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .col-tree-name[_ngcontent-%COMP%]   .tree-content[_ngcontent-%COMP%]   .progress-indicator.low[_ngcontent-%COMP%]{background:#ef4444}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .col-tree-name[_ngcontent-%COMP%]   .tree-content[_ngcontent-%COMP%]   .folder-icon[_ngcontent-%COMP%]{color:#f59e0b;flex-shrink:0}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .col-tree-name[_ngcontent-%COMP%]   .tree-content[_ngcontent-%COMP%]   .task-icon[_ngcontent-%COMP%]{color:#94a3b8;flex-shrink:0}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .col-tree-name[_ngcontent-%COMP%]   .tree-content[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-size:13px;color:#1e293b;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .col-tree-name[_ngcontent-%COMP%]   .tree-content[_ngcontent-%COMP%]   .linked-count[_ngcontent-%COMP%]{font-size:10px;background:#e0e7ff;color:#4f46e5;padding:2px 6px;border-radius:10px;flex-shrink:0}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .col-responsible[_ngcontent-%COMP%]{width:60px;text-align:center}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .col-responsible[_ngcontent-%COMP%]   .responsible-badge[_ngcontent-%COMP%]{display:inline-block;font-size:10px;padding:3px 8px;background:#f1f5f9;border-radius:4px;color:#475569}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .col-responsible[_ngcontent-%COMP%]   .responsible-badge.small[_ngcontent-%COMP%]{font-size:9px;padding:2px 6px}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .col-progress[_ngcontent-%COMP%]{width:80px;display:flex;align-items:center;gap:6px}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .col-progress[_ngcontent-%COMP%]   .progress-bar-mini[_ngcontent-%COMP%]{flex:1;height:6px;background:#e2e8f0;border-radius:3px;overflow:hidden}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .col-progress[_ngcontent-%COMP%]   .progress-bar-mini[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;border-radius:3px;transition:width .3s ease}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .col-progress[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{font-size:11px;color:#64748b;width:32px;text-align:right}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .task-list-side[_ngcontent-%COMP%]   .side-body[_ngcontent-%COMP%]   .task-row[_ngcontent-%COMP%]   .col-date[_ngcontent-%COMP%]{width:50px;text-align:center;font-size:11px;color:#64748b}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .gantt-chart-side[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow-x:auto;min-width:0}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .gantt-chart-side[_ngcontent-%COMP%]   .gantt-header[_ngcontent-%COMP%]{border-bottom:1px solid #e2e8f0;background:#f8fafc;flex-shrink:0}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .gantt-chart-side[_ngcontent-%COMP%]   .gantt-header[_ngcontent-%COMP%]   .month-row[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid #e2e8f0}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .gantt-chart-side[_ngcontent-%COMP%]   .gantt-header[_ngcontent-%COMP%]   .month-row[_ngcontent-%COMP%]   .month-cell[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#1e293b;padding:8px 0;text-align:center;border-right:1px solid #e2e8f0}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .gantt-chart-side[_ngcontent-%COMP%]   .gantt-header[_ngcontent-%COMP%]   .month-row[_ngcontent-%COMP%]   .month-cell[_ngcontent-%COMP%]:last-child{border-right:none}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .gantt-chart-side[_ngcontent-%COMP%]   .gantt-header[_ngcontent-%COMP%]   .day-row[_ngcontent-%COMP%]{display:flex}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .gantt-chart-side[_ngcontent-%COMP%]   .gantt-header[_ngcontent-%COMP%]   .day-row[_ngcontent-%COMP%]   .day-cell[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4px 0;border-right:1px solid #f1f5f9}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .gantt-chart-side[_ngcontent-%COMP%]   .gantt-header[_ngcontent-%COMP%]   .day-row[_ngcontent-%COMP%]   .day-cell.today[_ngcontent-%COMP%]{background:#eff6ff}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .gantt-chart-side[_ngcontent-%COMP%]   .gantt-header[_ngcontent-%COMP%]   .day-row[_ngcontent-%COMP%]   .day-cell.today[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%]{background:#3b82f6;color:#fff;border-radius:50%;width:18px;height:18px;display:flex;align-items:center;justify-content:center}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .gantt-chart-side[_ngcontent-%COMP%]   .gantt-header[_ngcontent-%COMP%]   .day-row[_ngcontent-%COMP%]   .day-cell.weekend[_ngcontent-%COMP%]{background:#fef2f2}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .gantt-chart-side[_ngcontent-%COMP%]   .gantt-header[_ngcontent-%COMP%]   .day-row[_ngcontent-%COMP%]   .day-cell.weekend[_ngcontent-%COMP%]   .day-name[_ngcontent-%COMP%]{color:#ef4444}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .gantt-chart-side[_ngcontent-%COMP%]   .gantt-header[_ngcontent-%COMP%]   .day-row[_ngcontent-%COMP%]   .day-cell[_ngcontent-%COMP%]   .day-number[_ngcontent-%COMP%]{font-size:11px;font-weight:500;color:#1e293b}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .gantt-chart-side[_ngcontent-%COMP%]   .gantt-header[_ngcontent-%COMP%]   .day-row[_ngcontent-%COMP%]   .day-cell[_ngcontent-%COMP%]   .day-name[_ngcontent-%COMP%]{font-size:9px;color:#94a3b8}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .gantt-chart-side[_ngcontent-%COMP%]   .gantt-body[_ngcontent-%COMP%]{flex:1;position:relative;overflow-y:auto}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .gantt-chart-side[_ngcontent-%COMP%]   .gantt-body[_ngcontent-%COMP%]   .today-line[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;width:2px;background:#ef4444;z-index:10}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .gantt-chart-side[_ngcontent-%COMP%]   .gantt-body[_ngcontent-%COMP%]   .today-line[_ngcontent-%COMP%]:before{content:"\\c624\\b298";position:absolute;top:4px;left:4px;font-size:10px;color:#ef4444;font-weight:600;white-space:nowrap}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .gantt-chart-side[_ngcontent-%COMP%]   .gantt-body[_ngcontent-%COMP%]   .gantt-row[_ngcontent-%COMP%]{height:38px;border-bottom:1px solid #f1f5f9;position:relative}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .gantt-chart-side[_ngcontent-%COMP%]   .gantt-body[_ngcontent-%COMP%]   .gantt-row[_ngcontent-%COMP%]   .gantt-bar[_ngcontent-%COMP%]{position:absolute;top:6px;height:26px;border-radius:4px;display:flex;align-items:center;overflow:hidden;cursor:pointer;transition:all .2s ease}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .gantt-chart-side[_ngcontent-%COMP%]   .gantt-body[_ngcontent-%COMP%]   .gantt-row[_ngcontent-%COMP%]   .gantt-bar[_ngcontent-%COMP%]:hover{filter:brightness(1.05);box-shadow:0 2px 8px #00000026}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .gantt-chart-side[_ngcontent-%COMP%]   .gantt-body[_ngcontent-%COMP%]   .gantt-row[_ngcontent-%COMP%]   .gantt-bar.group-bar[_ngcontent-%COMP%]   .bar-progress[_ngcontent-%COMP%]{position:absolute;left:0;top:0;bottom:0;opacity:.3}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .gantt-chart-side[_ngcontent-%COMP%]   .gantt-body[_ngcontent-%COMP%]   .gantt-row[_ngcontent-%COMP%]   .gantt-bar.group-bar[_ngcontent-%COMP%]   .bar-label[_ngcontent-%COMP%]{position:relative;z-index:1;padding:0 10px;font-size:11px;font-weight:600;color:#fff;white-space:nowrap;text-shadow:0 1px 2px rgba(0,0,0,.2)}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .gantt-chart-side[_ngcontent-%COMP%]   .gantt-body[_ngcontent-%COMP%]   .gantt-row[_ngcontent-%COMP%]   .gantt-bar.task-bar[_ngcontent-%COMP%]{border:1px solid}.wbs-container[_ngcontent-%COMP%]   .gantt-wrapper[_ngcontent-%COMP%]   .gantt-chart-side[_ngcontent-%COMP%]   .gantt-body[_ngcontent-%COMP%]   .gantt-row[_ngcontent-%COMP%]   .gantt-bar.task-bar[_ngcontent-%COMP%]   .bar-progress[_ngcontent-%COMP%]{position:absolute;left:0;top:0;bottom:0}.wbs-container[_ngcontent-%COMP%]   .wbs-stats[_ngcontent-%COMP%]{display:flex;gap:16px;margin-top:16px;flex-shrink:0}.wbs-container[_ngcontent-%COMP%]   .wbs-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 20px;background:#fff;border-radius:8px;border:1px solid #e2e8f0}.wbs-container[_ngcontent-%COMP%]   .wbs-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:12px;color:#64748b}.wbs-container[_ngcontent-%COMP%]   .wbs-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#1e293b}.wbs-container[_ngcontent-%COMP%]   .wbs-stats[_ngcontent-%COMP%]   .stat-card.completed[_ngcontent-%COMP%]{background:#f0fdf4;border-color:#86efac}.wbs-container[_ngcontent-%COMP%]   .wbs-stats[_ngcontent-%COMP%]   .stat-card.completed[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:#16a34a}.wbs-container[_ngcontent-%COMP%]   .wbs-stats[_ngcontent-%COMP%]   .stat-card.in-progress[_ngcontent-%COMP%]{background:#fffbeb;border-color:#fcd34d}.wbs-container[_ngcontent-%COMP%]   .wbs-stats[_ngcontent-%COMP%]   .stat-card.in-progress[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{color:#d97706}.wbs-view-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 1px 3px #0000001a}.wbs-view-container[_ngcontent-%COMP%]   app-wbs-doc[_ngcontent-%COMP%]{flex:1;display:block;height:100%}.flowchart-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;background:#f8fafc;border-radius:12px;overflow:hidden;position:relative;cursor:grab}.flowchart-container[_ngcontent-%COMP%]:active{cursor:grabbing}.flowchart-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;background:#fff;border-bottom:1px solid #e2e8f0;z-index:10;gap:16px;flex-wrap:wrap}.flowchart-toolbar[_ngcontent-%COMP%]   .toolbar-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.flowchart-toolbar[_ngcontent-%COMP%]   .toolbar-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:6px;padding:6px 12px;height:32px;border:1px solid #e2e8f0;border-radius:6px;background:#fff;cursor:pointer;transition:all .2s ease}.flowchart-toolbar[_ngcontent-%COMP%]   .toolbar-btn[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:18px;color:#64748b}.flowchart-toolbar[_ngcontent-%COMP%]   .toolbar-btn[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{font-size:13px;font-weight:500;color:#475569;display:none}.flowchart-toolbar[_ngcontent-%COMP%]   .toolbar-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#cbd5e1}.flowchart-toolbar[_ngcontent-%COMP%]   .toolbar-btn.auto-layout[_ngcontent-%COMP%]{width:auto;padding:6px 14px;background:#fff;border-color:#cbd5e1}.flowchart-toolbar[_ngcontent-%COMP%]   .toolbar-btn.auto-layout[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{display:none}.flowchart-toolbar[_ngcontent-%COMP%]   .toolbar-btn.auto-layout[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]{display:inline;color:#475569}.flowchart-toolbar[_ngcontent-%COMP%]   .toolbar-btn.auto-layout[_ngcontent-%COMP%]:hover{background:#f1f5f9;border-color:#94a3b8}.flowchart-toolbar[_ngcontent-%COMP%]   .toolbar-btn.auto-layout[_ngcontent-%COMP%]:active{transform:scale(.98)}.flowchart-toolbar[_ngcontent-%COMP%]   .zoom-level[_ngcontent-%COMP%]{min-width:50px;text-align:center;font-size:13px;font-weight:500;color:#475569}.flowchart-toolbar[_ngcontent-%COMP%]   .toolbar-label[_ngcontent-%COMP%]{font-size:13px;color:#64748b;margin-right:4px}.flowchart-toolbar[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{color:#d1d5db;margin:0 8px}.screen-type-legend[_ngcontent-%COMP%], .status-legend[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.screen-type-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%], .status-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:12px;font-weight:500;color:#374151}.screen-type-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%], .status-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:2px;border:2px solid}.screen-type-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.screen[_ngcontent-%COMP%], .status-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.screen[_ngcontent-%COMP%]{background:#dbeafe;border-color:#3b82f6}.screen-type-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.modal[_ngcontent-%COMP%], .status-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.modal[_ngcontent-%COMP%]{background:#f3e8ff;border-color:#a855f7}.screen-type-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.panel[_ngcontent-%COMP%], .status-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.panel[_ngcontent-%COMP%]{background:#d1fae5;border-color:#22c55e}.screen-type-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.sheet[_ngcontent-%COMP%], .status-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.sheet[_ngcontent-%COMP%]{background:#ffedd5;border-color:#f97316}.screen-type-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.open[_ngcontent-%COMP%], .status-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.open[_ngcontent-%COMP%]{background:#94a3b8;border-color:#64748b;border-radius:50%}.screen-type-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.in-progress[_ngcontent-%COMP%], .status-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.in-progress[_ngcontent-%COMP%]{background:#3b82f6;border-color:#2563eb;border-radius:50%}.screen-type-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.completed[_ngcontent-%COMP%], .status-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .dot.completed[_ngcontent-%COMP%]{background:#22c55e;border-color:#16a34a;border-radius:50%}.flowchart-canvas[_ngcontent-%COMP%]{flex:1;position:relative;min-height:600px;transform-origin:0 0;transition:transform .1s ease-out}.edges-layer[_ngcontent-%COMP%]{position:absolute;top:0;left:0;pointer-events:none;z-index:1}.edges-layer[_ngcontent-%COMP%]   .edge-path[_ngcontent-%COMP%]{fill:none;stroke:#94a3b8;stroke-width:2;stroke-linecap:round}.edges-layer[_ngcontent-%COMP%]   .edge-path.edge-primary[_ngcontent-%COMP%]{stroke:#3b82f6;stroke-width:3}.edges-layer[_ngcontent-%COMP%]   .edge-path.edge-secondary[_ngcontent-%COMP%]{stroke:#94a3b8;stroke-dasharray:5,5}.edges-layer[_ngcontent-%COMP%]   .edge-path.edge-conditional[_ngcontent-%COMP%]{stroke:#f59e0b;stroke-dasharray:10,5}.screen-nodes[_ngcontent-%COMP%]{position:relative;z-index:2}.screen-node[_ngcontent-%COMP%]{position:absolute;width:280px;background:#fff;border-radius:12px;border:2px solid #e2e8f0;box-shadow:0 4px 12px #00000014;cursor:move;transition:box-shadow .2s ease,transform .1s ease;overflow:hidden}.screen-node[_ngcontent-%COMP%]:hover{box-shadow:0 8px 24px #0000001f;transform:translateY(-2px)}.screen-node.selected[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #667eea4d,0 8px 24px #00000026}.screen-node.expanded[_ngcontent-%COMP%]{width:320px}.screen-node.type-screen[_ngcontent-%COMP%]{border-color:#3b82f6;border-style:solid}.screen-node.type-modal[_ngcontent-%COMP%]{border-color:#a855f7;border-style:dashed;border-radius:8px}.screen-node.type-panel[_ngcontent-%COMP%]{border-color:#22c55e;border-style:solid;border-left-width:4px}.screen-node.type-sheet[_ngcontent-%COMP%]{border-color:#f97316;border-style:dotted;border-bottom-width:4px}.node-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:12px 14px;color:#fff;font-weight:600}.node-header[_ngcontent-%COMP%]   .node-icon[_ngcontent-%COMP%]{font-size:20px;opacity:.9}.node-header[_ngcontent-%COMP%]   .node-title[_ngcontent-%COMP%]{flex:1;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.node-header[_ngcontent-%COMP%]   .screen-type-badge[_ngcontent-%COMP%]{display:inline-block;padding:2px 8px;font-size:10px;font-weight:600;border-radius:4px;background:#fff3;color:#fff;white-space:nowrap;margin-left:4px}.node-header[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:26px;height:26px;border:none;border-radius:6px;background:#fff3;cursor:pointer;transition:background .2s ease}.node-header[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:18px;color:#fff}.node-header[_ngcontent-%COMP%]   .expand-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d}.event-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px;padding:12px 14px;background:#f8fafc;border-bottom:1px solid #e2e8f0}.event-tag[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:4px 10px;border-radius:20px;font-size:11px;font-weight:600;cursor:default}.event-tag.pageview[_ngcontent-%COMP%]{background:#dbeafe;color:#1d4ed8}.event-tag.action[_ngcontent-%COMP%]{background:#dcfce7;color:#15803d}.event-tag.conversion[_ngcontent-%COMP%]{background:#f3e8ff;color:#7e22ce}.event-tag.navigation[_ngcontent-%COMP%]{background:#ffedd5;color:#c2410c}.event-tag.error[_ngcontent-%COMP%]{background:#fee2e2;color:#b91c1c}.features-section[_ngcontent-%COMP%]{padding:12px 14px;max-height:300px;overflow-y:auto}.feature-group[_ngcontent-%COMP%]{margin-bottom:12px}.feature-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.feature-group[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:6px 8px;background:#f1f5f9;border-radius:6px;font-size:12px;font-weight:600;color:#475569;margin-bottom:8px}.feature-group[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px;color:#64748b}.feature-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0 0 0 8px}.feature-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:6px 8px;font-size:12px;color:#334155;border-radius:4px;transition:background .15s ease}.feature-item[_ngcontent-%COMP%]:hover{background:#f8fafc}.feature-item[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;flex-shrink:0}.feature-item[_ngcontent-%COMP%]   .status-dot.pending[_ngcontent-%COMP%]{background:#94a3b8}.feature-item[_ngcontent-%COMP%]   .status-dot.in_progress[_ngcontent-%COMP%]{background:#f59e0b}.feature-item[_ngcontent-%COMP%]   .status-dot.completed[_ngcontent-%COMP%]{background:#22c55e}.feature-item[_ngcontent-%COMP%]   .status-dot.review[_ngcontent-%COMP%]{background:#8b5cf6}.feature-item[_ngcontent-%COMP%]   .status-dot.blocked[_ngcontent-%COMP%]{background:#ef4444}.feature-item[_ngcontent-%COMP%]   .progress-badge[_ngcontent-%COMP%]{margin-left:auto;padding:2px 8px;background:#e2e8f0;border-radius:10px;font-size:10px;font-weight:600;color:#475569}.progress-bar-container[_ngcontent-%COMP%]{padding:12px 14px;background:#f8fafc;border-top:1px solid #e2e8f0}.progress-bar-container[_ngcontent-%COMP%]   .progress-label[_ngcontent-%COMP%]{font-size:11px;color:#64748b;margin-bottom:6px}.progress-bar-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:6px;background:#e2e8f0;border-radius:3px;overflow:hidden}.progress-bar-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#22c55e,#4ade80);border-radius:3px;transition:width .3s ease}.empty-flowchart[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;color:#64748b}.empty-flowchart[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:64px;color:#cbd5e1;margin-bottom:16px}.empty-flowchart[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:15px;text-align:center}.empty-flowchart[_ngcontent-%COMP%]   p.hint[_ngcontent-%COMP%]{margin-top:8px;font-size:13px;color:#94a3b8}.screen-node.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.4}.screen-node.cdk-drag-preview[_ngcontent-%COMP%]{box-shadow:0 12px 40px #0003}.screen-node.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.features-preview[_ngcontent-%COMP%]{padding:10px 14px;background:#f8fafc;border-bottom:1px solid #e2e8f0}.features-preview[_ngcontent-%COMP%]   .preview-group[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;margin:3px 4px;padding:5px 10px;background:#fff;border:1px solid #e2e8f0;border-radius:6px;font-size:12px}.features-preview[_ngcontent-%COMP%]   .preview-group[_ngcontent-%COMP%]   .preview-mid[_ngcontent-%COMP%]{color:#334155;font-weight:500}.features-preview[_ngcontent-%COMP%]   .preview-group[_ngcontent-%COMP%]   .preview-count[_ngcontent-%COMP%]{color:#94a3b8;font-size:11px}.features-section.expanded[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}.features-section.expanded[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.features-section.expanded[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9}.features-section.expanded[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.feature-group[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]   .feature-count[_ngcontent-%COMP%]{margin-left:auto;padding:2px 8px;background:#e2e8f0;border-radius:10px;font-size:10px;font-weight:600;color:#64748b}.feature-item[_ngcontent-%COMP%]{flex-wrap:wrap}.feature-item[_ngcontent-%COMP%]   .feature-name[_ngcontent-%COMP%]{flex:1;min-width:100px}.feature-item[_ngcontent-%COMP%]   .feature-request[_ngcontent-%COMP%]{width:100%;margin-top:4px;padding:4px 8px;background:#f1f5f9;border-radius:4px;font-size:11px;color:#64748b;line-height:1.4}.events-section[_ngcontent-%COMP%]{padding:12px 14px;border-top:1px solid #e2e8f0;background:#fefce8}.events-section[_ngcontent-%COMP%]   .events-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:12px;font-weight:600;color:#854d0e;margin-bottom:8px}.events-section[_ngcontent-%COMP%]   .events-header[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:16px}.events-section[_ngcontent-%COMP%]   .event-tags[_ngcontent-%COMP%]{padding:0;background:transparent;border:none}.detail-panel[_ngcontent-%COMP%]{position:absolute;top:60px;right:16px;width:400px;max-height:calc(100% - 80px);background:#fff;border-radius:12px;box-shadow:0 8px 32px #00000026;z-index:100;display:flex;flex-direction:column;overflow:hidden;animation:_ngcontent-%COMP%_slideIn .2s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(20px)}to{opacity:1;transform:translate(0)}}.detail-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;color:#fff}.detail-header[_ngcontent-%COMP%]   .detail-icon[_ngcontent-%COMP%]{font-size:28px}.detail-header[_ngcontent-%COMP%]   .detail-title-section[_ngcontent-%COMP%]{flex:1}.detail-header[_ngcontent-%COMP%]   .detail-title-section[_ngcontent-%COMP%]   .detail-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600}.detail-header[_ngcontent-%COMP%]   .detail-title-section[_ngcontent-%COMP%]   .detail-id[_ngcontent-%COMP%]{font-size:11px;opacity:.8}.detail-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border:none;border-radius:8px;background:#fff3;cursor:pointer;transition:background .2s}.detail-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px;color:#fff}.detail-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d}.detail-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:16px}.detail-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.detail-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9}.detail-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.detail-summary[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:16px}.detail-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;padding:12px;background:#f8fafc;border-radius:8px;border:1px solid #e2e8f0}.detail-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{font-size:11px;color:#64748b;margin-bottom:4px}.detail-summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#1e293b}.detail-progress[_ngcontent-%COMP%]{margin-bottom:20px}.detail-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:8px;background:#e2e8f0;border-radius:4px;overflow:hidden}.detail-progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#22c55e,#4ade80);border-radius:4px;transition:width .3s ease}.section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0 0 12px;padding-bottom:8px;border-bottom:1px solid #e2e8f0;font-size:14px;font-weight:600;color:#334155}.section-title[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:18px;color:#64748b}.detail-features[_ngcontent-%COMP%]{margin-bottom:20px}.detail-group[_ngcontent-%COMP%]{margin-bottom:16px}.detail-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.detail-group-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:10px 12px;background:#f1f5f9;border-radius:8px;margin-bottom:8px}.detail-group-header[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:18px;color:#64748b}.detail-group-header[_ngcontent-%COMP%]   .group-name[_ngcontent-%COMP%]{flex:1;font-size:13px;font-weight:600;color:#334155}.detail-group-header[_ngcontent-%COMP%]   .group-count[_ngcontent-%COMP%]{padding:2px 8px;background:#e2e8f0;border-radius:10px;font-size:11px;color:#64748b}.detail-group-items[_ngcontent-%COMP%]{padding-left:8px}.detail-item[_ngcontent-%COMP%]{padding:12px;margin-bottom:8px;background:#fff;border:1px solid #e2e8f0;border-radius:8px;transition:box-shadow .2s}.detail-item[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px #0000000f}.detail-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.item-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px}.item-header[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;flex-shrink:0}.item-header[_ngcontent-%COMP%]   .status-indicator.open[_ngcontent-%COMP%]{background:#94a3b8}.item-header[_ngcontent-%COMP%]   .status-indicator.inProgress[_ngcontent-%COMP%]{background:#f59e0b}.item-header[_ngcontent-%COMP%]   .status-indicator.completed[_ngcontent-%COMP%]{background:#22c55e}.item-header[_ngcontent-%COMP%]   .status-indicator.review[_ngcontent-%COMP%]{background:#8b5cf6}.item-header[_ngcontent-%COMP%]   .status-indicator.blocked[_ngcontent-%COMP%]{background:#ef4444}.item-header[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{flex:1;font-size:13px;font-weight:500;color:#1e293b}.item-header[_ngcontent-%COMP%]   .item-status-badge[_ngcontent-%COMP%]{padding:3px 8px;border-radius:12px;font-size:10px;font-weight:600}.item-header[_ngcontent-%COMP%]   .item-status-badge.open[_ngcontent-%COMP%]{background:#f1f5f9;color:#64748b}.item-header[_ngcontent-%COMP%]   .item-status-badge.inProgress[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.item-header[_ngcontent-%COMP%]   .item-status-badge.completed[_ngcontent-%COMP%]{background:#dcfce7;color:#16a34a}.item-header[_ngcontent-%COMP%]   .item-status-badge.review[_ngcontent-%COMP%]{background:#f3e8ff;color:#7c3aed}.item-header[_ngcontent-%COMP%]   .item-status-badge.blocked[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626}.item-request[_ngcontent-%COMP%]{padding:8px 10px;background:#f8fafc;border-radius:6px;font-size:12px;color:#475569;line-height:1.5;margin-bottom:8px}.item-request[_ngcontent-%COMP%]   .request-label[_ngcontent-%COMP%]{font-weight:600;color:#64748b;margin-right:4px}.item-meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.item-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:11px;color:#64748b}.item-meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:14px}.item-meta[_ngcontent-%COMP%]   .meta-item.priority[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#f59e0b}.item-meta[_ngcontent-%COMP%]   .meta-item.feasibility[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#22c55e}.item-meta[_ngcontent-%COMP%]   .meta-item.progress[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#3b82f6}.detail-events[_ngcontent-%COMP%]{margin-bottom:20px}.events-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.event-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:10px 12px;background:#f8fafc;border-radius:8px;border-left:3px solid}.event-item.pageview[_ngcontent-%COMP%]{border-color:#3b82f6}.event-item.action[_ngcontent-%COMP%]{border-color:#22c55e}.event-item.conversion[_ngcontent-%COMP%]{border-color:#a855f7}.event-item.navigation[_ngcontent-%COMP%]{border-color:#f97316}.event-item.error[_ngcontent-%COMP%]{border-color:#ef4444}.event-item[_ngcontent-%COMP%]   .event-type-badge[_ngcontent-%COMP%]{padding:3px 8px;border-radius:4px;font-size:10px;font-weight:600;text-transform:uppercase}.event-item[_ngcontent-%COMP%]   .event-type-badge.pageview[_ngcontent-%COMP%]{background:#dbeafe;color:#1d4ed8}.event-item[_ngcontent-%COMP%]   .event-type-badge.action[_ngcontent-%COMP%]{background:#dcfce7;color:#15803d}.event-item[_ngcontent-%COMP%]   .event-type-badge.conversion[_ngcontent-%COMP%]{background:#f3e8ff;color:#7e22ce}.event-item[_ngcontent-%COMP%]   .event-type-badge.navigation[_ngcontent-%COMP%]{background:#ffedd5;color:#c2410c}.event-item[_ngcontent-%COMP%]   .event-type-badge.error[_ngcontent-%COMP%]{background:#fee2e2;color:#b91c1c}.event-item[_ngcontent-%COMP%]   .event-info[_ngcontent-%COMP%]{flex:1}.event-item[_ngcontent-%COMP%]   .event-info[_ngcontent-%COMP%]   .event-name[_ngcontent-%COMP%]{display:block;font-size:13px;font-weight:500;color:#334155}.event-item[_ngcontent-%COMP%]   .event-info[_ngcontent-%COMP%]   .event-trigger[_ngcontent-%COMP%]{font-size:11px;color:#94a3b8}.detail-connections[_ngcontent-%COMP%]   .connections-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.detail-connections[_ngcontent-%COMP%]   .connection-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:10px 12px;background:#f8fafc;border-radius:8px;cursor:pointer;transition:background .2s}.detail-connections[_ngcontent-%COMP%]   .connection-item[_ngcontent-%COMP%]:hover{background:#e2e8f0}.detail-connections[_ngcontent-%COMP%]   .connection-item[_ngcontent-%COMP%]   .connection-icon[_ngcontent-%COMP%]{font-size:20px}.detail-connections[_ngcontent-%COMP%]   .connection-item[_ngcontent-%COMP%]   .connection-name[_ngcontent-%COMP%]{flex:1;font-size:13px;font-weight:500;color:#334155}.detail-connections[_ngcontent-%COMP%]   .connection-item[_ngcontent-%COMP%]   .connection-type[_ngcontent-%COMP%]{padding:2px 8px;background:#e2e8f0;border-radius:4px;font-size:10px;color:#64748b}.detail-connections[_ngcontent-%COMP%]   .connection-item[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{font-size:16px;color:#94a3b8}']})};function No(r,t){if(r&1){let e=E();o(0,"div",12)(1,"button",18),h("click",function(){u(e);let a=l(2);return C(a.toggleMultiSelectMode())}),o(2,"span"),c(3,"\u{1F446}"),i()(),o(4,"div",8)(5,"span",9),c(6,"\uC120\uD0DD (Shift+Click)"),i(),o(7,"span",10),c(8),i(),o(9,"span",11),c(10),i()()()}if(r&2){let e=l(2);s(),M("active",e.isMultiSelectMode),w("title",e.isMultiSelectMode?"\uB2E4\uC911 \uC120\uD0DD ON (Shift \uC5C6\uC774 \uC120\uD0DD)":"\uB2E4\uC911 \uC120\uD0DD OFF (Shift+Click)"),s(7),g(e.getStepProgress("multiSelect")),s(2),g(e.getStepLabel("multiSelect"))}}function Go(r,t){if(r&1){let e=E();o(0,"app-ia-canvas",19),h("zoomLevelChange",function(a){u(e);let d=l(2);return C(d.onZoomChange(a))})("penModeChange",function(a){u(e);let d=l(2);return C(d.isPenMode=a)})("simulatorRequested",function(a){u(e);let d=l(2);return C(d.onSimulatorRequested(a))}),i()}if(r&2){let e=l(2);w("pages",e.currentProjectData.ia.pages)("userFlows",e.currentProjectData.ia.userFlows)("folderType",e.folderType)("viewMode",e.viewMode)("zoomLevel",e.canvasZoomLevel)("isPenMode",e.isPenMode)("isMultiSelectMode",e.isMultiSelectMode)}}function qo(r,t){if(r&1&&(o(0,"div",17),m(1,"app-spec-plan",20),i()),r&2){let e=l(2);s(),w("folderType",e.folderType)}}function Yo(r,t){if(r&1){let e=E();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),h("click",function(){u(e);let a=l();return C(a.zoomOut())}),o(4,"span"),c(5,"\u{1F50D}\u2212"),i()(),o(6,"span",5),c(7),i(),o(8,"button",6),h("click",function(){u(e);let a=l();return C(a.zoomIn())}),o(9,"span"),c(10,"\u{1F50D}+"),i()(),o(11,"button",7),h("click",function(){u(e);let a=l();return C(a.resetZoom())}),o(12,"span"),c(13,"\u21BA"),i()()(),o(14,"div",8)(15,"span",9),c(16,"\uC90C (Ctrl + \uC2A4\uD06C\uB864)"),i(),o(17,"span",10),c(18),i(),o(19,"span",11),c(20),i()()(),o(21,"div",12)(22,"button",13),h("click",function(){u(e);let a=l();return C(a.togglePenMode())}),o(23,"span"),c(24,"\u270B"),i()(),o(25,"div",8)(26,"span",9),c(27,"\uC774\uB3D9 (Space + \uB4DC\uB798\uADF8)"),i(),o(28,"span",10),c(29),i(),o(30,"span",11),c(31),i()()(),f(32,No,11,5,"div",12),o(33,"div",14)(34,"button",15),h("click",function(){u(e);let a=l();return C(a.onViewModeChange("canvas"))}),c(35," \u{1F4D0} \uCE94\uBC84\uC2A4 "),i(),o(36,"button",15),h("click",function(){u(e);let a=l();return C(a.onViewModeChange("planning"))}),c(37," \u{1F4DD} \uAE30\uD68D\uC548 "),i(),o(38,"div",8)(39,"span",9),c(40,"\uBDF0"),i(),o(41,"span",10),c(42),i(),o(43,"span",11),c(44),i()()()(),f(45,Go,1,7,"app-ia-canvas",16),f(46,qo,2,1,"div",17)}if(r&2){let e=l();s(3),w("disabled",e.canvasZoomLevel<=50),s(4),x("",e.canvasZoomLevel,"%"),s(),w("disabled",e.canvasZoomLevel>=200),s(10),g(e.getStepProgress("zoom")),s(2),g(e.getStepLabel("zoom")),s(2),M("pen-active",e.isPenMode),w("title",e.isPenMode?"\uD39C \uBAA8\uB4DC OFF":"\uD39C \uBAA8\uB4DC ON (Space \uC5C6\uC774 \uB4DC\uB798\uADF8)"),s(7),g(e.getStepProgress("penMode")),s(2),g(e.getStepLabel("penMode")),s(),_(e.viewMode==="canvas"?32:-1),s(2),M("active",e.viewMode==="canvas"),s(2),M("active",e.viewMode==="planning"),s(6),g(e.getStepProgress("viewMode")),s(2),g(e.getStepLabel("viewMode")),s(),_(e.viewMode==="canvas"?45:-1),s(),_(e.viewMode==="planning"?46:-1)}}var Ce=class r{constructor(t){this.projectSpecsService=t}folderType="calendar";simulatorRequested=new q;currentProjectData=null;isLoading=!1;errorMessage=null;viewMode="planning";canvasZoomLevel=100;isPenMode=!1;isMultiSelectMode=!1;ZOOM_STORAGE_KEY="ia-canvas-zoom";destroy$=new ee;functionSteps={zoom:{current:0,total:4,labels:["\uAE30\uBCF8","\uCD95\uC18C","\uD655\uB300","\uCD08\uAE30\uD654"]},penMode:{current:0,total:2,labels:["\uC77C\uBC18","\uD39C"]},multiSelect:{current:0,total:2,labels:["\uB2E8\uC77C","\uB2E4\uC911"]},viewMode:{current:1,total:2,labels:["\uCE94\uBC84\uC2A4","\uAE30\uD68D\uC548"]}};ngOnInit(){let t=localStorage.getItem(this.ZOOM_STORAGE_KEY);t&&(this.canvasZoomLevel=parseInt(t,10)),this.subscribeToProjectSpecs()}saveZoomLevel(t){localStorage.setItem(this.ZOOM_STORAGE_KEY,t.toString())}ngOnChanges(t){t.folderType&&!t.folderType.firstChange&&this.updateCurrentData()}ngAfterViewInit(){this.updateCurrentData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToProjectSpecs(){this.projectSpecsService.loading$.pipe(j(this.destroy$)).subscribe(t=>{this.isLoading=t}),this.projectSpecsService.error$.pipe(j(this.destroy$)).subscribe(t=>{this.errorMessage=t}),this.projectSpecsService.specs$.pipe(j(this.destroy$)).subscribe(()=>{this.updateCurrentData()})}updateCurrentData(){let t=this.projectSpecsService.getProjectSpecSync(this.folderType);t&&(this.currentProjectData={name:t.name,ia:t.ia})}onViewModeChange(t){(t==="canvas"||t==="planning")&&this.updateViewMode(t)}zoomIn(){this.canvasZoomLevel<200&&(this.canvasZoomLevel=Math.min(200,this.canvasZoomLevel+10),this.saveZoomLevel(this.canvasZoomLevel),this.updateFunctionStep("zoom",2))}zoomOut(){this.canvasZoomLevel>50&&(this.canvasZoomLevel=Math.max(50,this.canvasZoomLevel-10),this.saveZoomLevel(this.canvasZoomLevel),this.updateFunctionStep("zoom",1))}resetZoom(){this.canvasZoomLevel=100,this.saveZoomLevel(this.canvasZoomLevel),this.updateFunctionStep("zoom",3)}onZoomChange(t){this.canvasZoomLevel=t,this.saveZoomLevel(t)}togglePenMode(){this.isPenMode=!this.isPenMode,this.updateFunctionStep("penMode",this.isPenMode?1:0)}toggleMultiSelectMode(){this.isMultiSelectMode=!this.isMultiSelectMode,this.updateFunctionStep("multiSelect",this.isMultiSelectMode?1:0)}updateViewMode(t){this.viewMode=t;let e=0;t==="planning"&&(e=1),this.updateFunctionStep("viewMode",e)}updateFunctionStep(t,e){this.functionSteps[t]&&(this.functionSteps[t].current=e)}getStepProgress(t){let e=this.functionSteps[t];return e?`${e.current+1}/${e.total}`:""}getStepLabel(t){let e=this.functionSteps[t];return e&&e.labels[e.current]?e.labels[e.current]:""}onSimulatorRequested(t){t.projectModule||(t.projectModule=this.folderType),this.simulatorRequested.emit(t)}static \u0275fac=function(e){return new(e||r)(L(X))};static \u0275cmp=W({type:r,selectors:[["app-ia-doc"]],inputs:{folderType:"folderType"},outputs:{simulatorRequested:"simulatorRequested"},standalone:!1,features:[te],decls:2,vars:1,consts:[[1,"ia-doc-container"],[1,"toolbar"],[1,"zoom-controls"],[1,"control-group"],["title","\uCD95\uC18C (Ctrl + -)",3,"click","disabled"],[1,"zoom-level"],["title","\uD655\uB300 (Ctrl + +)",3,"click","disabled"],["title","\uC6D0\uB798 \uD06C\uAE30 (Ctrl + 0)",3,"click"],[1,"step-indicator"],[1,"step-label"],[1,"step-progress"],[1,"step-name"],[1,"control-group","with-step"],[1,"pen-button",3,"click","title"],[1,"view-toggle","with-step"],[1,"toggle-btn",3,"click"],[1,"ia-canvas-wrapper",3,"pages","userFlows","folderType","viewMode","zoomLevel","isPenMode","isMultiSelectMode"],[1,"ia-planning-content"],[1,"control-panel-toggle",3,"click","title"],[1,"ia-canvas-wrapper",3,"zoomLevelChange","penModeChange","simulatorRequested","pages","userFlows","folderType","viewMode","zoomLevel","isPenMode","isMultiSelectMode"],[3,"folderType"]],template:function(e,n){e&1&&(o(0,"div",0),f(1,Yo,47,19),i()),e&2&&(s(),_(n.currentProjectData?1:-1))},dependencies:[pe,Ve],styles:[".ia-doc-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;background:linear-gradient(135deg,#f5f7fa,#f0f4f8);padding:15px;overflow-y:auto;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;gap:12px}.toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:12px 20px;background:#fffffff2;border-radius:14px;box-shadow:0 2px 12px #667eea14;border:1px solid rgba(102,126,234,.12)}.zoom-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 12px;background:#667eea0a;border-radius:8px}.zoom-controls[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.zoom-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border:1px solid #d1d5db;border-radius:6px;background:#fff;cursor:pointer;font-size:16px;transition:all .2s ease}.zoom-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background:#f3f4f6;border-color:#9ca3af}.zoom-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active:not(:disabled){background:#e5e7eb}.zoom-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.zoom-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;line-height:1}.zoom-controls[_ngcontent-%COMP%]   .zoom-level[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#667eea;width:50px;text-align:center}.zoom-controls[_ngcontent-%COMP%]   .step-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;margin-left:8px;padding:4px 10px;background:#667eea14;border-radius:6px;font-size:11px;font-weight:600}.zoom-controls[_ngcontent-%COMP%]   .step-indicator[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:#667eea;font-weight:700}.zoom-controls[_ngcontent-%COMP%]   .step-indicator[_ngcontent-%COMP%]   .step-progress[_ngcontent-%COMP%]{color:#9ca3af;font-size:10px}.zoom-controls[_ngcontent-%COMP%]   .step-indicator[_ngcontent-%COMP%]   .step-name[_ngcontent-%COMP%]{color:#6b7280;font-size:10px;margin-left:4px}.pen-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border:1px solid #d1d5db;border-radius:6px;background:#fff;cursor:pointer;font-size:16px;transition:all .2s ease}.pen-button[_ngcontent-%COMP%]:hover{background:#f3f4f6;border-color:#9ca3af}.pen-button[_ngcontent-%COMP%]:active{background:#e5e7eb}.pen-button.pen-active[_ngcontent-%COMP%]{background:#667eea;border-color:#667eea;box-shadow:0 0 8px #667eea4d}.pen-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;line-height:1}.control-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.control-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border:1px solid #d1d5db;border-radius:6px;background:#fff;cursor:pointer;font-size:16px;transition:all .2s ease}.control-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#f3f4f6;border-color:#9ca3af}.control-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background:#e5e7eb}.control-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;line-height:1}.control-group.with-step[_ngcontent-%COMP%]{gap:6px}.step-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:4px 10px;background:#667eea14;border-radius:6px;font-size:11px;font-weight:600}.step-indicator[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:#667eea;font-weight:700}.step-indicator[_ngcontent-%COMP%]   .step-progress[_ngcontent-%COMP%]{color:#9ca3af;font-size:10px}.step-indicator[_ngcontent-%COMP%]   .step-name[_ngcontent-%COMP%]{color:#6b7280;font-size:10px;margin-left:4px}.control-panel-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border:1px solid #d1d5db;border-radius:6px;background:#fff;cursor:pointer;font-size:16px;transition:all .2s ease}.control-panel-toggle[_ngcontent-%COMP%]:hover{background:#f3f4f6;border-color:#9ca3af}.control-panel-toggle[_ngcontent-%COMP%]:active{background:#e5e7eb}.control-panel-toggle.active[_ngcontent-%COMP%]{background:#3b82f6;border-color:#3b82f6;box-shadow:0 0 8px #3b82f64d}.control-panel-toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;line-height:1}.view-toggle[_ngcontent-%COMP%]{display:flex;gap:4px;padding:4px;background:#e5e7eb4d;border-radius:6px;border:1px solid #e5e7eb;margin-left:auto;position:relative}.view-toggle.with-step[_ngcontent-%COMP%]{gap:8px}.view-toggle[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{padding:6px 12px;border:none;border-radius:4px;background:transparent;cursor:pointer;font-size:14px;font-weight:500;color:#6b7280;transition:all .2s ease}.view-toggle[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover{background:#e5e7eb80;color:#374151}.view-toggle[_ngcontent-%COMP%]   .toggle-btn.active[_ngcontent-%COMP%]{background:#fff;color:#667eea;box-shadow:0 1px 3px #0000001a}.ia-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fccb90,#d57eeb);color:#fff;padding:16px 30px;display:flex;align-items:center;justify-content:space-between;box-shadow:0 4px 20px #fccb904d}.ia-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex:1;text-align:center}.ia-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:700;letter-spacing:-.5px}.ia-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .folder-tag[_ngcontent-%COMP%]{margin-left:8px;font-size:14px;font-weight:500;opacity:.8}.ia-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:3px 0 0;font-size:12px;opacity:.9}.ia-header[_ngcontent-%COMP%]   .view-toggle[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:20px}.ia-header[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:6px;background:#fff3;color:#fff;font-size:12px;font-weight:500;cursor:pointer;transition:all .3s ease}.ia-header[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d}.ia-header[_ngcontent-%COMP%]   .toggle-btn.active[_ngcontent-%COMP%]{background:#fff;color:#d57eeb;font-weight:600}.ia-canvas-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;height:100%}.ia-planning-content[_ngcontent-%COMP%]{flex:1;width:100%;height:100%;overflow:auto;border-radius:14px;background:#fff;box-shadow:0 4px 20px #0000000d}.ia-content[_ngcontent-%COMP%]{flex:1;padding:30px;overflow-y:auto}.ia-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.ia-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.ia-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0003;border-radius:4px}.ia-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#0000004d}.ia-legend[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:20px;background:#fff;padding:15px 20px;border-radius:8px;box-shadow:0 2px 8px #00000014;flex-wrap:wrap}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:13px;color:#555}.legend-icon[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:4px}.ia-planning-content[_ngcontent-%COMP%]{flex:1;background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 4px 20px #0000000d;border:1px solid #edf2f7}"]})};function Uo(r,t){if(r&1&&(o(0,"div",77)(1,"span",78),c(2,"AI Engine"),i(),o(3,"span",79),c(4),i()()),r&2){let e=l(3);s(4),g(e.currentProjectSpec.systemArchitecture.aiEngine)}}function Zo(r,t){if(r&1&&(o(0,"div",77)(1,"span",78),c(2,"File Storage"),i(),o(3,"span",79),c(4),i()()),r&2){let e=l(3);s(4),g(e.currentProjectSpec.systemArchitecture.fileStorage)}}function Xo(r,t){if(r&1&&(o(0,"div",7)(1,"h2"),c(2,"\uCD94\uAC00 \uC2DC\uC2A4\uD15C \uAD6C\uC131"),i(),o(3,"div",76),f(4,Uo,5,1,"div",77),f(5,Zo,5,1,"div",77),i()()),r&2){let e=l(2);s(4),_(e.currentProjectSpec.systemArchitecture.aiEngine?4:-1),s(),_(e.currentProjectSpec.systemArchitecture.fileStorage?5:-1)}}function Ko(r,t){if(r&1&&(o(0,"header",2)(1,"div",3)(2,"h1"),c(3),i(),o(4,"p",4),c(5,"System Architecture Specification"),i()(),o(6,"div",5),c(7,"v1.0.0"),i()(),o(8,"div",6)(9,"div",7)(10,"h2"),c(11,"\uD575\uC2EC \uAE30\uC220 \uC2A4\uD0DD"),i(),o(12,"div",8)(13,"div",9)(14,"div",10)(15,"span",11),c(16,"html"),i()(),o(17,"div",12)(18,"h3"),c(19,"Frontend"),i(),o(20,"p"),c(21),i()()(),o(22,"div",9)(23,"div",10)(24,"span",11),c(25,"dns"),i()(),o(26,"div",12)(27,"h3"),c(28,"Backend"),i(),o(29,"p"),c(30),i()()(),o(31,"div",9)(32,"div",10)(33,"span",11),c(34,"storage"),i()(),o(35,"div",12)(36,"h3"),c(37,"Database"),i(),o(38,"p"),c(39),i()()(),o(40,"div",9)(41,"div",10)(42,"span",11),c(43,"cloud_done"),i()(),o(44,"div",12)(45,"h3"),c(46,"Deployment"),i(),o(47,"p"),c(48),i()()()()(),f(49,Xo,6,2,"div",7),o(50,"div",13)(51,"h2"),c(52,"\uC2DC\uC2A4\uD15C \uAD6C\uC131\uB3C4"),i(),o(53,"div",14),m(54,"div",15),o(55,"div",16)(56,"div",17),m(57,"div",18),o(58,"span",11),c(59,"desktop_windows"),i(),o(60,"span",19),c(61,"WPF"),i(),o(62,"span",20),c(63,"C#"),i()(),o(64,"div",21),m(65,"div",18),o(66,"span",11),c(67,"computer"),i(),o(68,"span",19),c(69,"Electron"),i(),o(70,"span",20),c(71,"MAC"),i()(),o(72,"div",22),m(73,"div",18),o(74,"span",11),c(75,"smartphone"),i(),o(76,"span",19),c(77,"iOS"),i(),o(78,"span",20),c(79,"Swift"),i()(),o(80,"div",23),m(81,"div",18),o(82,"span",11),c(83,"android"),i(),o(84,"span",19),c(85,"AOS"),i(),o(86,"span",20),c(87,"Kotlin"),i()()(),o(88,"div",24)(89,"div",25)(90,"span",11),c(91,"swap_horiz"),i(),o(92,"span",26),c(93,"postMessage Interface"),i()()(),v(),o(94,"svg",27),m(95,"path",28)(96,"polygon",29)(97,"path",30)(98,"polygon",29)(99,"path",31)(100,"polygon",32)(101,"path",33)(102,"polygon",32)(103,"path",34)(104,"polygon",35),i(),z(),o(105,"div",36)(106,"div",37)(107,"span",11),c(108,"language"),i(),o(109,"span",38),c(110,"WEBVIEW"),i()()(),o(111,"div",39),m(112,"div",40),i(),o(113,"div",41)(114,"div",42)(115,"div",43),v(),o(116,"svg",44),m(117,"polygon",45)(118,"polygon",46)(119,"path",47),i()(),z(),o(120,"span",48),c(121,"Angular(SPA)"),i()(),o(122,"div",49)(123,"div",50),c(124,"AOT Compile"),i(),o(125,"div",50),c(126,"ivy renderer"),i(),o(127,"div",50),c(128,"Signal"),i()()(),v(),o(129,"svg",51)(130,"defs")(131,"linearGradient",52),m(132,"stop",53)(133,"stop",54),i()(),m(134,"path",55)(135,"polygon",56),i(),z(),o(136,"div",57)(137,"div",58)(138,"div",59)(139,"span",11),c(140,"memory"),i(),o(141,"span",60),c(142,"WebAssembly Bridge"),i()(),o(143,"div",61)(144,"div",62)(145,"span",63),c(146,"C++"),i()(),o(147,"div",62)(148,"span",63),c(149,"Rust"),i()(),o(150,"div",62)(151,"span",63),c(152,"Go"),i()()(),o(153,"div",64)(154,"span",65),c(155,"\u2699\uFE0F"),i(),o(156,"span"),c(157,"Web Worker"),i()()()(),o(158,"div",66)(159,"div",67)(160,"span",11),c(161,"brush"),i(),o(162,"p"),c(163,"UI/UX \uC601\uC5ED \uACF5\uD1B5 Angular(SPA) \uAD6C\uD604"),i()(),o(164,"div",67)(165,"span",11),c(166,"integration_instructions"),i(),o(167,"p"),c(168,"\uAE30\uB2A5 \uAD6C\uD604 \uB124\uC774\uD2F0\uBE0C \uC5F0\uB3D9"),i()(),o(169,"div",67)(170,"span",11),c(171,"widgets"),i(),o(172,"p"),c(173,"\uB124\uC774\uD2F0\uBE0C \uC704\uC82F UX \uC81C\uACF5"),i()(),o(174,"div",67)(175,"span",11),c(176,"cloud_off"),i(),o(177,"p"),c(178,"\uB85C\uCEEC \uAE30\uBC18 (\uBC31\uC5D4\uB4DC \uCD5C\uC18C\uD654)"),i()()()()(),o(179,"div",68)(180,"h2"),c(181,"\uC544\uD0A4\uD14D\uCC98 \uC124\uACC4 \uCCA0\uD559 \uBC0F \uAE30\uB300\uD6A8\uACFC"),i(),o(182,"div",69)(183,"div",70)(184,"div",71)(185,"span",11),c(186,"auto_awesome"),i(),o(187,"h3"),c(188,"\uD1B5\uD569 \uBE0C\uB79C\uB4DC UX \uBC0F \uC131\uACF5 \uC804\uB7B5"),i()(),o(189,"div",72)(190,"p"),c(191,"UI/UX \uACF5\uD1B5\uD654\uB294 \uBCF8 \uD504\uB85C\uC81D\uD2B8\uC758 "),o(192,"strong"),c(193,"\uD575\uC2EC \uC131\uACF5 \uC694\uC778"),i(),c(194,"\uC785\uB2C8\uB2E4. \uC0AC\uC6A9\uC790\uB294 \uBAA8\uB4E0 \uD50C\uB7AB\uD3FC\uC5D0\uC11C \uC77C\uAD00\uB418\uACE0 \uC138\uB828\uB41C \uBE0C\uB79C\uB4DC \uACBD\uD5D8\uC744 \uC6D0\uD569\uB2C8\uB2E4. VS Code, Figma\uC640 \uAC19\uC740 \uC138\uACC4\uC801\uC778 \uC0DD\uC0B0\uC131 \uB3C4\uAD6C\uB4E4\uC774 SPA(Single Page Application)\uB85C \uAC1C\uBC1C\uB418\uB294 \uC774\uC720\uB3C4 \uC5EC\uAE30\uC5D0 \uC788\uC2B5\uB2C8\uB2E4. \uD50C\uB7AB\uD3FC\uBCC4\uB85C UI\uB97C \uC81C\uC5B4\uD558\uB294 \uBC29\uC2DD\uC740 \uAD00\uB9AC\uC758 \uD30C\uD3B8\uD654\uB97C \uCD08\uB798\uD558\uC5EC \uC815\uAD50\uD55C \uD488\uC9C8 \uAD00\uB9AC\uB97C \uBD88\uAC00\uB2A5\uD558\uAC8C \uB9CC\uB4ED\uB2C8\uB2E4."),i()()(),o(195,"div",73)(196,"div",71)(197,"span",11),c(198,"memory"),i(),o(199,"h3"),c(200,"\uACE0\uC131\uB2A5 \uBA40\uD2F0\uD504\uB85C\uC138\uC2A4 \uC544\uD0A4\uD14D\uCC98"),i()(),o(201,"div",72)(202,"p"),c(203,"\uB2E8\uC21C\uD55C \uD654\uBA74 \uD45C\uC2DC\uB97C \uB118\uC5B4 \uBCF5\uC7A1\uD55C \uAE30\uB2A5\uC774 \uC720\uAE30\uC801\uC73C\uB85C \uC791\uB3D9\uD558\uB294 UI/UX\uB294 \uBA54\uBAA8\uB9AC \uBC0F CPU \uC131\uB2A5\uACFC \uCD5C\uC801\uD654\uC5D0 \uC9C1\uACB0\uB429\uB2C8\uB2E4. \uBCF8 \uC2DC\uC2A4\uD15C\uC740 "),o(204,"strong"),c(205,"Chromium OS"),i(),c(206," \uD658\uACBD\uC744 \uC911\uC2EC\uC73C\uB85C, \uACE0\uC131\uB2A5 \uC5F0\uC0B0\uC774 \uD544\uC694\uD55C \uAD6C\uAC04\uC740 "),o(207,"strong"),c(208,"WASM(WebAssembly)"),i(),c(209,"\uC744 \uC801\uADF9 \uD65C\uC6A9\uD558\uC5EC \uB124\uC774\uD2F0\uBE0C \uC218\uC900\uC758 \uC18D\uB3C4\uB97C \uAD6C\uD604\uD558\uACE0 UI \uC751\uB2F5\uC131\uC744 \uC644\uBCBD\uD788 \uBCF4\uC7A5\uD569\uB2C8\uB2E4."),i()()(),o(210,"div",74)(211,"div",71)(212,"span",11),c(213,"settings_input_component"),i(),o(214,"h3"),c(215,"\uB124\uC774\uD2F0\uBE0C \uC790\uC6D0\uC758 \uC735\uD569"),i()(),o(216,"div",72)(217,"p"),c(218,"\uD06C\uB85C\uC2A4 \uD50C\uB7AB\uD3FC\uC758 \uD55C\uACC4\uB97C \uB118\uC5B4 OS\uC5D0 \uB0B4\uC7A5\uB41C \uAC15\uB825\uD55C \uC790\uC6D0\uC744 \uD65C\uC6A9\uD569\uB2C8\uB2E4. \uBB38\uC11C \uB3C4\uAD6C, "),o(219,"strong"),c(220,"STT(Speech-to-Text)"),i(),c(221,", "),o(222,"strong"),c(223,"TTS(Text-to-Speech)"),i(),c(224," \uB4F1 \uAC01 OS\uC758 \uCD5C\uC2E0 API\uB97C \uB124\uC774\uD2F0\uBE0C \uBE0C\uB9BF\uC9C0\uB97C \uD1B5\uD574 \uD1B5\uD569 \uC81C\uACF5\uD568\uC73C\uB85C\uC368, \uC6F9\uC758 \uC720\uC5F0\uD568\uACFC \uB124\uC774\uD2F0\uBE0C\uC758 \uD48D\uBD80\uD55C \uAE30\uB2A5\uC744 \uB3D9\uC2DC\uC5D0 \uD655\uBCF4\uD569\uB2C8\uB2E4."),i()()(),o(225,"div",75)(226,"div",71)(227,"span",11),c(228,"verified"),i(),o(229,"h3"),c(230,"\uD488\uC9C8 \uBCF4\uC99D \uBC0F \uC9C0\uC18D \uAC00\uB2A5\uC131"),i()(),o(231,"div",72)(232,"p"),c(233,"\uC5B8\uC5B4\uBCC4\uB85C \uD30C\uD3B8\uD654\uB41C UI \uC81C\uC5B4\uB294 \uACB0\uAD6D \uD504\uB85C\uC81D\uD2B8\uC758 \uC2E4\uD328\uB85C \uC774\uC5B4\uC9D1\uB2C8\uB2E4. \uBCF8 \uC544\uD0A4\uD14D\uCC98\uB294 \uB2E8\uC77C\uD654\uB41C UI/UX \uD1B5\uC81C \uC2DC\uC2A4\uD15C\uC744 \uD1B5\uD574 "),o(234,"strong"),c(235,"\uB192\uC740 \uC81C\uD488 \uD488\uC9C8"),i(),c(236,"\uC744 \uC720\uC9C0\uD558\uBA70, \uC720\uC9C0\uBCF4\uC218 \uBE44\uC6A9\uC744 \uD68D\uAE30\uC801\uC73C\uB85C \uC808\uAC10\uD569\uB2C8\uB2E4. \uD604\uB300\uC801\uC778 \uC18C\uD504\uD2B8\uC6E8\uC5B4 \uACF5\uD559 \uAD00\uC810\uC5D0\uC11C \uACE0\uD488\uC9C8 \uC18C\uD504\uD2B8\uC6E8\uC5B4\uB97C \uB9CC\uB4DC\uB294 \uC720\uC77C\uD55C \uC99D\uBA85\uB41C \uACBD\uB85C\uC785\uB2C8\uB2E4."),i()()()()()()),r&2){let e=l();s(3),x("",e.currentProjectSpec.displayName," \uC2DC\uC2A4\uD15C \uC544\uD0A4\uD14D\uCC98"),s(18),g(e.currentProjectSpec.systemArchitecture.frontend),s(9),g(e.currentProjectSpec.systemArchitecture.backend),s(9),g(e.currentProjectSpec.systemArchitecture.database),s(9),g(e.currentProjectSpec.systemArchitecture.deployment),s(),_(e.currentProjectSpec.systemArchitecture.aiEngine||e.currentProjectSpec.systemArchitecture.fileStorage?49:-1)}}function Qo(r,t){r&1&&(o(0,"div",1),m(1,"div",80),o(2,"p"),c(3,"\uB370\uC774\uD130\uB97C \uBD88\uB7EC\uC624\uB294 \uC911\uC785\uB2C8\uB2E4..."),i()())}var fe=class r{constructor(t){this.projectSpecsService=t}folderType="calendar";currentProjectSpec=null;isLoading=!1;errorMessage=null;destroy$=new ee;ngOnInit(){this.subscribeToProjectSpecs()}ngOnChanges(t){t.folderType&&!t.folderType.firstChange&&this.updateCurrentSpec()}ngAfterViewInit(){this.updateCurrentSpec()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}subscribeToProjectSpecs(){this.projectSpecsService.loading$.pipe(j(this.destroy$)).subscribe(t=>{this.isLoading=t}),this.projectSpecsService.error$.pipe(j(this.destroy$)).subscribe(t=>{this.errorMessage=t}),this.projectSpecsService.specs$.pipe(j(this.destroy$)).subscribe(()=>{this.updateCurrentSpec()})}updateCurrentSpec(){this.currentProjectSpec=this.projectSpecsService.getProjectSpecSync(this.folderType)||null}static \u0275fac=function(e){return new(e||r)(L(X))};static \u0275cmp=W({type:r,selectors:[["app-arch-doc"]],inputs:{folderType:"folderType"},standalone:!1,features:[te],decls:3,vars:1,consts:[[1,"arch-doc-container"],[1,"loading-container"],[1,"doc-header"],[1,"header-info"],[1,"subtitle"],[1,"version-tag"],[1,"doc-content"],[1,"arch-section"],[1,"tech-stack-grid"],[1,"tech-card"],[1,"card-icon"],[1,"material-icons"],[1,"card-content"],[1,"arch-section","diagrams"],[1,"architecture-diagram","modern-style"],[1,"glow-effect"],[1,"platform-layer"],[1,"platform-box","wpf","animate-box"],[1,"box-glow"],[1,"platform-title"],[1,"platform-lang"],[1,"platform-box","electron","animate-box"],[1,"platform-box","ios","animate-box"],[1,"platform-box","aos","animate-box"],[1,"bridge-label-container"],[1,"post-message-floating"],[1,"bridge-tag"],["viewBox","0 0 1000 150","preserveAspectRatio","none",1,"bridge-lines-svg"],["d","M125,0 Q125,60 500,70"],["points","495,67 500,70 495,73",1,"arrow-head"],["d","M375,0 Q375,55 500,70"],["d","M625,0 Q625,55 500,70"],["points","505,67 500,70 505,73",1,"arrow-head"],["d","M875,0 Q875,60 500,70"],["d","M500,80 L500,145"],["points","497,145 500,150 503,145",1,"arrow-head"],[1,"webview-layer"],[1,"webview-box","pulse-glow"],[1,"webview-title"],[1,"vertical-connector"],[1,"scroll-arrow"],[1,"spa-layer"],[1,"spa-box"],[1,"angular-logo-container"],["viewBox","0 0 250 250",1,"angular-logo-svg"],["fill","#DD0031","points","125,30 31.9,63.2 46.1,186.3 125,230 203.9,186.3 218.1,63.2"],["fill","#C3002F","points","125,30 125,230 203.9,186.3 218.1,63.2"],["fill","#FFFFFF","d","M125,52.1L66.8,182.6h21.7l11.7-29.2h49.4l11.7,29.2h21.7L125,52.1z M142,135.4H108l17-40.9L142,135.4z"],[1,"spa-title"],[1,"spa-details-card"],[1,"tech-tag"],["viewBox","0 0 800 120","preserveAspectRatio","none",1,"wasm-to-spa-svg"],["id","wasmToSpaGradient","x1","0%","y1","0%","x2","0%","y2","100%"],["offset","0%",2,"stop-color","#6366f1","stop-opacity","1"],["offset","100%",2,"stop-color","#8b5cf6","stop-opacity","1"],["d","M400,0 L400,120",1,"wasm-to-spa-line"],["points","397,120 400,130 403,120",1,"wasm-arrow-head"],[1,"wasm-layer"],[1,"wasm-module-unified"],[1,"wasm-module-header"],[1,"module-title"],[1,"wasm-module-content"],[1,"language-item"],[1,"lang-icon"],[1,"worker-badge-unified"],[1,"worker-icon"],[1,"architecture-notes-modern"],[1,"note-item"],[1,"arch-section","description"],[1,"description-grid"],[1,"desc-card","success-point"],[1,"desc-header"],[1,"desc-body"],[1,"desc-card","performance-point"],[1,"desc-card","resource-point"],[1,"desc-card","quality-point"],[1,"extra-arch-grid"],[1,"extra-item"],[1,"label"],[1,"value"],[1,"spinner"]],template:function(e,n){e&1&&(o(0,"div",0),f(1,Ko,237,6)(2,Qo,4,0,"div",1),i()),e&2&&(s(),_(n.currentProjectSpec?1:2))},styles:['.arch-doc-container[_ngcontent-%COMP%]{padding:40px;background-color:#f8fafc;min-height:100%;color:#1e293b;font-family:Pretendard,sans-serif}.arch-doc-container[_ngcontent-%COMP%]   .doc-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;border-bottom:2px solid #e2e8f0;padding-bottom:20px;margin-bottom:30px}.arch-doc-container[_ngcontent-%COMP%]   .doc-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:700;color:#0f172a}.arch-doc-container[_ngcontent-%COMP%]   .doc-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:5px 0 0;color:#64748b;font-size:14px;letter-spacing:.05em}.arch-doc-container[_ngcontent-%COMP%]   .doc-header[_ngcontent-%COMP%]   .version-tag[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff;padding:4px 12px;border-radius:20px;font-size:12px;font-weight:600}.arch-doc-container[_ngcontent-%COMP%]   .arch-section[_ngcontent-%COMP%]{margin-bottom:40px}.arch-doc-container[_ngcontent-%COMP%]   .arch-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#334155;margin-bottom:20px;display:flex;align-items:center}.arch-doc-container[_ngcontent-%COMP%]   .arch-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:before{content:"";display:inline-block;width:4px;height:18px;background-color:#3b82f6;margin-right:10px;border-radius:2px}.arch-doc-container[_ngcontent-%COMP%]   .tech-stack-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:20px}.arch-doc-container[_ngcontent-%COMP%]   .tech-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:12px;padding:20px;display:flex;align-items:center;transition:transform .2s,box-shadow .2s;box-shadow:0 1px 3px #0000000d}.arch-doc-container[_ngcontent-%COMP%]   .tech-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 15px -3px #0000001a}.arch-doc-container[_ngcontent-%COMP%]   .tech-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{width:48px;height:48px;background-color:#eff6ff;border-radius:10px;display:flex;align-items:center;justify-content:center;margin-right:16px}.arch-doc-container[_ngcontent-%COMP%]   .tech-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#3b82f6;font-size:28px}.arch-doc-container[_ngcontent-%COMP%]   .tech-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#64748b;text-transform:uppercase;letter-spacing:.05em}.arch-doc-container[_ngcontent-%COMP%]   .tech-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:16px;font-weight:600;color:#1e293b}.arch-doc-container[_ngcontent-%COMP%]   .extra-arch-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px}.arch-doc-container[_ngcontent-%COMP%]   .extra-item[_ngcontent-%COMP%]{background-color:#f1f5f9;padding:12px 20px;border-radius:8px;display:flex;flex-direction:column}.arch-doc-container[_ngcontent-%COMP%]   .extra-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;color:#64748b;margin-bottom:4px}.arch-doc-container[_ngcontent-%COMP%]   .extra-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:15px;font-weight:500;color:#334155}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]{background-color:#fff;background-image:linear-gradient(rgba(0,0,0,.05) 1px,transparent 1px),linear-gradient(90deg,rgba(0,0,0,.05) 1px,transparent 1px);background-size:30px 30px;border-radius:20px;padding:80px 40px;display:flex;flex-direction:column;align-items:center;color:#1e293b;position:relative;box-shadow:0 10px 40px #00000014;overflow:hidden;border:1px solid rgba(0,0,0,.1)}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .glow-effect[_ngcontent-%COMP%]{position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle at center,rgba(59,130,246,.03) 0%,transparent 60%);pointer-events:none}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .platform-layer[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%;max-width:1000px;margin-bottom:80px;z-index:2}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .platform-layer[_ngcontent-%COMP%]   .platform-box[_ngcontent-%COMP%]{position:relative;background:#fff;border:1px solid rgba(0,0,0,.1);border-radius:16px;width:130px;height:120px;display:flex;flex-direction:column;align-items:center;justify-content:center;transition:all .4s cubic-bezier(.175,.885,.32,1.275);cursor:default;box-shadow:0 4px 12px #0000000d}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .platform-layer[_ngcontent-%COMP%]   .platform-box[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:32px;margin-bottom:10px;color:#3b82f6}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .platform-layer[_ngcontent-%COMP%]   .platform-box[_ngcontent-%COMP%]   .platform-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700;letter-spacing:1px;color:#334155}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .platform-layer[_ngcontent-%COMP%]   .platform-box[_ngcontent-%COMP%]   .platform-lang[_ngcontent-%COMP%]{font-size:12px;opacity:.6;margin-top:4px;color:#64748b}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .platform-layer[_ngcontent-%COMP%]   .platform-box[_ngcontent-%COMP%]:hover{transform:translateY(-8px);border-color:#3b82f6;box-shadow:0 12px 24px #3b82f626}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .platform-layer[_ngcontent-%COMP%]   .platform-box[_ngcontent-%COMP%]:hover   .material-icons[_ngcontent-%COMP%]{transform:scale(1.1)}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .platform-layer[_ngcontent-%COMP%]   .platform-box.electron[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#1f2937}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .bridge-lines-svg[_ngcontent-%COMP%]{position:absolute;top:180px;width:100%;max-width:1000px;left:50%;transform:translate(-50%);height:150px;pointer-events:none;z-index:1}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .bridge-lines-svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:none;stroke:#3b82f6;stroke-width:3;stroke-dasharray:10,5;animation:_ngcontent-%COMP%_dashFlow 10s linear infinite;opacity:.5;filter:drop-shadow(0 0 5px rgba(59,130,246,.3))}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .bridge-lines-svg[_ngcontent-%COMP%]   .arrow-head[_ngcontent-%COMP%]{fill:#3b82f6;opacity:.8}@keyframes _ngcontent-%COMP%_dashFlow{0%{stroke-dashoffset:300}to{stroke-dashoffset:0}}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .bridge-label-container[_ngcontent-%COMP%]{position:absolute;top:215px;left:50%;transform:translate(-50%);z-index:5;pointer-events:none}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .bridge-label-container[_ngcontent-%COMP%]   .post-message-floating[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;color:#475569;font-weight:700;font-size:14px;background:#ffffffe6;padding:10px 24px;border-radius:30px;border:1px solid #cbd5e1;box-shadow:0 4px 15px #0000000d,0 0 20px #3b82f61a;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);white-space:nowrap}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .bridge-label-container[_ngcontent-%COMP%]   .post-message-floating[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px;color:#3b82f6;animation:_ngcontent-%COMP%_pulse-icon 2s infinite}@keyframes _ngcontent-%COMP%_pulse-icon{0%{opacity:.6}50%{opacity:1;transform:scale(1.1)}to{opacity:.6}}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .webview-layer[_ngcontent-%COMP%]{margin-top:20px;z-index:2;display:flex;flex-direction:column;align-items:center}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .webview-layer[_ngcontent-%COMP%]   .webview-box[_ngcontent-%COMP%]{background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);color:#2563eb;border:2px solid #3b82f6;padding:15px 40px;border-radius:20px;display:flex;align-items:center;justify-content:center;gap:15px;box-shadow:0 15px 35px #3b82f61f,0 0 0 1px #3b82f60d inset;min-width:220px;transition:all .3s ease}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .webview-layer[_ngcontent-%COMP%]   .webview-box[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:30px;color:#3b82f6;flex-shrink:0}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .webview-layer[_ngcontent-%COMP%]   .webview-box[_ngcontent-%COMP%]   .webview-title[_ngcontent-%COMP%]{font-weight:800;font-size:22px;letter-spacing:1px;white-space:nowrap}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .webview-layer[_ngcontent-%COMP%]   .webview-box[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 20px 40px #3b82f633}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .webview-layer[_ngcontent-%COMP%]   .pulse-glow[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulseLight 2s infinite}@keyframes _ngcontent-%COMP%_pulseLight{0%{box-shadow:0 0 15px #3b82f61a}50%{box-shadow:0 0 30px #3b82f633}to{box-shadow:0 0 15px #3b82f61a}}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .wasm-bridge-line-svg[_ngcontent-%COMP%]{position:absolute;top:590px;width:100%;height:60px;pointer-events:none;z-index:2}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .wasm-bridge-line-svg[_ngcontent-%COMP%]   .bridge-line[_ngcontent-%COMP%]{fill:none;stroke:url(#bridgeGradient);stroke-width:2;stroke-dasharray:6,3;animation:_ngcontent-%COMP%_bridgeFlow 8s linear infinite;opacity:.6;filter:drop-shadow(0 0 3px rgba(99,102,241,.3))}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .wasm-bridge-line-svg[_ngcontent-%COMP%]   .bridge-arrow-head[_ngcontent-%COMP%]{fill:url(#bridgeGradient);opacity:.7}@keyframes _ngcontent-%COMP%_bridgeFlow{0%{stroke-dashoffset:200}to{stroke-dashoffset:0}}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .wasm-to-spa-svg[_ngcontent-%COMP%]{position:absolute;top:550px;width:100%;height:120px;pointer-events:none;z-index:2}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .wasm-to-spa-svg[_ngcontent-%COMP%]   .wasm-to-spa-line[_ngcontent-%COMP%]{fill:none;stroke:url(#wasmToSpaGradient);stroke-width:3;stroke-dasharray:8,4;animation:_ngcontent-%COMP%_wasmToSpaFlow 12s linear infinite;opacity:.7;filter:drop-shadow(0 0 5px rgba(99,102,241,.4))}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .wasm-to-spa-svg[_ngcontent-%COMP%]   .wasm-arrow-head[_ngcontent-%COMP%]{fill:url(#wasmToSpaGradient);opacity:.8}@keyframes _ngcontent-%COMP%_wasmToSpaFlow{0%{stroke-dashoffset:400}to{stroke-dashoffset:0}}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .wasm-layer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:30px 0;z-index:3}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .wasm-layer[_ngcontent-%COMP%]   .wasm-module-unified[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px;padding:12px 30px;background:linear-gradient(135deg,#6366f1,#8b5cf6);border-radius:16px;color:#fff;box-shadow:0 8px 20px #6366f133;transition:all .3s cubic-bezier(.175,.885,.32,1.275);min-width:240px}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .wasm-layer[_ngcontent-%COMP%]   .wasm-module-unified[_ngcontent-%COMP%]   .wasm-module-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:800;font-size:14px;letter-spacing:.5px}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .wasm-layer[_ngcontent-%COMP%]   .wasm-module-unified[_ngcontent-%COMP%]   .wasm-module-header[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px;filter:drop-shadow(0 1px 3px rgba(0,0,0,.2))}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .wasm-layer[_ngcontent-%COMP%]   .wasm-module-unified[_ngcontent-%COMP%]   .wasm-module-content[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:center;align-items:center;padding:8px 0;border-top:1px solid rgba(255,255,255,.2);border-bottom:1px solid rgba(255,255,255,.2);width:100%}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .wasm-layer[_ngcontent-%COMP%]   .wasm-module-unified[_ngcontent-%COMP%]   .wasm-module-content[_ngcontent-%COMP%]   .language-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .wasm-layer[_ngcontent-%COMP%]   .wasm-module-unified[_ngcontent-%COMP%]   .wasm-module-content[_ngcontent-%COMP%]   .language-item[_ngcontent-%COMP%]   .lang-icon[_ngcontent-%COMP%]{padding:4px 10px;background:#ffffff26;border:1px solid rgba(255,255,255,.3);border-radius:8px;font-size:11px;font-weight:700;letter-spacing:.3px;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .wasm-layer[_ngcontent-%COMP%]   .wasm-module-unified[_ngcontent-%COMP%]   .worker-badge-unified[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:6px 12px;background:#ffffff26;border:1px solid rgba(255,255,255,.3);border-radius:16px;font-size:12px;font-weight:600;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .wasm-layer[_ngcontent-%COMP%]   .wasm-module-unified[_ngcontent-%COMP%]   .worker-badge-unified[_ngcontent-%COMP%]   .worker-icon[_ngcontent-%COMP%]{font-size:12px;animation:_ngcontent-%COMP%_rotate-worker 2s linear infinite}@keyframes _ngcontent-%COMP%_rotate-worker{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .wasm-layer[_ngcontent-%COMP%]   .wasm-module-unified[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 12px 30px #6366f14d}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .vertical-connector[_ngcontent-%COMP%]{width:2px;height:50px;background:#3b82f6;opacity:.3;margin:15px 0;position:relative}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .vertical-connector[_ngcontent-%COMP%]   .scroll-arrow[_ngcontent-%COMP%]{position:absolute;top:-5px;left:-4px;width:10px;height:10px;border-left:2px solid #3b82f6;border-top:2px solid #3b82f6;transform:rotate(45deg)}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .spa-layer[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;z-index:2;margin-top:40px}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .spa-layer[_ngcontent-%COMP%]   .spa-box[_ngcontent-%COMP%]{position:relative;background:#fff;color:#dd0031;padding:50px 60px 25px;border-radius:20px;display:flex;flex-direction:column;align-items:center;gap:15px;box-shadow:0 10px 40px #0000000d,0 0 0 1px #dd00311a inset;transition:all .4s cubic-bezier(.175,.885,.32,1.275);cursor:default;min-width:260px}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .spa-layer[_ngcontent-%COMP%]   .spa-box[_ngcontent-%COMP%]   .angular-logo-container[_ngcontent-%COMP%]{position:absolute;top:-45px;left:50%;transform:translate(-50%);width:90px;height:90px;background:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 8px 24px #dd003126;padding:12px;border:1px solid rgba(221,0,49,.05)}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .spa-layer[_ngcontent-%COMP%]   .spa-box[_ngcontent-%COMP%]   .angular-logo-container[_ngcontent-%COMP%]   .angular-logo-svg[_ngcontent-%COMP%]{width:100%;height:100%;animation:_ngcontent-%COMP%_pulse-logo 3s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse-logo{0%{transform:scale(1);filter:drop-shadow(0 2px 5px rgba(221,0,49,.2))}50%{transform:scale(1.05);filter:drop-shadow(0 5px 15px rgba(221,0,49,.3))}to{transform:scale(1);filter:drop-shadow(0 2px 5px rgba(221,0,49,.2))}}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .spa-layer[_ngcontent-%COMP%]   .spa-box[_ngcontent-%COMP%]   .spa-title[_ngcontent-%COMP%]{font-weight:900;font-size:26px;letter-spacing:-.5px;text-shadow:none;white-space:nowrap}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .spa-layer[_ngcontent-%COMP%]   .spa-box[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 20px 50px #0000001a,0 0 0 1px #dd003133 inset}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .spa-layer[_ngcontent-%COMP%]   .spa-box[_ngcontent-%COMP%]:hover   .angular-logo-container[_ngcontent-%COMP%]{transform:translate(-50%) translateY(-5px) scale(1.05);box-shadow:0 15px 35px #dd003140}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .spa-layer[_ngcontent-%COMP%]   .spa-details-card[_ngcontent-%COMP%]{margin-top:30px;display:flex;gap:12px;flex-wrap:wrap;justify-content:center;max-width:500px}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .spa-layer[_ngcontent-%COMP%]   .spa-details-card[_ngcontent-%COMP%]   .tech-tag[_ngcontent-%COMP%]{background:#fff5f5;border:1px solid #feb2b2;color:#c53030;padding:6px 14px;border-radius:30px;font-size:13px;font-weight:700;box-shadow:0 2px 5px #00000008;transition:all .2s ease}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .spa-layer[_ngcontent-%COMP%]   .spa-details-card[_ngcontent-%COMP%]   .tech-tag[_ngcontent-%COMP%]:hover{background:#feb2b2;color:#fff;transform:scale(1.05)}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .architecture-notes-modern[_ngcontent-%COMP%]{position:absolute;left:30px;bottom:30px;display:grid;grid-template-columns:1fr 1fr;gap:15px;text-align:left}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .architecture-notes-modern[_ngcontent-%COMP%]   .note-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .architecture-notes-modern[_ngcontent-%COMP%]   .note-item[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:20px;color:#3b82f6}.arch-doc-container[_ngcontent-%COMP%]   .architecture-diagram.modern-style[_ngcontent-%COMP%]   .architecture-notes-modern[_ngcontent-%COMP%]   .note-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#475569;font-weight:600}.arch-doc-container[_ngcontent-%COMP%]   .placeholder-diagram[_ngcontent-%COMP%]{background-color:#fff;border:2px dashed #e2e8f0;border-radius:12px;height:300px;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#94a3b8}.arch-doc-container[_ngcontent-%COMP%]   .placeholder-diagram[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px}.arch-doc-container[_ngcontent-%COMP%]   .placeholder-diagram[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.arch-doc-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .description-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:25px;margin-top:20px}.arch-doc-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .desc-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:16px;padding:24px;transition:all .3s ease;box-shadow:0 4px 6px -1px #0000000d}.arch-doc-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .desc-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 12px 20px -5px #0000001a;border-color:#3b82f6}.arch-doc-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .desc-card.success-point[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{background:#f0fdf4;color:#22c55e}.arch-doc-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .desc-card.performance-point[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{background:#fff7ed;color:#f97316}.arch-doc-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .desc-card.resource-point[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{background:#eff6ff;color:#3b82f6}.arch-doc-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .desc-card.quality-point[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{background:#faf5ff;color:#a855f7}.arch-doc-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .desc-card[_ngcontent-%COMP%]   .desc-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px;color:#0f172a}.arch-doc-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .desc-card[_ngcontent-%COMP%]   .desc-header[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{background:#eff6ff;color:#3b82f6;padding:8px;border-radius:10px;font-size:24px}.arch-doc-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .desc-card[_ngcontent-%COMP%]   .desc-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:700}.arch-doc-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .desc-card[_ngcontent-%COMP%]   .desc-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:15px;line-height:1.6;color:#475569}.arch-doc-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   .desc-card[_ngcontent-%COMP%]   .desc-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#f1f5f9;padding:2px 6px;border-radius:4px;font-family:inherit;color:#3b82f6;font-weight:600}.arch-doc-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:100px 0;color:#64748b}.arch-doc-container[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #f3f3f3;border-top:3px solid #3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:16px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})};var Pe=class r{deviceInfoSubject=new de(this.detectDevice());deviceInfo$=this.deviceInfoSubject.asObservable();constructor(){pt(window,"resize").pipe(ut(300),dt(()=>this.detectDevice()),ft(this.detectDevice())).subscribe(t=>this.deviceInfoSubject.next(t))}detectDevice(){let t=window.innerWidth,e=window.innerHeight,n=t<768,a=t>=768&&t<1024,d=t>=1024;return{isMobile:n,isTablet:a,isDesktop:d,screenWidth:t,screenHeight:e}}get isMobile(){return this.deviceInfoSubject.value.isMobile}get isTablet(){return this.deviceInfoSubject.value.isTablet}get isDesktop(){return this.deviceInfoSubject.value.isDesktop}get currentDeviceInfo(){return this.deviceInfoSubject.value}static \u0275fac=function(e){return new(e||r)};static \u0275prov=le({token:r,factory:r.\u0275fac,providedIn:"root"})};var ei=["container"],ti=["containerBody"];function ni(r,t){r&1&&(v(),m(0,"path",21))}function oi(r,t){r&1&&(v(),m(0,"path",22))}function ii(r,t){if(r&1&&(o(0,"span",19),c(1),i()),r&2){let e=l(2);s(),x("(",e.folderType==="calendar"?"Calendar":"Note",")")}}function ai(r,t){if(r&1){let e=E();o(0,"div",8),h("dblclick",function(){u(e);let a=l();return C(a.maximize())}),o(1,"div",9)(2,"button",10),h("click",function(){u(e);let a=l();return C(a.closeWindow())}),v(),o(3,"svg",11),m(4,"path",12),i()(),z(),o(5,"button",13),h("click",function(a){u(e);let d=l();return C(d.minimize(a))}),v(),o(6,"svg",11),m(7,"path",14),i()(),z(),o(8,"button",15),h("click",function(){u(e);let a=l();return C(a.maximize())}),v(),o(9,"svg",11),ne(10,ni,1,0,"path",16)(11,oi,1,0,"path",17),i()()(),z(),o(12,"span",18),c(13),f(14,ii,2,1,"span",19),i(),m(15,"div",20),i()}if(r&2){let e=l();s(2),N("aria-label","Close"),s(3),N("aria-label","Minimize"),s(3),N("aria-label",e.isMaximized?"Restore":"Maximize"),s(2),w("ngIf",!e.isMaximized),s(),w("ngIf",e.isMaximized),s(2),x(" ",e.metaData.label," "),s(),_(e.folderType?14:-1)}}function ri(r,t){if(r&1){let e=E();o(0,"div",23),h("mousedown",function(a){u(e);let d=l();return C(d.onClick(a))}),i()}}function ci(r,t){if(r&1){let e=E();o(0,"button",24),h("click",function(){u(e);let a=l();return C(a.maximize())}),v(),o(1,"svg",25),m(2,"path",26),i()()}}function si(r,t){if(r&1&&m(0,"iframe",7),r&2){let e=l();w("src",e.iframeUrl,xt)}}function di(r,t){r&1&&vt(0,null,1)}var Re=class r{constructor(t,e){this.cdr=t;this.sanitizer=e}id;zIndex;metaData;folderType;isMobileApp=!1;isActive=!1;set zoomLevel(t){this.zoomLevelSignal.set(t)}get zoomLevel(){return this.zoomLevelSignal()}moveToFront=new q;close=new q;minimizeWindow=new q;maximizeChange=new q;windowStyleChange=new q;simulatorRequested=new q;zoomLevelSignal=ye(100);zoomTransform=kt(()=>`scale(${this.zoomLevelSignal()/100})`);container;cdkDrag;containerBody;componentRef;iframeUrl=null;isMaximized=!1;windowStyle={position:"absolute",width:"900px",height:"700px",top:`${Math.floor(Math.random()*100)+50}px`,left:`${Math.floor(Math.random()*200)+100}px`,display:"flex",flexDirection:"column",boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.3)",borderRadius:"12px",overflow:"hidden"};isDragging=!1;dragStartX=0;dragStartY=0;elementStartX=0;elementStartY=0;activePointerId=null;subscriptions=[];ngAfterContentInit(){console.log("Zoom Level after content init:",this.zoomLevel)}ngOnInit(){if(!this.metaData)return;if(gt(1e3).subscribe(()=>{console.log("Zoom Level on Init:",this.zoomLevel),this.zoomLevelSignal.set(this.zoomLevel+1)}),this.isMobileApp?this.windowStyle=H(A({},this.windowStyle),{width:"393px",height:"852px",borderRadius:"10px"}):this.windowStyle=H(A({},this.windowStyle),{width:`${Math.round(1200)}px`,height:`${Math.round(900)}px`}),this.metaData.component){if(this.containerBody.clear(),this.componentRef=this.containerBody.createComponent(this.metaData.component),this.folderType&&this.componentRef.instance&&(this.componentRef.instance.folderType=this.folderType),this.componentRef.instance&&this.componentRef.instance.simulatorRequested){let n=this.componentRef.instance.simulatorRequested.subscribe(a=>{this.simulatorRequested.emit(a)});this.subscriptions.push(n)}}else if(this.metaData.route){let a=`${window.location.origin+window.location.pathname}#${this.metaData.route}`;this.iframeUrl=this.sanitizer.bypassSecurityTrustResourceUrl(a)}let t=parseInt(this.windowStyle.top,10),e=parseInt(this.windowStyle.left,10);this.windowStyleChange.emit({top:t,left:e})}ngOnChanges(t){(t.zIndex||t.isActive)&&(this.windowStyle=H(A({},this.windowStyle),{zIndex:this.isMaximized?1e4+this.zIndex:this.zIndex}),this.cdr.detectChanges())}onClick(t){this.moveToFront.emit(this.id)}minimize(t){t.stopPropagation(),this.minimizeWindow.emit(this.id)}onContainerWheel(t){t.stopPropagation()}maximize(){this.isMaximized?(this.isMobileApp?(this.windowStyle=H(A({},this.windowStyle),{position:"absolute",width:"393px",height:"852px",top:"50px",left:"calc(50% - 196.5px)",borderRadius:"10px"}),this.windowStyleChange.emit({top:50,left:0})):(this.windowStyle=H(A({},this.windowStyle),{position:"absolute",width:`${Math.round(900)}px`,height:`${Math.round(700)}px`,top:"50px",left:"100px",borderRadius:"12px"}),this.windowStyleChange.emit({top:50,left:100})),this.cdkDrag._dragRef.setFreeDragPosition({x:0,y:0})):(this.windowStyle=H(A({},this.windowStyle),{position:"fixed",top:"0px",left:"0px",transform:"none",width:"100vw",height:"100vh",borderRadius:"0",zIndex:1e4+this.zIndex}),this.windowStyleChange.emit({top:0,left:0}),this.cdkDrag._dragRef.reset(),this.cdkDrag._dragRef.setFreeDragPosition({x:0,y:0})),this.isMaximized=!this.isMaximized,this.maximizeChange.emit({id:this.id,isMaximized:this.isMaximized})}closeWindow(){this.componentRef&&(this.componentRef.destroy(),this.componentRef=null),this.containerBody&&this.containerBody.length>0&&this.containerBody.detach(0),this.close.emit(this.id)}onPointerDown(t){if(!this.isDragTarget(t.target))return;t.preventDefault(),t.stopPropagation(),this.isDragging=!0,this.dragStartX=t.clientX,this.dragStartY=t.clientY,this.activePointerId=t.pointerId;let n=this.container.nativeElement.getBoundingClientRect();this.elementStartX=n.left,this.elementStartY=n.top,t.target.setPointerCapture(t.pointerId),this.moveToFront.emit(this.id),document.addEventListener("pointermove",this.onPointerMove,!0),document.addEventListener("pointerup",this.onPointerUp,!0)}onPointerMove=t=>{if(!this.isDragging||this.activePointerId!==t.pointerId)return;t.preventDefault(),t.stopPropagation();let e=t.clientX-this.dragStartX,n=t.clientY-this.dragStartY,a=this.elementStartX+e,d=this.elementStartY+n;this.windowStyle=H(A({},this.windowStyle),{left:a+"px",top:d+"px"}),this.windowStyleChange.emit({top:d,left:a}),this.cdr.markForCheck()};onPointerUp=t=>{if(!(!this.isDragging||this.activePointerId!==t.pointerId)){if(t.preventDefault(),t.stopPropagation(),this.isDragging=!1,this.activePointerId=null,this.container){let e=this.container.nativeElement;try{e.releasePointerCapture(t.pointerId)}catch{}}document.removeEventListener("pointermove",this.onPointerMove,!0),document.removeEventListener("pointerup",this.onPointerUp,!0)}};isDragTarget(t){if(!t)return!1;let e=t;for(;e&&e!==this.container?.nativeElement;){if(e.classList.contains("container-header")||e.classList.contains("mobile-notch"))return!0;e=e.parentElement}return!1}ngOnDestroy(){this.isDragging&&(this.isDragging=!1,this.activePointerId=null,document.removeEventListener("pointermove",this.onPointerMove,!0),document.removeEventListener("pointerup",this.onPointerUp,!0)),this.subscriptions.forEach(t=>t.unsubscribe())}static \u0275fac=function(e){return new(e||r)(L(Te),L(xe))};static \u0275cmp=W({type:r,selectors:[["app-window-modal"]],viewQuery:function(e,n){if(e&1&&(K(ei,5,ht),K(be,5),K(ti,5,De)),e&2){let a;Q(a=J())&&(n.container=a.first),Q(a=J())&&(n.cdkDrag=a.first),Q(a=J())&&(n.containerBody=a.first)}},hostBindings:function(e,n){e&1&&h("pointerdown",function(d){return n.onPointerDown(d)})},inputs:{id:"id",zIndex:"zIndex",metaData:"metaData",folderType:"folderType",isMobileApp:"isMobileApp",isActive:"isActive",zoomLevel:"zoomLevel"},outputs:{moveToFront:"moveToFront",close:"close",minimizeWindow:"minimizeWindow",maximizeChange:"maximizeChange",windowStyleChange:"windowStyleChange",simulatorRequested:"simulatorRequested"},standalone:!1,features:[te],decls:8,vars:16,consts:[["container",""],["containerBody",""],["cdkDrag","",1,"modal-container",3,"mousedown","cdkDragDisabled"],["class","container-header","cdkDragHandle","",3,"dblclick",4,"ngIf"],[1,"container-body",3,"wheel"],["class","window-focus-overlay",3,"mousedown",4,"ngIf"],["class","fullscreen-exit-btn","title","\uC804\uCCB4\uD654\uBA74 \uC885\uB8CC",3,"click",4,"ngIf"],["frameborder","0",1,"app-iframe",3,"src"],["cdkDragHandle","",1,"container-header",3,"dblclick"],[1,"window-controls-left"],[1,"control-button","close",3,"click"],["viewBox","0 0 12 12","fill","currentColor"],["d","M2.22 2.22a.75.75 0 0 1 1.06 0L6 4.94l2.72-2.72a.75.75 0 1 1 1.06 1.06L7.06 6l2.72 2.72a.75.75 0 1 1-1.06 1.06L6 7.06l-2.72 2.72a.75.75 0 0 1-1.06-1.06L4.94 6 2.22 3.28a.75.75 0 0 1 0-1.06z"],[1,"control-button","minimize",3,"click"],["d","M2 6a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5A.75.75 0 0 1 2 6z"],[1,"control-button","maximize",3,"click"],["d","M3 3.5A1.5 1.5 0 0 1 4.5 2h3A1.5 1.5 0 0 1 9 3.5v5A1.5 1.5 0 0 1 7.5 10h-3A1.5 1.5 0 0 1 3 8.5v-5zm1.5-.5a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-5a.5.5 0 0 0-.5-.5h-3z",4,"ngIf"],["d","M3.5 3A1.5 1.5 0 0 0 2 4.5v4A1.5 1.5 0 0 0 3.5 10h5A1.5 1.5 0 0 0 10 8.5v-4A1.5 1.5 0 0 0 8.5 3h-5zM8.354 4.854a.5.5 0 0 0-.708-.708L6 5.793 4.354 4.146a.5.5 0 1 0-.708.708L5.293 6.5l-1.647 1.646a.5.5 0 0 0 .708.708L6 7.207l1.646 1.647a.5.5 0 0 0 .708-.708L6.707 6.5l1.647-1.646z",4,"ngIf"],[1,"header-label"],[1,"folder-tag"],[1,"spacer"],["d","M3 3.5A1.5 1.5 0 0 1 4.5 2h3A1.5 1.5 0 0 1 9 3.5v5A1.5 1.5 0 0 1 7.5 10h-3A1.5 1.5 0 0 1 3 8.5v-5zm1.5-.5a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-5a.5.5 0 0 0-.5-.5h-3z"],["d","M3.5 3A1.5 1.5 0 0 0 2 4.5v4A1.5 1.5 0 0 0 3.5 10h5A1.5 1.5 0 0 0 10 8.5v-4A1.5 1.5 0 0 0 8.5 3h-5zM8.354 4.854a.5.5 0 0 0-.708-.708L6 5.793 4.354 4.146a.5.5 0 1 0-.708.708L5.293 6.5l-1.647 1.646a.5.5 0 0 0 .708.708L6 7.207l1.646 1.647a.5.5 0 0 0 .708-.708L6.707 6.5l1.647-1.646z"],[1,"window-focus-overlay",3,"mousedown"],["title","\uC804\uCCB4\uD654\uBA74 \uC885\uB8CC",1,"fullscreen-exit-btn",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M8 3v5H3M16 3v5h5M8 21v-5H3M16 21v-5h5"]],template:function(e,n){if(e&1){let a=E();o(0,"div",2,0),h("mousedown",function(p){return u(a),C(n.onClick(p))}),ne(2,ai,16,7,"div",3),o(3,"div",4),h("wheel",function(p){return u(a),C(n.onContainerWheel(p))}),ne(4,ri,1,0,"div",5)(5,ci,3,0,"button",6),f(6,si,1,1,"iframe",7)(7,di,2,0,"ng-container"),i()()}e&2&&(wt(n.windowStyle),I("transform",n.zoomTransform())("transform-origin","top center"),M("maximized",n.isMaximized)("is-mobile-app",n.isMobileApp),w("cdkDragDisabled",n.isMaximized)("@modalAnimation",void 0),s(2),w("ngIf",!n.isMaximized),s(2),w("ngIf",!n.isActive),s(),w("ngIf",n.isMaximized),s(),_(n.iframeUrl?6:7))},dependencies:[_e,be,Be],styles:['@charset "UTF-8";.modal-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:#f0f0f5b3;backdrop-filter:blur(60px) saturate(200%);-webkit-backdrop-filter:blur(60px) saturate(200%);border:1px solid rgba(255,255,255,.3);box-shadow:0 25px 75px #00000059,0 0 0 .5px #fff6 inset,0 1px 2px #ffffff4d inset;border-radius:10px;overflow:hidden;position:relative;transition:border-radius .3s ease,border-width .3s ease}.modal-container.maximized[_ngcontent-%COMP%]{border-radius:0;border-width:0;box-shadow:none}.modal-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#ffffff1a,#ffffff0d,#ffffff05);pointer-events:none;border-radius:10px}.container-header[_ngcontent-%COMP%]{display:flex;padding:10px 16px;cursor:move;align-items:center;justify-content:flex-start;gap:12px;min-height:40px;background:linear-gradient(180deg,#ffffffd9,#f8f8facc,#f6f6f8bf);backdrop-filter:blur(20px) saturate(180%);-webkit-backdrop-filter:blur(20px) saturate(180%);border-bottom:1px solid rgba(0,0,0,.08);position:relative;touch-action:none;user-select:none;-webkit-user-select:none;-webkit-user-drag:none}.container-header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.6) 50%,transparent 100%)}.container-header[_ngcontent-%COMP%]:active{cursor:grabbing}.window-controls-left[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;z-index:1}.control-button[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;border:.5px solid rgba(0,0,0,.15);cursor:pointer;display:flex;align-items:center;justify-content:center;padding:0;transition:all .15s ease;position:relative;box-shadow:0 1px 2px #00000026,inset 0 1px #fff6}.control-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:6px;height:6px;opacity:0;transition:opacity .15s ease}.container-header[_ngcontent-%COMP%]:hover   .control-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:.7}.control-button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{opacity:1!important}.control-button.close[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6057,#ff5f56)}.control-button.close[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ff4b42,#ff3b30);box-shadow:0 2px 4px #ff3b3066,inset 0 1px #ffffff80}.control-button.close[_ngcontent-%COMP%]:active{background:linear-gradient(135deg,#d93025,#c9211e)}.control-button.minimize[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffbd2e,#ffbc2d)}.control-button.minimize[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ffb01f,#ffa900);box-shadow:0 2px 4px #ffa90066,inset 0 1px #ffffff80}.control-button.minimize[_ngcontent-%COMP%]:active{background:linear-gradient(135deg,#e09b00,#d08800)}.control-button.maximize[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28ca42,#27c93f)}.control-button.maximize[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#20b038,#1fa832);box-shadow:0 2px 4px #1fa83266,inset 0 1px #ffffff80}.control-button.maximize[_ngcontent-%COMP%]:active{background:linear-gradient(135deg,#1a9930,#178528)}.header-label[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(100% - 200px);font-weight:600;font-size:13px;color:#fff;text-align:center;letter-spacing:.2px}.header-label[_ngcontent-%COMP%]   .folder-tag[_ngcontent-%COMP%]{margin-left:6px;opacity:.7;font-size:12px;font-weight:500;color:#ffffffd9}.spacer[_ngcontent-%COMP%]{flex:1}.container-body[_ngcontent-%COMP%]{overflow:auto;flex:1;padding:0;margin:0;position:relative;background:linear-gradient(180deg,#ffffffe6,#fcfcfed9)}.container-body[_ngcontent-%COMP%]   .window-focus-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:9999;background:transparent}.fullscreen-exit-btn[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px;width:40px;height:40px;border-radius:8px;background:#00000080;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:1000;transition:all .2s ease;opacity:.6}.fullscreen-exit-btn[_ngcontent-%COMP%]:hover{opacity:1;background:#000000b3;transform:scale(1.1)}.fullscreen-exit-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px}.app-iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:none;display:block;background:#fff}.modal-container.maximized.is-mobile-app[_ngcontent-%COMP%]{background:#000}.modal-container.maximized.is-mobile-app[_ngcontent-%COMP%]   .container-body[_ngcontent-%COMP%]{display:flex;justify-content:center;background:#1a1a1a}.modal-container.maximized.is-mobile-app[_ngcontent-%COMP%]   .container-body[_ngcontent-%COMP%]   .app-iframe[_ngcontent-%COMP%]{width:393px;height:100%;margin:0 auto;box-shadow:0 0 50px #00000080}.route-placeholder[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2)}.placeholder-content[_ngcontent-%COMP%]{text-align:center;color:#fff;padding:40px}.placeholder-icon[_ngcontent-%COMP%]{width:80px;height:80px;margin:0 auto 20px;stroke:#fff;stroke-width:1.5;filter:drop-shadow(0 4px 8px rgba(0,0,0,.2))}.placeholder-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-size:24px;font-weight:600;text-shadow:0 2px 4px rgba(0,0,0,.2)}.placeholder-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;font-size:14px;opacity:.9}.info-text[_ngcontent-%COMP%]{margin-top:20px!important;font-size:12px!important;opacity:.7!important;font-style:italic}.container-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}.container-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.container-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0003;border-radius:4px}.container-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#0000004d}@media (prefers-color-scheme: dark){.modal-container[_ngcontent-%COMP%]{background:#282832b3;border-color:#ffffff26;box-shadow:0 25px 75px #0009,0 0 0 .5px #fff3 inset,0 1px 2px #ffffff1a inset}.modal-container[_ngcontent-%COMP%]:before{background:linear-gradient(135deg,#ffffff0d,#ffffff05,#ffffff03)}.container-header[_ngcontent-%COMP%]{background:linear-gradient(180deg,#373741e6,#2d2d37d9,#282832cc);border-bottom-color:#ffffff14}.container-header[_ngcontent-%COMP%]:after{background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.1) 50%,transparent 100%)}.header-label[_ngcontent-%COMP%]{color:#ffffffe6}.container-body[_ngcontent-%COMP%]{background:linear-gradient(180deg,#1e1e28e6,#191923d9)}.container-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff3}.container-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ffffff4d}}'],data:{animation:[Tt("modalAnimation",[Ze("void",Ue({opacity:0,transform:"scale(0.3)"})),Ze("*",Ue({opacity:1,transform:"scale(1)"})),Xe("void => *",[Ye("0.2s ease-out")]),Xe("* => void",[Ye("0.2s ease-in")])])]}})};var $e=class r{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustHtml(t)}static \u0275fac=function(e){return new(e||r)(L(xe,16))};static \u0275pipe=Pt({name:"sanitizeHtml",type:r,pure:!0})};var nn=(r,t)=>t.id,gi=(r,t)=>t.label+"_"+r,mi=(r,t)=>t.id||r;function ui(r,t){if(r&1){let e=E();o(0,"span",41),c(1,","),i(),o(2,"span",42),h("click",function(){u(e);let a=l().$implicit,d=l(5);return C(d.openOrFocusWindow(a))}),c(3),i()}if(r&2){let e=l().$implicit,n=l(5);s(2),M("active",n.isWindowOpen(e)),s(),x(" ",e.label," ")}}function Ci(r,t){if(r&1&&f(0,ui,4,3),r&2){let e=t.$implicit,n=l(5);_(e.label!==n.activeWindow.metaData.label?0:-1)}}function fi(r,t){if(r&1&&(o(0,"div",40),k(1,Ci,1,1,null,null,gi),i()),r&2){let e=l(4);s(),S(e.getOpenWindowsInFolder())}}function _i(r,t){if(r&1){let e=E();o(0,"div",21)(1,"span",37),c(2),i(),o(3,"span",38),c(4,"/"),i(),o(5,"span",39),h("click",function(){u(e);let a=l(3);return C(a.openOrFocusWindow(a.activeWindow.metaData))}),c(6),i(),f(7,fi,3,0,"div",40),i()}if(r&2){let e=l(3);s(2),g(e.getActiveFolderLabel()),s(4),x(" ",e.activeWindow.metaData.label," "),s(),_(e.getOpenWindowsInFolder().length>1?7:-1)}}function hi(r,t){if(r&1&&(o(0,"div",23),v(),o(1,"svg",18),m(2,"path",43),i(),z(),o(3,"span"),c(4),i()()),r&2){let e=l(3);s(4),g(e.minimizedWindows.length)}}function xi(r,t){if(r&1){let e=E();o(0,"div",48),h("click",function(){let a=u(e).$implicit,d=l(4);return C(d.setZoomLevel(a))}),c(1),i()}if(r&2){let e=t.$implicit,n=l(4);M("active",e===n.zoomLevel),s(),x(" ",e,"% ")}}function bi(r,t){if(r&1){let e=E();o(0,"div",44),h("click",function(a){return u(e),C(a.stopPropagation())}),k(1,xi,2,3,"div",45,Ot),m(3,"div",46),o(4,"div",47),h("click",function(){u(e);let a=l(3);return C(a.resetZoom())}),c(5," \uAE30\uBCF8\uAC12 \uC124\uC815 "),i()()}if(r&2){let e=l(3);s(),S(e.zoomLevels)}}function Pi(r,t){if(r&1){let e=E();o(0,"div",15)(1,"div",16)(2,"div",17),v(),o(3,"svg",18),m(4,"path",19),i(),z(),o(5,"span",20),c(6,"MOBSOFT"),i()(),f(7,_i,8,3,"div",21),i(),o(8,"div",22),f(9,hi,5,1,"div",23),o(10,"div",24)(11,"button",25),h("click",function(){u(e);let a=l(2);return C(a.decreaseZoom())}),v(),o(12,"svg",18),m(13,"path",26),i()(),z(),o(14,"div",27)(15,"span",28),c(16),i(),o(17,"button",29),h("click",function(){u(e);let a=l(2);return C(a.toggleZoomDropdown())}),v(),o(18,"svg",18),m(19,"path",30),i()(),f(20,bi,6,0,"div",31),i(),z(),o(21,"button",32),h("click",function(){u(e);let a=l(2);return C(a.increaseZoom())}),v(),o(22,"svg",18),m(23,"path",33),i()()(),z(),o(24,"div",34),v(),o(25,"svg",18),m(26,"path",35),i()(),z(),o(27,"div",36),c(28),i()()()}if(r&2){let e=l(2);M("hidden",e.isAnyWindowMaximized()),s(7),_(e.activeWindow?7:-1),s(2),_(e.minimizedWindows.length>0?9:-1),s(2),w("disabled",e.zoomLevel===e.zoomLevels[0]),s(5),x("",e.zoomLevel,"%"),s(4),_(e.showZoomDropdown?20:-1),s(),w("disabled",e.zoomLevel===e.zoomLevels[e.zoomLevels.length-1]),s(7),g(e.currentTime)}}function Mi(r,t){if(r&1){let e=E();o(0,"div",51),h("click",function(){u(e);let a=l(3);return C(a.goBack())}),o(1,"div",52),v(),o(2,"svg",53),m(3,"path",54),i()(),z(),o(4,"div",55),c(5,"\uB4A4\uB85C"),i()()}r&2&&N("data-tooltip","\uB4A4\uB85C")}function Oi(r,t){r&1&&(v(),o(0,"svg",53),m(1,"path",59),i())}function vi(r,t){if(r&1&&(v(),m(0,"svg",57),Z(1,"sanitizeHtml")),r&2){let e=l().$implicit,n=l(3);w("innerHTML",ze(1,1,n.getIconSvg(e.icon)),ke)}}function wi(r,t){if(r&1&&(o(0,"span",58),c(1),i()),r&2){let e=l(4);s(),x("(",e.currentFolderType==="calendar"?"Calendar":"Note",")")}}function yi(r,t){if(r&1){let e=E();o(0,"div",51),h("click",function(){let a=u(e).$implicit,d=l(3);return C(d.openWindow(a))}),o(1,"div",56),f(2,Oi,2,0,":svg:svg",53)(3,vi,2,3,":svg:svg",57),i(),o(4,"div",55),c(5),f(6,wi,2,1,"span",58),i()()}if(r&2){let e=t.$implicit,n=l(3);N("data-tooltip",e.label),s(),I("background",n.getIconGradient(e.icon,e.label)),s(),_(e.type==="folder"?2:3),s(3),x(" ",e.label," "),s(),_(!e.type||e.type==="doc"?6:-1)}}function ki(r,t){if(r&1&&(o(0,"div",49),f(1,Mi,6,1,"div",50),k(2,yi,7,6,"div",50,mi),i()),r&2){let e=l(2);M("hidden",e.isAnyWindowMaximized()),s(),_(e.isInSubFolder()?1:-1),s(),S(e.desktopIcons)}}function Si(r,t){if(r&1){let e=E();o(0,"app-window-modal",61),h("moveToFront",function(a){u(e);let d=l(3);return C(d.moveToFront(a))})("close",function(a){u(e);let d=l(3);return C(d.close(a))})("minimizeWindow",function(a){u(e);let d=l(3);return C(d.minimizeWindow(a))})("maximizeChange",function(a){u(e);let d=l(3);return C(d.onMaximizeChange(a))})("windowStyleChange",function(a){u(e);let d=l().$implicit,p=l(2);return C(p.onWindowStyleChange(d.id,a))})("simulatorRequested",function(a){u(e);let d=l(3);return C(d.openSimulatorWindow(a))}),i()}if(r&2){let e=l().$implicit,n=l(2);w("id",e.id)("zIndex",e.zIndex)("isActive",(n.activeWindow==null?null:n.activeWindow.id)===e.id)("metaData",e.metaData)("folderType",e.folderType)("isMobileApp",n.isMobileApp(e.metaData))("zoomLevel",n.zoomLevel)}}function Di(r,t){if(r&1&&f(0,Si,1,7,"app-window-modal",60),r&2){let e=t.$implicit;_(e.isMinimized?-1:0)}}function Ei(r,t){r&1&&m(0,"div",69)}function Ii(r,t){if(r&1){let e=E();o(0,"div",67),h("click",function(){let a=u(e).$implicit,d=l(3);return C(d.openWindow(a))}),o(1,"div",68),v(),m(2,"svg",57),Z(3,"sanitizeHtml"),i(),f(4,Ei,1,0,"div",69),i()}if(r&2){let e=t.$implicit,n=l(3);M("active",n.isAppActive(e)),N("data-tooltip",e.label),s(),I("background",n.getIconGradient(e.icon,e.label)),s(),w("innerHTML",ze(3,7,n.getIconSvg(e.icon)),ke),s(2),_(n.isAppActive(e)?4:-1)}}function zi(r,t){r&1&&m(0,"div",65)}function Ti(r,t){if(r&1){let e=E();o(0,"div",70),h("click",function(a){let d=u(e).$implicit;return l(3).restoreWindow(d.id),C(a.stopPropagation())}),o(1,"div",71),v(),m(2,"svg",57),Z(3,"sanitizeHtml"),i(),z(),m(4,"div",72),i()}if(r&2){let e=t.$implicit,n=l(3);N("data-tooltip",e.metaData.label+" (\uCD5C\uC18C\uD654\uB428)"),s(),I("background",n.getIconGradient(e.metaData.icon,e.metaData.label)),s(),w("innerHTML",ze(3,4,n.getIconSvg(e.metaData.icon)),ke)}}function Ai(r,t){if(r&1&&(o(0,"div",62)(1,"div",63),k(2,Ii,5,9,"div",64,Mt),f(4,zi,1,0,"div",65),k(5,Ti,5,6,"div",66,nn),i()()),r&2){let e=l(2);M("hidden",e.isAnyWindowMaximized()),s(2),S(e.icons),s(2),_(e.minimizedWindows.length>0?4:-1),s(),S(e.minimizedWindows)}}function Bi(r,t){if(r&1&&(f(0,Pi,29,9,"div",2),o(1,"div",3),m(2,"div",4),o(3,"div",5),m(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9)(8,"div",10),i(),m(9,"div",11),f(10,ki,4,3,"div",12),o(11,"div",13),k(12,Di,1,1,null,null,nn),i()(),f(14,Ai,7,3,"div",14)),r&2){let e=l();_(e.isAnyWindowMaximized()?-1:0),s(10),_(e.isAnyWindowMaximized()?-1:10),s(),I("transform",e.isAnyWindowMaximized()?"none":e.getZoomTransform()),s(),S(e.windows),s(2),_(e.isAnyWindowMaximized()?-1:14)}}function Fi(r,t){r&1&&(o(0,"div",1)(1,"div",73),v(),o(2,"svg",74),m(3,"rect",75)(4,"line",76)(5,"line",77),i(),z(),o(6,"h1",78),c(7,"PC\uC5D0\uC11C\uB9CC \uC81C\uACF5\uD569\uB2C8\uB2E4"),i(),o(8,"p",79),c(9,"\uC774 \uC11C\uBE44\uC2A4\uB294 \uB370\uC2A4\uD06C\uD1B1 \uD658\uACBD\uC5D0\uC11C\uB9CC \uC774\uC6A9 \uAC00\uB2A5\uD569\uB2C8\uB2E4."),i(),o(10,"p",80),c(11,"\uB354 \uD070 \uD654\uBA74\uC758 \uCEF4\uD4E8\uD130\uC5D0\uC11C \uC811\uC18D\uD574\uC8FC\uC138\uC694."),i()()())}function ji(){return`window-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}var He=class r{constructor(t,e,n,a){this.cdr=t;this.deviceService=e;this.sanitizer=n;this.debugLogger=a;this.debugLogger.info("Desktop Component","Constructor called")}currentTime="";timeInterval;backgroundImage="";isMobile=!1;currentAppIndex=-1;primaryApps=[];allApps=[];showAppDrawer=!1;showAppSwitcher=!1;showMinimizedApps=!1;currentMinimizedIndex=0;runningApps=[];appIdCounter=0;isFullscreen=!1;currentFolderPath="root";get currentFolderType(){return this.currentFolderPath==="folder-calendar"?"calendar":this.currentFolderPath==="folder-note"?"note":"calendar"}desktopFolders={root:[{id:"folder-calendar",icon:"calendar",label:"Calendar",type:"folder",component:null,contents:[{component:ue,icon:"docs",label:"\uAE30\uB2A5\uC815\uC758\uC11C",route:"/docs/spec"},{component:ae,icon:"project",label:"WBS",route:"/docs/wbs"},{component:Ce,icon:"form",label:"IA",route:"/docs/ia"},{component:fe,icon:"account_tree",label:"\uC544\uD0A4\uD14D\uCC98",route:"/docs/arch"}]},{id:"folder-note",icon:"note",label:"Note",type:"folder",component:null,contents:[{component:ue,icon:"docs",label:"\uAE30\uB2A5\uC815\uC758\uC11C",route:"/docs/spec"},{component:ae,icon:"project",label:"WBS",route:"/docs/wbs"},{component:Ce,icon:"form",label:"IA",route:"/docs/ia"},{component:fe,icon:"account_tree",label:"\uC544\uD0A4\uD14D\uCC98",route:"/docs/arch"}]}],"folder-calendar":[{component:ue,icon:"docs",label:"\uAE30\uB2A5\uC815\uC758\uC11C",route:"/docs/spec"},{component:ae,icon:"project",label:"WBS",route:"/docs/wbs"},{component:Ce,icon:"form",label:"IA",route:"/docs/ia"},{component:fe,icon:"account_tree",label:"\uC544\uD0A4\uD14D\uCC98",route:"/docs/arch"}],"folder-note":[{component:ue,icon:"docs",label:"\uAE30\uB2A5\uC815\uC758\uC11C",route:"/docs/spec"},{component:ae,icon:"project",label:"WBS",route:"/docs/wbs"},{component:Ce,icon:"form",label:"IA",route:"/docs/ia"},{component:fe,icon:"account_tree",label:"\uC544\uD0A4\uD14D\uCC98",route:"/docs/arch"}]};get desktopIcons(){return this.desktopFolders[this.currentFolderPath]||[]}icons=[{component:null,icon:"calendar",label:"\uCE98\uB9B0\uB354 (PC)",route:"/calendar/pc"},{component:null,icon:"calendar",label:"\uCE98\uB9B0\uB354 (\uBAA8\uBC14\uC77C)",route:"/calendar/mobile"},{component:null,icon:"note",label:"\uB178\uD2B8 (PC)",route:"/note/pc"},{component:null,icon:"note",label:"\uB178\uD2B8 (\uBAA8\uBC14\uC77C)",route:"/note/mobile"},{component:null,icon:"play",label:"ezDown",route:"/ezdown"}];windows=[];zIndex=1e3;zoomLevel=100;zoomLevels=[50,75,100,125,150,175,200];showZoomDropdown=!1;get activeWindow(){return this.windows.filter(t=>!t.isMinimized).sort((t,e)=>e.zIndex-t.zIndex)[0]||null}get minimizedWindows(){return this.windows.filter(t=>t.isMinimized)}iconBoxStyle={width:"80px",height:"80px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",padding:"8px",cursor:"pointer",borderRadius:"12px",userSelect:"none",color:"white",gap:"8px",transition:"all 0.3s ease"};iconLabel={maxWidth:"100%",fontSize:"12px",textAlign:"center",overflow:"hidden",display:"-webkit-box","-webkit-line-clamp":2,"-webkit-box-orient":"vertical",lineHeight:1.2,height:"2.4em",wordWrap:"break-word",whiteSpace:"normal"};ngOnInit(){this.updateTime(),this.timeInterval=setInterval(()=>{this.updateTime()},1e3);let t=localStorage.getItem("desk-zoom-level");if(t){let e=parseInt(t,10);e>=50&&e<=200&&(this.zoomLevel=e)}this.deviceService.deviceInfo$.subscribe(e=>{this.isMobile=e.isMobile,this.setupMobileLayout(),this.cdr.detectChanges()}),this.setupMobileLayout(),this.setRandomBackgroundImage()}setRandomBackgroundImage(){let t=["loworld_1.png","loworld_2.png","loworld_3.png"],e=Math.floor(Math.random()*t.length),n=t[e],a=`/images/ai/${n}`;this.backgroundImage=a,this.debugLogger.info("Background Image",`\uB79C\uB364 \uC120\uD0DD: ${n}`),this.checkBackgroundImage(a)}checkBackgroundImage(t){this.debugLogger.info("Background Image",`\uC774\uBBF8\uC9C0 \uB85C\uB4DC \uC2DC\uB3C4: ${t}`);let e=new Image;e.onload=()=>{this.debugLogger.success("Background Image",`\uB85C\uB4DC \uC131\uACF5: ${t}`),this.debugLogger.info("Background Image",`\uD06C\uAE30: ${e.width} x ${e.height}`)},e.onerror=()=>{this.debugLogger.error("Background Image",`\uB85C\uB4DC \uC2E4\uD328: ${t}`),this.debugLogger.warn("Background Image","\uC774\uBBF8\uC9C0 \uACBD\uB85C\uB97C \uD655\uC778\uD558\uC138\uC694");let n=["images/ai/loworld_1.png","./images/ai/loworld_1.png","../../../../../../../public/images/ai/loworld_1.png","assets/images/ai/loworld_1.png"];this.debugLogger.info("Background Image",`\uB300\uCCB4 \uACBD\uB85C: ${n.join(", ")}`),this.testAlternativePaths(n)},e.src=t}testAlternativePaths(t){t.forEach((e,n)=>{let a=new Image;a.onload=()=>{this.debugLogger.success("Background Image",`\uB300\uCCB4 \uACBD\uB85C \uC131\uACF5: ${e}`)},a.onerror=()=>{this.debugLogger.error("Background Image",`\uB300\uCCB4 \uACBD\uB85C \uC2E4\uD328: ${e}`)},a.src=e})}ngOnDestroy(){this.timeInterval&&clearInterval(this.timeInterval)}updateTime(){let t=new Date,e=["\uC77C","\uC6D4","\uD654","\uC218","\uBAA9","\uAE08","\uD1A0"],n=t.getMonth()+1,a=t.getDate(),d=e[t.getDay()],p=t.getHours().toString().padStart(2,"0"),b=t.getMinutes().toString().padStart(2,"0");this.currentTime=`${n}\uC6D4 ${a}\uC77C (${d}) ${p}:${b}`}getFolderLabel(t){return this.activeWindow?"\uC2DC\uBBAC\uB808\uC774\uD130":t==="folder-calendar"||t==="calendar"?"Calendar":t==="folder-note"||t==="note"?"Note":""}getCurrentFolderItems(){return this.currentFolderPath==="root"?[]:this.desktopFolders[this.currentFolderPath]||[]}getOpenWindowsInFolder(){if(!this.activeWindow)return[];let t=this.activeWindow.folderType;return(this.desktopFolders[t]||[]).filter(n=>this.windows.some(a=>a.metaData.label===n.label&&a.folderType===t))}getActiveFolderLabel(){return!this.activeWindow||!this.activeWindow.folderType?"":this.getFolderLabel(this.activeWindow.folderType)}isWindowOpen(t){return this.activeWindow?.metaData.label===t.label}openOrFocusWindow(t){this.activeWindow?.metaData.label!==t.label&&this.openWindow(t)}setupMobileLayout(){this.isMobile?(this.primaryApps=[],this.allApps=[]):(this.primaryApps=[],this.allApps=[...this.icons])}switchToApp(t){if(this.isMobile&&t>=0&&t<this.icons.length){this.currentAppIndex=t;let e=this.icons[t];if(!this.runningApps.find(a=>a.metaData.route===e.route)){let a={id:`app-${this.appIdCounter++}`,zIndex:1e3,metaData:e,isMinimized:!1,isFullscreen:!1};this.runningApps.push(a)}this.showAppDrawer=!1,this.showAppSwitcher=!1}}openPrimaryApp(t){if(this.isMobile&&t>=0&&t<this.primaryApps.length){let e=this.primaryApps[t],n=this.icons.findIndex(a=>a.route===e.route);if(n!==-1){this.currentAppIndex=n;let a=this.icons[n];if(!this.runningApps.find(p=>p.metaData.route===a.route)){let p={id:`app-${this.appIdCounter++}`,zIndex:1e3,metaData:a,isMinimized:!1,isFullscreen:!1};this.runningApps.push(p)}this.showAppDrawer=!1,this.showAppSwitcher=!1}}}closeApp(){if(this.isMobile&&this.currentAppIndex!==-1){let t=this.icons[this.currentAppIndex];this.runningApps=this.runningApps.filter(e=>e.metaData.route!==t.route),this.currentAppIndex=-1}}onSwipeLeft(){this.isMobile&&this.currentAppIndex>=0&&this.currentAppIndex<this.icons.length-1&&(this.currentAppIndex++,this.switchToApp(this.currentAppIndex))}onSwipeRight(){this.isMobile&&this.currentAppIndex>0&&(this.currentAppIndex--,this.switchToApp(this.currentAppIndex))}toggleAppDrawer(){this.showAppDrawer=!this.showAppDrawer,this.showAppSwitcher=!1}openAppSwitcher(){this.isMobile&&(this.showAppSwitcher=!0,this.showAppDrawer=!1)}closeAppSwitcher(){this.showAppSwitcher=!1}isAnyWindowMaximized(){return this.windows.some(t=>t.isFullscreen)}onMaximizeChange(t){let e=this.windows.find(n=>n.id===t.id);e&&(e.isFullscreen=t.isMaximized,t.isMaximized&&this.moveToFront(t.id)),this.cdr.detectChanges()}switchToRunningApp(t){let e=this.runningApps.find(n=>n.id===t);if(e){e.isMinimized=!1;let n=this.allApps.findIndex(a=>a.route===e.metaData.route);n!==-1&&(this.currentAppIndex=n,this.showAppSwitcher=!1)}}closeRunningApp(t){this.runningApps=this.runningApps.filter(n=>n.id!==t);let e=this.runningApps.find(n=>n.id===t);e&&this.currentAppIndex!==-1&&this.allApps[this.currentAppIndex].route===e.metaData.route&&(this.currentAppIndex=-1)}minimizeCurrentApp(){if(this.isMobile&&this.currentAppIndex!==-1){let t=this.allApps[this.currentAppIndex],e=this.runningApps.find(n=>n.metaData.route===t.route);e&&(e.isMinimized=!0,e.screenshot=this.captureAppScreenshot(t)),this.currentAppIndex=-1,this.currentMinimizedIndex=0}}captureAppScreenshot(t){return`screenshot-${t.icon}`}toggleMinimizedApps(){this.showMinimizedApps=!this.showMinimizedApps,this.showMinimizedApps&&(this.currentMinimizedIndex=0,this.showAppSwitcher=!1,this.showAppDrawer=!1)}get minimizedApps(){return this.runningApps.filter(t=>t.isMinimized)}restoreMinimizedApp(t){let e=this.runningApps.find(n=>n.id===t);if(e){e.isMinimized=!1;let n=this.allApps.findIndex(a=>a.route===e.metaData.route);n!==-1&&(this.currentAppIndex=n,this.showMinimizedApps=!1)}}closeMinimizedApp(t,e){e&&e.stopPropagation();let n=this.runningApps.findIndex(a=>a.id===t);this.runningApps=this.runningApps.filter(a=>a.id!==t),this.currentMinimizedIndex>=this.minimizedApps.length&&this.minimizedApps.length>0&&(this.currentMinimizedIndex=this.minimizedApps.length-1)}nextMinimizedApp(){this.currentMinimizedIndex<this.minimizedApps.length-1&&this.currentMinimizedIndex++}prevMinimizedApp(){this.currentMinimizedIndex>0&&this.currentMinimizedIndex--}goToMinimizedApp(t){t>=0&&t<this.minimizedApps.length&&(this.currentMinimizedIndex=t)}isPrimaryApp(t){return this.primaryApps.some(e=>e.route===t.route)}isAppActive(t){return this.windows.some(e=>e.metaData.route===t.route)}isMobileApp(t){return t.route?.includes("mobile")||!1}openWindow(t){return rt(this,null,function*(){if(t.type==="folder"){this.currentFolderPath=t.id;return}let e=this.windows.find(a=>a.metaData.label===t.label&&a.metaData.route===t.route&&a.folderType===this.currentFolderType);if(e){this.moveToFront(e.id);return}let n=ji();this.windows=[...this.windows,{id:n,zIndex:this.zIndex++,metaData:t,folderType:this.currentFolderType,windowStyle:{top:20+this.windows.length*20,left:20+this.windows.length*20}}],setTimeout(()=>this.moveToFront(n),0)})}goBack(){this.currentFolderPath!=="root"&&(this.currentFolderPath="root")}isInSubFolder(){return this.currentFolderPath!=="root"}moveToFront(t){let e=this.windows.find(a=>a.id===t);if(!e)return;let n=Math.max(...this.windows.map(a=>Number(a.zIndex)),this.zIndex);n!==Number(e.zIndex)&&(this.windows=this.windows.map(a=>a.id===t?H(A({},a),{zIndex:n+1}):a),this.zIndex=n+1,console.log("\u{1F7E3} Updated zIndex list:",this.windows.map(a=>({id:a.id,zIndex:a.zIndex}))),this.windows=[...this.windows])}openSimulatorWindow(t){console.log("\u{1F50D} Simulator Requested:",t);let e=t.projectModule||t.page?.projectModule;!e&&t.projectId&&(t.projectId.startsWith("EZCAL-")?e="calendar":t.projectId.startsWith("EZNOTE-")&&(e="note")),e=e||"desk",console.log("\u{1F4C2} Resolved Project Module:",e);let n=this.getProjectModuleRoute(e),a=document.querySelector("base")?.getAttribute("href")||"/",d=`${window.location.origin}${a}#${n}`,p=`simulator_${e}_${Date.now()}`,b="width=1400,height=900,menubar=no,toolbar=no,location=no,status=no,resizable=yes,scrollbars=yes";console.log("\u{1F517} Opening new window:",d),window.open(d,p,b)}getProjectModuleRoute(t){return{calendar:"/calendar/pc",note:"/note/pc",project:"/project/pc",dashboard:"/dashboard/pc",desk:"/desk"}[t]||"/desk"}formatProjectType(t){return{calendar:"Calendar",note:"Note",project:"Project",dashboard:"Dashboard",desk:"Desktop"}[t]||"Simulator"}close(t){this.windows=this.windows.filter(e=>e.id!==t)}minimizeWindow(t){let e=this.windows.find(n=>n.id===t);e&&(e.isMinimized=!0,this.windows=[...this.windows])}restoreWindow(t){let e=this.windows.find(n=>n.id===t);e&&(e.isMinimized=!1,this.moveToFront(t),this.windows=[...this.windows])}onWindowStyleChange(t,e){let n=this.windows.find(a=>a.id===t);n&&(n.windowStyle=e,this.windows=[...this.windows])}getIconSvg(t){return{novel:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>',docs:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>',erp:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>',loworld:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>',store:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"/>',"chat-talk":'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>',slack:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"/>',project:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"/>',form:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>',calendar:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>',note:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>',movie:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>',play:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3l14 9-14 9V3z"/>',account_tree:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 5h4v4H7V5zm0 10h4v4H7v-4zm10-5h4v4h-4v-4zM11 7h2a2 2 0 012 2v2a2 2 0 01-2 2h-2m4-2h2"/>'}[t]||""}getIconGradient(t,e=""){let n=e.includes("(\uBAA8\uBC14\uC77C)"),d={novel:{pc:"linear-gradient(135deg, #ff1493, #ff4500)",mobile:"linear-gradient(135deg, #ff6b9d, #ffb347)"},docs:{pc:"linear-gradient(135deg, #1e90ff, #00bfff)",mobile:"linear-gradient(135deg, #87ceeb, #4dd0e1)"},erp:{pc:"linear-gradient(135deg, #32cd32, #00ff7f)",mobile:"linear-gradient(135deg, #66bb6a, #81c784)"},loworld:{pc:"linear-gradient(135deg, #ff6347, #ffa500)",mobile:"linear-gradient(135deg, #ff8566, #ffb74d)"},store:{pc:"linear-gradient(135deg, #9370db, #8a2be2)",mobile:"linear-gradient(135deg, #ba68c8, #ab47bc)"},"chat-talk":{pc:"linear-gradient(135deg, #ff69b4, #ff1493)",mobile:"linear-gradient(135deg, #ff99cc, #ff69b4)"},slack:{pc:"linear-gradient(135deg, #10b981, #059669)",mobile:"linear-gradient(135deg, #4db8a8, #26a69a)"},project:{pc:"linear-gradient(135deg, #ff6b35, #f7931e)",mobile:"linear-gradient(135deg, #ff9657, #ffb74d)"},form:{pc:"linear-gradient(135deg, #ff6b35, #e65100)",mobile:"linear-gradient(135deg, #ff9657, #f4511e)"},calendar:{pc:"linear-gradient(135deg, #06b6d4, #0891b2)",mobile:"linear-gradient(135deg, #4dd0e1, #26c6da)"},note:{pc:"linear-gradient(135deg, #f97316, #ea580c)",mobile:"linear-gradient(135deg, #ffb74d, #ffa726)"},movie:{pc:"linear-gradient(135deg, #ec4899, #f43f5e)",mobile:"linear-gradient(135deg, #f472b6, #fb7185)"},play:{pc:"linear-gradient(135deg, #ff6b35, #ff8c42)",mobile:"linear-gradient(135deg, #ff9657, #ffb74d)"},download:{pc:"linear-gradient(135deg, #ff6b35, #ff8c42)",mobile:"linear-gradient(135deg, #ff9657, #ffb74d)"},account_tree:{pc:"linear-gradient(135deg, #4f46e5, #7c3aed)",mobile:"linear-gradient(135deg, #6366f1, #8b5cf6)"}}[t];return d?n?d.mobile:d.pc:"linear-gradient(135deg, #667eea, #764ba2)"}setZoomLevel(t){t>=50&&t<=200&&(this.zoomLevel=t,localStorage.setItem("desk-zoom-level",t.toString()),this.cdr.detectChanges())}increaseZoom(){let t=Math.min(200,this.zoomLevel+5);this.zoomLevel=t,localStorage.setItem("desk-zoom-level",t.toString()),this.cdr.detectChanges()}decreaseZoom(){let t=Math.max(50,this.zoomLevel-5);this.zoomLevel=t,localStorage.setItem("desk-zoom-level",t.toString()),this.cdr.detectChanges()}resetZoom(){this.setZoomLevel(100)}getZoomTransform(){return`scale(${this.zoomLevel/100})`}toggleZoomDropdown(){this.showZoomDropdown=!this.showZoomDropdown}closeZoomDropdown(t){t.target.closest(".zoom-control")||(this.showZoomDropdown=!1)}onMouseWheel(t){if(!t.target.closest(".desktop-wallpaper"))return;t.preventDefault(),t.stopPropagation();let e=1,a=t.deltaY<0?Math.min(200,this.zoomLevel+e):Math.max(50,this.zoomLevel-e);this.zoomLevel=a,localStorage.setItem("desk-zoom-level",a.toString()),this.cdr.detectChanges()}getSafeUrl(t){if(!t)return this.sanitizer.bypassSecurityTrustResourceUrl("about:blank");let n=`${window.location.origin+window.location.pathname}#${t}`;return this.sanitizer.bypassSecurityTrustResourceUrl(n)}static \u0275fac=function(e){return new(e||r)(L(Te),L(Pe),L(xe),L(Gt))};static \u0275cmp=W({type:r,selectors:[["app-desktop"]],hostBindings:function(e,n){e&1&&h("click",function(d){return n.closeZoomDropdown(d)},bt)("wheel",function(d){return n.onMouseWheel(d)})},standalone:!1,decls:3,vars:4,consts:[[1,"desktop-container"],[1,"mobile-blocked-screen"],[1,"menu-bar",3,"hidden"],[1,"desktop-wallpaper"],[1,"wallpaper-gradient"],[1,"wallpaper-orbs"],[1,"orb","orb-1"],[1,"orb","orb-2"],[1,"orb","orb-3"],[1,"orb","orb-4"],[1,"orb","orb-5"],[1,"wallpaper-overlay"],[1,"desktop-icons",3,"hidden"],[1,"windows-scale-container"],[1,"dock-container",3,"hidden"],[1,"menu-bar"],[1,"menu-bar-left"],[1,"brand-logo"],["viewBox","0 0 24 24","fill","none","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"],[1,"brand-name"],[1,"breadcrumb-path"],[1,"menu-bar-right"],["title","\uCD5C\uC18C\uD654\uB41C \uCC3D",1,"minimized-count"],[1,"zoom-control"],["title","\uCD95\uC18C (Ctrl/Cmd + -)",1,"zoom-btn",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 12H4"],[1,"zoom-display"],[1,"zoom-value"],["title","\uC90C \uB808\uBCA8 \uC120\uD0DD",1,"zoom-dropdown-btn",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 14l-7 7m0 0l-7-7m7 7V3"],[1,"zoom-dropdown"],["title","\uD655\uB300 (Ctrl/Cmd + +)",1,"zoom-btn",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],[1,"menu-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"menu-time"],[1,"breadcrumb-item"],[1,"breadcrumb-separator"],[1,"breadcrumb-item","active",3,"click"],[1,"breadcrumb-siblings"],[1,"breadcrumb-comma"],[1,"breadcrumb-sibling",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 8h16M4 16h16"],[1,"zoom-dropdown",3,"click"],[1,"zoom-option",3,"active"],[1,"zoom-separator"],[1,"zoom-option","reset-option",3,"click"],[1,"zoom-option",3,"click"],[1,"desktop-icons"],[1,"desktop-icon"],[1,"desktop-icon",3,"click"],[1,"desktop-icon-wrapper",2,"background","linear-gradient(135deg, #888, #666)"],["fill","none","stroke","currentColor","viewBox","0 0 24 24"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"desktop-icon-label"],[1,"desktop-icon-wrapper"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",3,"innerHTML"],[1,"icon-folder-tag"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"],[3,"id","zIndex","isActive","metaData","folderType","isMobileApp","zoomLevel"],[3,"moveToFront","close","minimizeWindow","maximizeChange","windowStyleChange","simulatorRequested","id","zIndex","isActive","metaData","folderType","isMobileApp","zoomLevel"],[1,"dock-container"],[1,"dock"],[1,"dock-icon",3,"active"],[1,"dock-separator"],[1,"dock-icon","minimized-window"],[1,"dock-icon",3,"click"],[1,"icon-wrapper"],[1,"active-indicator"],[1,"dock-icon","minimized-window",3,"click"],[1,"icon-wrapper","minimized"],[1,"minimized-indicator"],[1,"blocked-content"],["viewBox","0 0 24 24","fill","none","stroke","currentColor",1,"blocked-icon"],["x","2","y","3","width","20","height","14","rx","2","ry","2","stroke-width","2"],["x1","8","y1","21","x2","16","y2","21","stroke-width","2"],["x1","12","y1","17","x2","12","y2","21","stroke-width","2"],[1,"blocked-title"],[1,"blocked-description"],[1,"blocked-hint"]],template:function(e,n){e&1&&(o(0,"div",0),f(1,Bi,15,5),f(2,Fi,12,0,"div",1),i()),e&2&&(M("mobile-layout",n.isMobile),s(),_(n.isMobile?-1:1),s(),_(n.isMobile?2:-1))},dependencies:[Re,$e],styles:['@charset "UTF-8";.desktop-container[_ngcontent-%COMP%]{width:100vw;height:100vh;height:100dvh;position:relative;overflow:hidden;background:#000;display:flex;flex-direction:column}.menu-bar[_ngcontent-%COMP%]{height:24px;background:#14141ed9;backdrop-filter:blur(30px) saturate(180%);-webkit-backdrop-filter:blur(30px) saturate(180%);display:flex;justify-content:space-between;align-items:center;padding:0 16px;color:#fff;font-size:13px;font-weight:400;z-index:10000;border-bottom:1px solid rgba(255,255,255,.1);box-shadow:0 1px 3px #0003;position:relative;transition:transform .3s cubic-bezier(.4,0,.2,1)}.menu-bar.hidden[_ngcontent-%COMP%]{transform:translateY(-100%);height:0;padding:0;border:none;pointer-events:none;opacity:0}.menu-bar[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.1) 50%,transparent 100%)}.menu-bar-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.apple-logo[_ngcontent-%COMP%]{width:16px;height:16px;display:flex;align-items:center;justify-content:center;cursor:pointer}.apple-logo[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%}.apple-logo[_ngcontent-%COMP%]:hover{opacity:.7}.menu-item[_ngcontent-%COMP%]{cursor:pointer;padding:2px 8px;border-radius:4px;transition:background .2s}.menu-item[_ngcontent-%COMP%]:hover{background:#ffffff1a}.menu-item.active[_ngcontent-%COMP%]{font-weight:600}.menu-bar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.minimized-count[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:4px 10px;background:#ffc10726;border-radius:12px;cursor:default;transition:all .2s}.minimized-count[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px;stroke:#ffc107e6}.minimized-count[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:11px;font-weight:600;color:#ffc107}.minimized-count[_ngcontent-%COMP%]:hover{background:#ffc10740}.zoom-control[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:4px 8px;background:#6496c81f;border:1px solid rgba(100,150,200,.25);border-radius:8px;position:relative}.zoom-control[_ngcontent-%COMP%]   .zoom-btn[_ngcontent-%COMP%]{width:20px;height:20px;display:flex;align-items:center;justify-content:center;border:none;background:#6496c833;border-radius:4px;cursor:pointer;color:#fff;transition:all .2s;padding:0}.zoom-control[_ngcontent-%COMP%]   .zoom-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;height:12px;stroke-width:2.5}.zoom-control[_ngcontent-%COMP%]   .zoom-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#6496c866;transform:scale(1.1)}.zoom-control[_ngcontent-%COMP%]   .zoom-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.95)}.zoom-control[_ngcontent-%COMP%]   .zoom-btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.zoom-control[_ngcontent-%COMP%]   .zoom-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;min-width:60px;justify-content:center;position:relative}.zoom-control[_ngcontent-%COMP%]   .zoom-display[_ngcontent-%COMP%]   .zoom-value[_ngcontent-%COMP%]{font-size:11px;font-weight:600;color:#ffffffe6;min-width:35px;text-align:center}.zoom-control[_ngcontent-%COMP%]   .zoom-display[_ngcontent-%COMP%]   .zoom-dropdown-btn[_ngcontent-%COMP%]{width:16px;height:16px;padding:0;border:none;background:transparent;cursor:pointer;display:flex;align-items:center;justify-content:center;color:#ffffffb3;transition:all .2s}.zoom-control[_ngcontent-%COMP%]   .zoom-display[_ngcontent-%COMP%]   .zoom-dropdown-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:10px;height:10px;stroke-width:2.5}.zoom-control[_ngcontent-%COMP%]   .zoom-display[_ngcontent-%COMP%]   .zoom-dropdown-btn[_ngcontent-%COMP%]:hover{color:#fff;transform:scale(1.15)}.zoom-control[_ngcontent-%COMP%]   .zoom-display[_ngcontent-%COMP%]   .zoom-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:50%;transform:translate(-50%);margin-top:6px;background:#141e32f2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(100,150,200,.3);border-radius:8px;min-width:100px;box-shadow:0 8px 32px #0000004d;z-index:10001;overflow:hidden}.zoom-control[_ngcontent-%COMP%]   .zoom-display[_ngcontent-%COMP%]   .zoom-dropdown[_ngcontent-%COMP%]   .zoom-option[_ngcontent-%COMP%]{padding:8px 16px;font-size:11px;color:#ffffffb3;cursor:pointer;transition:all .15s;text-align:center}.zoom-control[_ngcontent-%COMP%]   .zoom-display[_ngcontent-%COMP%]   .zoom-dropdown[_ngcontent-%COMP%]   .zoom-option[_ngcontent-%COMP%]:hover{background:#6496c833;color:#fff}.zoom-control[_ngcontent-%COMP%]   .zoom-display[_ngcontent-%COMP%]   .zoom-dropdown[_ngcontent-%COMP%]   .zoom-option.active[_ngcontent-%COMP%]{background:#6496c866;color:#fff;font-weight:600}.zoom-control[_ngcontent-%COMP%]   .zoom-display[_ngcontent-%COMP%]   .zoom-dropdown[_ngcontent-%COMP%]   .zoom-option.reset-option[_ngcontent-%COMP%]{font-size:10px;color:#ff9664cc}.zoom-control[_ngcontent-%COMP%]   .zoom-display[_ngcontent-%COMP%]   .zoom-dropdown[_ngcontent-%COMP%]   .zoom-option.reset-option[_ngcontent-%COMP%]:hover{background:#ff966426;color:#ffb478}.zoom-control[_ngcontent-%COMP%]   .zoom-display[_ngcontent-%COMP%]   .zoom-dropdown[_ngcontent-%COMP%]   .zoom-separator[_ngcontent-%COMP%]{height:1px;background:#6496c833;margin:4px 0}.brand-logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:4px 12px;border-radius:8px;transition:background .2s;cursor:pointer}.brand-logo[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke:currentColor}.brand-logo[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:13px;font-weight:600;letter-spacing:.5px}.brand-logo[_ngcontent-%COMP%]:hover{background:#ffffff1a}.breadcrumb-path[_ngcontent-%COMP%]{display:flex;align-items:center;gap:0;padding:0 12px;font-size:12px}.breadcrumb-path[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]{color:#fff;cursor:pointer;transition:color .2s;padding:2px 4px;border-radius:3px}.breadcrumb-path[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]:hover:not(.active){color:#d4d4d8}.breadcrumb-path[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#fbbf24;font-weight:600}.breadcrumb-path[_ngcontent-%COMP%]   .breadcrumb-separator[_ngcontent-%COMP%]{color:#6b7280;margin:0 8px}.breadcrumb-path[_ngcontent-%COMP%]   .breadcrumb-siblings[_ngcontent-%COMP%]{display:flex;align-items:center;gap:0}.breadcrumb-path[_ngcontent-%COMP%]   .breadcrumb-siblings[_ngcontent-%COMP%]   .breadcrumb-comma[_ngcontent-%COMP%]{color:#9ca3af;margin:0 4px}.breadcrumb-path[_ngcontent-%COMP%]   .breadcrumb-siblings[_ngcontent-%COMP%]   .breadcrumb-sibling[_ngcontent-%COMP%]{color:#9ca3af;cursor:pointer;transition:all .2s;font-size:12px;padding:2px 4px;border-radius:3px}.breadcrumb-path[_ngcontent-%COMP%]   .breadcrumb-siblings[_ngcontent-%COMP%]   .breadcrumb-sibling[_ngcontent-%COMP%]:hover{color:#d4d4d8}.breadcrumb-path[_ngcontent-%COMP%]   .breadcrumb-siblings[_ngcontent-%COMP%]   .breadcrumb-sibling.active[_ngcontent-%COMP%]{color:#fbbf24;font-weight:600}.menu-icon[_ngcontent-%COMP%]{width:16px;height:16px;cursor:pointer}.menu-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%}.menu-icon[_ngcontent-%COMP%]:hover{opacity:.7}.menu-time[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.5px}.desktop-wallpaper[_ngcontent-%COMP%]{flex:1;position:relative;overflow:hidden;background:#0a0e27}.desktop-icons[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;display:grid;grid-template-columns:repeat(3,100px);gap:20px 30px;z-index:100;transition:opacity .3s ease,transform .3s ease}.desktop-icons.hidden[_ngcontent-%COMP%]{opacity:0;pointer-events:none;transform:translate(-20px)}.desktop-icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;cursor:pointer;-webkit-user-select:none;user-select:none;transition:all .2s ease}.desktop-icon[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.desktop-icon[_ngcontent-%COMP%]:hover   .desktop-icon-label[_ngcontent-%COMP%]{text-shadow:0 0 8px rgba(255,255,255,.5)}.desktop-icon[_ngcontent-%COMP%]:hover   .desktop-icon-wrapper[_ngcontent-%COMP%]{box-shadow:0 8px 24px #00000080}.desktop-icon[_ngcontent-%COMP%]:active{transform:scale(.95)}.desktop-icon-wrapper[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:12px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #0000004d,inset 0 1px 1px #fff3;transition:all .2s}.desktop-icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:36px;height:36px;stroke:#fff;stroke-width:2;filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.desktop-icon-label[_ngcontent-%COMP%]{font-size:12px;color:#ffffffe6;text-align:center;max-width:90px;word-break:break-word;line-height:1.3;transition:text-shadow .2s;text-shadow:0 1px 3px rgba(0,0,0,.5)}.desktop-icon-label[_ngcontent-%COMP%]   .icon-folder-tag[_ngcontent-%COMP%]{display:block;font-size:9px;opacity:.7;margin-top:2px;font-weight:500}.windows-scale-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;transform-origin:center top;transition:transform .3s ease-out}.wallpaper-gradient[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(ellipse at top left,rgba(94,114,228,.4) 0%,transparent 50%),radial-gradient(ellipse at top right,rgba(147,51,234,.4) 0%,transparent 50%),radial-gradient(ellipse at bottom left,rgba(59,130,246,.4) 0%,transparent 50%),radial-gradient(ellipse at bottom right,rgba(236,72,153,.4) 0%,transparent 50%),linear-gradient(135deg,#1e3a8a,#312e81,#581c87,#831843,#1e40af);filter:blur(0)}.wallpaper-orbs[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}.orb[_ngcontent-%COMP%]{position:absolute;border-radius:50%;filter:blur(80px);opacity:.6;animation:_ngcontent-%COMP%_float 20s ease-in-out infinite;mix-blend-mode:screen}.orb-1[_ngcontent-%COMP%]{width:500px;height:500px;background:radial-gradient(circle,rgba(99,102,241,.8) 0%,transparent 70%);top:-10%;left:-10%;animation-delay:0s;animation-duration:25s}.orb-2[_ngcontent-%COMP%]{width:600px;height:600px;background:radial-gradient(circle,rgba(168,85,247,.7) 0%,transparent 70%);top:20%;right:-15%;animation-delay:-5s;animation-duration:30s}.orb-3[_ngcontent-%COMP%]{width:450px;height:450px;background:radial-gradient(circle,rgba(59,130,246,.6) 0%,transparent 70%);bottom:-10%;left:20%;animation-delay:-10s;animation-duration:28s}.orb-4[_ngcontent-%COMP%]{width:550px;height:550px;background:radial-gradient(circle,rgba(236,72,153,.7) 0%,transparent 70%);bottom:10%;right:10%;animation-delay:-15s;animation-duration:35s}.orb-5[_ngcontent-%COMP%]{width:400px;height:400px;background:radial-gradient(circle,rgba(147,197,253,.5) 0%,transparent 70%);top:50%;left:50%;transform:translate(-50%,-50%);animation-delay:-20s;animation-duration:32s}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translate(0) scale(1)}25%{transform:translate(30px,-30px) scale(1.1)}50%{transform:translate(-20px,20px) scale(.95)}75%{transform:translate(20px,30px) scale(1.05)}}.wallpaper-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:repeating-linear-gradient(0deg,rgba(255,255,255,.03) 0px,transparent 1px,transparent 2px,rgba(255,255,255,.03) 3px),repeating-linear-gradient(90deg,rgba(255,255,255,.03) 0px,transparent 1px,transparent 2px,rgba(255,255,255,.03) 3px);pointer-events:none;opacity:.3}.dock-container[_ngcontent-%COMP%]{position:fixed;bottom:8px;left:50%;transform:translate(-50%);z-index:9999;pointer-events:none;transition:transform .4s cubic-bezier(.4,0,.2,1)}.dock-container.hidden[_ngcontent-%COMP%]{transform:translate(-50%,150%)}.dock[_ngcontent-%COMP%]{background:#ffffff1f;backdrop-filter:blur(40px) saturate(200%);-webkit-backdrop-filter:blur(40px) saturate(200%);border:1px solid rgba(255,255,255,.25);border-radius:20px;padding:8px;display:flex;gap:8px;align-items:flex-end;box-shadow:0 12px 48px #0006,0 0 0 1px #ffffff1a inset,0 2px 4px #fff3 inset;pointer-events:all;position:relative}.dock[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:linear-gradient(180deg,#ffffff26,#ffffff0d,#ffffff05);border-radius:20px;pointer-events:none}.dock-icon[_ngcontent-%COMP%]{position:relative;cursor:pointer;transition:transform .2s cubic-bezier(.34,1.56,.64,1);transform-origin:bottom}.dock-icon[_ngcontent-%COMP%]:hover{transform:translateY(-12px) scale(1.2)}.dock-icon[_ngcontent-%COMP%]:hover:before{content:attr(data-tooltip);position:absolute;bottom:100%;left:50%;transform:translate(-50%) translateY(-8px);background:#000c;color:#fff;padding:4px 12px;border-radius:6px;font-size:11px;white-space:nowrap;pointer-events:none;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.dock-icon[_ngcontent-%COMP%]:active{transform:scale(.95)}.dock-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:14px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #0000004d,inset 0 1px 1px #ffffff4d;transition:box-shadow .2s}.dock-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:32px;height:32px;stroke:#fff;stroke-width:2;filter:drop-shadow(0 2px 4px rgba(0,0,0,.2))}.dock-icon[_ngcontent-%COMP%]:hover   .icon-wrapper[_ngcontent-%COMP%]{box-shadow:0 6px 20px #0006,inset 0 1px 1px #fff6}.dock-icon[_ngcontent-%COMP%]   .active-indicator[_ngcontent-%COMP%]{width:4px;height:4px;background:#ffffffe6;border-radius:50%;position:absolute;bottom:-2px;left:50%;transform:translate(-50%);box-shadow:0 0 4px #fffc}.dock-icon.minimized-window[_ngcontent-%COMP%]   .icon-wrapper.minimized[_ngcontent-%COMP%]{opacity:.7;position:relative}.dock-icon.minimized-window[_ngcontent-%COMP%]   .icon-wrapper.minimized[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;border-radius:14px;background:#0000004d;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.dock-icon.minimized-window[_ngcontent-%COMP%]   .icon-wrapper.minimized[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:relative;z-index:1}.dock-icon.minimized-window[_ngcontent-%COMP%]:hover   .icon-wrapper.minimized[_ngcontent-%COMP%]{opacity:.9}.dock-icon[_ngcontent-%COMP%]   .minimized-indicator[_ngcontent-%COMP%]{width:6px;height:6px;background:#ffc107e6;border-radius:50%;position:absolute;bottom:-2px;left:50%;transform:translate(-50%);box-shadow:0 0 6px #ffc107cc;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1;transform:translate(-50%) scale(1)}50%{opacity:.6;transform:translate(-50%) scale(1.2)}}.dock-separator[_ngcontent-%COMP%]{width:1px;height:48px;background:linear-gradient(to bottom,transparent,rgba(255,255,255,.2) 20%,rgba(255,255,255,.2) 80%,transparent);margin:0 4px;align-self:center}@media (max-width: 768px){.menu-bar[_ngcontent-%COMP%]{font-size:11px;padding:0 8px}.menu-bar-left[_ngcontent-%COMP%]{gap:12px}.menu-item[_ngcontent-%COMP%]{display:none}.menu-item.active[_ngcontent-%COMP%]{display:block}.dock[_ngcontent-%COMP%]{padding:6px;gap:6px;border-radius:16px}.dock-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px}.dock-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:28px;height:28px}.dock-icon[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.15)}}@media (min-width: 769px) and (max-width: 1024px){.dock-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:52px;height:52px}}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ffffff80}.desktop-container.mobile-layout[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);min-height:100vh;min-height:100dvh;max-height:100vh;max-height:100dvh}.mobile-statusbar[_ngcontent-%COMP%]{height:44px;flex-shrink:0;background:#000c;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);display:flex;justify-content:space-between;align-items:center;padding:0 20px;color:#fff;font-size:14px;position:relative;z-index:1000}.mobile-statusbar[_ngcontent-%COMP%]   .statusbar-left[_ngcontent-%COMP%], .mobile-statusbar[_ngcontent-%COMP%]   .statusbar-right[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center}.mobile-statusbar[_ngcontent-%COMP%]   .statusbar-right[_ngcontent-%COMP%]{justify-content:flex-end;gap:8px}.mobile-statusbar[_ngcontent-%COMP%]   .statusbar-center[_ngcontent-%COMP%]{flex:0 0 auto}.mobile-statusbar[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-weight:600;font-size:15px}.mobile-statusbar[_ngcontent-%COMP%]   .notch[_ngcontent-%COMP%]{width:120px;height:28px;background:#000;border-radius:0 0 16px 16px}.mobile-statusbar[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{width:24px;height:24px;stroke-width:2}.mobile-content[_ngcontent-%COMP%]{flex:1;min-height:0;position:relative;overflow:hidden;background:linear-gradient(135deg,#667eea,#764ba2)}.home-screen[_ngcontent-%COMP%]{width:100%;height:100%;max-height:100%;position:relative;overflow:hidden;background:#000;background-size:cover;background-position:center;background-repeat:no-repeat;display:flex;flex-direction:column}.blur-background[_ngcontent-%COMP%]{display:none}.widget-area[_ngcontent-%COMP%]{position:relative;padding:60px 24px 20px;z-index:2;flex-shrink:0}.time-widget-ios[_ngcontent-%COMP%]{background:#ffffff05;backdrop-filter:blur(12px) saturate(110%);-webkit-backdrop-filter:blur(12px) saturate(110%);border-radius:28px;padding:24px;border:.5px solid rgba(255,255,255,.1);box-shadow:0 2px 8px #1f26870d,inset 0 1px #ffffff1a}.time-widget-ios[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]{font-size:56px;font-weight:200;color:#fff;letter-spacing:-1.5px;line-height:1;margin-bottom:4px;font-variant-numeric:tabular-nums;text-shadow:0 3px 16px rgba(0,0,0,.5)}.time-widget-ios[_ngcontent-%COMP%]   .date-display[_ngcontent-%COMP%]{font-size:17px;font-weight:500;color:#fffffff2;letter-spacing:-.3px;text-shadow:0 2px 8px rgba(0,0,0,.4)}.apps-container[_ngcontent-%COMP%]{position:relative;padding:20px 24px 140px;flex:1;min-height:0;overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch;z-index:2;padding-bottom:calc(140px + env(safe-area-inset-bottom,0px))}.apps-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.apps-grid-ios[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:24px 16px;padding:0 0 20px;min-height:min-content}.app-icon-ios[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;cursor:pointer;transition:transform .2s cubic-bezier(.175,.885,.32,1.275)}.app-icon-ios[_ngcontent-%COMP%]:active{transform:scale(.85)}.app-icon-ios[_ngcontent-%COMP%]:active   .icon-background[_ngcontent-%COMP%]{background:#ffffff0d;box-shadow:0 1px 6px #00000014,inset 0 1px #ffffff14}.icon-background[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:16px;display:flex;align-items:center;justify-content:center;background:#ffffff05;backdrop-filter:blur(10px) saturate(110%);-webkit-backdrop-filter:blur(10px) saturate(110%);border:.5px solid rgba(255,255,255,.1);box-shadow:0 2px 8px #0000001a,inset 0 1px #ffffff1a;transition:all .2s ease;position:relative}.icon-background[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:50%;background:linear-gradient(180deg,rgba(255,255,255,.1) 0%,rgba(255,255,255,.05) 50%,transparent 100%);border-radius:16px 16px 0 0;pointer-events:none}.icon-background[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:32px;height:32px;stroke-width:2;filter:drop-shadow(0 2px 6px rgba(0,0,0,.5));position:relative;z-index:1}.icon-label-ios[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#fff;text-align:center;max-width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-shadow:0 2px 8px rgba(0,0,0,.8),0 1px 2px rgb(0,0,0),0 0 1px rgb(0,0,0);letter-spacing:-.2px;background:linear-gradient(180deg,#00000026,#0000001a);backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);padding:4px 8px;border-radius:8px;margin-top:2px;border:.5px solid rgba(255,255,255,.08)}.dock-ios[_ngcontent-%COMP%]{position:absolute;bottom:24px;bottom:max(24px,env(safe-area-inset-bottom));left:50%;transform:translate(-50%);width:calc(100% - 48px);max-width:380px;z-index:10;padding:0 8px}.dock-background[_ngcontent-%COMP%]{position:absolute;inset:0;background:#ffffff08;backdrop-filter:blur(12px) saturate(110%);-webkit-backdrop-filter:blur(12px) saturate(110%);border-radius:24px;border:.5px solid rgba(255,255,255,.12);box-shadow:0 2px 12px #0000001a,inset 0 1px #ffffff1f}.dock-icons[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-around;align-items:flex-start;padding:12px 8px 8px;gap:8px}.dock-icon-ios[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s cubic-bezier(.175,.885,.32,1.275);display:flex;flex-direction:column;align-items:center;gap:6px}.dock-icon-ios[_ngcontent-%COMP%]:active{transform:scale(.85)}.dock-icon-bg[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:16px;display:flex;align-items:center;justify-content:center;background:#ffffff05;backdrop-filter:blur(10px) saturate(110%);-webkit-backdrop-filter:blur(10px) saturate(110%);border:.5px solid rgba(255,255,255,.1);box-shadow:0 2px 8px #0000001a,inset 0 1px #ffffff1a;position:relative}.dock-icon-bg[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:50%;background:linear-gradient(180deg,rgba(255,255,255,.1) 0%,rgba(255,255,255,.05) 50%,transparent 100%);border-radius:16px 16px 0 0;pointer-events:none}.dock-icon-bg[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:32px;height:32px;stroke-width:2;filter:drop-shadow(0 2px 6px rgba(0,0,0,.5));position:relative;z-index:1}.dock-label-ios[_ngcontent-%COMP%]{font-size:11px;font-weight:600;color:#fff;text-align:center;max-width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-shadow:0 2px 8px rgba(0,0,0,.8),0 1px 2px rgb(0,0,0),0 0 1px rgb(0,0,0);letter-spacing:-.2px;background:linear-gradient(180deg,#00000026,#0000001a);backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);padding:3px 7px;border-radius:6px;border:.5px solid rgba(255,255,255,.08)}.page-dots[_ngcontent-%COMP%]{position:absolute;bottom:105px;bottom:calc(105px + env(safe-area-inset-bottom,0px));left:50%;transform:translate(-50%);display:flex;gap:8px;z-index:10}.page-dots[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:7px;height:7px;border-radius:50%;background:#fff6;transition:all .3s ease}.page-dots[_ngcontent-%COMP%]   .dot.active[_ngcontent-%COMP%]{background:#fff;width:7px}.home-indicator-ios[_ngcontent-%COMP%]{position:absolute;bottom:8px;bottom:max(8px,env(safe-area-inset-bottom));left:50%;transform:translate(-50%);width:140px;height:5px;background:#ffffff80;border-radius:3px;box-shadow:0 0 10px #0000001a;z-index:10}.app-viewer[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;background:#f5f5f7}.app-viewer.fullscreen[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:9999;padding:0}.app-viewer.fullscreen[_ngcontent-%COMP%]   .app-slider[_ngcontent-%COMP%], .app-viewer.fullscreen[_ngcontent-%COMP%]   .app-slide[_ngcontent-%COMP%]{height:100%}.app-slider[_ngcontent-%COMP%]{width:100%;height:100%;position:relative}.app-slide[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:#fff;transition:transform .3s cubic-bezier(.4,0,.2,1);display:flex;flex-direction:column}.app-slide.active[_ngcontent-%COMP%]{z-index:10}.app-header[_ngcontent-%COMP%]{padding:8px 16px;background:linear-gradient(135deg,#667eea0d,#764ba20d);display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid rgba(0,0,0,.05);position:relative;min-height:56px;max-height:56px}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.back-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:#0000000d;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s;flex-shrink:0}.back-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke:#1d1d1f;stroke-width:2}.back-btn[_ngcontent-%COMP%]:active{transform:scale(.95);background:#0000001a}.minimize-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:#ffcc00e6;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s;flex-shrink:0;box-shadow:0 2px 6px #0000001a}.minimize-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke:#fff;stroke-width:2.5}.minimize-btn[_ngcontent-%COMP%]:active{transform:scale(.95);background:#fc0}.fullscreen-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:#34c759e6;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s;flex-shrink:0;box-shadow:0 2px 6px #0000001a}.fullscreen-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke:#fff;stroke-width:2.5}.fullscreen-btn[_ngcontent-%COMP%]:active{transform:scale(.95);background:#34c759}.floating-exit-fullscreen[_ngcontent-%COMP%]{position:fixed;top:16px;right:16px;width:44px;height:44px;border:none;background:#ff3b30f2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:10000;box-shadow:0 4px 12px #ff3b3066,0 2px 4px #0003;transition:all .2s}.floating-exit-fullscreen[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;stroke:#fff;stroke-width:3}.floating-exit-fullscreen[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 6px 16px #ff3b3080,0 2px 4px #0000004d}.floating-exit-fullscreen[_ngcontent-%COMP%]:active{transform:scale(.95)}.app-icon-small[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:10px;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #0000001f,inset 0 1px 1px #ffffff4d;flex-shrink:0}.app-icon-small[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px;stroke:#fff;stroke-width:2}.app-icon-large[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:16px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #00000026,inset 0 1px 1px #ffffff4d}.app-icon-large[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:36px;height:36px;stroke:#fff;stroke-width:2}.app-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1d1d1f;margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.app-body[_ngcontent-%COMP%]{flex:1;overflow:auto;position:relative;-webkit-overflow-scrolling:touch}.app-body[_ngcontent-%COMP%]   .app-iframe[_ngcontent-%COMP%]{width:100%;height:100%;border:none;display:block;overflow:auto}.app-body[_ngcontent-%COMP%]   .app-placeholder[_ngcontent-%COMP%]{text-align:center;color:#86868b;font-size:16px;margin-top:40px;padding:20px}.app-switcher[_ngcontent-%COMP%]{position:fixed;inset:0;background:linear-gradient(135deg,#667eeaf2,#764ba2f2);z-index:3000;display:flex;flex-direction:column;padding:60px 20px 20px;animation:_ngcontent-%COMP%_fadeIn .2s;overflow:hidden}.switcher-header[_ngcontent-%COMP%]{margin-bottom:20px}.switcher-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#fff;margin:0;text-shadow:0 2px 10px rgba(0,0,0,.2)}.switcher-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;display:flex;flex-direction:column;gap:16px;padding-bottom:20px}.no-apps[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center}.no-apps[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fffc;font-size:16px;text-align:center}.app-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 8px 24px #0003;cursor:pointer;transition:all .3s;position:relative}.app-card[_ngcontent-%COMP%]:active{transform:scale(.98)}.card-close-btn[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;width:32px;height:32px;border:none;background:#0009;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:10;transition:all .2s}.card-close-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px;stroke:#fff;stroke-width:2.5}.card-close-btn[_ngcontent-%COMP%]:active{transform:scale(.9);background:#000c}.card-preview[_ngcontent-%COMP%]{padding:16px}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:12px}.card-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #00000026,inset 0 1px 1px #ffffff4d}.card-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:28px;height:28px;stroke:#fff;stroke-width:2}.card-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1d1d1f;margin:0}.card-content[_ngcontent-%COMP%]{background:#f5f5f7;border-radius:8px;padding:20px;min-height:100px;display:flex;align-items:center;justify-content:center}.card-placeholder[_ngcontent-%COMP%]{color:#86868b;font-size:14px;text-align:center;margin:0}.switcher-hint[_ngcontent-%COMP%]{padding:16px;text-align:center}.switcher-hint[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffe6;font-size:13px;margin:0;font-weight:500;text-shadow:0 1px 3px rgba(0,0,0,.2)}.app-drawer-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;z-index:2000;display:flex;align-items:flex-end;animation:_ngcontent-%COMP%_fadeIn .3s}.app-drawer[_ngcontent-%COMP%]{width:100%;max-height:70vh;background:#fff;border-radius:20px 20px 0 0;padding:20px;animation:_ngcontent-%COMP%_slideUp .3s cubic-bezier(.4,0,.2,1)}.drawer-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:16px;border-bottom:1px solid rgba(0,0,0,.1)}.drawer-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#1d1d1f;margin:0}.drawer-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:#0000000d;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s}.drawer-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;stroke:#1d1d1f;stroke-width:2}.drawer-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:active{transform:scale(.95);background:#0000001a}.drawer-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:20px;overflow-y:auto;max-height:calc(70vh - 100px);padding-bottom:20px}.drawer-app[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;cursor:pointer}.drawer-app[_ngcontent-%COMP%]:active{transform:scale(.95)}.drawer-icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:14px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #00000026,inset 0 1px 1px #ffffff4d}.drawer-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:32px;height:32px;stroke:#fff;stroke-width:2}.drawer-label[_ngcontent-%COMP%]{font-size:12px;color:#1d1d1f;text-align:center;font-weight:500}.minimized-apps-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;z-index:3500;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.minimized-slider[_ngcontent-%COMP%]{width:90%;max-width:400px;height:70vh;background:linear-gradient(180deg,#fffffffa,#f8f9faf5);border-radius:24px;padding:20px;box-shadow:0 20px 60px #0000004d;display:flex;flex-direction:column;animation:_ngcontent-%COMP%_slideUpScale .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden}.slider-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;padding-bottom:16px;border-bottom:1px solid rgba(0,0,0,.08)}.slider-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#1a1a1a;margin:0}.close-slider-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background:#0000000d;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s}.close-slider-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke:#1d1d1f;stroke-width:2}.close-slider-btn[_ngcontent-%COMP%]:active{transform:scale(.95);background:#0000001a}.slider-container[_ngcontent-%COMP%]{flex:1;position:relative;overflow:hidden}.minimized-slide[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;transition:transform .3s cubic-bezier(.4,0,.2,1);display:flex;flex-direction:column}.minimized-slide.active[_ngcontent-%COMP%]{z-index:1}.screenshot-preview[_ngcontent-%COMP%]{flex:1;background:linear-gradient(135deg,#667eea14,#764ba214);border-radius:20px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all .2s;position:relative;border:2px solid rgba(102,126,234,.15);overflow:hidden}.screenshot-preview[_ngcontent-%COMP%]:hover{border-color:#667eea4d}.screenshot-preview[_ngcontent-%COMP%]:active{transform:scale(.98);background:linear-gradient(135deg,#667eea1f,#764ba21f)}.quick-close-btn[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;width:32px;height:32px;border:none;background:#ff3b30f2;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:10;box-shadow:0 2px 8px #ff3b304d;transition:all .2s}.quick-close-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke:#fff;stroke-width:2.5}.quick-close-btn[_ngcontent-%COMP%]:hover{background:#ff3b30;transform:scale(1.05)}.quick-close-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.screenshot-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px;pointer-events:none}.preview-icon-large[_ngcontent-%COMP%]{width:140px;height:140px;border-radius:28px;display:flex;align-items:center;justify-content:center;box-shadow:0 12px 32px #00000040,inset 0 2px 4px #ffffff4d}.preview-icon-large[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:72px;height:72px;stroke:#fff;stroke-width:2}.app-name[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#1d1d1f;margin:0;text-align:center}.restore-hint[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:50%;transform:translate(-50%);font-size:14px;color:#007aff;font-weight:600;background:#fffffff2;padding:10px 20px;border-radius:16px;box-shadow:0 4px 12px #00000026;pointer-events:none}.slide-indicators[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:8px;padding:16px 0 8px}.indicator-dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;background:#0003;cursor:pointer;transition:all .2s}.indicator-dot.active[_ngcontent-%COMP%]{width:24px;border-radius:4px;background:#007aff}.indicator-dot[_ngcontent-%COMP%]:hover:not(.active){background:#0000004d}.nav-btn[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);width:40px;height:40px;border:none;background:#fffffff2;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 4px 12px #00000026;transition:all .2s;z-index:10}.nav-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;stroke:#1d1d1f;stroke-width:2.5}.nav-btn.prev-btn[_ngcontent-%COMP%]{left:-50px}.nav-btn.next-btn[_ngcontent-%COMP%]{right:-50px}.nav-btn[_ngcontent-%COMP%]:active:not(.disabled){transform:translateY(-50%) scale(.95)}.nav-btn.disabled[_ngcontent-%COMP%]{opacity:.3;cursor:not-allowed}.minimized-apps-icon[_ngcontent-%COMP%]{position:relative;width:24px;height:24px;cursor:pointer;margin-right:8px}.minimized-apps-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;stroke:#fff}.minimized-apps-icon[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;min-width:16px;height:16px;background:#ff3b30;color:#fff;font-size:10px;font-weight:700;border-radius:8px;display:flex;align-items:center;justify-content:center;padding:0 4px;box-shadow:0 2px 4px #ff3b3066}@keyframes _ngcontent-%COMP%_slideUpScale{0%{transform:translateY(20px) scale(.95);opacity:0}to{transform:translateY(0) scale(1);opacity:1}}.card-minimize-btn[_ngcontent-%COMP%]{position:absolute;top:8px;right:40px;width:32px;height:32px;border:none;background:#ffcc00f2;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:10;box-shadow:0 2px 8px #00000026;transition:all .2s ease}.card-minimize-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;stroke:#fff;stroke-width:2.5}.card-minimize-btn[_ngcontent-%COMP%]:active{transform:scale(.9);background:#fc0}@media (max-width: 767px){.desktop-container.mobile-layout[_ngcontent-%COMP%]   .menu-bar[_ngcontent-%COMP%], .desktop-container.mobile-layout[_ngcontent-%COMP%]   .desktop-wallpaper[_ngcontent-%COMP%], .desktop-container.mobile-layout[_ngcontent-%COMP%]   .dock-container[_ngcontent-%COMP%]{display:none}}@media (max-width: 767px) and (max-height: 667px){.widget-area[_ngcontent-%COMP%]{padding:40px 20px 12px}.time-widget-ios[_ngcontent-%COMP%]{padding:16px;border-radius:20px}.time-widget-ios[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]{font-size:42px}.time-widget-ios[_ngcontent-%COMP%]   .date-display[_ngcontent-%COMP%]{font-size:14px}.apps-container[_ngcontent-%COMP%]{padding:12px 20px;margin-bottom:120px}.apps-grid-ios[_ngcontent-%COMP%]{gap:18px 12px}.app-icon-ios[_ngcontent-%COMP%]{gap:6px}.icon-background[_ngcontent-%COMP%]{width:54px;height:54px;border-radius:14px}.icon-background[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:28px;height:28px}.icon-label-ios[_ngcontent-%COMP%]{font-size:11px}.dock-ios[_ngcontent-%COMP%]{bottom:24px}.dock-icon-bg[_ngcontent-%COMP%]{width:54px;height:54px}.dock-icon-bg[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:28px;height:28px}.page-dots[_ngcontent-%COMP%]{bottom:95px}}@media (max-width: 767px) and (min-height: 668px) and (max-height: 736px){.widget-area[_ngcontent-%COMP%]{padding:50px 22px 16px}.apps-container[_ngcontent-%COMP%]{padding:16px 22px;margin-bottom:130px}.apps-grid-ios[_ngcontent-%COMP%]{gap:20px 14px}}@media (max-width: 767px) and (min-height: 737px){.widget-area[_ngcontent-%COMP%]{padding:60px 24px 20px}.apps-container[_ngcontent-%COMP%]{padding:20px 24px;margin-bottom:140px}}@media (max-width: 767px) and (min-height: 844px){.time-widget-ios[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]{font-size:64px}.time-widget-ios[_ngcontent-%COMP%]   .date-display[_ngcontent-%COMP%]{font-size:18px}.apps-grid-ios[_ngcontent-%COMP%]{gap:28px 18px}.icon-background[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:17px}.icon-background[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:36px;height:36px}.dock-icon-bg[_ngcontent-%COMP%]{width:64px;height:64px}.dock-icon-bg[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:36px;height:36px}}@media (min-width: 768px) and (max-width: 1023px){.mobile-content[_ngcontent-%COMP%]{padding:0 40px}.drawer-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(6,1fr)}.tabbar-content[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}.apps-grid-ios[_ngcontent-%COMP%]{grid-template-columns:repeat(6,1fr);gap:32px 24px}.dock-ios[_ngcontent-%COMP%]{max-width:500px}}@media (max-width: 767px) and (orientation: landscape){.widget-area[_ngcontent-%COMP%]{padding:30px 20px 10px}.time-widget-ios[_ngcontent-%COMP%]{padding:16px}.time-widget-ios[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]{font-size:40px}.time-widget-ios[_ngcontent-%COMP%]   .date-display[_ngcontent-%COMP%]{font-size:13px}.apps-container[_ngcontent-%COMP%]{padding:10px 20px;margin-bottom:100px}.apps-grid-ios[_ngcontent-%COMP%]{grid-template-columns:repeat(6,1fr);gap:16px 12px}.icon-background[_ngcontent-%COMP%], .dock-icon-bg[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:13px}.icon-background[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .dock-icon-bg[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:26px;height:26px}.dock-ios[_ngcontent-%COMP%]{bottom:20px}.dock-ios[_ngcontent-%COMP%]   .dock-icons[_ngcontent-%COMP%]{padding:10px 8px}.page-dots[_ngcontent-%COMP%]{bottom:80px}}.mobile-blocked-screen[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);flex-direction:column;padding:20px}.blocked-content[_ngcontent-%COMP%]{text-align:center;max-width:400px;animation:_ngcontent-%COMP%_slideUp .5s ease-out;display:flex;flex-direction:column;align-items:center}.blocked-icon[_ngcontent-%COMP%]{width:80px;height:80px;stroke:#fff;stroke-width:1.5;margin:0 auto 24px;opacity:.9;animation:_ngcontent-%COMP%_scaleIn .6s ease-out .1s both}.blocked-title[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#fff;margin-bottom:16px;animation:_ngcontent-%COMP%_fadeIn .6s ease-out .2s both}.blocked-description[_ngcontent-%COMP%]{font-size:16px;color:#ffffffd9;margin-bottom:12px;line-height:1.6;animation:_ngcontent-%COMP%_fadeIn .6s ease-out .3s both}.blocked-hint[_ngcontent-%COMP%]{font-size:14px;color:#ffffffb3;line-height:1.6;animation:_ngcontent-%COMP%_fadeIn .6s ease-out .4s both}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.8)}to{opacity:.9;transform:scale(1)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.control-button[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;border:.5px solid rgba(0,0,0,.15);cursor:pointer;display:flex;align-items:center;justify-content:center;padding:0;transition:all .15s ease;position:relative;box-shadow:0 1px 2px #00000026,inset 0 1px #fff6;background:transparent}.control-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:6px;height:6px;opacity:0;transition:opacity .15s ease}.control-button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{opacity:1!important}.control-button.close[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6057,#ff5f56)}.control-button.close[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ff4b42,#ff3b30);box-shadow:0 2px 4px #ff3b3066,inset 0 1px #ffffff80}.control-button.close[_ngcontent-%COMP%]:active{background:linear-gradient(135deg,#d93025,#c9211e)}.control-button.minimize[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffbd2e,#ffbc2d)}.control-button.minimize[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#ffb01f,#ffa900);box-shadow:0 2px 4px #ffa90066,inset 0 1px #ffffff80}.control-button.minimize[_ngcontent-%COMP%]:active{background:linear-gradient(135deg,#e09b00,#d08800)}.control-button.maximize[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28ca42,#27c93f)}.control-button.maximize[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#20b038,#1fa832);box-shadow:0 2px 4px #1fa83266,inset 0 1px #ffffff80}.control-button.maximize[_ngcontent-%COMP%]:active{background:linear-gradient(135deg,#1a9930,#178528)}']})};var Li=[{path:"",component:He}],We=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=Ee({type:r});static \u0275inj=we({imports:[Ke.forChild(Li),Ke]})};var on=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=Ee({type:r});static \u0275inj=we({providers:[Pe,X],imports:[Ae,At,zt,$t,We,qt,Yt,Wt,pe]})};export{on as DeskModule};
