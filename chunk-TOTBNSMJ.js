import{a as ge}from"./chunk-QSRJW266.js";import{b as D}from"./chunk-6YJUHGHK.js";import{a as _e,b as ue,c as Ce}from"./chunk-4RU5ETBD.js";import{a as pe}from"./chunk-24IAU7JG.js";import{m as ce}from"./chunk-QKZCIXE6.js";import"./chunk-ENF7CTGD.js";import"./chunk-KRR2UDNI.js";import{a as me}from"./chunk-IRQJEG43.js";import"./chunk-P5T2C44A.js";import"./chunk-MSA2X7VG.js";import{a as P}from"./chunk-DMDQ36CM.js";import{E as A,c as z,h as O,m as F}from"./chunk-ROH7LSZS.js";import{b as se,d as de}from"./chunk-LZ4XSYEC.js";import{$b as w,Ab as q,Bb as I,Cb as Y,Gb as v,Ib as _,Kb as s,Pa as a,Qc as ae,Vb as f,Wb as E,Zb as p,_a as N,_b as y,ac as Z,ad as le,dc as ee,ec as te,fc as ne,fd as k,ga as M,gb as b,ja as c,ka as m,la as J,ma as K,nc as ie,pc as oe,qb as g,rb as x,rc as re,sb as X,tb as H,ua as S,ub as V,vb as T,wb as u,xb as o,xc as B,yb as l,zb as C}from"./chunk-5TLQJ6AI.js";import"./chunk-WWX6BADO.js";var j=class i{themeManager=M(P);static \u0275fac=function(e){return new(e||i)};static \u0275cmp=N({type:i,selectors:[["app-splash"]],decls:6,vars:2,consts:[[1,"fixed","inset-0","flex","flex-col","items-center","justify-center","text-white","z-50","transition-opacity","duration-500"],[1,"text-4xl","font-bold","mb-4"],[1,"text-sm","opacity-80"],[1,"mt-8","animate-spin","rounded-full","h-8","w-8","border-t-2","border-b-2","border-white"]],template:function(e,n){e&1&&(q(0,"div",0)(1,"div",1),p(2,"ezNote"),I(),q(3,"div",2),p(4,"AI \uAE30\uBC18 \uC2A4\uB9C8\uD2B8 \uB178\uD2B8"),I(),Y(5,"div",3),I()),e&2&&f("background-color",n.themeManager.currentNoteTheme().colors.primary)},encapsulation:2})};var fe=(i,r,e)=>({"bg-purple-100 text-purple-600":i,"bg-green-100 text-green-600":r,"bg-gray-100 text-gray-600":e});function be(i,r){if(i&1&&C(0,"app-icon",13),i&2){let e=s();f("color",e.themeManager.currentNoteTheme().colors.primary),u("size",16)}}function ve(i,r){if(i&1&&C(0,"div",18),i&2){let e=r.$implicit;f("background-image","url("+e+")")}}function he(i,r){if(i&1&&(o(0,"div",15),p(1),l()),i&2){let e=s(2);a(),w(" +",e.note.images.length-2," ")}}function ye(i,r){if(i&1&&(o(0,"div",19),C(1,"app-icon",20),l()),i&2){let e=s(2);f("background-color",e.themeManager.currentNoteTheme().colors.primary+"10")("border-color",e.themeManager.currentNoteTheme().colors.primary+"30")("color",e.themeManager.currentNoteTheme().colors.primary),a(),u("size",18)}}function we(i,r){i&1&&(o(0,"div",17),C(1,"app-icon",21),l()),i&2&&(a(),u("size",18))}function Me(i,r){if(i&1&&(o(0,"div",5),V(1,ve,1,2,"div",14,X),g(3,he,2,1,"div",15),g(4,ye,2,7,"div",16),g(5,we,2,1,"div",17),l()),i&2){let e=s();a(),T(e.note.images.slice(0,2)),a(2),x(e.note.images.length>2?3:-1),a(),x(e.note.hasAudio&&e.note.images.length<2?4:-1),a(),x(e.note.drawing&&e.note.images.length<2&&!e.note.hasAudio?5:-1)}}var W=class i{themeManager=M(P);note;onClick=new b;onPin=new b;onDelete=new b;onLongPress=new b;longPressTimeout;onMouseDown(){this.startLongPress()}onTouchStart(){this.startLongPress()}onMouseUp(){this.cancelLongPress()}onTouchEnd(){this.cancelLongPress()}startLongPress(){this.longPressTimeout=setTimeout(()=>{this.onLongPress.emit(this.note)},500)}cancelLongPress(){this.longPressTimeout&&clearTimeout(this.longPressTimeout)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=N({type:i,selectors:[["app-note-card"]],inputs:{note:"note"},outputs:{onClick:"onClick",onPin:"onPin",onDelete:"onDelete",onLongPress:"onLongPress"},decls:19,vars:18,consts:[[1,"bg-white","rounded-xl","p-4","shadow-sm","border","border-gray-100","h-full","active:scale-[0.99]","transition-transform","cursor-pointer","hover:shadow-md","relative","group","flex","flex-col","select-none",3,"click","mousedown","touchstart","mouseup","touchend","mouseleave"],[1,"flex","justify-between","items-start","mb-2"],[1,"font-bold","text-gray-800","line-clamp-1","text-lg","flex-1","pr-8"],["name","pin","className","fill-current absolute top-4 right-4",3,"size","color"],[1,"text-gray-500","text-sm","line-clamp-2","mb-3","min-h-[1.25rem]","flex-1"],[1,"flex","gap-2","mb-3","overflow-hidden"],[1,"flex","justify-between","items-center","text-xs","text-gray-400","mt-auto"],[1,"px-2","py-1","rounded-full","truncate","max-w-[80px]",3,"ngClass"],[1,"absolute","right-2","bottom-2","hidden","group-hover:flex","gap-1","bg-white/95","p-1","rounded-lg","shadow-sm","border","border-gray-100"],[1,"p-1.5","hover:bg-gray-100","rounded-full","text-gray-500",3,"click","title"],["name","pin",3,"size","className"],["title","\uC0AD\uC81C",1,"p-1.5","hover:bg-red-50","rounded-full","text-red-500",3,"click"],["name","trash-2",3,"size"],["name","pin","className","fill-current absolute top-4 right-4",3,"size"],[1,"w-10","h-10","rounded-lg","bg-gray-100","bg-cover","bg-center","border","border-gray-200","shrink-0",3,"background-image"],[1,"w-10","h-10","rounded-lg","bg-gray-50","flex","items-center","justify-center","border","border-gray-200","text-gray-400","text-xs","shrink-0"],[1,"w-10","h-10","rounded-lg","flex","items-center","justify-center","border","shrink-0",3,"backgroundColor","borderColor","color"],[1,"w-10","h-10","rounded-lg","bg-purple-50","flex","items-center","justify-center","border","border-purple-100","text-purple-500","shrink-0"],[1,"w-10","h-10","rounded-lg","bg-gray-100","bg-cover","bg-center","border","border-gray-200","shrink-0"],[1,"w-10","h-10","rounded-lg","flex","items-center","justify-center","border","shrink-0"],["name","mic",3,"size"],["name","pen-tool",3,"size"]],template:function(e,n){e&1&&(o(0,"div",0),_("click",function(){return n.onClick.emit(n.note)})("mousedown",function(){return n.onMouseDown()})("touchstart",function(){return n.onTouchStart()})("mouseup",function(){return n.onMouseUp()})("touchend",function(){return n.onTouchEnd()})("mouseleave",function(){return n.onMouseUp()}),o(1,"div",1)(2,"h3",2),p(3),l(),g(4,be,1,3,"app-icon",3),l(),o(5,"p",4),p(6),l(),g(7,Me,6,3,"div",5),o(8,"div",6)(9,"span"),p(10),oe(11,"date"),l(),o(12,"span",7),p(13),l()(),o(14,"div",8)(15,"button",9),_("click",function(d){return d.stopPropagation(),n.onPin.emit(n.note.id)}),C(16,"app-icon",10),l(),o(17,"button",11),_("click",function(d){return d.stopPropagation(),n.onDelete.emit(n.note.id)}),C(18,"app-icon",12),l()()()),e&2&&(a(3),w(" ",n.note.title||"\uC81C\uBAA9 \uC5C6\uC74C"," "),a(),x(n.note.isPinned?4:-1),a(2),w(" ",n.note.content||"\uB0B4\uC6A9\uC774 \uC5C6\uC2B5\uB2C8\uB2E4."," "),a(),x(n.note.images&&n.note.images.length>0||n.note.hasAudio||n.note.drawing?7:-1),a(3),y(re(11,11,n.note.date,"MM.dd")),a(2),u("ngClass",ie(14,fe,n.note.category==="\uC5C5\uBB34",n.note.category==="\uC0DD\uD65C",n.note.category!=="\uC5C5\uBB34"&&n.note.category!=="\uC0DD\uD65C")),a(),w(" ",n.note.category," "),a(2),u("title",n.note.isPinned?"\uACE0\uC815 \uD574\uC81C":"\uC0C1\uB2E8 \uACE0\uC815"),a(),u("size",14)("className",n.note.isPinned?"text-blue-500":""),a(2),u("size",14))},dependencies:[k,ae,D,le],encapsulation:2})};function Ne(i,r){if(i&1){let e=v();o(0,"div",13),_("dragstart",function(t){c(e);let d=s().$index,h=s(2);return m(h.onDragStart(t,d))})("dragover",function(t){c(e);let d=s(3);return m(d.onDragOver(t))})("drop",function(t){c(e);let d=s().$index,h=s(2);return m(h.onDrop(t,d))}),o(1,"span",14),p(2),l(),o(3,"div",15)(4,"button",16),_("click",function(){c(e);let t=s().$implicit,d=s(2);return m(d.deleteCategory.emit(t))}),C(5,"app-icon",17),l(),o(6,"div",18),C(7,"app-icon",19),l()()()}if(i&2){let e=s(),n=e.$implicit,t=e.$index,d=s(2);E("opacity-50",d.draggedIndex===t)("border-2",d.draggedIndex===t)("border-blue-200",d.draggedIndex===t)("bg-blue-50",d.draggedIndex===t),a(2),y(n),a(3),u("size",16),a(2),u("size",16)}}function Ve(i,r){if(i&1&&g(0,Ne,8,11,"div",12),i&2){let e=r.$implicit;x(e!=="\uC804\uCCB4"?0:-1)}}function Te(i,r){if(i&1){let e=v();o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),p(4,"\uD3F4\uB354 \uAD00\uB9AC"),l(),o(5,"button",4),_("click",function(){c(e);let t=s();return m(t.close.emit())}),C(6,"app-icon",5),l()(),o(7,"div",6)(8,"div",7),V(9,Ve,1,1,null,null,H),l()(),o(11,"div",8)(12,"div",9)(13,"input",10),ne("ngModelChange",function(t){c(e);let d=s();return te(d.newCategoryName,t)||(d.newCategoryName=t),m(t)}),_("keydown.enter",function(){c(e);let t=s();return m(t.addCategory())}),l(),o(14,"button",11),_("click",function(){c(e);let t=s();return m(t.addCategory())}),p(15," \uCD94\uAC00 "),l()()()()()}if(i&2){let e=s();a(6),u("size",20),a(3),T(e.categories),a(4),ee("ngModel",e.newCategoryName),a(),u("disabled",!e.newCategoryName.trim())}}var U=class i{isOpen=!1;categories=[];close=new b;addNewCategory=new b;deleteCategory=new b;reorderCategories=new b;newCategoryName="";draggedIndex=null;addCategory(){let r=this.newCategoryName.trim();r&&!this.categories.includes(r)&&(this.addNewCategory.emit(r),this.newCategoryName="")}onDragStart(r,e){this.draggedIndex=e,r.dataTransfer?.setData("text/plain",e.toString())}onDragOver(r){r.preventDefault()}onDrop(r,e){if(r.preventDefault(),this.draggedIndex===null||this.draggedIndex===e){this.draggedIndex=null;return}let n=[...this.categories],[t]=n.splice(this.draggedIndex,1);n.splice(e,0,t),this.reorderCategories.emit(n),this.draggedIndex=null}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=N({type:i,selectors:[["app-category-manager"]],inputs:{isOpen:"isOpen",categories:"categories"},outputs:{close:"close",addNewCategory:"addNewCategory",deleteCategory:"deleteCategory",reorderCategories:"reorderCategories"},decls:1,vars:1,consts:[[1,"absolute","inset-0","z-50","flex","items-center","justify-center","bg-black/50","p-4"],[1,"bg-white","rounded-2xl","w-full","max-w-sm","overflow-hidden","shadow-2xl","flex","flex-col","max-h-[80vh]"],[1,"p-4","border-b","border-gray-100","flex","justify-between","items-center"],[1,"font-bold","text-lg"],[1,"text-gray-400","hover:text-gray-600",3,"click"],["name","x",3,"size"],[1,"flex-1","overflow-y-auto","p-4"],[1,"space-y-2"],[1,"p-4","border-t","border-gray-100","bg-gray-50"],[1,"flex","gap-2"],["type","text","placeholder","\uC0C8 \uD3F4\uB354 \uC774\uB984",1,"flex-1","px-3","py-2","rounded-lg","border","border-gray-200","text-sm","focus:outline-none","focus:border-blue-500",3,"ngModelChange","keydown.enter","ngModel"],[1,"bg-blue-600","text-white","px-4","py-2","rounded-lg","text-sm","font-bold","hover:bg-blue-700","disabled:opacity-50",3,"click","disabled"],["draggable","true",1,"flex","items-center","justify-between","bg-gray-50","p-3","rounded-lg","group","transition-all","duration-200",3,"opacity-50","border-2","border-blue-200","bg-blue-50"],["draggable","true",1,"flex","items-center","justify-between","bg-gray-50","p-3","rounded-lg","group","transition-all","duration-200",3,"dragstart","dragover","drop"],[1,"font-medium","text-gray-700"],[1,"flex","items-center","gap-1"],[1,"p-2","text-gray-400","hover:text-red-500",3,"click"],["name","trash-2",3,"size"],[1,"p-2","text-gray-300","cursor-grab","active:cursor-grabbing","hover:text-gray-500"],["name","grip-vertical",3,"size"]],template:function(e,n){e&1&&g(0,Te,16,3,"div",0),e&2&&x(n.isOpen?0:-1)},dependencies:[k,A,z,O,F,D],encapsulation:2})};function ke(i,r){if(i&1){let e=v();o(0,"div",1),_("click",function(){c(e);let t=s();return m(t.close.emit())}),o(1,"div",2),_("click",function(t){return c(e),m(t.stopPropagation())}),o(2,"div",3)(3,"h3",4),p(4),l(),o(5,"p",5),p(6,"\uC791\uC5C5\uC744 \uC120\uD0DD\uD558\uC138\uC694"),l()(),o(7,"div",6)(8,"button",7),_("click",function(){c(e);let t=s();return t.pin.emit(t.note.id),m(t.close.emit())}),o(9,"div",8),C(10,"app-icon",9),l(),o(11,"span",10),p(12),l()(),o(13,"button",7),_("click",function(){c(e);let t=s();return t.duplicate.emit(t.note),m(t.close.emit())}),o(14,"div",11),C(15,"app-icon",12),l(),o(16,"span",10),p(17,"\uB178\uD2B8 \uBCF5\uC81C"),l()(),o(18,"button",7),_("click",function(){c(e);let t=s();return t.addWidget.emit(t.note),m(t.close.emit())}),o(19,"div",13),C(20,"app-icon",14),l(),o(21,"span",10),p(22,"\uC704\uC82F \uCD94\uAC00"),l()(),C(23,"div",15),o(24,"button",16),_("click",function(){c(e);let t=s();return t.delete.emit(t.note.id),m(t.close.emit())}),o(25,"div",17),C(26,"app-icon",18),l(),o(27,"span",19),p(28,"\uC0AD\uC81C"),l()()(),o(29,"div",20)(30,"button",21),_("click",function(){c(e);let t=s();return m(t.close.emit())}),p(31," \uCDE8\uC18C "),l()()()()}if(i&2){let e=s();a(4),w(" ",e.note.title||"\uC81C\uBAA9 \uC5C6\uC74C"," "),a(6),u("size",20)("className",e.note.isPinned?"fill-blue-600":""),a(2),w(" ",e.note.isPinned?"\uACE0\uC815 \uD574\uC81C":"\uC0C1\uB2E8 \uACE0\uC815"," "),a(3),u("size",20),a(5),u("size",20),a(6),u("size",20)}}var Q=class i{note=null;close=new b;pin=new b;delete=new b;duplicate=new b;addWidget=new b;static \u0275fac=function(e){return new(e||i)};static \u0275cmp=N({type:i,selectors:[["app-context-menu-overlay"]],inputs:{note:"note"},outputs:{close:"close",pin:"pin",delete:"delete",duplicate:"duplicate",addWidget:"addWidget"},decls:1,vars:1,consts:[[1,"absolute","inset-0","z-50","flex","items-center","justify-center","bg-black/60","p-6","animate-fade-in"],[1,"absolute","inset-0","z-50","flex","items-center","justify-center","bg-black/60","p-6","animate-fade-in",3,"click"],[1,"bg-white","w-full","max-w-xs","rounded-2xl","shadow-2xl","overflow-hidden","animate-scale-up",3,"click"],[1,"bg-gray-100","p-4","border-b","border-gray-200"],[1,"font-bold","text-gray-800","text-lg","line-clamp-1"],[1,"text-xs","text-gray-500","mt-1"],[1,"p-2"],[1,"w-full","flex","items-center","gap-3","p-3","rounded-xl","hover:bg-gray-50","transition-colors","text-left",3,"click"],[1,"w-10","h-10","rounded-full","bg-blue-50","text-blue-600","flex","items-center","justify-center"],["name","pin",3,"size","className"],[1,"font-medium","text-gray-700"],[1,"w-10","h-10","rounded-full","bg-green-50","text-green-600","flex","items-center","justify-center"],["name","copy",3,"size"],[1,"w-10","h-10","rounded-full","bg-purple-50","text-purple-600","flex","items-center","justify-center"],["name","layout",3,"size"],[1,"h-px","bg-gray-100","my-1"],[1,"w-full","flex","items-center","gap-3","p-3","rounded-xl","hover:bg-red-50","transition-colors","text-left","group",3,"click"],[1,"w-10","h-10","rounded-full","bg-red-50","text-red-500","flex","items-center","justify-center","group-hover:bg-red-100","transition-colors"],["name","trash-2",3,"size"],[1,"font-medium","text-red-500"],[1,"p-2","border-t","border-gray-100"],[1,"w-full","py-3","text-center","text-gray-500","hover:text-gray-800","font-medium",3,"click"]],template:function(e,n){e&1&&g(0,ke,32,7,"div",0),e&2&&x(n.note?0:-1)},dependencies:[k,D],styles:["@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0}to{opacity:1}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in .2s ease-out}@keyframes _ngcontent-%COMP%_scale-up{0%{transform:scale(.95);opacity:0}to{transform:scale(1);opacity:1}}.animate-scale-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scale-up .2s cubic-bezier(.16,1,.3,1)}"]})};var G=(i,r)=>r.id;function De(i,r){i&1&&C(0,"app-splash")}function Ee(i,r){if(i&1){let e=v();o(0,"app-mobile-header",21),_("menuClick",function(){c(e);let t=s(2);return m(t.sidebarOpen.set(!0))}),o(1,"div",22)(2,"button",23),_("click",function(){c(e);let t=s(2);return m(t.showCategoryManager.set(!0))}),C(3,"app-icon",24),l(),o(4,"button",25),_("click",function(){c(e);let t=s(2);return m(t.isSearchVisible.set(!t.isSearchVisible()))}),C(5,"app-icon",26),l()()()}if(i&2){let e=s(2);a(4),E("bg-gray-100",e.isSearchVisible())}}function Pe(i,r){if(i&1){let e=v();o(0,"div",27)(1,"div",31),C(2,"app-icon",32),l(),o(3,"input",33),_("ngModelChange",function(t){c(e);let d=s(3);return m(d.noteService.searchQuery.set(t))}),l()()}if(i&2){let e=s(3);a(2),u("size",18),a(),f("--tw-ring-color",e.themeManager.currentNoteTheme().colors.primary),u("ngModel",e.noteService.searchQuery())}}function He(i,r){if(i&1){let e=v();o(0,"button",35),_("click",function(){let t=c(e).$implicit,d=s(4);return m(d.noteService.currentCategory.set(t))}),p(1),l()}if(i&2){let e=r.$implicit,n=s(4);f("background-color",n.noteService.currentCategory()===e?n.themeManager.currentNoteTheme().colors.primary:"rgb(243 244 246)")("color",n.noteService.currentCategory()===e?"white":"rgb(107 114 128)"),E("shadow-md",n.noteService.currentCategory()===e),a(),w(" ",e," ")}}function Ie(i,r){if(i&1&&V(0,He,2,7,"button",34,H),i&2){let e=s(3);T(e.noteService.categories())}}function Be(i,r){if(i&1){let e=v();o(0,"div",3),g(1,Pe,4,4,"div",27),o(2,"div",28)(3,"div",29)(4,"button",30),_("click",function(){c(e);let t=s(2);return m(t.currentView.set("notes"))}),p(5," \u{1F4DD} \uB178\uD2B8 "),l()(),g(6,Ie,2,0),l()()}if(i&2){let e=s(2);a(),x(e.isSearchVisible()?1:-1),a(3),f("background-color",e.currentView()==="notes"?e.themeManager.currentNoteTheme().colors.primary:"rgb(243 244 246)")("color",e.currentView()==="notes"?"white":"rgb(107 114 128)"),a(2),x(e.currentView()==="notes"?6:-1)}}function ze(i,r){i&1&&(o(0,"div",36)(1,"div",39),C(2,"app-icon",40),l(),o(3,"p"),p(4,"\uC791\uC131\uB41C \uB178\uD2B8\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),l()()),i&2&&(a(2),u("size",32))}function Oe(i,r){if(i&1){let e=v();o(0,"div",45),_("dragstart",function(t){let d=c(e).$implicit,h=s(4);return m(h.handleNoteDragStart(t,d))})("dragover",function(t){c(e);let d=s(4);return m(d.handleNoteDragOver(t))})("drop",function(t){let d=c(e).$implicit,h=s(4);return m(h.handleNoteDrop(t,d))}),o(1,"app-note-card",46),_("onClick",function(t){c(e);let d=s(4);return m(d.handleEditNote(t))})("onPin",function(t){c(e);let d=s(4);return m(d.handlePinNote(t))})("onDelete",function(t){c(e);let d=s(4);return m(d.handleDeleteNote(t))})("onLongPress",function(t){c(e);let d=s(4);return m(d.selectedNoteForMenu.set(t))}),l()()}if(i&2){let e=r.$implicit,n=s(4);E("opacity-50",(n.draggedNote==null?null:n.draggedNote.id)===e.id),a(),u("note",e)}}function Fe(i,r){if(i&1&&(o(0,"div",37)(1,"h2",41),C(2,"app-icon",42),p(3," \uACE0\uC815\uB41C \uB178\uD2B8 "),l(),o(4,"div",43),V(5,Oe,2,3,"div",44,G),l()()),i&2){let e=s(3);a(2),u("size",12),a(3),T(e.pinnedNotes())}}function Ae(i,r){i&1&&(o(0,"h2",47),p(1,"\uAE30\uD0C0 \uB178\uD2B8"),l())}function je(i,r){if(i&1){let e=v();o(0,"div",45),_("dragstart",function(t){let d=c(e).$implicit,h=s(4);return m(h.handleNoteDragStart(t,d))})("dragover",function(t){c(e);let d=s(4);return m(d.handleNoteDragOver(t))})("drop",function(t){let d=c(e).$implicit,h=s(4);return m(h.handleNoteDrop(t,d))}),o(1,"app-note-card",46),_("onClick",function(t){c(e);let d=s(4);return m(d.handleEditNote(t))})("onPin",function(t){c(e);let d=s(4);return m(d.handlePinNote(t))})("onDelete",function(t){c(e);let d=s(4);return m(d.handleDeleteNote(t))})("onLongPress",function(t){c(e);let d=s(4);return m(d.selectedNoteForMenu.set(t))}),l()()}if(i&2){let e=r.$implicit,n=s(4);E("opacity-50",(n.draggedNote==null?null:n.draggedNote.id)===e.id),a(),u("note",e)}}function Le(i,r){if(i&1&&(o(0,"div",38),g(1,Ae,2,0,"h2",47),o(2,"div",43),V(3,je,2,3,"div",44,G),l()()),i&2){let e=s(3);a(),x(e.pinnedNotes().length>0?1:-1),a(2),T(e.otherNotes())}}function $e(i,r){if(i&1&&(o(0,"div",4),g(1,ze,5,1,"div",36),g(2,Fe,7,1,"div",37),g(3,Le,5,1,"div",38),l()),i&2){let e=s(2);a(),x(e.noteService.filteredNotes().length===0?1:-1),a(),x(e.pinnedNotes().length>0?2:-1),a(),x(e.otherNotes().length>0?3:-1)}}function We(i,r){if(i&1){let e=v();o(0,"div",5)(1,"app-mobile-settings",48),_("close",function(){c(e);let t=s(2);return m(t.currentView.set("notes"))}),l()()}}function Ue(i,r){if(i&1){let e=v();o(0,"button",49),_("click",function(){c(e);let t=s(2);return m(t.handleCreateNote())}),C(1,"app-icon",50),l()}if(i&2){let e=s(2);f("background-color",e.themeManager.currentNoteTheme().colors.primary),a(),u("size",28)}}function Qe(i,r){if(i&1&&(o(0,"div",10),C(1,"div",51),o(2,"span",52),p(3),l(),o(4,"span",53),p(5),l()()),i&2){let e=r.$implicit;a(),f("background-color",e.color),a(2),y(e.title),a(2),y(e.time)}}function Re(i,r){i&1&&(o(0,"div",11),p(1,"\uC77C\uC815\uC774 \uC5C6\uC2B5\uB2C8\uB2E4."),l())}function qe(i,r){i&1&&(o(0,"span",71),p(1,"\u2713 \uC644\uB8CC"),l())}function Ge(i,r){if(i&1&&(o(0,"span",84),p(1,"\u23F3 \uC9C4\uD589\uC911"),l()),i&2){let e=s(3);f("background-color",e.themeManager.currentNoteTheme().colors.primary+"1a")("color",e.themeManager.currentNoteTheme().colors.primary)}}function Je(i,r){if(i&1){let e=v();o(0,"div",54),_("click",function(){c(e);let t=s(2);return m(t.showSpecDetail.set(!1))}),o(1,"div",55),_("click",function(t){return c(e),m(t.stopPropagation())}),o(2,"div",56),C(3,"div",57),l(),o(4,"div",58)(5,"div",59)(6,"div",60)(7,"span",61),p(8),l(),o(9,"span",62),p(10),l()(),o(11,"h2",63),p(12),l()(),o(13,"button",64),_("click",function(){c(e);let t=s(2);return m(t.showSpecDetail.set(!1))}),J(),o(14,"svg",65),C(15,"line",66)(16,"line",67),l()()(),K(),o(17,"div",68)(18,"div")(19,"div",69)(20,"p",70),p(21,"\uC0C1\uD0DC"),l(),g(22,qe,2,0,"span",71)(23,Ge,2,4,"span",72),l(),o(24,"div",69)(25,"p",70),p(26,"\uC9C4\uD589\uB960"),l(),o(27,"p",73),p(28),l()(),o(29,"div",74),C(30,"div",75),l()(),o(31,"div",43)(32,"div",76)(33,"p",77),p(34,"\uC6B0\uC120\uC21C\uC704"),l(),o(35,"p",78),p(36),l()(),o(37,"div",76)(38,"p",77),p(39,"\uC2E4\uD604\uAC00\uB2A5"),l(),o(40,"p",78),p(41),l()()(),o(42,"div")(43,"p",79),p(44,"\uC694\uAD6C\uC0AC\uD56D"),l(),o(45,"p",80),p(46),l()(),o(47,"div")(48,"p",79),p(49,"\uAE30\uAC04"),l(),o(50,"p",81),p(51),l()()(),o(52,"div",82)(53,"button",83),_("click",function(){c(e);let t=s(2);return m(t.showSpecDetail.set(!1))}),p(54," \uB2EB\uAE30 "),l()()()()}if(i&2){let e=s(2);a(8),w("ID ",e.selectedSpec().id),a(2),y(e.selectedSpec().mainCategory),a(2),y(e.selectedSpec().midCategory),a(10),x(e.selectedSpec().status==="completed"?22:23),a(5),f("color",e.themeManager.currentNoteTheme().colors.primary),a(),w("",e.selectedSpec().progress,"%"),a(2),f("background-color",e.themeManager.currentNoteTheme().colors.primary)("width",e.selectedSpec().progress,"%"),a(2),f("background-color",e.themeManager.currentNoteTheme().colors.secondary+"1a"),a(),f("color",e.themeManager.currentNoteTheme().colors.secondary),a(2),f("color",e.themeManager.currentNoteTheme().colors.secondary),a(),y(e.selectedSpec().priority),a(),f("background-color",e.themeManager.currentNoteTheme().colors.accent+"1a"),a(),f("color",e.themeManager.currentNoteTheme().colors.accent),a(2),f("color",e.themeManager.currentNoteTheme().colors.accent),a(),y(e.selectedSpec().feasibility),a(5),y(e.selectedSpec().request),a(5),Z("",e.selectedSpec().startDate," ~ ",e.selectedSpec().endDate),a(2),f("background-color",e.themeManager.currentNoteTheme().colors.primary)}}function Ke(i,r){if(i&1){let e=v();g(0,Ee,6,2,"app-mobile-header",2),g(1,Be,7,6,"div",3),g(2,$e,4,3,"div",4)(3,We,2,0,"div",5),g(4,Ue,2,3,"button",6),o(5,"app-mobile-sidebar",7),_("close",function(){c(e);let t=s();return m(t.sidebarOpen.set(!1))})("login",function(){c(e);let t=s();return m(t.handleLogin())})("logout",function(){c(e);let t=s();return m(t.handleLogin())}),o(6,"div",8)(7,"div",9),p(8,"Today's Schedule"),l(),V(9,Qe,6,4,"div",10,G),g(11,Re,2,0,"div",11),l(),o(12,"button",12),_("click",function(){c(e);let t=s();return m(t.openSettings())}),C(13,"app-icon",13),o(14,"span",14),p(15,"\uB3D9\uAE30\uD654 \uBC0F \uBC31\uC5C5"),l()(),o(16,"button",12),_("click",function(){c(e);let t=s();return m(t.openSettings())}),C(17,"app-icon",15),o(18,"span",14),p(19,"\uC124\uC815"),l()(),o(20,"button",16),C(21,"app-icon",17),o(22,"span",14),p(23,"\uC7A0\uAE08 \uC124\uC815"),l()()(),o(24,"app-category-manager",18),_("close",function(){c(e);let t=s();return m(t.showCategoryManager.set(!1))})("addNewCategory",function(t){c(e);let d=s();return m(d.handleAddCategory(t))})("deleteCategory",function(t){c(e);let d=s();return m(d.handleDeleteCategory(t))})("reorderCategories",function(t){c(e);let d=s();return m(d.noteService.categories.set(t))}),l(),g(25,Je,55,30,"div",19),o(26,"app-context-menu-overlay",20),_("close",function(){c(e);let t=s();return m(t.selectedNoteForMenu.set(null))})("pin",function(t){c(e);let d=s();return m(d.handlePinNote(t))})("delete",function(t){c(e);let d=s();return m(d.handleDeleteNote(t))})("duplicate",function(t){c(e);let d=s();return m(d.handleDuplicateNote(t))})("addWidget",function(t){c(e);let d=s();return m(d.handleAddWidget(t))}),l()}if(i&2){let e=s();x(e.currentView()!=="settings"?0:-1),a(),x(e.currentView()!=="settings"?1:-1),a(),x(e.currentView()==="notes"?2:e.currentView()==="settings"?3:-1),a(2),x(e.currentView()==="notes"?4:-1),a(),u("isOpen",e.sidebarOpen())("themeColor",e.themeManager.currentNoteTheme().colors.primary)("isLoggedIn",!0),a(4),T(e.calendarService.tasks().slice(0,3)),a(2),x(e.calendarService.tasks().length===0?11:-1),a(2),u("size",20),a(4),u("size",20),a(4),u("size",20),a(3),u("isOpen",e.showCategoryManager())("categories",e.noteService.categories()),a(),x(e.showSpecDetail()&&e.selectedSpec()?25:-1),a(),u("note",e.selectedNoteForMenu())}}var xe=class i{router=M(de);route=M(se);noteService=M(me);calendarService=M(pe);themeManager=M(P);showSplash=S(!1);sidebarOpen=S(!1);isSearchVisible=S(!1);showCategoryManager=S(!1);selectedNoteForMenu=S(null);isLoggedIn=S(!1);currentView=S("notes");selectedSpecId=S(null);showSpecDetail=S(!1);draggedNote=null;pinnedNotes=B(()=>this.noteService.filteredNotes().filter(r=>r.isPinned));otherNotes=B(()=>this.noteService.filteredNotes().filter(r=>!r.isPinned));selectedSpec=B(()=>{let r=this.selectedSpecId();return r?this.noteService.specs().find(e=>e.id===r):null});handleTabChange(r){r==="folder"?this.showCategoryManager.set(!0):(r==="notes"||r==="settings")&&this.currentView.set(r)}ngOnInit(){this.route.params.subscribe(r=>{let e=r.screenName;if(e)switch(this.closeAllModals(),e){case"note-management":this.sidebarOpen.set(!1),this.currentView.set("notes");break;case"note-registration-editing":this.handleCreateNote();break;case"note-search":this.isSearchVisible.set(!0);break;case"folder-registration-editing":this.showCategoryManager.set(!0);break;case"note-archive-bin":break;case"note-tag-management":this.sidebarOpen.set(!0);break;case"display-settings":break}})}closeAllModals(){this.sidebarOpen.set(!1),this.showCategoryManager.set(!1),this.showSpecDetail.set(!1),this.selectedNoteForMenu.set(null)}handleCreateNote(){this.router.navigate(["/note/mobile/edit","new"])}handleEditNote(r){this.router.navigate(["/note/mobile/edit",r.id])}handleDeleteNote(r){confirm("\uC815\uB9D0 \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?")&&this.noteService.deleteNote(r)}handlePinNote(r){this.noteService.togglePin(r)}handleDuplicateNote(r){this.noteService.duplicateNote(r.id),alert("\uB178\uD2B8\uAC00 \uBCF5\uC81C\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}handleAddWidget(r){alert(`'${r.title}' \uB178\uD2B8\uAC00 \uD648 \uD654\uBA74 \uC704\uC82F\uC5D0 \uCD94\uAC00\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`)}handleAddCategory(r){this.noteService.categories().includes(r)?alert("\uC774\uBBF8 \uC874\uC7AC\uD558\uB294 \uD3F4\uB354\uBA85\uC785\uB2C8\uB2E4."):this.noteService.categories.update(e=>[...e,r])}handleDeleteCategory(r){confirm(`'${r}' \uD3F4\uB354\uB97C \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?`)&&(this.noteService.categories.update(e=>e.filter(n=>n!==r)),this.noteService.currentCategory()===r&&this.noteService.currentCategory.set("\uC804\uCCB4"))}handleLogin(){this.isLoggedIn()?(this.isLoggedIn.set(!1),alert("\uB85C\uADF8\uC544\uC6C3 \uB418\uC5C8\uC2B5\uB2C8\uB2E4.")):(this.isLoggedIn.set(!0),alert("\uAD6C\uAE00 \uACC4\uC815\uC73C\uB85C \uB85C\uADF8\uC778\uB418\uC5C8\uC2B5\uB2C8\uB2E4."))}openSettings(){this.sidebarOpen.set(!1),this.currentView.set("settings")}handleNoteDragStart(r,e){this.draggedNote=e}handleNoteDragOver(r){r.preventDefault()}handleNoteDrop(r,e){r.preventDefault(),!(!this.draggedNote||this.draggedNote.id===e.id)&&this.draggedNote.isPinned===e.isPinned&&(this.noteService.notes.update(n=>{let t=[...n],d=t.findIndex(R=>R.id===this.draggedNote.id),h=t.findIndex(R=>R.id===e.id);return d>-1&&h>-1&&(t.splice(d,1),t.splice(h,0,this.draggedNote)),t}),this.draggedNote=null)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=N({type:i,selectors:[["app-mobile-home"]],decls:4,vars:2,consts:[[1,"w-full","h-[100vh]","bg-white","flex","flex-col","overflow-hidden","relative"],["type","note",3,"tabChange","activeTab"],["title","ezNote","logoIcon","description"],[1,"p-4","pt-0","bg-white","sticky","top-0","z-10","animate-fade-in"],[1,"flex-1","overflow-y-auto","px-4","pb-20","bg-gray-50"],[1,"flex-1","overflow-hidden","h-full"],[1,"absolute","bottom-24","right-6","w-14","h-14","text-white","rounded-full","shadow-lg","flex","items-center","justify-center","hover:opacity-90","active:scale-90","transition-all","z-20",3,"backgroundColor"],["title","ezNote","logoIcon","description","userEmail","\uB2C9\uB124\uC784\uC608\uC2DC",3,"close","login","logout","isOpen","themeColor","isLoggedIn"],[1,"mb-2","pb-2","border-b","border-gray-100"],[1,"px-3","py-2","text-xs","font-bold","text-slate-500","uppercase","tracking-wider"],[1,"w-full","flex","items-center","gap-3","px-3","py-2","rounded-xl","hover:bg-gray-50","text-slate-700","transition-colors"],[1,"px-3","py-2","text-xs","text-slate-400"],[1,"w-full","flex","items-center","gap-3","px-3","py-3","rounded-xl","hover:bg-gray-50","text-slate-700","transition-colors",3,"click"],["name","cloud",3,"size"],[1,"text-sm","font-medium"],["name","settings",3,"size"],[1,"w-full","flex","items-center","gap-3","px-3","py-3","rounded-xl","hover:bg-gray-50","text-slate-700","transition-colors"],["name","lock",3,"size"],[3,"close","addNewCategory","deleteCategory","reorderCategories","isOpen","categories"],[1,"fixed","inset-0","z-50","flex","items-end","bg-black/50","backdrop-blur-sm"],[3,"close","pin","delete","duplicate","addWidget","note"],["title","ezNote","logoIcon","description",3,"menuClick"],["right","",1,"flex","gap-2","text-gray-600"],["title","\uD3F4\uB354 \uAD00\uB9AC",1,"p-2","rounded-full","hover:bg-gray-100",3,"click"],["name","folder-edit"],[1,"p-2","-mr-2","rounded-full","hover:bg-gray-100",3,"click"],["name","search"],[1,"relative","mb-4","animate-fade-in"],[1,"flex","gap-2","overflow-x-auto","pb-2","scrollbar-hide"],[1,"flex","gap-1","flex-shrink-0"],[1,"px-3","py-1","rounded-full","text-xs","font-medium","whitespace-nowrap","transition-colors",3,"click"],[1,"absolute","left-3","top-2.5","text-gray-400"],["name","search",3,"size"],["type","text","placeholder","\uB178\uD2B8 \uAC80\uC0C9...",1,"w-full","bg-gray-100","py-2","pl-10","pr-4","rounded-xl","text-sm","focus:outline-none","focus:ring-2",3,"ngModelChange","ngModel"],[1,"px-4","py-1.5","rounded-full","text-sm","font-medium","whitespace-nowrap","transition-colors",3,"backgroundColor","color","shadow-md"],[1,"px-4","py-1.5","rounded-full","text-sm","font-medium","whitespace-nowrap","transition-colors",3,"click"],[1,"flex","flex-col","items-center","justify-center","h-64","text-gray-400"],[1,"mb-4","mt-2"],[1,"mt-2"],[1,"w-16","h-16","bg-gray-200","rounded-full","flex","items-center","justify-center","mb-4"],["name","image","className","opacity-50",3,"size"],[1,"text-xs","font-bold","text-gray-400","mb-2","flex","items-center","gap-1"],["name","pin",3,"size"],[1,"grid","grid-cols-2","gap-3"],["draggable","true",1,"h-full",3,"opacity-50"],["draggable","true",1,"h-full",3,"dragstart","dragover","drop"],[3,"onClick","onPin","onDelete","onLongPress","note"],[1,"text-xs","font-bold","text-gray-400","mb-2"],[1,"h-full",3,"close"],[1,"absolute","bottom-24","right-6","w-14","h-14","text-white","rounded-full","shadow-lg","flex","items-center","justify-center","hover:opacity-90","active:scale-90","transition-all","z-20",3,"click"],["name","plus",3,"size"],[1,"w-2","h-2","rounded-full","shrink-0"],[1,"text-sm","font-medium","truncate","flex-1","text-left"],[1,"text-xs","text-slate-500"],[1,"fixed","inset-0","z-50","flex","items-end","bg-black/50","backdrop-blur-sm",3,"click"],[1,"bg-white","rounded-t-3xl","w-full","max-h-[90vh]","overflow-y-auto","flex","flex-col",3,"click"],[1,"flex","justify-center","pt-3","pb-1"],[1,"w-10","h-1","bg-gray-300","rounded-full"],[1,"p-6","border-b","border-gray-100","flex","justify-between","items-start"],[1,"flex-1"],[1,"flex","items-center","gap-2","mb-2"],[1,"text-xs","font-bold","px-2","py-1","rounded-full","text-gray-700","bg-gray-100"],[1,"text-xs","font-bold","px-2","py-1","rounded-full","bg-gray-100","text-gray-700"],[1,"text-xl","font-bold","text-slate-800"],[1,"text-slate-400","p-1",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"p-6","space-y-4","flex-1"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-sm","font-bold","text-slate-700"],[1,"text-xs","px-2","py-1","rounded-full","bg-green-100","text-green-700","font-medium"],[1,"text-xs","px-2","py-1","rounded-full","font-medium",3,"backgroundColor","color"],[1,"text-sm","font-bold"],[1,"w-full","bg-gray-200","rounded-full","h-3"],[1,"h-3","rounded-full","transition-all"],[1,"p-3","rounded-lg"],[1,"text-xs","font-bold","mb-1"],[1,"text-lg","font-bold"],[1,"text-sm","font-bold","text-slate-700","mb-2"],[1,"text-sm","text-slate-600","leading-relaxed"],[1,"text-sm","text-slate-600"],[1,"p-4","border-t","border-gray-100","bg-gray-50","safe-area-pb"],[1,"w-full","px-4","py-3","text-white","font-bold","rounded-lg","transition-opacity","hover:opacity-90",3,"click"],[1,"text-xs","px-2","py-1","rounded-full","font-medium"]],template:function(e,n){e&1&&(o(0,"div",0),g(1,De,1,0,"app-splash")(2,Ke,27,15),o(3,"app-mobile-bottom-nav",1),_("tabChange",function(d){return n.handleTabChange(d)}),l()()),e&2&&(a(),x(n.showSplash()?1:2),a(2),u("activeTab",n.currentView()))},dependencies:[k,ce,_e,ue,Ce,z,O,F,A,D,j,W,U,Q,ge],styles:[".scrollbar-hide[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0}to{opacity:1}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in .2s ease-out}"]})};export{xe as MobileHomeComponent};
