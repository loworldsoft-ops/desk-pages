import{a as At,b as zi}from"./chunk-EFKGURMX.js";import{a as It,h as Ri}from"./chunk-WRALLE3S.js";import{a as Ni}from"./chunk-SJVX2RDN.js";import{a as Kr}from"./chunk-GW37IABN.js";import{a as Fi}from"./chunk-I7LDI25N.js";import{a as Zr}from"./chunk-4DRAGH36.js";import"./chunk-TQB7XTTO.js";import{k as Di}from"./chunk-XV4DQ6N5.js";import"./chunk-IETAKAO6.js";import"./chunk-ZTC7FD34.js";import{b as Ai}from"./chunk-DKJAT7FW.js";import{j as Ii}from"./chunk-KKBH3IZU.js";import"./chunk-PU3NJVWI.js";import"./chunk-265GCEVW.js";import{j as Ti,q as Ei}from"./chunk-ECCXUGB5.js";import{a as lt,b as ki}from"./chunk-LJMAQA5N.js";import"./chunk-VTZTOIJT.js";import{sa as Oi,va as Si}from"./chunk-E2QGNPJC.js";import{d as Jt,e as Bn,g as Qr}from"./chunk-ERU5XYPD.js";import{g as yi}from"./chunk-XRSSTKR3.js";import{E as Pi,h as vi,m as Ci,w as bi,x as Mi,y as wi}from"./chunk-26VDYJPQ.js";import{$b as Pt,Ac as mi,Ba as Tt,D as oi,Da as Nn,Dd as xi,Id as _i,Jc as pi,Lb as Zt,Mb as Kt,Nb as rn,Nc as jr,Pb as Lt,Pc as Gr,Qb as Yt,Rb as V,Sb as p,Tb as d,Ub as ht,W as bt,Ya as ii,_b as li,aa as Qt,ba as Fn,bb as x,bc as rt,dc as F,ea as le,f as An,fa as st,g as Ut,hb as nn,hc as Te,ic as Ee,jc as Ie,ka as Mt,l as ni,la as wt,ob as et,oc as _t,pb as Rn,pc as ci,q as ri,qb as ai,sb as Et,sc as g,sd as di,tc as D,td as hi,ub as q,uc as X,ud as zn,vc as Ht,xb as si,xd as gi,yc as ui,zc as fi}from"./chunk-UMLP25CN.js";import{a as Wr,b as Xr}from"./chunk-WWX6BADO.js";var nt=class t{todaySchedule$=new Ut([]);diaryProgress$=new Ut(null);novelStats$=new Ut(null);constructor(){this.initializeDashboard()}initializeDashboard(){this.getTodaySchedule(),this.getDiaryProgress(),this.getNovelStats()}getTodaySchedule(){let e=[{id:1,name:"\uB300\uC2DC\uBCF4\uB4DC \uBAA8\uB4C8 \uAC1C\uBC1C",status:"progress",startDate:new Date().toISOString(),endDate:new Date().toISOString()},{id:2,name:"\uC18C\uC124 \uC791\uC131",status:"receive",startDate:new Date().toISOString(),endDate:new Date().toISOString()}];this.todaySchedule$.next(e)}getDiaryProgress(){let e={total:10,receive:3,progress:4,complete:3,ratios:{receive:.3,progress:.4,complete:.3}};this.diaryProgress$.next(e)}getNovelStats(){let e={totalNovels:5,totalCharacters:15e4,recentNovels:[{id:1,title:"\uC18C\uC124 \uC81C\uBAA9 1",characters:5e4},{id:2,title:"\uC18C\uC124 \uC81C\uBAA9 2",characters:3e4},{id:3,title:"\uC18C\uC124 \uC81C\uBAA9 3",characters:2e4}]};this.novelStats$.next(e)}refreshDashboard(){this.getTodaySchedule(),this.getDiaryProgress(),this.getNovelStats()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Qt({token:t,factory:t.\u0275fac})};var Ft=class t{constructor(e){this.router=e;let n=this.loadUserFromStorage();this.currentUserSubject=new Ut(n),this.currentUser$=this.currentUserSubject.asObservable()}STORAGE_KEY="dashboard_auth_user";ADMIN_USERNAME=Kr.decrypt(Zr.auth.username);ADMIN_PASSWORD=Kr.decrypt(Zr.auth.password);currentUserSubject;currentUser$;loadUserFromStorage(){try{let e=localStorage.getItem(this.STORAGE_KEY);if(e){let n=JSON.parse(e);return n.loginTime=new Date(n.loginTime),n}}catch(e){console.warn("Failed to load dashboard user from storage:",e)}return null}saveUserToStorage(e){try{e?localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e)):localStorage.removeItem(this.STORAGE_KEY)}catch(n){console.warn("Failed to save dashboard user to storage:",n)}}login(e,n){if(e===this.ADMIN_USERNAME&&n===this.ADMIN_PASSWORD){let r={username:this.ADMIN_USERNAME,loginTime:new Date};return this.currentUserSubject.next(r),this.saveUserToStorage(r),!0}return!1}logout(){console.log("[DashboardAuth] \uB85C\uADF8\uC544\uC6C3");try{this.currentUserSubject.next(null),this.saveUserToStorage(null)}catch(e){console.error("[DashboardAuth] \uB85C\uADF8\uC544\uC6C3 \uC911 \uC624\uB958:",e)}finally{this.router.navigate(["/dashboard/login"]).catch(e=>{console.error("[DashboardAuth] \uB124\uBE44\uAC8C\uC774\uC158 \uC608\uC678 \uBC1C\uC0DD:",e),window.location.hash="#/dashboard/login"})}}isLoggedIn(){return this.currentUserSubject.value!==null}getCurrentUser(){return this.currentUserSubject.value}getCurrentUsername(){let e=this.getCurrentUser();return e?e.username:null}static \u0275fac=function(n){return new(n||t)(le(Jt))};static \u0275prov=Qt({token:t,factory:t.\u0275fac,providedIn:"root"})};var yt=class t{data;output=new si;destroy$=new An;ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=ai({type:t,inputs:{data:"data"},outputs:{output:"output"}})};var Nl=(t,e)=>e.id;function Rl(t,e){t&1&&(p(0,"div",3)(1,"mat-icon"),g(2,"event_busy"),d(),p(3,"p"),g(4,"\uC624\uB298 \uC608\uC815\uB41C \uC77C\uC815\uC774 \uC5C6\uC2B5\uB2C8\uB2E4"),d()())}function zl(t,e){if(t&1){let n=Pt();p(0,"div",6),rt("click",function(){let o=Mt(n).$implicit,i=F(2);return wt(i.onScheduleClick(o))}),p(1,"mat-icon"),g(2),d(),p(3,"div",7)(4,"div",8),g(5),d(),p(6,"div",9),g(7),jr(8,"date"),jr(9,"date"),d()()()}if(t&2){let n=e.$implicit,r=F(2);x(),_t("color",r.getStatusColor(n.status)),x(),X(" ",r.getStatusIcon(n.status)," "),x(3),D(n.name),x(2),Ht(" ",Gr(8,6,n.startDate,"HH:mm")," - ",Gr(9,9,n.endDate,"HH:mm")," ")}}function Bl(t,e){if(t&1&&(p(0,"div",4),Lt(1,zl,10,12,"div",5,Nl),d()),t&2){let n=F();x(),Yt(n.schedules)}}var Vn=class t extends yt{dashboardVM=st(nt);schedules=[];ngOnInit(){console.log("\uC624\uB298 \uC77C\uC815 \uC704\uC82F - \uB4E4\uC5B4\uC628 \uB370\uC774\uD130:",this.data),this.dashboardVM.todaySchedule$.pipe(bt(this.destroy$)).subscribe(e=>{this.schedules=e||[]})}getStatusIcon(e){return{receive:"inbox",progress:"pending",complete:"check_circle"}[e]||"circle"}getStatusColor(e){return{receive:"#90CAF9",progress:"#FFF59D",complete:"#A5D6A7"}[e]||"#BDBDBD"}onScheduleClick(e){this.output.emit({type:"schedule-click",data:e})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Tt(t)))(r||t)}})();static \u0275cmp=et({type:t,selectors:[["app-today-schedule"]],standalone:!1,features:[Et],decls:9,vars:2,consts:[[1,"widget-card"],[1,"widget-toolbar"],[1,"widget-content"],[1,"empty-state"],[1,"schedule-list"],[1,"schedule-item"],[1,"schedule-item",3,"click"],[1,"schedule-info"],[1,"schedule-name"],[1,"schedule-time"]],template:function(n,r){n&1&&(p(0,"mat-card",0)(1,"mat-toolbar",1)(2,"mat-icon"),g(3,"calendar_today"),d(),p(4,"span"),g(5),d()(),p(6,"div",2),Zt(7,Rl,5,0,"div",3)(8,Bl,3,0,"div",4),d()()),n&2&&(x(5),D((r.data==null?null:r.data.title)||"\uC624\uB298 \uC77C\uC815"),x(2),Kt(r.schedules.length===0?7:8))},dependencies:[At,lt,It,xi],styles:[".widget-card[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.widget-toolbar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;display:flex;align-items:center;gap:8px;padding:12px 16px;font-size:16px;font-weight:500}.widget-toolbar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.widget-content[_ngcontent-%COMP%]{flex:1;padding:16px;overflow-y:auto}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;color:#9e9e9e}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.schedule-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.schedule-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;background:#667eea0d;border-radius:8px;cursor:pointer;transition:all .2s ease}.schedule-item[_ngcontent-%COMP%]:hover{background:#667eea1a;transform:translate(4px)}.schedule-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.schedule-info[_ngcontent-%COMP%]{flex:1;min-width:0}.schedule-info[_ngcontent-%COMP%]   .schedule-name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--text-primary);margin-bottom:4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.schedule-info[_ngcontent-%COMP%]   .schedule-time[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary)}"]})};function $l(t,e){t&1&&(p(0,"div",3)(1,"mat-icon"),g(2,"hourglass_empty"),d(),p(3,"p"),g(4,"\uB370\uC774\uD130\uB97C \uBD88\uB7EC\uC624\uB294 \uC911..."),d()())}function Vl(t,e){if(t&1&&(p(0,"div",4)(1,"div",5)(2,"span",6),g(3,"\uC804\uCCB4 \uC77C\uC815"),d(),p(4,"span",7),g(5),d()()(),p(6,"div",8)(7,"div",9)(8,"div",10)(9,"span",11),g(10),d(),p(11,"span",12),g(12),d()(),p(13,"div",13),ht(14,"div",14),d()(),p(15,"div",15)(16,"div",10)(17,"span",11),g(18),d(),p(19,"span",12),g(20),d()(),p(21,"div",13),ht(22,"div",14),d()(),p(23,"div",16)(24,"div",10)(25,"span",11),g(26),d(),p(27,"span",12),g(28),d()(),p(29,"div",13),ht(30,"div",14),d()()()),t&2){let n=F();x(5),D(n.progress.total),x(5),D(n.getStatusLabel("receive")),x(2),Ht("",n.progress.receive," (",n.getProgressPercentage(n.progress.ratios.receive),"%)"),x(2),_t("width",n.getProgressPercentage(n.progress.ratios.receive),"%"),x(4),D(n.getStatusLabel("progress")),x(2),Ht("",n.progress.progress," (",n.getProgressPercentage(n.progress.ratios.progress),"%)"),x(2),_t("width",n.getProgressPercentage(n.progress.ratios.progress),"%"),x(4),D(n.getStatusLabel("complete")),x(2),Ht("",n.progress.complete," (",n.getProgressPercentage(n.progress.ratios.complete),"%)"),x(2),_t("width",n.getProgressPercentage(n.progress.ratios.complete),"%")}}var Yn=class t extends yt{dashboardVM=st(nt);progress=null;ngOnInit(){console.log("\uC77C\uC815 \uC9C4\uD589\uB960 \uC704\uC82F - \uB4E4\uC5B4\uC628 \uB370\uC774\uD130:",this.data),this.dashboardVM.diaryProgress$.pipe(bt(this.destroy$)).subscribe(e=>{this.progress=e})}getProgressPercentage(e){return Math.round(e*100)}getStatusLabel(e){return{receive:"\uB300\uAE30",progress:"\uC9C4\uD589\uC911",complete:"\uC644\uB8CC"}[e]||e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Tt(t)))(r||t)}})();static \u0275cmp=et({type:t,selectors:[["app-diary-progress"]],standalone:!1,features:[Et],decls:9,vars:2,consts:[[1,"widget-card"],[1,"widget-toolbar"],[1,"widget-content"],[1,"empty-state"],[1,"progress-summary"],[1,"total-count"],[1,"label"],[1,"value"],[1,"progress-bars"],[1,"progress-item","receive"],[1,"progress-header"],[1,"status-label"],[1,"status-value"],[1,"progress-bar-container"],[1,"progress-bar"],[1,"progress-item","progress"],[1,"progress-item","complete"]],template:function(n,r){n&1&&(p(0,"mat-card",0)(1,"mat-toolbar",1)(2,"mat-icon"),g(3,"bar_chart"),d(),p(4,"span"),g(5),d()(),p(6,"div",2),Zt(7,$l,5,0,"div",3)(8,Vl,31,16),d()()),n&2&&(x(5),D((r.data==null?null:r.data.title)||"\uC77C\uC815 \uC9C4\uD589\uB960"),x(2),Kt(r.progress?8:7))},dependencies:[At,lt,It],styles:[".widget-card[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.widget-toolbar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c);color:#fff;display:flex;align-items:center;gap:8px;padding:12px 16px;font-size:16px;font-weight:500}.widget-toolbar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.widget-content[_ngcontent-%COMP%]{flex:1;padding:16px;overflow-y:auto}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;color:#9e9e9e}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.progress-summary[_ngcontent-%COMP%]{margin-bottom:24px}.progress-summary[_ngcontent-%COMP%]   .total-count[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;background:linear-gradient(135deg,#f093fb1a,#f5576c1a);border-radius:8px}.progress-summary[_ngcontent-%COMP%]   .total-count[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;color:var(--text-secondary)}.progress-summary[_ngcontent-%COMP%]   .total-count[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:var(--text-primary)}.progress-bars[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.progress-item[_ngcontent-%COMP%]   .progress-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.progress-item[_ngcontent-%COMP%]   .progress-header[_ngcontent-%COMP%]   .status-label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--text-primary)}.progress-item[_ngcontent-%COMP%]   .progress-header[_ngcontent-%COMP%]   .status-value[_ngcontent-%COMP%]{font-size:13px;color:var(--text-secondary)}.progress-item[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{width:100%;height:8px;background:#00000014;border-radius:4px;overflow:hidden}.progress-item[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:100%;transition:width .3s ease;border-radius:4px}.progress-item.receive[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#90caf9,#64b5f6)}.progress-item.progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#fff59d,#fdd835)}.progress-item.complete[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#a5d6a7,#66bb6a)}.dark-theme[_nghost-%COMP%]   .progress-bar-container[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{background:#ffffff1a}"]})};var Ul=(t,e)=>e.id;function Ll(t,e){t&1&&(p(0,"div",3)(1,"mat-icon"),g(2,"hourglass_empty"),d(),p(3,"p"),g(4,"\uB370\uC774\uD130\uB97C \uBD88\uB7EC\uC624\uB294 \uC911..."),d()())}function Yl(t,e){if(t&1){let n=Pt();p(0,"div",12),rt("click",function(){let o=Mt(n).$implicit,i=F(2);return wt(i.onNovelClick(o))}),p(1,"mat-icon"),g(2,"description"),d(),p(3,"div",13)(4,"div",14),g(5),d(),p(6,"div",15),g(7),d()(),p(8,"mat-icon",16),g(9,"chevron_right"),d()()}if(t&2){let n=e.$implicit,r=F(2);x(5),D(n.title),x(2),X("",r.formatNumber(n.characters)," \uC790")}}function Hl(t,e){if(t&1&&(p(0,"div",4)(1,"div",5)(2,"mat-icon"),g(3,"folder"),d(),p(4,"div",6)(5,"span",7),g(6,"\uC804\uCCB4 \uC18C\uC124"),d(),p(7,"span",8),g(8),d()()(),p(9,"div",5)(10,"mat-icon"),g(11,"text_fields"),d(),p(12,"div",6)(13,"span",7),g(14,"\uCD1D \uAE00\uC790\uC218"),d(),p(15,"span",8),g(16),d()()()(),p(17,"div",9)(18,"h3"),g(19,"\uCD5C\uADFC \uC791\uC5C5"),d(),p(20,"div",10),Lt(21,Yl,10,2,"div",11,Ul),d()()),t&2){let n=F();x(8),D(n.stats.totalNovels),x(8),D(n.formatNumber(n.stats.totalCharacters)),x(5),Yt(n.stats.recentNovels)}}var Hn=class t extends yt{dashboardVM=st(nt);stats=null;ngOnInit(){console.log("\uC18C\uC124 \uD1B5\uACC4 \uC704\uC82F - \uB4E4\uC5B4\uC628 \uB370\uC774\uD130:",this.data),this.dashboardVM.novelStats$.pipe(bt(this.destroy$)).subscribe(e=>{this.stats=e})}formatNumber(e){return e.toLocaleString("ko-KR")}onNovelClick(e){this.output.emit({type:"novel-click",data:e})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Tt(t)))(r||t)}})();static \u0275cmp=et({type:t,selectors:[["app-novel-stats"]],standalone:!1,features:[Et],decls:9,vars:2,consts:[[1,"widget-card"],[1,"widget-toolbar"],[1,"widget-content"],[1,"empty-state"],[1,"stats-summary"],[1,"stat-item"],[1,"stat-info"],[1,"stat-label"],[1,"stat-value"],[1,"recent-novels"],[1,"novel-list"],[1,"novel-item"],[1,"novel-item",3,"click"],[1,"novel-info"],[1,"novel-title"],[1,"novel-characters"],[1,"arrow-icon"]],template:function(n,r){n&1&&(p(0,"mat-card",0)(1,"mat-toolbar",1)(2,"mat-icon"),g(3,"menu_book"),d(),p(4,"span"),g(5),d()(),p(6,"div",2),Zt(7,Ll,5,0,"div",3)(8,Hl,23,2),d()()),n&2&&(x(5),D((r.data==null?null:r.data.title)||"\uC18C\uC124 \uD1B5\uACC4"),x(2),Kt(r.stats?8:7))},dependencies:[At,lt,It],styles:[".widget-card[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.widget-toolbar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe);color:#fff;display:flex;align-items:center;gap:8px;padding:12px 16px;font-size:16px;font-weight:500}.widget-toolbar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.widget-content[_ngcontent-%COMP%]{flex:1;padding:16px;overflow-y:auto}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;color:#9e9e9e}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.stats-summary[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;margin-bottom:24px}.stats-summary[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;background:linear-gradient(135deg,#4facfe1a,#00f2fe1a);border-radius:8px}.stats-summary[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;color:#4facfe}.stats-summary[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.stats-summary[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary)}.stats-summary[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:var(--text-primary)}.recent-novels[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--text-secondary);margin:0 0 12px}.recent-novels[_ngcontent-%COMP%]   .novel-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.recent-novels[_ngcontent-%COMP%]   .novel-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;background:#4facfe0d;border-radius:8px;cursor:pointer;transition:all .2s ease}.recent-novels[_ngcontent-%COMP%]   .novel-item[_ngcontent-%COMP%]:hover{background:#4facfe1a;transform:translate(4px)}.recent-novels[_ngcontent-%COMP%]   .novel-item[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]:first-child{font-size:24px;width:24px;height:24px;color:#4facfe}.recent-novels[_ngcontent-%COMP%]   .novel-item[_ngcontent-%COMP%]   .novel-info[_ngcontent-%COMP%]{flex:1;min-width:0}.recent-novels[_ngcontent-%COMP%]   .novel-item[_ngcontent-%COMP%]   .novel-info[_ngcontent-%COMP%]   .novel-title[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--text-primary);margin-bottom:4px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.recent-novels[_ngcontent-%COMP%]   .novel-item[_ngcontent-%COMP%]   .novel-info[_ngcontent-%COMP%]   .novel-characters[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary)}.recent-novels[_ngcontent-%COMP%]   .novel-item[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:var(--text-secondary)}@media (max-width: 768px){.stats-summary[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};function ue(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jr(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fe(t){let e,n,r;t.length!==2?(e=ue,n=(s,c)=>ue(t(s),c),r=(s,c)=>t(s)-c):(e=t===ue||t===Jr?t:ql,n=t,r=t);function o(s,c,l=0,u=s.length){if(l<u){if(e(c,c)!==0)return u;do{let f=l+u>>>1;n(s[f],c)<0?l=f+1:u=f}while(l<u)}return l}function i(s,c,l=0,u=s.length){if(l<u){if(e(c,c)!==0)return u;do{let f=l+u>>>1;n(s[f],c)<=0?l=f+1:u=f}while(l<u)}return l}function a(s,c,l=0,u=s.length){let f=o(s,c,l,u-1);return f>l&&r(s[f-1],c)>-r(s[f],c)?f-1:f}return{left:o,center:a,right:i}}function ql(){return 0}function to(t){return t===null?NaN:+t}var Vi=fe(ue),Ui=Vi.right,Wl=Vi.left,Xl=fe(to).center,eo=Ui;function qn(t,e){let n,r;if(e===void 0)for(let o of t)o!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)));else{let o=-1;for(let i of t)(i=e(i,++o,t))!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}var jl=Math.sqrt(50),Gl=Math.sqrt(10),Ql=Math.sqrt(2);function Wn(t,e,n){let r=(e-t)/Math.max(0,n),o=Math.floor(Math.log10(r)),i=r/Math.pow(10,o),a=i>=jl?10:i>=Gl?5:i>=Ql?2:1,s,c,l;return o<0?(l=Math.pow(10,-o)/a,s=Math.round(t*l),c=Math.round(e*l),s/l<t&&++s,c/l>e&&--c,l=-l):(l=Math.pow(10,o)*a,s=Math.round(t/l),c=Math.round(e/l),s*l<t&&++s,c*l>e&&--c),c<s&&.5<=n&&n<2?Wn(t,e,n*2):[s,c,l]}function Xn(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];let r=e<t,[o,i,a]=r?Wn(e,t,n):Wn(t,e,n);if(!(i>=o))return[];let s=i-o+1,c=new Array(s);if(r)if(a<0)for(let l=0;l<s;++l)c[l]=(i-l)/-a;else for(let l=0;l<s;++l)c[l]=(i-l)*a;else if(a<0)for(let l=0;l<s;++l)c[l]=(o+l)/-a;else for(let l=0;l<s;++l)c[l]=(o+l)*a;return c}function on(t,e,n){return e=+e,t=+t,n=+n,Wn(t,e,n)[2]}function Fe(t,e,n){e=+e,t=+t,n=+n;let r=e<t,o=r?on(e,t,n):on(t,e,n);return(r?-1:1)*(o<0?1/-o:o)}function jn(t,e){let n;if(e===void 0)for(let r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let o of t)(o=e(o,++r,t))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function Li(t){return t}var no=1,ro=2,oo=3,an=4,Yi=1e-6;function Zl(t){return"translate("+t+",0)"}function Kl(t){return"translate(0,"+t+")"}function Jl(t){return e=>+t(e)}function tc(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function ec(){return!this.__axis}function Hi(t,e){var n=[],r=null,o=null,i=6,a=6,s=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=t===no||t===an?-1:1,u=t===an||t===ro?"x":"y",f=t===no||t===oo?Zl:Kl;function m(h){var y=r??(e.ticks?e.ticks.apply(e,n):e.domain()),M=o??(e.tickFormat?e.tickFormat.apply(e,n):Li),k=Math.max(i,0)+s,O=e.range(),E=+O[0]+c,P=+O[O.length-1]+c,S=(e.bandwidth?tc:Jl)(e.copy(),c),T=h.selection?h.selection():h,C=T.selectAll(".domain").data([null]),R=T.selectAll(".tick").data(y,e).order(),W=R.exit(),Q=R.enter().append("g").attr("class","tick"),H=R.select("line"),w=R.select("text");C=C.merge(C.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),R=R.merge(Q),H=H.merge(Q.append("line").attr("stroke","currentColor").attr(u+"2",l*i)),w=w.merge(Q.append("text").attr("fill","currentColor").attr(u,l*k).attr("dy",t===no?"0em":t===oo?"0.71em":"0.32em")),h!==T&&(C=C.transition(h),R=R.transition(h),H=H.transition(h),w=w.transition(h),W=W.transition(h).attr("opacity",Yi).attr("transform",function($){return isFinite($=S($))?f($+c):this.getAttribute("transform")}),Q.attr("opacity",Yi).attr("transform",function($){var b=this.parentNode.__axis;return f((b&&isFinite(b=b($))?b:S($))+c)})),W.remove(),C.attr("d",t===an||t===ro?a?"M"+l*a+","+E+"H"+c+"V"+P+"H"+l*a:"M"+c+","+E+"V"+P:a?"M"+E+","+l*a+"V"+c+"H"+P+"V"+l*a:"M"+E+","+c+"H"+P),R.attr("opacity",1).attr("transform",function($){return f(S($)+c)}),H.attr(u+"2",l*i),w.attr(u,l*k).text(M),T.filter(ec).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===ro?"start":t===an?"end":"middle"),T.each(function(){this.__axis=S})}return m.scale=function(h){return arguments.length?(e=h,m):e},m.ticks=function(){return n=Array.from(arguments),m},m.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),m):n.slice()},m.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),m):r&&r.slice()},m.tickFormat=function(h){return arguments.length?(o=h,m):o},m.tickSize=function(h){return arguments.length?(i=a=+h,m):i},m.tickSizeInner=function(h){return arguments.length?(i=+h,m):i},m.tickSizeOuter=function(h){return arguments.length?(a=+h,m):a},m.tickPadding=function(h){return arguments.length?(s=+h,m):s},m.offset=function(h){return arguments.length?(c=+h,m):c},m}function io(t){return Hi(oo,t)}function ao(t){return Hi(an,t)}var nc={value:()=>{}};function Wi(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Gn(n)}function Gn(t){this._=t}function rc(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Gn.prototype=Wi.prototype={constructor:Gn,on:function(t,e){var n=this._,r=rc(t+"",n),o,i=-1,a=r.length;if(arguments.length<2){for(;++i<a;)if((o=(t=r[i]).type)&&(o=oc(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<a;)if(o=(t=r[i]).type)n[o]=qi(n[o],t.name,e);else if(e==null)for(o in n)n[o]=qi(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Gn(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};function oc(t,e){for(var n=0,r=t.length,o;n<r;++n)if((o=t[n]).name===e)return o.value}function qi(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=nc,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var so=Wi;var Qn="http://www.w3.org/1999/xhtml",lo={svg:"http://www.w3.org/2000/svg",xhtml:Qn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function qt(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),lo.hasOwnProperty(e)?{space:lo[e],local:t}:t}function ic(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Qn&&e.documentElement.namespaceURI===Qn?e.createElement(t):e.createElementNS(n,t)}}function ac(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Zn(t){var e=qt(t);return(e.local?ac:ic)(e)}function sc(){}function me(t){return t==null?sc:function(){return this.querySelector(t)}}function Xi(t){typeof t!="function"&&(t=me(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i=e[o],a=i.length,s=r[o]=new Array(a),c,l,u=0;u<a;++u)(c=i[u])&&(l=t.call(c,c.__data__,u,i))&&("__data__"in c&&(l.__data__=c.__data__),s[u]=l);return new Y(r,this._parents)}function co(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function lc(){return[]}function sn(t){return t==null?lc:function(){return this.querySelectorAll(t)}}function cc(t){return function(){return co(t.apply(this,arguments))}}function ji(t){typeof t=="function"?t=cc(t):t=sn(t);for(var e=this._groups,n=e.length,r=[],o=[],i=0;i<n;++i)for(var a=e[i],s=a.length,c,l=0;l<s;++l)(c=a[l])&&(r.push(t.call(c,c.__data__,l,a)),o.push(c));return new Y(r,o)}function ln(t){return function(){return this.matches(t)}}function Kn(t){return function(e){return e.matches(t)}}var uc=Array.prototype.find;function fc(t){return function(){return uc.call(this.children,t)}}function mc(){return this.firstElementChild}function Gi(t){return this.select(t==null?mc:fc(typeof t=="function"?t:Kn(t)))}var pc=Array.prototype.filter;function dc(){return Array.from(this.children)}function hc(t){return function(){return pc.call(this.children,t)}}function Qi(t){return this.selectAll(t==null?dc:hc(typeof t=="function"?t:Kn(t)))}function Zi(t){typeof t!="function"&&(t=ln(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i=e[o],a=i.length,s=r[o]=[],c,l=0;l<a;++l)(c=i[l])&&t.call(c,c.__data__,l,i)&&s.push(c);return new Y(r,this._parents)}function Jn(t){return new Array(t.length)}function Ki(){return new Y(this._enter||this._groups.map(Jn),this._parents)}function cn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}cn.prototype={constructor:cn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ji(t){return function(){return t}}function gc(t,e,n,r,o,i){for(var a=0,s,c=e.length,l=i.length;a<l;++a)(s=e[a])?(s.__data__=i[a],r[a]=s):n[a]=new cn(t,i[a]);for(;a<c;++a)(s=e[a])&&(o[a]=s)}function xc(t,e,n,r,o,i,a){var s,c,l=new Map,u=e.length,f=i.length,m=new Array(u),h;for(s=0;s<u;++s)(c=e[s])&&(m[s]=h=a.call(c,c.__data__,s,e)+"",l.has(h)?o[s]=c:l.set(h,c));for(s=0;s<f;++s)h=a.call(t,i[s],s,i)+"",(c=l.get(h))?(r[s]=c,c.__data__=i[s],l.delete(h)):n[s]=new cn(t,i[s]);for(s=0;s<u;++s)(c=e[s])&&l.get(m[s])===c&&(o[s]=c)}function _c(t){return t.__data__}function ta(t,e){if(!arguments.length)return Array.from(this,_c);var n=e?xc:gc,r=this._parents,o=this._groups;typeof t!="function"&&(t=Ji(t));for(var i=o.length,a=new Array(i),s=new Array(i),c=new Array(i),l=0;l<i;++l){var u=r[l],f=o[l],m=f.length,h=yc(t.call(u,u&&u.__data__,l,r)),y=h.length,M=s[l]=new Array(y),k=a[l]=new Array(y),O=c[l]=new Array(m);n(u,f,M,k,O,h,e);for(var E=0,P=0,S,T;E<y;++E)if(S=M[E]){for(E>=P&&(P=E+1);!(T=k[P])&&++P<y;);S._next=T||null}}return a=new Y(a,r),a._enter=s,a._exit=c,a}function yc(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ea(){return new Y(this._exit||this._groups.map(Jn),this._parents)}function na(t,e,n){var r=this.enter(),o=this,i=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function ra(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,o=n.length,i=r.length,a=Math.min(o,i),s=new Array(o),c=0;c<a;++c)for(var l=n[c],u=r[c],f=l.length,m=s[c]=new Array(f),h,y=0;y<f;++y)(h=l[y]||u[y])&&(m[y]=h);for(;c<o;++c)s[c]=n[c];return new Y(s,this._parents)}function oa(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],o=r.length-1,i=r[o],a;--o>=0;)(a=r[o])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function ia(t){t||(t=vc);function e(f,m){return f&&m?t(f.__data__,m.__data__):!f-!m}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a=n[i],s=a.length,c=o[i]=new Array(s),l,u=0;u<s;++u)(l=a[u])&&(c[u]=l);c.sort(e)}return new Y(o,this._parents).order()}function vc(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function aa(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function sa(){return Array.from(this)}function la(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null}function ca(){let t=0;for(let e of this)++t;return t}function ua(){return!this.node()}function fa(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o=e[n],i=0,a=o.length,s;i<a;++i)(s=o[i])&&t.call(s,s.__data__,i,o);return this}function Cc(t){return function(){this.removeAttribute(t)}}function bc(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Mc(t,e){return function(){this.setAttribute(t,e)}}function wc(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Pc(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Oc(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ma(t,e){var n=qt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?bc:Cc:typeof e=="function"?n.local?Oc:Pc:n.local?wc:Mc)(n,e))}function tr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Sc(t){return function(){this.style.removeProperty(t)}}function Dc(t,e,n){return function(){this.style.setProperty(t,e,n)}}function kc(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function pa(t,e,n){return arguments.length>1?this.each((e==null?Sc:typeof e=="function"?kc:Dc)(t,e,n??"")):te(this.node(),t)}function te(t,e){return t.style.getPropertyValue(e)||tr(t).getComputedStyle(t,null).getPropertyValue(e)}function Tc(t){return function(){delete this[t]}}function Ec(t,e){return function(){this[t]=e}}function Ic(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function da(t,e){return arguments.length>1?this.each((e==null?Tc:typeof e=="function"?Ic:Ec)(t,e)):this.node()[t]}function ha(t){return t.trim().split(/^|\s+/)}function uo(t){return t.classList||new ga(t)}function ga(t){this._node=t,this._names=ha(t.getAttribute("class")||"")}ga.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function xa(t,e){for(var n=uo(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function _a(t,e){for(var n=uo(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function Ac(t){return function(){xa(this,t)}}function Fc(t){return function(){_a(this,t)}}function Nc(t,e){return function(){(e.apply(this,arguments)?xa:_a)(this,t)}}function ya(t,e){var n=ha(t+"");if(arguments.length<2){for(var r=uo(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?Nc:e?Ac:Fc)(n,e))}function Rc(){this.textContent=""}function zc(t){return function(){this.textContent=t}}function Bc(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function va(t){return arguments.length?this.each(t==null?Rc:(typeof t=="function"?Bc:zc)(t)):this.node().textContent}function $c(){this.innerHTML=""}function Vc(t){return function(){this.innerHTML=t}}function Uc(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Ca(t){return arguments.length?this.each(t==null?$c:(typeof t=="function"?Uc:Vc)(t)):this.node().innerHTML}function Lc(){this.nextSibling&&this.parentNode.appendChild(this)}function ba(){return this.each(Lc)}function Yc(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ma(){return this.each(Yc)}function wa(t){var e=typeof t=="function"?t:Zn(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Hc(){return null}function Pa(t,e){var n=typeof t=="function"?t:Zn(t),r=e==null?Hc:typeof e=="function"?e:me(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function qc(){var t=this.parentNode;t&&t.removeChild(this)}function Oa(){return this.each(qc)}function Wc(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Xc(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Sa(t){return this.select(t?Xc:Wc)}function Da(t){return arguments.length?this.property("__data__",t):this.node().__data__}function jc(t){return function(e){t.call(this,e,this.__data__)}}function Gc(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Qc(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,o=e.length,i;n<o;++n)i=e[n],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++r]=i;++r?e.length=r:delete this.__on}}}function Zc(t,e,n){return function(){var r=this.__on,o,i=jc(e);if(r){for(var a=0,s=r.length;a<s;++a)if((o=r[a]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=e;return}}this.addEventListener(t.type,i,n),o={type:t.type,name:t.name,value:e,listener:i,options:n},r?r.push(o):this.__on=[o]}}function ka(t,e,n){var r=Gc(t+""),o,i=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,l=s.length,u;c<l;++c)for(o=0,u=s[c];o<i;++o)if((a=r[o]).type===u.type&&a.name===u.name)return u.value}return}for(s=e?Zc:Qc,o=0;o<i;++o)this.each(s(r[o],e,n));return this}function Ta(t,e,n){var r=tr(t),o=r.CustomEvent;typeof o=="function"?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Kc(t,e){return function(){return Ta(this,t,e)}}function Jc(t,e){return function(){return Ta(this,t,e.apply(this,arguments))}}function Ea(t,e){return this.each((typeof e=="function"?Jc:Kc)(t,e))}function*Ia(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length,a;o<i;++o)(a=r[o])&&(yield a)}var fo=[null];function Y(t,e){this._groups=t,this._parents=e}function Aa(){return new Y([[document.documentElement]],fo)}function tu(){return this}Y.prototype=Aa.prototype={constructor:Y,select:Xi,selectAll:ji,selectChild:Gi,selectChildren:Qi,filter:Zi,data:ta,enter:Ki,exit:ea,join:na,merge:ra,selection:tu,order:oa,sort:ia,call:aa,nodes:sa,node:la,size:ca,empty:ua,each:fa,attr:ma,style:pa,property:da,classed:ya,text:va,html:Ca,raise:ba,lower:Ma,append:wa,insert:Pa,remove:Oa,clone:Sa,datum:Da,on:ka,dispatch:Ea,[Symbol.iterator]:Ia};var Wt=Aa;function Nt(t){return typeof t=="string"?new Y([[document.querySelector(t)]],[document.documentElement]):new Y([[t]],fo)}function er(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function mo(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function mn(){}var un=.7,or=1/un,Ne="\\s*([+-]?\\d+)\\s*",fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eu=/^#([0-9a-f]{3,8})$/,nu=new RegExp(`^rgb\\(${Ne},${Ne},${Ne}\\)$`),ru=new RegExp(`^rgb\\(${Rt},${Rt},${Rt}\\)$`),ou=new RegExp(`^rgba\\(${Ne},${Ne},${Ne},${fn}\\)$`),iu=new RegExp(`^rgba\\(${Rt},${Rt},${Rt},${fn}\\)$`),au=new RegExp(`^hsl\\(${fn},${Rt},${Rt}\\)$`),su=new RegExp(`^hsla\\(${fn},${Rt},${Rt},${fn}\\)$`),Fa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};er(mn,St,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Na,formatHex:Na,formatHex8:lu,formatHsl:cu,formatRgb:Ra,toString:Ra});function Na(){return this.rgb().formatHex()}function lu(){return this.rgb().formatHex8()}function cu(){return La(this).formatHsl()}function Ra(){return this.rgb().formatRgb()}function St(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=eu.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?za(e):n===3?new ut(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?nr(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?nr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=nu.exec(t))?new ut(e[1],e[2],e[3],1):(e=ru.exec(t))?new ut(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ou.exec(t))?nr(e[1],e[2],e[3],e[4]):(e=iu.exec(t))?nr(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=au.exec(t))?Va(e[1],e[2]/100,e[3]/100,1):(e=su.exec(t))?Va(e[1],e[2]/100,e[3]/100,e[4]):Fa.hasOwnProperty(t)?za(Fa[t]):t==="transparent"?new ut(NaN,NaN,NaN,0):null}function za(t){return new ut(t>>16&255,t>>8&255,t&255,1)}function nr(t,e,n,r){return r<=0&&(t=e=n=NaN),new ut(t,e,n,r)}function uu(t){return t instanceof mn||(t=St(t)),t?(t=t.rgb(),new ut(t.r,t.g,t.b,t.opacity)):new ut}function Re(t,e,n,r){return arguments.length===1?uu(t):new ut(t,e,n,r??1)}function ut(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}er(ut,Re,mo(mn,{brighter(t){return t=t==null?or:Math.pow(or,t),new ut(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?un:Math.pow(un,t),new ut(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ut(de(this.r),de(this.g),de(this.b),ir(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ba,formatHex:Ba,formatHex8:fu,formatRgb:$a,toString:$a}));function Ba(){return`#${pe(this.r)}${pe(this.g)}${pe(this.b)}`}function fu(){return`#${pe(this.r)}${pe(this.g)}${pe(this.b)}${pe((isNaN(this.opacity)?1:this.opacity)*255)}`}function $a(){let t=ir(this.opacity);return`${t===1?"rgb(":"rgba("}${de(this.r)}, ${de(this.g)}, ${de(this.b)}${t===1?")":`, ${t})`}`}function ir(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function de(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function pe(t){return t=de(t),(t<16?"0":"")+t.toString(16)}function Va(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ot(t,e,n,r)}function La(t){if(t instanceof Ot)return new Ot(t.h,t.s,t.l,t.opacity);if(t instanceof mn||(t=St(t)),!t)return new Ot;if(t instanceof Ot)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,s=i-o,c=(i+o)/2;return s?(e===i?a=(n-r)/s+(n<r)*6:n===i?a=(r-e)/s+2:a=(e-n)/s+4,s/=c<.5?i+o:2-i-o,a*=60):s=c>0&&c<1?0:a,new Ot(a,s,c,t.opacity)}function Ya(t,e,n,r){return arguments.length===1?La(t):new Ot(t,e,n,r??1)}function Ot(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}er(Ot,Ya,mo(mn,{brighter(t){return t=t==null?or:Math.pow(or,t),new Ot(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?un:Math.pow(un,t),new Ot(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new ut(po(t>=240?t-240:t+120,o,r),po(t,o,r),po(t<120?t+240:t-120,o,r),this.opacity)},clamp(){return new Ot(Ua(this.h),rr(this.s),rr(this.l),ir(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=ir(this.opacity);return`${t===1?"hsl(":"hsla("}${Ua(this.h)}, ${rr(this.s)*100}%, ${rr(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ua(t){return t=(t||0)%360,t<0?t+360:t}function rr(t){return Math.max(0,Math.min(1,t||0))}function po(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function ho(t,e,n,r,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*n+(1+3*t+3*i-3*a)*r+a*o)/6}function Ha(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],i=t[r+1],a=r>0?t[r-1]:2*o-i,s=r<e-1?t[r+2]:2*i-o;return ho((n-r/e)*e,a,o,i,s)}}function qa(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],i=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return ho((n-r/e)*e,o,i,a,s)}}var pn=t=>()=>t;function mu(t,e){return function(n){return t+n*e}}function pu(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Wa(t){return(t=+t)==1?ar:function(e,n){return n-e?pu(e,n,t):pn(isNaN(e)?n:e)}}function ar(t,e){var n=e-t;return n?mu(t,n):pn(isNaN(t)?e:t)}var he=(function t(e){var n=Wa(e);function r(o,i){var a=n((o=Re(o)).r,(i=Re(i)).r),s=n(o.g,i.g),c=n(o.b,i.b),l=ar(o.opacity,i.opacity);return function(u){return o.r=a(u),o.g=s(u),o.b=c(u),o.opacity=l(u),o+""}}return r.gamma=t,r})(1);function Xa(t){return function(e){var n=e.length,r=new Array(n),o=new Array(n),i=new Array(n),a,s;for(a=0;a<n;++a)s=Re(e[a]),r[a]=s.r||0,o[a]=s.g||0,i[a]=s.b||0;return r=t(r),o=t(o),i=t(i),s.opacity=1,function(c){return s.r=r(c),s.g=o(c),s.b=i(c),s+""}}}var du=Xa(Ha),hu=Xa(qa);function ja(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=t[o]*(1-i)+e[o]*i;return r}}function Ga(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Qa(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,o=new Array(r),i=new Array(n),a;for(a=0;a<r;++a)o[a]=zt(t[a],e[a]);for(;a<n;++a)i[a]=e[a];return function(s){for(a=0;a<r;++a)i[a]=o[a](s);return i}}function Za(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Z(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ka(t,e){var n={},r={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?n[o]=zt(t[o],e[o]):r[o]=e[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var xo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,go=new RegExp(xo.source,"g");function gu(t){return function(){return t}}function xu(t){return function(e){return t(e)+""}}function dn(t,e){var n=xo.lastIndex=go.lastIndex=0,r,o,i,a=-1,s=[],c=[];for(t=t+"",e=e+"";(r=xo.exec(t))&&(o=go.exec(e));)(i=o.index)>n&&(i=e.slice(n,i),s[a]?s[a]+=i:s[++a]=i),(r=r[0])===(o=o[0])?s[a]?s[a]+=o:s[++a]=o:(s[++a]=null,c.push({i:a,x:Z(r,o)})),n=go.lastIndex;return n<e.length&&(i=e.slice(n),s[a]?s[a]+=i:s[++a]=i),s.length<2?c[0]?xu(c[0].x):gu(e):(e=c.length,function(l){for(var u=0,f;u<e;++u)s[(f=c[u]).i]=f.x(l);return s.join("")})}function zt(t,e){var n=typeof e,r;return e==null||n==="boolean"?pn(e):(n==="number"?Z:n==="string"?(r=St(e))?(e=r,he):dn:e instanceof St?he:e instanceof Date?Za:Ga(e)?ja:Array.isArray(e)?Qa:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ka:Z)(t,e)}function _o(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Ja=180/Math.PI,sr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function yo(t,e,n,r,o,i){var a,s,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*Ja,skewX:Math.atan(c)*Ja,scaleX:a,scaleY:s}}var lr;function ts(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?sr:yo(e.a,e.b,e.c,e.d,e.e,e.f)}function es(t){return t==null?sr:(lr||(lr=document.createElementNS("http://www.w3.org/2000/svg","g")),lr.setAttribute("transform",t),(t=lr.transform.baseVal.consolidate())?(t=t.matrix,yo(t.a,t.b,t.c,t.d,t.e,t.f)):sr)}function ns(t,e,n,r){function o(l){return l.length?l.pop()+" ":""}function i(l,u,f,m,h,y){if(l!==f||u!==m){var M=h.push("translate(",null,e,null,n);y.push({i:M-4,x:Z(l,f)},{i:M-2,x:Z(u,m)})}else(f||m)&&h.push("translate("+f+e+m+n)}function a(l,u,f,m){l!==u?(l-u>180?u+=360:u-l>180&&(l+=360),m.push({i:f.push(o(f)+"rotate(",null,r)-2,x:Z(l,u)})):u&&f.push(o(f)+"rotate("+u+r)}function s(l,u,f,m){l!==u?m.push({i:f.push(o(f)+"skewX(",null,r)-2,x:Z(l,u)}):u&&f.push(o(f)+"skewX("+u+r)}function c(l,u,f,m,h,y){if(l!==f||u!==m){var M=h.push(o(h)+"scale(",null,",",null,")");y.push({i:M-4,x:Z(l,f)},{i:M-2,x:Z(u,m)})}else(f!==1||m!==1)&&h.push(o(h)+"scale("+f+","+m+")")}return function(l,u){var f=[],m=[];return l=t(l),u=t(u),i(l.translateX,l.translateY,u.translateX,u.translateY,f,m),a(l.rotate,u.rotate,f,m),s(l.skewX,u.skewX,f,m),c(l.scaleX,l.scaleY,u.scaleX,u.scaleY,f,m),l=u=null,function(h){for(var y=-1,M=m.length,k;++y<M;)f[(k=m[y]).i]=k.x(h);return f.join("")}}}var vo=ns(ts,"px, ","px)","deg)"),Co=ns(es,", ",")",")");var ze=0,gn=0,hn=0,os=1e3,cr,xn,ur=0,ge=0,fr=0,_n=typeof performance=="object"&&performance.now?performance:Date,is=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function vn(){return ge||(is(_u),ge=_n.now()+fr)}function _u(){ge=0}function yn(){this._call=this._time=this._next=null}yn.prototype=mr.prototype={constructor:yn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?vn():+n)+(e==null?0:+e),!this._next&&xn!==this&&(xn?xn._next=this:cr=this,xn=this),this._call=t,this._time=n,bo()},stop:function(){this._call&&(this._call=null,this._time=1/0,bo())}};function mr(t,e,n){var r=new yn;return r.restart(t,e,n),r}function as(){vn(),++ze;for(var t=cr,e;t;)(e=ge-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ze}function rs(){ge=(ur=_n.now())+fr,ze=gn=0;try{as()}finally{ze=0,vu(),ge=0}}function yu(){var t=_n.now(),e=t-ur;e>os&&(fr-=e,ur=t)}function vu(){for(var t,e=cr,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:cr=n);xn=t,bo(r)}function bo(t){if(!ze){gn&&(gn=clearTimeout(gn));var e=t-ge;e>24?(t<1/0&&(gn=setTimeout(rs,t-_n.now()-fr)),hn&&(hn=clearInterval(hn))):(hn||(ur=_n.now(),hn=setInterval(yu,os)),ze=1,is(rs))}}function pr(t,e,n){var r=new yn;return e=e==null?0:+e,r.restart(o=>{r.stop(),t(o+e)},e,n),r}var Cu=so("start","end","cancel","interrupt"),bu=[],cs=0,ss=1,hr=2,dr=3,ls=4,gr=5,Cn=6;function ee(t,e,n,r,o,i){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;Mu(t,n,{name:e,index:r,group:o,on:Cu,tween:bu,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:cs})}function bn(t,e){var n=j(t,e);if(n.state>cs)throw new Error("too late; already scheduled");return n}function K(t,e){var n=j(t,e);if(n.state>dr)throw new Error("too late; already running");return n}function j(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Mu(t,e,n){var r=t.__transition,o;r[e]=n,n.timer=mr(i,0,n.time);function i(l){n.state=ss,n.timer.restart(a,n.delay,n.time),n.delay<=l&&a(l-n.delay)}function a(l){var u,f,m,h;if(n.state!==ss)return c();for(u in r)if(h=r[u],h.name===n.name){if(h.state===dr)return pr(a);h.state===ls?(h.state=Cn,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[u]):+u<e&&(h.state=Cn,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[u])}if(pr(function(){n.state===dr&&(n.state=ls,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=hr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===hr){for(n.state=dr,o=new Array(m=n.tween.length),u=0,f=-1;u<m;++u)(h=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(o[++f]=h);o.length=f+1}}function s(l){for(var u=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(c),n.state=gr,1),f=-1,m=o.length;++f<m;)o[f].call(t,u);n.state===gr&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=Cn,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function xr(t,e){var n=t.__transition,r,o,i=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){i=!1;continue}o=r.state>hr&&r.state<gr,r.state=Cn,r.timer.stop(),r.on.call(o?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}i&&delete t.__transition}}function us(t){return this.each(function(){xr(this,t)})}function wu(t,e){var n,r;return function(){var o=K(this,t),i=o.tween;if(i!==n){r=n=i;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}o.tween=r}}function Pu(t,e,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=K(this,t),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:e,value:n},c=0,l=o.length;c<l;++c)if(o[c].name===e){o[c]=s;break}c===l&&o.push(s)}i.tween=o}}function fs(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=j(this.node(),n).tween,o=0,i=r.length,a;o<i;++o)if((a=r[o]).name===t)return a.value;return null}return this.each((e==null?wu:Pu)(n,t,e))}function Be(t,e,n){var r=t._id;return t.each(function(){var o=K(this,r);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return j(o,r).value[e]}}function _r(t,e){var n;return(typeof e=="number"?Z:e instanceof St?he:(n=St(e))?(e=n,he):dn)(t,e)}function Ou(t){return function(){this.removeAttribute(t)}}function Su(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Du(t,e,n){var r,o=n+"",i;return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function ku(t,e,n){var r,o=n+"",i;return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function Tu(t,e,n){var r,o,i;return function(){var a,s=n(this),c;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),c=s+"",a===c?null:a===r&&c===o?i:(o=c,i=e(r=a,s)))}}function Eu(t,e,n){var r,o,i;return function(){var a,s=n(this),c;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),c=s+"",a===c?null:a===r&&c===o?i:(o=c,i=e(r=a,s)))}}function ms(t,e){var n=qt(t),r=n==="transform"?Co:_r;return this.attrTween(t,typeof e=="function"?(n.local?Eu:Tu)(n,r,Be(this,"attr."+t,e)):e==null?(n.local?Su:Ou)(n):(n.local?ku:Du)(n,r,e))}function Iu(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Au(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Fu(t,e){var n,r;function o(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Au(t,i)),n}return o._value=e,o}function Nu(t,e){var n,r;function o(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Iu(t,i)),n}return o._value=e,o}function ps(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=qt(t);return this.tween(n,(r.local?Fu:Nu)(r,e))}function Ru(t,e){return function(){bn(this,t).delay=+e.apply(this,arguments)}}function zu(t,e){return e=+e,function(){bn(this,t).delay=e}}function ds(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ru:zu)(e,t)):j(this.node(),e).delay}function Bu(t,e){return function(){K(this,t).duration=+e.apply(this,arguments)}}function $u(t,e){return e=+e,function(){K(this,t).duration=e}}function hs(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Bu:$u)(e,t)):j(this.node(),e).duration}function Vu(t,e){if(typeof e!="function")throw new Error;return function(){K(this,t).ease=e}}function gs(t){var e=this._id;return arguments.length?this.each(Vu(e,t)):j(this.node(),e).ease}function Uu(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;K(this,t).ease=n}}function xs(t){if(typeof t!="function")throw new Error;return this.each(Uu(this._id,t))}function _s(t){typeof t!="function"&&(t=ln(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i=e[o],a=i.length,s=r[o]=[],c,l=0;l<a;++l)(c=i[l])&&t.call(c,c.__data__,l,i)&&s.push(c);return new ot(r,this._parents,this._name,this._id)}function ys(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var c=e[s],l=n[s],u=c.length,f=a[s]=new Array(u),m,h=0;h<u;++h)(m=c[h]||l[h])&&(f[h]=m);for(;s<r;++s)a[s]=e[s];return new ot(a,this._parents,this._name,this._id)}function Lu(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Yu(t,e,n){var r,o,i=Lu(e)?bn:K;return function(){var a=i(this,t),s=a.on;s!==r&&(o=(r=s).copy()).on(e,n),a.on=o}}function vs(t,e){var n=this._id;return arguments.length<2?j(this.node(),n).on.on(t):this.each(Yu(n,t,e))}function Hu(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Cs(){return this.on("end.remove",Hu(this._id))}function bs(t){var e=this._name,n=this._id;typeof t!="function"&&(t=me(t));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s=r[a],c=s.length,l=i[a]=new Array(c),u,f,m=0;m<c;++m)(u=s[m])&&(f=t.call(u,u.__data__,m,s))&&("__data__"in u&&(f.__data__=u.__data__),l[m]=f,ee(l[m],e,n,m,l,j(u,n)));return new ot(i,this._parents,e,n)}function Ms(t){var e=this._name,n=this._id;typeof t!="function"&&(t=sn(t));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var c=r[s],l=c.length,u,f=0;f<l;++f)if(u=c[f]){for(var m=t.call(u,u.__data__,f,c),h,y=j(u,n),M=0,k=m.length;M<k;++M)(h=m[M])&&ee(h,e,n,M,m,y);i.push(m),a.push(u)}return new ot(i,a,e,n)}var qu=Wt.prototype.constructor;function ws(){return new qu(this._groups,this._parents)}function Wu(t,e){var n,r,o;return function(){var i=te(this,t),a=(this.style.removeProperty(t),te(this,t));return i===a?null:i===n&&a===r?o:o=e(n=i,r=a)}}function Ps(t){return function(){this.style.removeProperty(t)}}function Xu(t,e,n){var r,o=n+"",i;return function(){var a=te(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}function ju(t,e,n){var r,o,i;return function(){var a=te(this,t),s=n(this),c=s+"";return s==null&&(c=s=(this.style.removeProperty(t),te(this,t))),a===c?null:a===r&&c===o?i:(o=c,i=e(r=a,s))}}function Gu(t,e){var n,r,o,i="style."+e,a="end."+i,s;return function(){var c=K(this,t),l=c.on,u=c.value[i]==null?s||(s=Ps(e)):void 0;(l!==n||o!==u)&&(r=(n=l).copy()).on(a,o=u),c.on=r}}function Os(t,e,n){var r=(t+="")=="transform"?vo:_r;return e==null?this.styleTween(t,Wu(t,r)).on("end.style."+t,Ps(t)):typeof e=="function"?this.styleTween(t,ju(t,r,Be(this,"style."+t,e))).each(Gu(this._id,t)):this.styleTween(t,Xu(t,r,e),n).on("end.style."+t,null)}function Qu(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Zu(t,e,n){var r,o;function i(){var a=e.apply(this,arguments);return a!==o&&(r=(o=a)&&Qu(t,a,n)),r}return i._value=e,i}function Ss(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Zu(t,e,n??""))}function Ku(t){return function(){this.textContent=t}}function Ju(t){return function(){var e=t(this);this.textContent=e??""}}function Ds(t){return this.tween("text",typeof t=="function"?Ju(Be(this,"text",t)):Ku(t==null?"":t+""))}function tf(t){return function(e){this.textContent=t.call(this,e)}}function ef(t){var e,n;function r(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&tf(o)),e}return r._value=t,r}function ks(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,ef(t))}function Ts(){for(var t=this._name,e=this._id,n=yr(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],s=a.length,c,l=0;l<s;++l)if(c=a[l]){var u=j(c,e);ee(c,t,n,l,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new ot(r,this._parents,t,n)}function Es(){var t,e,n=this,r=n._id,o=n.size();return new Promise(function(i,a){var s={value:a},c={value:function(){--o===0&&i()}};n.each(function(){var l=K(this,r),u=l.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(c)),l.on=e}),o===0&&i()})}var nf=0;function ot(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Is(t){return Wt().transition(t)}function yr(){return++nf}var Xt=Wt.prototype;ot.prototype=Is.prototype={constructor:ot,select:bs,selectAll:Ms,selectChild:Xt.selectChild,selectChildren:Xt.selectChildren,filter:_s,merge:ys,selection:ws,transition:Ts,call:Xt.call,nodes:Xt.nodes,node:Xt.node,size:Xt.size,empty:Xt.empty,each:Xt.each,on:vs,attr:ms,attrTween:ps,style:Os,styleTween:Ss,text:Ds,textTween:ks,remove:Cs,tween:fs,delay:ds,duration:hs,ease:gs,easeVarying:xs,end:Es,[Symbol.iterator]:Xt[Symbol.iterator]};function vr(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var rf={time:null,delay:0,duration:250,ease:vr};function of(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function As(t){var e,n;t instanceof ot?(e=t._id,t=t._name):(e=yr(),(n=rf).time=vn(),t=t==null?null:t+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],s=a.length,c,l=0;l<s;++l)(c=a[l])&&ee(c,t,e,l,a,n||of(c,e));return new ot(r,this._parents,t,e)}Wt.prototype.interrupt=us;Wt.prototype.transition=As;var{abs:W1,max:X1,min:j1}=Math;function Fs(t){return[+t[0],+t[1]]}function af(t){return[Fs(t[0]),Fs(t[1])]}var G1={name:"x",handles:["w","e"].map(Mo),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Q1={name:"y",handles:["n","s"].map(Mo),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Z1={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Mo),input:function(t){return t==null?null:af(t)},output:function(t){return t}};function Mo(t){return{type:t}}var wo=Math.PI,Po=2*wo,xe=1e-6,sf=Po-xe;function Ns(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function lf(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Ns;let n=10**e;return function(r){this._+=r[0];for(let o=1,i=r.length;o<i;++o)this._+=Math.round(arguments[o]*n)/n+r[o]}}var _e=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Ns:lf(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,o){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+o}`}bezierCurveTo(e,n,r,o,i,a){this._append`C${+e},${+n},${+r},${+o},${this._x1=+i},${this._y1=+a}`}arcTo(e,n,r,o,i){if(e=+e,n=+n,r=+r,o=+o,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,s=this._y1,c=r-e,l=o-n,u=a-e,f=s-n,m=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(m>xe)if(!(Math.abs(f*c-l*u)>xe)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-a,y=o-s,M=c*c+l*l,k=h*h+y*y,O=Math.sqrt(M),E=Math.sqrt(m),P=i*Math.tan((wo-Math.acos((M+m-k)/(2*O*E)))/2),S=P/E,T=P/O;Math.abs(S-1)>xe&&this._append`L${e+S*u},${n+S*f}`,this._append`A${i},${i},0,0,${+(f*h>u*y)},${this._x1=e+T*c},${this._y1=n+T*l}`}}arc(e,n,r,o,i,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(o),c=r*Math.sin(o),l=e+s,u=n+c,f=1^a,m=a?o-i:i-o;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>xe||Math.abs(this._y1-u)>xe)&&this._append`L${l},${u}`,r&&(m<0&&(m=m%Po+Po),m>sf?this._append`A${r},${r},0,1,${f},${e-s},${n-c}A${r},${r},0,1,${f},${this._x1=l},${this._y1=u}`:m>xe&&this._append`A${r},${r},0,${+(m>=wo)},${f},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+o}h${-r}Z`}toString(){return this._}};function Rs(){return new _e}Rs.prototype=_e.prototype;function zs(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ye(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Bt(t){return t=ye(Math.abs(t)),t?t[1]:NaN}function Bs(t,e){return function(n,r){for(var o=n.length,i=[],a=0,s=t[0],c=0;o>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),i.push(n.substring(o-=s,o+s)),!((c+=s+1)>r));)s=t[a=(a+1)%t.length];return i.reverse().join(e)}}function $s(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var cf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ne(t){if(!(e=cf.exec(t)))throw new Error("invalid format: "+t);var e;return new Cr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ne.prototype=Cr.prototype;function Cr(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Cr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Vs(t){t:for(var e=t.length,n=1,r=-1,o;n<e;++n)switch(t[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(o+1):t}var Oo;function Us(t,e){var n=ye(t,e);if(!n)return t+"";var r=n[0],o=n[1],i=o-(Oo=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+ye(t,Math.max(0,e+i-1))[0]}function So(t,e){var n=ye(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}var Do={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:zs,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>So(t*100,e),r:So,s:Us,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ko(t){return t}var Ls=Array.prototype.map,Ys=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Hs(t){var e=t.grouping===void 0||t.thousands===void 0?ko:Bs(Ls.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?ko:$s(Ls.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"\u2212":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function l(f){f=ne(f);var m=f.fill,h=f.align,y=f.sign,M=f.symbol,k=f.zero,O=f.width,E=f.comma,P=f.precision,S=f.trim,T=f.type;T==="n"?(E=!0,T="g"):Do[T]||(P===void 0&&(P=12),S=!0,T="g"),(k||m==="0"&&h==="=")&&(k=!0,m="0",h="=");var C=M==="$"?n:M==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",R=M==="$"?r:/[%p]/.test(T)?a:"",W=Do[T],Q=/[defgprs%]/.test(T);P=P===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function H(w){var $=C,b=R,A,xt,vt;if(T==="c")b=W(w)+b,w="";else{w=+w;var ft=w<0||1/w<0;if(w=isNaN(w)?c:W(Math.abs(w),P),S&&(w=Vs(w)),ft&&+w==0&&y!=="+"&&(ft=!1),$=(ft?y==="("?y:s:y==="-"||y==="("?"":y)+$,b=(T==="s"?Ys[8+Oo/3]:"")+b+(ft&&y==="("?")":""),Q){for(A=-1,xt=w.length;++A<xt;)if(vt=w.charCodeAt(A),48>vt||vt>57){b=(vt===46?o+w.slice(A+1):w.slice(A))+b,w=w.slice(0,A);break}}}E&&!k&&(w=e(w,1/0));var mt=$.length+w.length+b.length,tt=mt<O?new Array(O-mt+1).join(m):"";switch(E&&k&&(w=e(tt+w,tt.length?O-b.length:1/0),tt=""),h){case"<":w=$+w+b+tt;break;case"=":w=$+tt+w+b;break;case"^":w=tt.slice(0,mt=tt.length>>1)+$+w+b+tt.slice(mt);break;default:w=tt+$+w+b;break}return i(w)}return H.toString=function(){return f+""},H}function u(f,m){var h=l((f=ne(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Bt(m)/3)))*3,M=Math.pow(10,-y),k=Ys[8+y/3];return function(O){return h(M*O)+k}}return{format:l,formatPrefix:u}}var br,Mr,wr;To({thousands:",",grouping:[3],currency:["$",""]});function To(t){return br=Hs(t),Mr=br.format,wr=br.formatPrefix,br}function Eo(t){return Math.max(0,-Bt(Math.abs(t)))}function Io(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bt(e)/3)))*3-Bt(Math.abs(t)))}function Ao(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Bt(e)-Bt(t))+1}function Pr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Fo(t){return function(){return t}}function No(t){return+t}var qs=[0,1];function $e(t){return t}function Ro(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Fo(isNaN(e)?NaN:.5)}function uf(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function ff(t,e,n){var r=t[0],o=t[1],i=e[0],a=e[1];return o<r?(r=Ro(o,r),i=n(a,i)):(r=Ro(r,o),i=n(i,a)),function(s){return i(r(s))}}function mf(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),i=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)o[a]=Ro(t[a],t[a+1]),i[a]=n(e[a],e[a+1]);return function(s){var c=eo(t,s,1,r)-1;return i[c](o[c](s))}}function Or(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function pf(){var t=qs,e=qs,n=zt,r,o,i,a=$e,s,c,l;function u(){var m=Math.min(t.length,e.length);return a!==$e&&(a=uf(t[0],t[m-1])),s=m>2?mf:ff,c=l=null,f}function f(m){return m==null||isNaN(m=+m)?i:(c||(c=s(t.map(r),e,n)))(r(a(m)))}return f.invert=function(m){return a(o((l||(l=s(e,t.map(r),Z)))(m)))},f.domain=function(m){return arguments.length?(t=Array.from(m,No),u()):t.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),u()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),n=_o,u()},f.clamp=function(m){return arguments.length?(a=m?!0:$e,u()):a!==$e},f.interpolate=function(m){return arguments.length?(n=m,u()):n},f.unknown=function(m){return arguments.length?(i=m,f):i},function(m,h){return r=m,o=h,u()}}function Mn(){return pf()($e,$e)}function zo(t,e,n,r){var o=Fe(t,e,n),i;switch(r=ne(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=Io(o,a))&&(r.precision=i),wr(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Ao(o,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Eo(o))&&(r.precision=i-(r.type==="%")*2);break}}return Mr(r)}function df(t){var e=t.domain;return t.ticks=function(n){var r=e();return Xn(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var o=e();return zo(o[0],o[o.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),o=0,i=r.length-1,a=r[o],s=r[i],c,l,u=10;for(s<a&&(l=a,a=s,s=l,l=o,o=i,i=l);u-- >0;){if(l=on(a,s,n),l===c)return r[o]=a,r[i]=s,e(r);if(l>0)a=Math.floor(a/l)*l,s=Math.ceil(s/l)*l;else if(l<0)a=Math.ceil(a*l)/l,s=Math.floor(s*l)/l;else break;c=l}return t},t}function wn(){var t=Mn();return t.copy=function(){return Or(t,wn())},Pr.apply(t,arguments),df(t)}function Bo(t,e){t=t.slice();var n=0,r=t.length-1,o=t[n],i=t[r],a;return i<o&&(a=n,n=r,r=a,a=o,o=i,i=a),t[n]=e.floor(o),t[r]=e.ceil(i),t}var $o=new Date,Vo=new Date;function U(t,e,n,r){function o(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return o.floor=i=>(t(i=new Date(+i)),i),o.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),o.round=i=>{let a=o(i),s=o.ceil(i);return i-a<s-i?a:s},o.offset=(i,a)=>(e(i=new Date(+i),a==null?1:Math.floor(a)),i),o.range=(i,a,s)=>{let c=[];if(i=o.ceil(i),s=s==null?1:Math.floor(s),!(i<a)||!(s>0))return c;let l;do c.push(l=new Date(+i)),e(i,s),t(i);while(l<i&&i<a);return c},o.filter=i=>U(a=>{if(a>=a)for(;t(a),!i(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!i(a););else for(;--s>=0;)for(;e(a,1),!i(a););}),n&&(o.count=(i,a)=>($o.setTime(+i),Vo.setTime(+a),t($o),t(Vo),Math.floor(n($o,Vo))),o.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?o.filter(r?a=>r(a)%i===0:a=>o.count(0,a)%i===0):o)),o}var Pn=U(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Pn.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?U(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Pn);var py=Pn.range;var $t=U(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*1e3)},(t,e)=>(e-t)/1e3,t=>t.getUTCSeconds()),Ws=$t.range;var Ve=U(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getMinutes()),hf=Ve.range,Sr=U(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getUTCMinutes()),gf=Sr.range;var Ue=U(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3-t.getMinutes()*6e4)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getHours()),xf=Ue.range,Dr=U(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getUTCHours()),_f=Dr.range;var jt=U(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5,t=>t.getDate()-1),yf=jt.range,Sn=U(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>t.getUTCDate()-1),vf=Sn.range,kr=U(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>Math.floor(t/864e5)),Cf=kr.range;function be(t){return U(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5)}var Gt=be(0),Le=be(1),js=be(2),Gs=be(3),re=be(4),Qs=be(5),Zs=be(6),Ks=Gt.range,bf=Le.range,Mf=js.range,wf=Gs.range,Pf=re.range,Of=Qs.range,Sf=Zs.range;function Me(t){return U(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/6048e5)}var we=Me(0),Ye=Me(1),Js=Me(2),tl=Me(3),oe=Me(4),el=Me(5),nl=Me(6),rl=we.range,Df=Ye.range,kf=Js.range,Tf=tl.range,Ef=oe.range,If=el.range,Af=nl.range;var He=U(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth()),Ff=He.range,Tr=U(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()),Nf=Tr.range;var gt=U(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());gt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:U(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});var Rf=gt.range,Dt=U(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Dt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:U(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});var zf=Dt.range;function il(t,e,n,r,o,i){let a=[[$t,1,1e3],[$t,5,5*1e3],[$t,15,15*1e3],[$t,30,30*1e3],[i,1,6e4],[i,5,5*6e4],[i,15,15*6e4],[i,30,30*6e4],[o,1,36e5],[o,3,3*36e5],[o,6,6*36e5],[o,12,12*36e5],[r,1,864e5],[r,2,2*864e5],[n,1,6048e5],[e,1,2592e6],[e,3,3*2592e6],[t,1,31536e6]];function s(l,u,f){let m=u<l;m&&([l,u]=[u,l]);let h=f&&typeof f.range=="function"?f:c(l,u,f),y=h?h.range(l,+u+1):[];return m?y.reverse():y}function c(l,u,f){let m=Math.abs(u-l)/f,h=fe(([,,k])=>k).right(a,m);if(h===a.length)return t.every(Fe(l/31536e6,u/31536e6,f));if(h===0)return Pn.every(Math.max(Fe(l,u,f),1));let[y,M]=a[m/a[h-1][2]<a[h][2]/m?h-1:h];return y.every(M)}return[s,c]}var[$f,Vf]=il(Dt,Tr,we,kr,Dr,Sr),[Uo,Lo]=il(gt,He,Gt,jt,Ue,Ve);function Yo(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ho(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Dn(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function qo(t){var e=t.dateTime,n=t.date,r=t.time,o=t.periods,i=t.days,a=t.shortDays,s=t.months,c=t.shortMonths,l=kn(o),u=Tn(o),f=kn(i),m=Tn(i),h=kn(a),y=Tn(a),M=kn(s),k=Tn(s),O=kn(c),E=Tn(c),P={a:ft,A:mt,b:tt,B:Se,c:null,d:fl,e:fl,f:cm,g:ym,G:Cm,H:am,I:sm,j:lm,L:gl,m:um,M:fm,p:De,q:ke,Q:dl,s:hl,S:mm,u:pm,U:dm,V:hm,w:gm,W:xm,x:null,X:null,y:_m,Y:vm,Z:bm,"%":pl},S={a:Ze,A:Ke,b:Ct,B:Je,c:null,d:ml,e:ml,f:Om,g:Rm,G:Bm,H:Mm,I:wm,j:Pm,L:_l,m:Sm,M:Dm,p:tn,q:en,Q:dl,s:hl,S:km,u:Tm,U:Em,V:Im,w:Am,W:Fm,x:null,X:null,y:Nm,Y:zm,Z:$m,"%":pl},T={a:H,A:w,b:$,B:b,c:A,d:cl,e:cl,f:nm,g:ll,G:sl,H:ul,I:ul,j:Kf,L:em,m:Zf,M:Jf,p:Q,q:Qf,Q:om,s:im,S:tm,u:qf,U:Wf,V:Xf,w:Hf,W:jf,x:xt,X:vt,y:ll,Y:sl,Z:Gf,"%":rm};P.x=C(n,P),P.X=C(r,P),P.c=C(e,P),S.x=C(n,S),S.X=C(r,S),S.c=C(e,S);function C(v,I){return function(z){var _=[],at=-1,L=0,pt=v.length,dt,se,ei;for(z instanceof Date||(z=new Date(+z));++at<pt;)v.charCodeAt(at)===37&&(_.push(v.slice(L,at)),(se=al[dt=v.charAt(++at)])!=null?dt=v.charAt(++at):se=dt==="e"?" ":"0",(ei=I[dt])&&(dt=ei(z,se)),_.push(dt),L=at+1);return _.push(v.slice(L,at)),_.join("")}}function R(v,I){return function(z){var _=Dn(1900,void 0,1),at=W(_,v,z+="",0),L,pt;if(at!=z.length)return null;if("Q"in _)return new Date(_.Q);if("s"in _)return new Date(_.s*1e3+("L"in _?_.L:0));if(I&&!("Z"in _)&&(_.Z=0),"p"in _&&(_.H=_.H%12+_.p*12),_.m===void 0&&(_.m="q"in _?_.q:0),"V"in _){if(_.V<1||_.V>53)return null;"w"in _||(_.w=1),"Z"in _?(L=Ho(Dn(_.y,0,1)),pt=L.getUTCDay(),L=pt>4||pt===0?Ye.ceil(L):Ye(L),L=Sn.offset(L,(_.V-1)*7),_.y=L.getUTCFullYear(),_.m=L.getUTCMonth(),_.d=L.getUTCDate()+(_.w+6)%7):(L=Yo(Dn(_.y,0,1)),pt=L.getDay(),L=pt>4||pt===0?Le.ceil(L):Le(L),L=jt.offset(L,(_.V-1)*7),_.y=L.getFullYear(),_.m=L.getMonth(),_.d=L.getDate()+(_.w+6)%7)}else("W"in _||"U"in _)&&("w"in _||(_.w="u"in _?_.u%7:"W"in _?1:0),pt="Z"in _?Ho(Dn(_.y,0,1)).getUTCDay():Yo(Dn(_.y,0,1)).getDay(),_.m=0,_.d="W"in _?(_.w+6)%7+_.W*7-(pt+5)%7:_.w+_.U*7-(pt+6)%7);return"Z"in _?(_.H+=_.Z/100|0,_.M+=_.Z%100,Ho(_)):Yo(_)}}function W(v,I,z,_){for(var at=0,L=I.length,pt=z.length,dt,se;at<L;){if(_>=pt)return-1;if(dt=I.charCodeAt(at++),dt===37){if(dt=I.charAt(at++),se=T[dt in al?I.charAt(at++):dt],!se||(_=se(v,z,_))<0)return-1}else if(dt!=z.charCodeAt(_++))return-1}return _}function Q(v,I,z){var _=l.exec(I.slice(z));return _?(v.p=u.get(_[0].toLowerCase()),z+_[0].length):-1}function H(v,I,z){var _=h.exec(I.slice(z));return _?(v.w=y.get(_[0].toLowerCase()),z+_[0].length):-1}function w(v,I,z){var _=f.exec(I.slice(z));return _?(v.w=m.get(_[0].toLowerCase()),z+_[0].length):-1}function $(v,I,z){var _=O.exec(I.slice(z));return _?(v.m=E.get(_[0].toLowerCase()),z+_[0].length):-1}function b(v,I,z){var _=M.exec(I.slice(z));return _?(v.m=k.get(_[0].toLowerCase()),z+_[0].length):-1}function A(v,I,z){return W(v,e,I,z)}function xt(v,I,z){return W(v,n,I,z)}function vt(v,I,z){return W(v,r,I,z)}function ft(v){return a[v.getDay()]}function mt(v){return i[v.getDay()]}function tt(v){return c[v.getMonth()]}function Se(v){return s[v.getMonth()]}function De(v){return o[+(v.getHours()>=12)]}function ke(v){return 1+~~(v.getMonth()/3)}function Ze(v){return a[v.getUTCDay()]}function Ke(v){return i[v.getUTCDay()]}function Ct(v){return c[v.getUTCMonth()]}function Je(v){return s[v.getUTCMonth()]}function tn(v){return o[+(v.getUTCHours()>=12)]}function en(v){return 1+~~(v.getUTCMonth()/3)}return{format:function(v){var I=C(v+="",P);return I.toString=function(){return v},I},parse:function(v){var I=R(v+="",!1);return I.toString=function(){return v},I},utcFormat:function(v){var I=C(v+="",S);return I.toString=function(){return v},I},utcParse:function(v){var I=R(v+="",!0);return I.toString=function(){return v},I}}}var al={"-":"",_:" ",0:"0"},G=/^\s*\d+/,Uf=/^%/,Lf=/[\\^$*+?|[\]().{}]/g;function B(t,e,n){var r=t<0?"-":"",o=(r?-t:t)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(e)+o:o)}function Yf(t){return t.replace(Lf,"\\$&")}function kn(t){return new RegExp("^(?:"+t.map(Yf).join("|")+")","i")}function Tn(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Hf(t,e,n){var r=G.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function qf(t,e,n){var r=G.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Wf(t,e,n){var r=G.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Xf(t,e,n){var r=G.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function jf(t,e,n){var r=G.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function sl(t,e,n){var r=G.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ll(t,e,n){var r=G.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Gf(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Qf(t,e,n){var r=G.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Zf(t,e,n){var r=G.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function cl(t,e,n){var r=G.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Kf(t,e,n){var r=G.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ul(t,e,n){var r=G.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Jf(t,e,n){var r=G.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function tm(t,e,n){var r=G.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function em(t,e,n){var r=G.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function nm(t,e,n){var r=G.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function rm(t,e,n){var r=Uf.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function om(t,e,n){var r=G.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function im(t,e,n){var r=G.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function fl(t,e){return B(t.getDate(),e,2)}function am(t,e){return B(t.getHours(),e,2)}function sm(t,e){return B(t.getHours()%12||12,e,2)}function lm(t,e){return B(1+jt.count(gt(t),t),e,3)}function gl(t,e){return B(t.getMilliseconds(),e,3)}function cm(t,e){return gl(t,e)+"000"}function um(t,e){return B(t.getMonth()+1,e,2)}function fm(t,e){return B(t.getMinutes(),e,2)}function mm(t,e){return B(t.getSeconds(),e,2)}function pm(t){var e=t.getDay();return e===0?7:e}function dm(t,e){return B(Gt.count(gt(t)-1,t),e,2)}function xl(t){var e=t.getDay();return e>=4||e===0?re(t):re.ceil(t)}function hm(t,e){return t=xl(t),B(re.count(gt(t),t)+(gt(t).getDay()===4),e,2)}function gm(t){return t.getDay()}function xm(t,e){return B(Le.count(gt(t)-1,t),e,2)}function _m(t,e){return B(t.getFullYear()%100,e,2)}function ym(t,e){return t=xl(t),B(t.getFullYear()%100,e,2)}function vm(t,e){return B(t.getFullYear()%1e4,e,4)}function Cm(t,e){var n=t.getDay();return t=n>=4||n===0?re(t):re.ceil(t),B(t.getFullYear()%1e4,e,4)}function bm(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+B(e/60|0,"0",2)+B(e%60,"0",2)}function ml(t,e){return B(t.getUTCDate(),e,2)}function Mm(t,e){return B(t.getUTCHours(),e,2)}function wm(t,e){return B(t.getUTCHours()%12||12,e,2)}function Pm(t,e){return B(1+Sn.count(Dt(t),t),e,3)}function _l(t,e){return B(t.getUTCMilliseconds(),e,3)}function Om(t,e){return _l(t,e)+"000"}function Sm(t,e){return B(t.getUTCMonth()+1,e,2)}function Dm(t,e){return B(t.getUTCMinutes(),e,2)}function km(t,e){return B(t.getUTCSeconds(),e,2)}function Tm(t){var e=t.getUTCDay();return e===0?7:e}function Em(t,e){return B(we.count(Dt(t)-1,t),e,2)}function yl(t){var e=t.getUTCDay();return e>=4||e===0?oe(t):oe.ceil(t)}function Im(t,e){return t=yl(t),B(oe.count(Dt(t),t)+(Dt(t).getUTCDay()===4),e,2)}function Am(t){return t.getUTCDay()}function Fm(t,e){return B(Ye.count(Dt(t)-1,t),e,2)}function Nm(t,e){return B(t.getUTCFullYear()%100,e,2)}function Rm(t,e){return t=yl(t),B(t.getUTCFullYear()%100,e,2)}function zm(t,e){return B(t.getUTCFullYear()%1e4,e,4)}function Bm(t,e){var n=t.getUTCDay();return t=n>=4||n===0?oe(t):oe.ceil(t),B(t.getUTCFullYear()%1e4,e,4)}function $m(){return"+0000"}function pl(){return"%"}function dl(t){return+t}function hl(t){return Math.floor(+t/1e3)}var qe,We,vl,Cl,bl;Wo({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Wo(t){return qe=qo(t),We=qe.format,vl=qe.parse,Cl=qe.utcFormat,bl=qe.utcParse,qe}function Vm(t){return new Date(t)}function Um(t){return t instanceof Date?+t:+new Date(+t)}function Ml(t,e,n,r,o,i,a,s,c,l){var u=Mn(),f=u.invert,m=u.domain,h=l(".%L"),y=l(":%S"),M=l("%I:%M"),k=l("%I %p"),O=l("%a %d"),E=l("%b %d"),P=l("%B"),S=l("%Y");function T(C){return(c(C)<C?h:s(C)<C?y:a(C)<C?M:i(C)<C?k:r(C)<C?o(C)<C?O:E:n(C)<C?P:S)(C)}return u.invert=function(C){return new Date(f(C))},u.domain=function(C){return arguments.length?m(Array.from(C,Um)):m().map(Vm)},u.ticks=function(C){var R=m();return t(R[0],R[R.length-1],C??10)},u.tickFormat=function(C,R){return R==null?T:l(R)},u.nice=function(C){var R=m();return(!C||typeof C.range!="function")&&(C=e(R[0],R[R.length-1],C??10)),C?m(Bo(R,C)):u},u.copy=function(){return Or(u,Ml(t,e,n,r,o,i,a,s,c,l))},u}function Er(){return Pr.apply(Ml(Uo,Lo,gt,He,Gt,jt,Ue,Ve,$t,We).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function N(t){return function(){return t}}var Xo=Math.abs,J=Math.atan2,ie=Math.cos,wl=Math.max,Ir=Math.min,kt=Math.sin,Pe=Math.sqrt,it=1e-12,Xe=Math.PI,En=Xe/2,je=2*Xe;function Pl(t){return t>1?0:t<-1?Xe:Math.acos(t)}function jo(t){return t>=1?En:t<=-1?-En:Math.asin(t)}function Ge(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{let r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new _e(e)}function Lm(t){return t.innerRadius}function Ym(t){return t.outerRadius}function Hm(t){return t.startAngle}function qm(t){return t.endAngle}function Wm(t){return t&&t.padAngle}function Xm(t,e,n,r,o,i,a,s){var c=n-t,l=r-e,u=a-o,f=s-i,m=f*c-u*l;if(!(m*m<it))return m=(u*(e-i)-f*(t-o))/m,[t+m*c,e+m*l]}function Ar(t,e,n,r,o,i,a){var s=t-n,c=e-r,l=(a?i:-i)/Pe(s*s+c*c),u=l*c,f=-l*s,m=t+u,h=e+f,y=n+u,M=r+f,k=(m+y)/2,O=(h+M)/2,E=y-m,P=M-h,S=E*E+P*P,T=o-i,C=m*M-y*h,R=(P<0?-1:1)*Pe(wl(0,T*T*S-C*C)),W=(C*P-E*R)/S,Q=(-C*E-P*R)/S,H=(C*P+E*R)/S,w=(-C*E+P*R)/S,$=W-k,b=Q-O,A=H-k,xt=w-O;return $*$+b*b>A*A+xt*xt&&(W=H,Q=w),{cx:W,cy:Q,x01:-u,y01:-f,x11:W*(o/T-1),y11:Q*(o/T-1)}}function Go(){var t=Lm,e=Ym,n=N(0),r=null,o=Hm,i=qm,a=Wm,s=null,c=Ge(l);function l(){var u,f,m=+t.apply(this,arguments),h=+e.apply(this,arguments),y=o.apply(this,arguments)-En,M=i.apply(this,arguments)-En,k=Xo(M-y),O=M>y;if(s||(s=u=c()),h<m&&(f=h,h=m,m=f),!(h>it))s.moveTo(0,0);else if(k>je-it)s.moveTo(h*ie(y),h*kt(y)),s.arc(0,0,h,y,M,!O),m>it&&(s.moveTo(m*ie(M),m*kt(M)),s.arc(0,0,m,M,y,O));else{var E=y,P=M,S=y,T=M,C=k,R=k,W=a.apply(this,arguments)/2,Q=W>it&&(r?+r.apply(this,arguments):Pe(m*m+h*h)),H=Ir(Xo(h-m)/2,+n.apply(this,arguments)),w=H,$=H,b,A;if(Q>it){var xt=jo(Q/m*kt(W)),vt=jo(Q/h*kt(W));(C-=xt*2)>it?(xt*=O?1:-1,S+=xt,T-=xt):(C=0,S=T=(y+M)/2),(R-=vt*2)>it?(vt*=O?1:-1,E+=vt,P-=vt):(R=0,E=P=(y+M)/2)}var ft=h*ie(E),mt=h*kt(E),tt=m*ie(T),Se=m*kt(T);if(H>it){var De=h*ie(P),ke=h*kt(P),Ze=m*ie(S),Ke=m*kt(S),Ct;if(k<Xe)if(Ct=Xm(ft,mt,Ze,Ke,De,ke,tt,Se)){var Je=ft-Ct[0],tn=mt-Ct[1],en=De-Ct[0],v=ke-Ct[1],I=1/kt(Pl((Je*en+tn*v)/(Pe(Je*Je+tn*tn)*Pe(en*en+v*v)))/2),z=Pe(Ct[0]*Ct[0]+Ct[1]*Ct[1]);w=Ir(H,(m-z)/(I-1)),$=Ir(H,(h-z)/(I+1))}else w=$=0}R>it?$>it?(b=Ar(Ze,Ke,ft,mt,h,$,O),A=Ar(De,ke,tt,Se,h,$,O),s.moveTo(b.cx+b.x01,b.cy+b.y01),$<H?s.arc(b.cx,b.cy,$,J(b.y01,b.x01),J(A.y01,A.x01),!O):(s.arc(b.cx,b.cy,$,J(b.y01,b.x01),J(b.y11,b.x11),!O),s.arc(0,0,h,J(b.cy+b.y11,b.cx+b.x11),J(A.cy+A.y11,A.cx+A.x11),!O),s.arc(A.cx,A.cy,$,J(A.y11,A.x11),J(A.y01,A.x01),!O))):(s.moveTo(ft,mt),s.arc(0,0,h,E,P,!O)):s.moveTo(ft,mt),!(m>it)||!(C>it)?s.lineTo(tt,Se):w>it?(b=Ar(tt,Se,De,ke,m,-w,O),A=Ar(ft,mt,Ze,Ke,m,-w,O),s.lineTo(b.cx+b.x01,b.cy+b.y01),w<H?s.arc(b.cx,b.cy,w,J(b.y01,b.x01),J(A.y01,A.x01),!O):(s.arc(b.cx,b.cy,w,J(b.y01,b.x01),J(b.y11,b.x11),!O),s.arc(0,0,m,J(b.cy+b.y11,b.cx+b.x11),J(A.cy+A.y11,A.cx+A.x11),O),s.arc(A.cx,A.cy,w,J(A.y11,A.x11),J(A.y01,A.x01),!O))):s.arc(0,0,m,T,S,O)}if(s.closePath(),u)return s=null,u+""||null}return l.centroid=function(){var u=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,f=(+o.apply(this,arguments)+ +i.apply(this,arguments))/2-Xe/2;return[ie(f)*u,kt(f)*u]},l.innerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:N(+u),l):t},l.outerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:N(+u),l):e},l.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:N(+u),l):n},l.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:N(+u),l):r},l.startAngle=function(u){return arguments.length?(o=typeof u=="function"?u:N(+u),l):o},l.endAngle=function(u){return arguments.length?(i=typeof u=="function"?u:N(+u),l):i},l.padAngle=function(u){return arguments.length?(a=typeof u=="function"?u:N(+u),l):a},l.context=function(u){return arguments.length?(s=u??null,l):s},l}var xv=Array.prototype.slice;function Qe(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ol(t){this._context=t}Ol.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Fr(t){return new Ol(t)}function Nr(t){return t[0]}function Rr(t){return t[1]}function In(t,e){var n=N(!0),r=null,o=Fr,i=null,a=Ge(s);t=typeof t=="function"?t:t===void 0?Nr:N(t),e=typeof e=="function"?e:e===void 0?Rr:N(e);function s(c){var l,u=(c=Qe(c)).length,f,m=!1,h;for(r==null&&(i=o(h=a())),l=0;l<=u;++l)!(l<u&&n(f=c[l],l,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+t(f,l,c),+e(f,l,c));if(h)return i=null,h+""||null}return s.x=function(c){return arguments.length?(t=typeof c=="function"?c:N(+c),s):t},s.y=function(c){return arguments.length?(e=typeof c=="function"?c:N(+c),s):e},s.defined=function(c){return arguments.length?(n=typeof c=="function"?c:N(!!c),s):n},s.curve=function(c){return arguments.length?(o=c,r!=null&&(i=o(r)),s):o},s.context=function(c){return arguments.length?(c==null?r=i=null:i=o(r=c),s):r},s}function Qo(t,e,n){var r=null,o=N(!0),i=null,a=Fr,s=null,c=Ge(l);t=typeof t=="function"?t:t===void 0?Nr:N(+t),e=typeof e=="function"?e:e===void 0?N(0):N(+e),n=typeof n=="function"?n:n===void 0?Rr:N(+n);function l(f){var m,h,y,M=(f=Qe(f)).length,k,O=!1,E,P=new Array(M),S=new Array(M);for(i==null&&(s=a(E=c())),m=0;m<=M;++m){if(!(m<M&&o(k=f[m],m,f))===O)if(O=!O)h=m,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=m-1;y>=h;--y)s.point(P[y],S[y]);s.lineEnd(),s.areaEnd()}O&&(P[m]=+t(k,m,f),S[m]=+e(k,m,f),s.point(r?+r(k,m,f):P[m],n?+n(k,m,f):S[m]))}if(E)return s=null,E+""||null}function u(){return In().defined(o).curve(a).context(i)}return l.x=function(f){return arguments.length?(t=typeof f=="function"?f:N(+f),r=null,l):t},l.x0=function(f){return arguments.length?(t=typeof f=="function"?f:N(+f),l):t},l.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:N(+f),l):r},l.y=function(f){return arguments.length?(e=typeof f=="function"?f:N(+f),n=null,l):e},l.y0=function(f){return arguments.length?(e=typeof f=="function"?f:N(+f),l):e},l.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:N(+f),l):n},l.lineX0=l.lineY0=function(){return u().x(t).y(e)},l.lineY1=function(){return u().x(t).y(n)},l.lineX1=function(){return u().x(r).y(e)},l.defined=function(f){return arguments.length?(o=typeof f=="function"?f:N(!!f),l):o},l.curve=function(f){return arguments.length?(a=f,i!=null&&(s=a(i)),l):a},l.context=function(f){return arguments.length?(f==null?i=s=null:s=a(i=f),l):i},l}function Sl(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function Dl(t){return t}function Zo(){var t=Dl,e=Sl,n=null,r=N(0),o=N(je),i=N(0);function a(s){var c,l=(s=Qe(s)).length,u,f,m=0,h=new Array(l),y=new Array(l),M=+r.apply(this,arguments),k=Math.min(je,Math.max(-je,o.apply(this,arguments)-M)),O,E=Math.min(Math.abs(k)/l,i.apply(this,arguments)),P=E*(k<0?-1:1),S;for(c=0;c<l;++c)(S=y[h[c]=c]=+t(s[c],c,s))>0&&(m+=S);for(e!=null?h.sort(function(T,C){return e(y[T],y[C])}):n!=null&&h.sort(function(T,C){return n(s[T],s[C])}),c=0,f=m?(k-l*P)/m:0;c<l;++c,M=O)u=h[c],S=y[u],O=M+(S>0?S*f:0)+P,y[u]={data:s[u],index:c,value:S,startAngle:M,endAngle:O,padAngle:E};return y}return a.value=function(s){return arguments.length?(t=typeof s=="function"?s:N(+s),a):t},a.sortValues=function(s){return arguments.length?(e=s,n=null,a):e},a.sort=function(s){return arguments.length?(n=s,e=null,a):n},a.startAngle=function(s){return arguments.length?(r=typeof s=="function"?s:N(+s),a):r},a.endAngle=function(s){return arguments.length?(o=typeof s=="function"?s:N(+s),a):o},a.padAngle=function(s){return arguments.length?(i=typeof s=="function"?s:N(+s),a):i},a}function kl(t){return t<0?-1:1}function Tl(t,e,n){var r=t._x1-t._x0,o=e-t._x1,i=(t._y1-t._y0)/(r||o<0&&-0),a=(n-t._y1)/(o||r<0&&-0),s=(i*o+a*r)/(r+o);return(kl(i)+kl(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(s))||0}function El(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ko(t,e,n){var r=t._x0,o=t._y0,i=t._x1,a=t._y1,s=(i-r)/3;t._context.bezierCurveTo(r+s,o+s*e,i-s,a-s*n,i,a)}function zr(t){this._context=t}zr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ko(this,this._t0,El(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ko(this,El(this,n=Tl(this,t,e)),n);break;default:Ko(this,this._t0,n=Tl(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function jm(t){this._context=new Il(t)}(jm.prototype=Object.create(zr.prototype)).point=function(t,e){zr.prototype.point.call(this,e,t)};function Il(t){this._context=t}Il.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,o,i){this._context.bezierCurveTo(e,t,r,n,i,o)}};function Br(t){return new zr(t)}function ae(t,e,n){this.k=t,this.x=e,this.y=n}ae.prototype={constructor:ae,scale:function(t){return t===1?this:new ae(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ae(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Jo=new ae(1,0,0);ti.prototype=ae.prototype;function ti(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Jo;return t.__zoom}var Gm=["chartContainer"];function Qm(t,e){if(t&1&&(p(0,"div",6),ht(1,"div",7),p(2,"span",8),g(3),d(),p(4,"span",9),g(5),d(),p(6,"span",10),g(7),d()()),t&2){let n=F().$implicit,r=F();x(),_t("background-color",r.color[n.status]),x(2),D(n.label),x(2),D(n.count),x(2),X("",(n.ratio*100).toFixed(0),"%")}}function Zm(t,e){if(t&1&&Zt(0,Qm,8,5,"div",6),t&2){let n=e.$implicit;Kt(n.status!=="all"?0:-1)}}var $r=class t extends yt{chartContainer;dashboardVM=st(nt);svg;scheduleRatio=[{count:0,status:"all",label:"\uC804\uCCB4",ratio:0},{count:0,status:"receive",label:"\uB300\uAE30",ratio:0},{count:0,status:"progress",label:"\uC9C4\uD589\uC911",ratio:0},{count:0,status:"complete",label:"\uC644\uB8CC",ratio:0}];color={all:"#2196F3",receive:"#90CAF9",progress:"#FFB74D",complete:"#66BB6A"};ngOnInit(){console.log("\uB3C4\uB11B \uCC28\uD2B8 \uC704\uC82F - \uB4E4\uC5B4\uC628 \uB370\uC774\uD130:",this.data),this.dashboardVM.diaryProgress$.pipe(bt(this.destroy$)).subscribe(e=>{if(!e)return;this.scheduleRatio=[{count:e.receive,status:"receive",label:"\uB300\uAE30",ratio:e.ratios.receive},{count:e.progress,status:"progress",label:"\uC9C4\uD589\uC911",ratio:e.ratios.progress},{count:e.complete,status:"complete",label:"\uC644\uB8CC",ratio:e.ratios.complete}];let n=this.scheduleRatio.filter(r=>r.count>0);this.svg&&this.renderChart(n)})}ngAfterViewInit(){requestAnimationFrame(()=>{this.createDonutChart()})}createDonutChart(){Nt(this.chartContainer.nativeElement).select("svg").remove();let e=this.chartContainer.nativeElement.getBoundingClientRect(),n=Math.min(e.width,e.height)/2;this.svg=Nt(this.chartContainer.nativeElement).append("svg").attr("width",n*2).attr("height",n*2).style("overflow","visible").append("g").attr("transform",`translate(${n}, ${n})`);let r=this.scheduleRatio.filter(o=>o.count>0);this.renderChart(r)}renderChart(e){(!e||e.length===0)&&(e=[{count:1,status:"all",label:"\uB370\uC774\uD130 \uC5C6\uC74C"}]);let n=e.reduce((f,m)=>f+m.count,0),r=this.chartContainer.nativeElement.getBoundingClientRect(),i=Math.min(r.width,r.height)/2,a=Zo().value(f=>f.count).sort(null),s=Go().innerRadius(i*.5).outerRadius(i),c=this.svg.selectAll("path").data(a(e));c.transition().duration(1e3).attrTween("d",function(f){let m=this,h=zt(m._current||f,f);return m._current=h(1),function(y){return s(h(y))}}).attr("fill",f=>this.color[f.data.status]),c.enter().append("path").attr("d",s).attr("fill",f=>this.color[f.data.status]).attr("stroke","#fff").attr("stroke-width",2).each(function(f){this._current=f}).transition().duration(1e3).attrTween("d",function(f){let m=zt({startAngle:0,endAngle:0},f);return this._current=m(1),function(h){return s(m(h))}});let l=this.svg.selectAll("text").data(a(e)),u="1.1em";l.attr("transform",f=>{let[m,h]=s.centroid(f);return`translate(${m}, ${h})`}).attr("text-anchor","middle").text("").each(function(f){if(f.data.count===0)return;let m=Nt(this);m.selectAll("tspan").remove(),m.append("tspan").attr("x",0).attr("dy","0em").style("font-size",u).style("fill","#fff").style("font-weight","600").text(f.data.label),m.append("tspan").attr("x",0).attr("dy",u).style("font-size",u).style("fill","#fff").style("font-weight","600").text(`${Math.round(f.data.count/n*100)}%`)}),l.enter().append("text").attr("transform",f=>{let[m,h]=s.centroid(f);return`translate(${m}, ${h})`}).attr("text-anchor","middle").style("font-size",u).style("fill","#fff").each(function(f){if(f.data.count===0)return;let m=Nt(this);m.selectAll("tspan").remove(),m.append("tspan").attr("x",0).attr("dy","0em").style("font-weight","600").text(f.data.label),m.append("tspan").attr("x",0).attr("dy",u).style("font-size",u).style("font-weight","600").text(`${Math.round(f.data.count/n*100)}%`)}),c.exit().remove(),l.exit().remove()}ngOnDestroy(){super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Tt(t)))(r||t)}})();static \u0275cmp=et({type:t,selectors:[["app-diary-donut-chart"]],viewQuery:function(n,r){if(n&1&&Te(Gm,7,Nn),n&2){let o;Ee(o=Ie())&&(r.chartContainer=o.first)}},standalone:!1,features:[Et],decls:12,vars:1,consts:[["chartContainer",""],[1,"widget-card"],[1,"widget-toolbar"],[1,"widget-content"],[1,"chart-container"],[1,"legend-container"],[1,"legend-item"],[1,"legend-color"],[1,"legend-label"],[1,"legend-count"],[1,"legend-ratio"]],template:function(n,r){n&1&&(p(0,"mat-card",1)(1,"mat-toolbar",2)(2,"mat-icon"),g(3,"donut_large"),d(),p(4,"span"),g(5),d()(),p(6,"div",3),ht(7,"div",4,0),p(9,"div",5),Lt(10,Zm,1,1,null,null,rn),d()()()),n&2&&(x(5),D((r.data==null?null:r.data.title)||"\uC77C\uC815 \uBD84\uC11D"),x(5),Yt(r.scheduleRatio))},dependencies:[At,lt,It],styles:[".widget-card[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.widget-toolbar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;display:flex;align-items:center;gap:8px;padding:12px 16px;font-size:16px;font-weight:500}.widget-toolbar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.widget-content[_ngcontent-%COMP%]{flex:1;padding:16px;display:flex;flex-direction:column;align-items:center;gap:20px;overflow-y:auto}.chart-container[_ngcontent-%COMP%]{width:100%;max-width:300px;height:300px;display:flex;align-items:center;justify-content:center}.legend-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:12px}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:8px 12px;background:#667eea0d;border-radius:8px;transition:all .2s ease}.legend-item[_ngcontent-%COMP%]:hover{background:#667eea1a;transform:translate(4px)}.legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:4px;flex-shrink:0}.legend-item[_ngcontent-%COMP%]   .legend-label[_ngcontent-%COMP%]{flex:1;font-size:14px;font-weight:500;color:var(--text-primary)}.legend-item[_ngcontent-%COMP%]   .legend-count[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-primary);min-width:30px;text-align:right}.legend-item[_ngcontent-%COMP%]   .legend-ratio[_ngcontent-%COMP%]{font-size:13px;color:var(--text-secondary);min-width:45px;text-align:right}@media (max-width: 768px){.chart-container[_ngcontent-%COMP%]{max-width:250px;height:250px}}"]})};var Km=["chartContainer"],Vr=class t extends yt{chartContainer;dashboardVM=st(nt);svg;x;y;margin={top:20,right:20,bottom:40,left:40};dummyData=this.generateDummyData();ngOnInit(){console.log("\uB77C\uC778 \uCC28\uD2B8 \uC704\uC82F - \uB4E4\uC5B4\uC628 \uB370\uC774\uD130:",this.data),setTimeout(()=>{let e=this.generateMockData();this.updateChart(e)},500)}ngAfterViewInit(){requestAnimationFrame(()=>{this.initializeChart()})}ngOnDestroy(){super.ngOnDestroy()}generateDummyData(){let e=new Date;return Array.from({length:30},(n,r)=>{let o=new Date;return o.setDate(e.getDate()-(29-r)),{date:o,count:0}})}generateMockData(){let e=new Date;return Array.from({length:30},(n,r)=>{let o=new Date;return o.setDate(e.getDate()-(29-r)),{date:o,count:Math.floor(Math.random()*10)+1}})}initializeChart(){let e=this.chartContainer.nativeElement.getBoundingClientRect(),n=Math.max(e.width,400),r=Math.max(e.height,250);this.svg=Nt(this.chartContainer.nativeElement).append("svg").attr("width",n).attr("height",r).append("g").attr("transform",`translate(${this.margin.left}, ${this.margin.top})`),this.x=Er().range([0,n-this.margin.left-this.margin.right]),this.y=wn().range([r-this.margin.top-this.margin.bottom,0]),this.svg.append("g").attr("class","x-axis").attr("transform",`translate(0,${r-this.margin.top-this.margin.bottom})`),this.svg.append("g").attr("class","y-axis"),this.updateChart(this.dummyData)}updateChart(e){this.x.domain(qn(e,a=>a.date)),this.y.domain([0,jn(e,a=>a.count)||10]),this.svg.select(".x-axis").transition().duration(1e3).call(io(this.x).tickFormat(We("%m/%d"))).selectAll("text").attr("transform","rotate(-45)").style("text-anchor","end").style("font-size","11px"),this.svg.select(".y-axis").transition().duration(1e3).call(ao(this.y).ticks(5)).selectAll("text").style("font-size","11px");let n=In().x(a=>this.x(a.date)).y(a=>this.y(a.count)).curve(Br),r=Qo().x(a=>this.x(a.date)).y0(this.y(0)).y1(a=>this.y(a.count)).curve(Br);this.svg.selectAll(".area").data([e]).join(a=>a.append("path").attr("class","area").attr("fill","url(#gradient)").attr("d",r),a=>a.transition().duration(1e3).attr("d",r),a=>a.remove());let i=(this.svg.select("defs").size()>0?this.svg.select("defs"):this.svg.append("defs")).selectAll("#gradient").data([null]).join("linearGradient").attr("id","gradient").attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%");i.selectAll("stop").remove(),i.append("stop").attr("offset","0%").attr("stop-color","#4facfe").attr("stop-opacity",.6),i.append("stop").attr("offset","100%").attr("stop-color","#00f2fe").attr("stop-opacity",.1),this.svg.selectAll(".line").data([e]).join(a=>a.append("path").attr("class","line").attr("fill","none").attr("stroke","#4facfe").attr("stroke-width",3).attr("d",n),a=>a.transition().duration(1e3).attr("d",n),a=>a.remove()),this.svg.selectAll(".point").data(e).join(a=>a.append("circle").attr("class","point").attr("r",4).attr("fill","#4facfe").attr("stroke","#fff").attr("stroke-width",2).attr("cx",s=>this.x(s.date)).attr("cy",s=>this.y(s.count)).style("cursor","pointer").on("mouseover",function(s,c){Nt(this).transition().duration(200).attr("r",6)}).on("mouseout",function(){Nt(this).transition().duration(200).attr("r",4)}),a=>a.transition().duration(1e3).attr("cx",s=>this.x(s.date)).attr("cy",s=>this.y(s.count)),a=>a.remove())}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Tt(t)))(r||t)}})();static \u0275cmp=et({type:t,selectors:[["app-schedule-line-chart"]],viewQuery:function(n,r){if(n&1&&Te(Km,7,Nn),n&2){let o;Ee(o=Ie())&&(r.chartContainer=o.first)}},standalone:!1,features:[Et],decls:12,vars:1,consts:[["chartContainer",""],[1,"widget-card"],[1,"widget-toolbar"],[1,"widget-content"],[1,"chart-container"],[1,"chart-info"],[1,"info-text"]],template:function(n,r){n&1&&(p(0,"mat-card",1)(1,"mat-toolbar",2)(2,"mat-icon"),g(3,"show_chart"),d(),p(4,"span"),g(5),d()(),p(6,"div",3),ht(7,"div",4,0),p(9,"div",5)(10,"span",6),g(11,"\uCD5C\uADFC 30\uC77C\uAC04 \uC644\uB8CC\uB41C \uC77C\uC815"),d()()()()),n&2&&(x(5),D((r.data==null?null:r.data.title)||"\uC644\uB8CC \uCD94\uC774"))},dependencies:[At,lt,It],styles:[".widget-card[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.widget-toolbar[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;display:flex;align-items:center;gap:8px;padding:12px 16px;font-size:16px;font-weight:500}.widget-toolbar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.widget-content[_ngcontent-%COMP%]{flex:1;padding:16px;display:flex;flex-direction:column;gap:12px;overflow:hidden}.chart-container[_ngcontent-%COMP%]{flex:1;width:100%;min-height:250px;position:relative}.chart-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(svg){width:100%;height:100%}.chart-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(.x-axis)   path[_ngcontent-%COMP%], .chart-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(.x-axis)   line[_ngcontent-%COMP%], .chart-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(.y-axis)   path[_ngcontent-%COMP%], .chart-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(.y-axis)   line[_ngcontent-%COMP%]{stroke:var(--text-secondary);opacity:.3}.chart-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(.x-axis)   text[_ngcontent-%COMP%], .chart-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(.y-axis)   text[_ngcontent-%COMP%]{fill:var(--text-secondary)}.chart-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(.line){filter:drop-shadow(0 2px 4px rgba(79,172,254,.3))}.chart-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:deep(.point){filter:drop-shadow(0 2px 4px rgba(79,172,254,.4))}.chart-info[_ngcontent-%COMP%]{text-align:center;padding:8px 0;border-top:1px solid rgba(0,0,0,.08)}.chart-info[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);font-weight:500}.dark-theme[_nghost-%COMP%]   .chart-info[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .chart-info[_ngcontent-%COMP%]{border-top-color:#ffffff1a}"]})};var Jm=t=>({data:t});function tp(t,e){if(t&1&&(p(0,"span",13),g(1),d()),t&2){let n=F();x(),D(n.getCurrentUsername())}}function ep(t,e){t&1&&(p(0,"span",13),g(1,"\uC0AC\uC6A9\uC790"),d())}function np(t,e){t&1&&li(0)}function rp(t,e){if(t&1&&(p(0,"div",14)(1,"div",15),q(2,np,1,0,"ng-container",16),d()()),t&2){let n=e.$implicit;V("ngStyle",n.style),x(2),V("ngComponentOutlet",n.component)("ngComponentOutletInputs",pi(3,Jm,n.data))}}function op(t,e){if(t&1&&(p(0,"div",12),Lt(1,rp,3,5,"div",14,rn),d()),t&2){let n=e.$implicit;V("ngStyle",n.style),x(),Yt(n.columns)}}var Ur=class t{dashboardVM=st(nt);authService=st(Ft);router=st(Jt);configs=[];ngOnInit(){this.initializeGridLayout(),this.dashboardVM.refreshDashboard()}initializeGridLayout(){this.configs=[{style:{display:"flex",gap:"16px",width:"100%",marginBottom:"16px"},columns:[{component:Vn,style:{flex:"1"},data:{title:"\uC624\uB298 \uC77C\uC815"}},{component:$r,style:{flex:"1"},data:{title:"\uC77C\uC815 \uBD84\uC11D"}}]},{style:{display:"flex",gap:"16px",width:"100%",marginBottom:"16px"},columns:[{component:Yn,style:{flex:"1"},data:{title:"\uC77C\uC815 \uC9C4\uD589\uB960"}},{component:Hn,style:{flex:"1"},data:{title:"\uC18C\uC124 \uD1B5\uACC4"}}]},{style:{display:"flex",gap:"16px",width:"100%"},columns:[{component:Vr,style:{flex:"1"},data:{title:"\uC644\uB8CC \uCD94\uC774 (\uCD5C\uADFC 30\uC77C)"}}]}]}setGridColumns(e){this.configs=this.configs.map(n=>Xr(Wr({},n),{style:Xr(Wr({},n.style),{gridTemplateColumns:`repeat(${e}, 1fr)`})}))}onWidgetOutput(e){console.log("Widget output:",e)}logout(){this.authService.logout(),this.router.navigate(["/dashboard/login"])}getCurrentUsername(){return this.authService.getCurrentUsername()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=et({type:t,selectors:[["app-dashboard"]],standalone:!1,decls:31,vars:2,consts:[[1,"dashboard-container"],[1,"dashboard-header"],[1,"header-left"],[1,"welcome-section"],[1,"greeting"],["class","username-highlight",4,"ngIf"],[1,"subtitle"],[1,"header-actions"],["mat-raised-button","","color","primary","routerLink","/dashboard/viral-marketing",1,"action-btn","viral-btn"],["mat-raised-button","","matTooltip","\uC0C8\uB85C\uACE0\uCE68",1,"action-btn","refresh-btn",3,"click"],["mat-raised-button","","matTooltip","\uB85C\uADF8\uC544\uC6C3",1,"action-btn","logout-btn",3,"click"],[1,"dashboard-grid"],[1,"dashboard-row",3,"ngStyle"],[1,"username-highlight"],[1,"dashboard-column",3,"ngStyle"],[1,"widget-wrapper"],[4,"ngComponentOutlet","ngComponentOutletInputs"]],template:function(n,r){n&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1")(5,"span",4),g(6,"\uC548\uB155\uD558\uC138\uC694,"),d(),q(7,tp,2,1,"span",5)(8,ep,2,0,"span",5),g(9,"\uB2D8 \u{1F44B} "),d(),p(10,"p",6),g(11,"\uC624\uB298\uB3C4 \uC88B\uC740 \uD558\uB8E8 \uB418\uC138\uC694!"),d()()(),p(12,"div",7)(13,"button",8)(14,"mat-icon"),g(15,"analytics"),d(),p(16,"span"),g(17,"\uBC14\uC774\uB7F4 \uB9C8\uCF00\uD305"),d()(),p(18,"button",9),rt("click",function(){return r.dashboardVM.refreshDashboard()}),p(19,"mat-icon"),g(20,"refresh"),d(),p(21,"span"),g(22,"\uC0C8\uB85C\uACE0\uCE68"),d()(),p(23,"button",10),rt("click",function(){return r.logout()}),p(24,"mat-icon"),g(25,"logout"),d(),p(26,"span"),g(27,"\uB85C\uADF8\uC544\uC6C3"),d()()()(),p(28,"div",11),Lt(29,op,3,1,"div",12,rn),d()()),n&2&&(x(7),V("ngIf",r.getCurrentUsername()),x(),V("ngIf",!r.getCurrentUsername()),x(21),Yt(r.configs))},dependencies:[di,zn,gi,Bn,Oi,lt,Ai],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:0;width:100%;min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);overflow-y:auto;overflow-x:hidden}.dashboard-header[_ngcontent-%COMP%]{background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:32px 40px;box-shadow:0 4px 20px #0000001a;position:sticky;top:0;z-index:100;display:flex;justify-content:space-between;align-items:center;gap:24px}.dashboard-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{flex:1}.dashboard-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 8px;font-size:32px;font-weight:700;color:#2d3748;line-height:1.3;display:flex;align-items:center;gap:8px;flex-wrap:wrap}.dashboard-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .greeting[_ngcontent-%COMP%]{color:#718096;font-weight:400;font-size:28px}.dashboard-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .username-highlight[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;font-weight:800}.dashboard-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#718096;font-weight:400}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 24px;border-radius:12px;font-weight:600;font-size:14px;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 2px 8px #0000001a}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 16px #00000026}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-btn.viral-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-btn.viral-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5568d3,#6a3f8f)}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-btn.refresh-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe);color:#fff;border:none}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-btn.refresh-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3d8fd1,#00d4e0)}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-btn.logout-btn[_ngcontent-%COMP%]{background:#fff;color:#e53e3e;border:2px solid #e53e3e}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-btn.logout-btn[_ngcontent-%COMP%]:hover{background:#e53e3e;color:#fff}.dashboard-grid[_ngcontent-%COMP%]{padding:32px 40px;width:100%;max-width:1600px;margin:0 auto}.dashboard-row[_ngcontent-%COMP%]{width:100%;margin-bottom:24px;animation:_ngcontent-%COMP%_fadeInUp .6s ease-out}.dashboard-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.dashboard-column[_ngcontent-%COMP%]{min-height:200px;position:relative}.dashboard-column[_ngcontent-%COMP%]   .widget-wrapper[_ngcontent-%COMP%]{height:100%;background:#fff;border:1px solid rgba(0,0,0,.1);border-radius:16px;padding:24px;overflow:visible;transition:all .3s ease;cursor:pointer;box-shadow:0 2px 8px #0000000d}.dashboard-column[_ngcontent-%COMP%]   .widget-wrapper[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 8px 24px #667eea26;border-color:#667eea}.dashboard-column[_ngcontent-%COMP%]   .widget-wrapper[_ngcontent-%COMP%]:active{transform:translateY(-4px)}.dashboard-column[_ngcontent-%COMP%]   .widget-wrapper[_ngcontent-%COMP%]    >*{position:relative;z-index:1}.dashboard-column[_ngcontent-%COMP%]   .widget-wrapper[_ngcontent-%COMP%]     .widget-icon, .dashboard-column[_ngcontent-%COMP%]   .widget-wrapper[_ngcontent-%COMP%]     mat-icon, .dashboard-column[_ngcontent-%COMP%]   .widget-wrapper[_ngcontent-%COMP%]     svg{transition:all .3s ease}.dashboard-column[_ngcontent-%COMP%]   .widget-wrapper[_ngcontent-%COMP%]:hover     .widget-icon, .dashboard-column[_ngcontent-%COMP%]   .widget-wrapper[_ngcontent-%COMP%]:hover     mat-icon:not(.header-actions mat-icon), .dashboard-column[_ngcontent-%COMP%]   .widget-wrapper[_ngcontent-%COMP%]:hover     svg:not(.header-actions svg){transform:scale(1.15) rotate(5deg)}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 1200px){.dashboard-grid[_ngcontent-%COMP%], .dashboard-header[_ngcontent-%COMP%]{padding:24px}}@media (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.dashboard-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;padding:20px;gap:16px}.dashboard-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{width:100%}.dashboard-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.dashboard-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .greeting[_ngcontent-%COMP%]{font-size:20px}.dashboard-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:14px}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{flex:1;justify-content:center;min-width:auto}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0}.dashboard-grid[_ngcontent-%COMP%]{padding:16px}.dashboard-row[_ngcontent-%COMP%]{flex-direction:column!important;gap:16px!important;margin-bottom:16px}.dashboard-column[_ngcontent-%COMP%]{width:100%!important;flex:none!important}}@media (max-width: 480px){.dashboard-header[_ngcontent-%COMP%]{padding:16px}.dashboard-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}.dashboard-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .greeting[_ngcontent-%COMP%]{font-size:18px}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{gap:8px}.dashboard-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:10px 16px;font-size:12px}}"]})};var ip=["loginComponent"],Lr=class t{constructor(e,n){this.authService=e;this.router=n}loginComponent;loginConfig={title:"\u{1F4CA} \uB300\uC2DC\uBCF4\uB4DC",subtitle:"\uD1B5\uD569 \uB370\uC774\uD130 \uBD84\uC11D \uC13C\uD130\uC5D0 \uC624\uC2E0 \uAC83\uC744 \uD658\uC601\uD569\uB2C8\uB2E4",moduleName:"dashboard",showSocialLogin:!1,showRegisterLink:!1,backgroundAnimation:["\u{1F4CA}","\u{1F4C8}","\u{1F4C9}","\u{1F4B9}","\u{1F4CB}","\u{1F3AF}","\u{1F4BC}","\u{1F4CC}"],themeColors:{primary:"#4facfe",secondary:"#00f2fe",accent:"#06b6d4"}};ngOnInit(){this.authService.isLoggedIn()&&this.router.navigate(["/dashboard"])}onLogin(e){this.authService.login(e.username,e.password)?this.router.navigate(["/dashboard"]):this.loginComponent&&this.loginComponent.setError("\uC0AC\uC6A9\uC790 \uC774\uB984 \uB610\uB294 \uBE44\uBC00\uBC88\uD638\uAC00 \uC62C\uBC14\uB974\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4.")}static \u0275fac=function(n){return new(n||t)(nn(Ft),nn(Jt))};static \u0275cmp=et({type:t,selectors:[["app-dashboard-login"]],viewQuery:function(n,r){if(n&1&&Te(ip,5),n&2){let o;Ee(o=Ie())&&(r.loginComponent=o.first)}},standalone:!1,decls:2,vars:1,consts:[["loginComponent",""],[3,"loginSubmit","config"]],template:function(n,r){if(n&1){let o=Pt();p(0,"app-unified-login",1,0),rt("loginSubmit",function(a){return Mt(o),wt(r.onLogin(a))}),d()}n&2&&V("config",r.loginConfig)},dependencies:[Fi],encapsulation:2})};var Yr=class t{constructor(e){this.http=e;this.loadAvailableMonths()}currentReport$=new Ut(null);availableMonths$=new Ut([]);loadAvailableMonths(){let e=["2025-10"];this.availableMonths$.next(e)}loadMonthlyReport(e){let n=`/data/viral-marketing/${e}.json`;return this.http.get(n).pipe(ri(r=>(this.currentReport$.next(r),r)),oi(r=>(console.error(`Failed to load report for ${e}:`,r),ni({month:e,client:"",summary:{totalPosts:0,totalViews:0,totalLikes:0,totalComments:0,totalShares:0,platformBreakdown:{youtube:0,instagram:0,threads:0,naverBlog:0}},contents:[],topPerformers:[],insights:{bestPerformingPlatform:"",avgEngagementRate:0,growthFromLastMonth:0,recommendations:[]}}))))}getCurrentReport(){return this.currentReport$.asObservable()}getAvailableMonths(){return this.availableMonths$.asObservable()}getContentsByPlatform(e,n){let r=n||this.currentReport$.value;return r?r.contents.filter(o=>o.platform===e):[]}getContentsByCampaign(e,n){let r=n||this.currentReport$.value;return r?r.contents.filter(o=>o.campaign===e):[]}getPlatformDisplayName(e){return{youtube:"\uC720\uD29C\uBE0C",instagram:"\uC778\uC2A4\uD0C0\uADF8\uB7A8",threads:"\uC2A4\uB808\uB4DC",naverBlog:"\uB124\uC774\uBC84 \uBE14\uB85C\uADF8"}[e]||e}getPlatformIcon(e){return{youtube:"\u{1F3A5}",instagram:"\u{1F4F7}",threads:"\u{1F9F5}",naverBlog:"\u{1F4DD}"}[e]||"\u{1F4CA}"}getPlatformColor(e){return{youtube:"#FF0000",instagram:"#E4405F",threads:"#000000",naverBlog:"#03C75A"}[e]||"#666666"}calculateEngagementRate(e){return!e.metrics.views||e.metrics.views===0?0:((e.metrics.likes||0)+(e.metrics.comments||0)+(e.metrics.shares||0))/e.metrics.views*100}formatNumber(e){return e.toLocaleString("ko-KR")}formatDate(e){return new Date(e).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})}formatMonth(e){let[n,r]=e.split("-");return`${n}\uB144 ${parseInt(r)}\uC6D4`}getTopPerformerDetails(e,n){let r=n||this.currentReport$.value;if(r)return r.contents.find(o=>o.id===e.id)}getPlatformTotalViews(e,n){return this.getContentsByPlatform(e,n).reduce((o,i)=>o+(i.metrics.views||0),0)}getPlatformAvgEngagement(e,n){let r=this.getContentsByPlatform(e,n);return r.length===0?0:r.reduce((i,a)=>i+this.calculateEngagementRate(a),0)/r.length}static \u0275fac=function(n){return new(n||t)(le(yi))};static \u0275prov=Qt({token:t,factory:t.\u0275fac,providedIn:"root"})};function sp(t,e){if(t&1&&(p(0,"p",11),g(1),d()),t&2){let n=F();x(),D(n.report.client)}}function lp(t,e){if(t&1&&(p(0,"option",12),g(1),d()),t&2){let n=e.$implicit,r=F();V("value",n),x(),X(" ",r.viralService.formatMonth(n)," ")}}function cp(t,e){t&1&&(p(0,"div",13),ht(1,"div",14),p(2,"p"),g(3,"\uB9AC\uD3EC\uD2B8\uB97C \uBD88\uB7EC\uC624\uB294 \uC911..."),d()())}function up(t,e){if(t&1&&(p(0,"div",33)(1,"div",34)(2,"span",35),g(3),d(),p(4,"span",36),g(5,"\uC804\uC6D4 \uB300\uBE44"),d(),p(6,"span",37),g(7),d()()()),t&2){let n=F(2);x(3),D(n.getGrowthIcon(n.report.insights.growthFromLastMonth)),x(3),_t("color",n.getGrowthColor(n.report.insights.growthFromLastMonth)),x(),Ht(" ",n.report.insights.growthFromLastMonth>0?"+":"","",n.report.insights.growthFromLastMonth.toFixed(1),"% ")}}function fp(t,e){if(t&1){let n=Pt();p(0,"div",38),rt("click",function(){let o=Mt(n).$implicit,i=F(2);return wt(i.togglePlatformFilter(o.platform))}),p(1,"div",39)(2,"span",40),g(3),d(),p(4,"span",41),g(5),d()(),p(6,"div",42)(7,"div",43)(8,"span",44),g(9,"\uAC8C\uC2DC\uBB3C"),d(),p(10,"span",45),g(11),d()(),p(12,"div",43)(13,"span",44),g(14,"\uC870\uD68C\uC218"),d(),p(15,"span",45),g(16),d()()(),p(17,"div",46),ht(18,"div",47),d(),p(19,"div",48),g(20),d()()}if(t&2){let n=e.$implicit,r=F(2);ci("active",r.selectedPlatform===n.platform),x(3),D(n.icon),x(2),D(n.name),x(6),X("",n.count,"\uAC1C"),x(5),D(r.viralService.formatNumber(n.views)),x(2),_t("width",r.getPlatformPercentage(n.count),"%")("background-color",n.color),x(2),X(" ",r.getPlatformPercentage(n.count).toFixed(1),"% ")}}function mp(t,e){if(t&1&&(p(0,"div",63),ht(1,"img",64),d()),t&2){let n=F().ngIf;x(),V("src",n.thumbnail,ii)("alt",n.title)}}function pp(t,e){if(t&1){let n=Pt();p(0,"div",55),q(1,mp,2,2,"div",56),p(2,"div",57)(3,"div",58)(4,"span"),g(5),d(),p(6,"span"),g(7),d()(),p(8,"h5",59),g(9),d(),p(10,"div",60)(11,"span"),g(12),d(),p(13,"span"),g(14),d(),p(15,"span"),g(16),d()(),p(17,"p",61),g(18),d()(),p(19,"button",62),rt("click",function(){let o=Mt(n).ngIf,i=F(4);return wt(i.openUrl(o.url))}),g(20,"\uBCF4\uAE30"),d()()}if(t&2){let n=e.ngIf,r=F().$implicit,o=F(3);x(),V("ngIf",n.thumbnail),x(4),D(o.viralService.getPlatformIcon(n.platform)),x(2),D(o.viralService.getPlatformDisplayName(n.platform)),x(2),D(n.title),x(3),X("\u{1F441}\uFE0F ",o.viralService.formatNumber(n.metrics.views||0)),x(2),X("\u2764\uFE0F ",o.viralService.formatNumber(n.metrics.likes||0)),x(2),X("\u{1F4AC} ",o.viralService.formatNumber(n.metrics.comments||0)),x(2),D(r.reason)}}function dp(t,e){if(t&1&&(p(0,"div",52)(1,"div",53),g(2),d(),q(3,pp,21,8,"div",54),d()),t&2){let n=e.$implicit,r=F(3);x(2),D(n.rank),x(),V("ngIf",r.getTopPerformerContent(n.id))}}function hp(t,e){if(t&1&&(p(0,"div",49)(1,"h4"),g(2),d(),p(3,"div",50),q(4,dp,4,2,"div",51),d()()),t&2){let n=F(2);x(2),X("\u{1F3C6} \uC778\uAE30 \uCF58\uD150\uCE20 TOP ",n.report.topPerformers.length),x(2),V("ngForOf",n.report.topPerformers)}}function gp(t,e){if(t&1&&(p(0,"div",69)(1,"strong"),g(2,"\uCD5C\uACE0 \uC131\uACFC \uC694\uC77C:"),d(),p(3,"span"),g(4),d()()),t&2){let n=F(3);x(4),D(n.report.insights.bestPerformingDay)}}function xp(t,e){if(t&1&&(p(0,"div",72)(1,"span",73),g(2,"\u2713"),d(),p(3,"span",74),g(4),d()()),t&2){let n=e.$implicit;x(4),D(n)}}function _p(t,e){if(t&1&&(p(0,"div",65)(1,"h4"),g(2,"\u{1F4A1} \uC778\uC0AC\uC774\uD2B8 \uBC0F \uCD94\uCC9C\uC0AC\uD56D"),d(),p(3,"div",66)(4,"div",67)(5,"strong"),g(6,"\uCD5C\uACE0 \uC131\uACFC \uD50C\uB7AB\uD3FC:"),d(),p(7,"span"),g(8),d()(),q(9,gp,5,1,"div",68),p(10,"div",69)(11,"strong"),g(12,"\uD3C9\uADE0 \uCC38\uC5EC\uC728:"),d(),p(13,"span"),g(14),d()()(),p(15,"div",70),q(16,xp,5,1,"div",71),d()()),t&2){let n=F(2);x(8),Ht(" ",n.viralService.getPlatformIcon(n.report.insights.bestPerformingPlatform)," ",n.viralService.getPlatformDisplayName(n.report.insights.bestPerformingPlatform)," "),x(),V("ngIf",n.report.insights.bestPerformingDay),x(5),X("",n.report.insights.avgEngagementRate.toFixed(1),"%"),x(2),V("ngForOf",n.report.insights.recommendations)}}function yp(t,e){if(t&1){let n=Pt();p(0,"div",75)(1,"span"),g(2),d(),p(3,"button",76),rt("click",function(){Mt(n);let o=F(2);return wt(o.selectedPlatform=null)}),g(4,"\u2715"),d()()}if(t&2){let n=F(2);x(2),X("\uD544\uD130: ",n.viralService.getPlatformDisplayName(n.selectedPlatform))}}function vp(t,e){if(t&1&&(p(0,"span",93),g(1),d()),t&2){let n=F().$implicit;x(),X("\u{1F3AF} ",n.campaign)}}function Cp(t,e){if(t&1&&(p(0,"span",96),g(1),d()),t&2){let n=e.$implicit;x(),D(n)}}function bp(t,e){if(t&1&&(p(0,"div",94),q(1,Cp,2,1,"span",95),d()),t&2){let n=F().$implicit;x(),V("ngForOf",n.tags)}}function Mp(t,e){if(t&1&&(p(0,"div",87)(1,"span",88),g(2,"\u{1F504}"),d(),p(3,"span",89),g(4),d()()),t&2){let n=F().$implicit,r=F(2);x(4),D(r.viralService.formatNumber(n.metrics.shares))}}function wp(t,e){if(t&1){let n=Pt();p(0,"div",77)(1,"div",78)(2,"div",79),g(3),d(),p(4,"div",80)(5,"h5",59),g(6),d(),p(7,"div",81)(8,"span",82),g(9),d(),q(10,vp,2,1,"span",83),d(),q(11,bp,2,1,"div",84),d()(),p(12,"div",85)(13,"div",86)(14,"div",87)(15,"span",88),g(16,"\u{1F441}\uFE0F"),d(),p(17,"span",89),g(18),d()(),p(19,"div",87)(20,"span",88),g(21,"\u2764\uFE0F"),d(),p(22,"span",89),g(23),d()(),p(24,"div",87)(25,"span",88),g(26,"\u{1F4AC}"),d(),p(27,"span",89),g(28),d()(),q(29,Mp,5,1,"div",90),d(),p(30,"div",91),g(31),d(),p(32,"button",92),rt("click",function(){let o=Mt(n).$implicit,i=F(2);return wt(i.openUrl(o.url))}),g(33," \u{1F517} \uB9C1\uD06C "),d()()()}if(t&2){let n=e.$implicit,r=F(2);x(2),_t("background-color",r.viralService.getPlatformColor(n.platform)),x(),X(" ",r.viralService.getPlatformIcon(n.platform)," "),x(3),D(n.title),x(3),D(r.viralService.formatDate(n.publishedDate)),x(),V("ngIf",n.campaign),x(),V("ngIf",n.tags.length>0),x(7),D(r.viralService.formatNumber(n.metrics.views||0)),x(5),D(r.viralService.formatNumber(n.metrics.likes||0)),x(5),D(r.viralService.formatNumber(n.metrics.comments||0)),x(),V("ngIf",n.metrics.shares),x(2),X(" \uCC38\uC5EC\uC728: ",r.viralService.calculateEngagementRate(n).toFixed(2),"% ")}}function Pp(t,e){if(t&1&&(p(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",18),g(4,"\u{1F4DD}"),d(),p(5,"div",19)(6,"div",20),g(7),d(),p(8,"div",21),g(9,"\uCD1D \uAC8C\uC2DC\uBB3C"),d()()(),p(10,"div",17)(11,"div",18),g(12,"\u{1F441}\uFE0F"),d(),p(13,"div",19)(14,"div",20),g(15),d(),p(16,"div",21),g(17,"\uCD1D \uC870\uD68C\uC218"),d()()(),p(18,"div",17)(19,"div",18),g(20,"\u2764\uFE0F"),d(),p(21,"div",19)(22,"div",20),g(23),d(),p(24,"div",21),g(25,"\uCD1D \uC88B\uC544\uC694"),d()()(),p(26,"div",17)(27,"div",18),g(28,"\u{1F4AC}"),d(),p(29,"div",19)(30,"div",20),g(31),d(),p(32,"div",21),g(33,"\uCD1D \uB313\uAE00"),d()()(),p(34,"div",17)(35,"div",18),g(36,"\u{1F504}"),d(),p(37,"div",19)(38,"div",20),g(39),d(),p(40,"div",21),g(41,"\uCD1D \uACF5\uC720"),d()()()(),q(42,up,8,5,"div",22),p(43,"div",23)(44,"h4"),g(45,"\u{1F4F1} \uD50C\uB7AB\uD3FC\uBCC4 \uC131\uACFC"),d(),p(46,"div",24),q(47,fp,21,11,"div",25),d()(),q(48,hp,5,2,"div",26)(49,_p,17,5,"div",27),p(50,"div",28)(51,"div",29)(52,"h4"),g(53,"\u{1F4CB} \uCF58\uD150\uCE20 \uBAA9\uB85D"),d(),q(54,yp,5,1,"div",30),d(),p(55,"div",31),q(56,wp,34,12,"div",32),d()()()),t&2){let n=F();x(7),D(n.viralService.formatNumber(n.report.summary.totalPosts)),x(8),D(n.viralService.formatNumber(n.report.summary.totalViews)),x(8),D(n.viralService.formatNumber(n.report.summary.totalLikes)),x(8),D(n.viralService.formatNumber(n.report.summary.totalComments)),x(8),D(n.viralService.formatNumber(n.report.summary.totalShares)),x(3),V("ngIf",n.report.insights.growthFromLastMonth!==0),x(5),V("ngForOf",n.platformChartData),x(),V("ngIf",n.report.topPerformers.length>0),x(),V("ngIf",n.report.insights.recommendations.length>0),x(5),V("ngIf",n.selectedPlatform),x(2),V("ngForOf",n.getFilteredContents())}}function Op(t,e){t&1&&(p(0,"div",97)(1,"p"),g(2,"\u{1F4ED} \uB9AC\uD3EC\uD2B8 \uB370\uC774\uD130\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."),d()())}var Hr=class t{constructor(e){this.viralService=e}destroy$=new An;report=null;selectedMonth="2025-10";availableMonths=[];isLoading=!0;selectedPlatform=null;selectedCampaign=null;platformChartData=[];ngOnInit(){this.viralService.getAvailableMonths().pipe(bt(this.destroy$)).subscribe(e=>{this.availableMonths=e,e.length>0&&(this.selectedMonth=e[e.length-1],this.loadReport())})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadReport(){this.isLoading=!0,this.viralService.loadMonthlyReport(this.selectedMonth).pipe(bt(this.destroy$)).subscribe(e=>{this.report=e,this.isLoading=!1,this.preparePlatformChartData()})}onMonthChange(){this.loadReport()}preparePlatformChartData(){if(!this.report)return;let e=["youtube","instagram","threads","naverBlog"];this.platformChartData=e.map(n=>({platform:n,name:this.viralService.getPlatformDisplayName(n),icon:this.viralService.getPlatformIcon(n),count:this.report?.summary.platformBreakdown[n]||0,views:this.viralService.getPlatformTotalViews(n,this.report||void 0),color:this.viralService.getPlatformColor(n)}))}togglePlatformFilter(e){this.selectedPlatform===e?this.selectedPlatform=null:this.selectedPlatform=e}getFilteredContents(){if(!this.report)return[];let e=this.report.contents;return this.selectedPlatform&&(e=e.filter(n=>n.platform===this.selectedPlatform)),this.selectedCampaign&&(e=e.filter(n=>n.campaign===this.selectedCampaign)),e.sort((n,r)=>new Date(r.publishedDate).getTime()-new Date(n.publishedDate).getTime())}getTopPerformerContent(e){if(this.report)return this.report.contents.find(n=>n.id===e)}getTotalEngagement(){return this.report?(this.report.summary.totalLikes||0)+(this.report.summary.totalComments||0)+(this.report.summary.totalShares||0):0}getPlatformPercentage(e){return!this.report||this.report.summary.totalPosts===0?0:e/this.report.summary.totalPosts*100}getUniqueCampaigns(){if(!this.report)return[];let e=this.report.contents.map(n=>n.campaign).filter(n=>!!n);return Array.from(new Set(e))}openUrl(e){window.open(e,"_blank")}getGrowthColor(e){return e>0?"#4CAF50":e<0?"#F44336":"#757575"}getGrowthIcon(e){return e>0?"\u{1F4C8}":e<0?"\u{1F4C9}":"\u27A1\uFE0F"}static \u0275fac=function(n){return new(n||t)(nn(Yr))};static \u0275cmp=et({type:t,selectors:[["app-viral-marketing-report"]],standalone:!1,decls:16,vars:6,consts:[[1,"viral-report-widget"],[1,"widget-header"],[1,"header-left"],["routerLink","/dashboard",1,"back-btn"],["class","client-name",4,"ngIf"],[1,"header-right"],[1,"month-selector",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","loading-container",4,"ngIf"],["class","report-content",4,"ngIf"],["class","no-data",4,"ngIf"],[1,"client-name"],[3,"value"],[1,"loading-container"],[1,"spinner"],[1,"report-content"],[1,"summary-section"],[1,"summary-card"],[1,"card-icon"],[1,"card-content"],[1,"card-value"],[1,"card-label"],["class","growth-section",4,"ngIf"],[1,"platform-section"],[1,"platform-grid"],["class","platform-card",3,"active","click",4,"ngFor","ngForOf"],["class","top-performers-section",4,"ngIf"],["class","insights-section",4,"ngIf"],[1,"contents-section"],[1,"contents-header"],["class","filter-info",4,"ngIf"],[1,"contents-list"],["class","content-item",4,"ngFor","ngForOf"],[1,"growth-section"],[1,"growth-card"],[1,"growth-icon"],[1,"growth-text"],[1,"growth-value"],[1,"platform-card",3,"click"],[1,"platform-header"],[1,"platform-icon"],[1,"platform-name"],[1,"platform-stats"],[1,"stat-item"],[1,"stat-label"],[1,"stat-value"],[1,"platform-bar"],[1,"bar-fill"],[1,"platform-percentage"],[1,"top-performers-section"],[1,"top-performers-list"],["class","performer-item",4,"ngFor","ngForOf"],[1,"performer-item"],[1,"performer-rank"],["class","performer-content",4,"ngIf"],[1,"performer-content"],["class","content-thumbnail",4,"ngIf"],[1,"content-info"],[1,"content-platform"],[1,"content-title"],[1,"content-metrics"],[1,"performer-reason"],[1,"view-btn",3,"click"],[1,"content-thumbnail"],[3,"src","alt"],[1,"insights-section"],[1,"insights-content"],[1,"insight-item","best-platform"],["class","insight-item",4,"ngIf"],[1,"insight-item"],[1,"recommendations-list"],["class","recommendation-item",4,"ngFor","ngForOf"],[1,"recommendation-item"],[1,"rec-icon"],[1,"rec-text"],[1,"filter-info"],[1,"clear-filter",3,"click"],[1,"content-item"],[1,"content-left"],[1,"content-platform-badge"],[1,"content-details"],[1,"content-meta"],[1,"content-date"],["class","content-campaign",4,"ngIf"],["class","content-tags",4,"ngIf"],[1,"content-right"],[1,"content-metrics-grid"],[1,"metric"],[1,"metric-icon"],[1,"metric-value"],["class","metric",4,"ngIf"],[1,"content-engagement"],[1,"content-link-btn",3,"click"],[1,"content-campaign"],[1,"content-tags"],["class","tag",4,"ngFor","ngForOf"],[1,"tag"],[1,"no-data"]],template:function(n,r){n&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3)(4,"mat-icon"),g(5,"arrow_back"),d(),g(6," \uB300\uC2DC\uBCF4\uB4DC\uB85C \uB3CC\uC544\uAC00\uAE30 "),d(),p(7,"h3"),g(8,"\u{1F4CA} \uBC14\uC774\uB7F4 \uB9C8\uCF00\uD305 \uC6D4\uAC04 \uB9AC\uD3EC\uD2B8"),d(),q(9,sp,2,1,"p",4),d(),p(10,"div",5)(11,"select",6),mi("ngModelChange",function(i){return fi(r.selectedMonth,i)||(r.selectedMonth=i),i}),rt("change",function(){return r.onMonthChange()}),q(12,lp,2,2,"option",7),d()()(),q(13,cp,4,0,"div",8)(14,Pp,57,11,"div",9)(15,Op,3,0,"div",10),d()),n&2&&(x(9),V("ngIf",r.report),x(2),ui("ngModel",r.selectedMonth),x(),V("ngForOf",r.availableMonths),x(),V("ngIf",r.isLoading),x(),V("ngIf",!r.isLoading&&r.report),x(),V("ngIf",!r.isLoading&&!r.report))},dependencies:[hi,zn,Bn,Mi,wi,bi,vi,Ci,lt],styles:[".viral-report-widget[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;padding:30px;background:#f8f9fa;width:100%;min-height:100vh;overflow-y:visible;overflow-x:hidden}.widget-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:20px;background:#fff;border-radius:12px;box-shadow:0 2px 8px #00000014}.widget-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;margin-bottom:15px;background:transparent;border:1px solid #ddd;border-radius:8px;cursor:pointer;color:#666;font-size:.95rem;transition:all .3s}.widget-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.widget-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{background:#f5f5f5;border-color:#2196f3;color:#2196f3}.widget-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 5px;font-size:1.5rem;color:#333}.widget-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .client-name[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:#666;font-weight:500}.widget-header[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]{padding:8px 15px;font-size:1rem;border:1px solid #ddd;border-radius:6px;background:#fff;cursor:pointer;transition:border-color .3s}.widget-header[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]:hover{border-color:#2196f3}.widget-header[_ngcontent-%COMP%]   .month-selector[_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3;box-shadow:0 0 0 2px #2196f31a}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;gap:15px}.loading-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid #f3f3f3;border-top:4px solid #2196F3;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:1rem}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.summary-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:15px;padding:20px;background:#fff;border-radius:12px;box-shadow:0 2px 8px #00000014}.summary-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;padding:20px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:10px;color:#fff;box-shadow:0 4px 6px #0000001a}.summary-card[_ngcontent-%COMP%]:nth-child(2){background:linear-gradient(135deg,#f093fb,#f5576c)}.summary-card[_ngcontent-%COMP%]:nth-child(3){background:linear-gradient(135deg,#4facfe,#00f2fe)}.summary-card[_ngcontent-%COMP%]:nth-child(4){background:linear-gradient(135deg,#43e97b,#38f9d7)}.summary-card[_ngcontent-%COMP%]:nth-child(5){background:linear-gradient(135deg,#fa709a,#fee140)}.summary-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{font-size:2.5rem}.summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:5px}.summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .card-label[_ngcontent-%COMP%]{font-size:.9rem;opacity:.9}.growth-section[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;background:#fff;border-radius:12px;box-shadow:0 2px 8px #00000014}.growth-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:15px 30px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:50px;font-size:1.1rem;color:#fff;box-shadow:0 4px 12px #667eea4d}.growth-card[_ngcontent-%COMP%]   .growth-icon[_ngcontent-%COMP%]{font-size:1.5rem}.growth-card[_ngcontent-%COMP%]   .growth-text[_ngcontent-%COMP%]{opacity:.9}.growth-card[_ngcontent-%COMP%]   .growth-value[_ngcontent-%COMP%]{font-weight:700;font-size:1.3rem}.platform-section[_ngcontent-%COMP%]{padding:20px;background:#fff;border-radius:12px;box-shadow:0 2px 8px #00000014}.platform-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 15px;font-size:1.3rem;color:#333}.platform-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:15px}.platform-card[_ngcontent-%COMP%]{padding:20px;background:#fff;border:2px solid #e0e0e0;border-radius:10px;cursor:pointer;transition:all .3s}.platform-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 6px 12px #0000001a}.platform-card.active[_ngcontent-%COMP%]{border-color:#2196f3;background:#e3f2fd}.platform-card[_ngcontent-%COMP%]   .platform-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:15px}.platform-card[_ngcontent-%COMP%]   .platform-header[_ngcontent-%COMP%]   .platform-icon[_ngcontent-%COMP%]{font-size:1.8rem}.platform-card[_ngcontent-%COMP%]   .platform-header[_ngcontent-%COMP%]   .platform-name[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#333}.platform-card[_ngcontent-%COMP%]   .platform-stats[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:15px}.platform-card[_ngcontent-%COMP%]   .platform-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.platform-card[_ngcontent-%COMP%]   .platform-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.85rem;color:#666}.platform-card[_ngcontent-%COMP%]   .platform-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#333}.platform-card[_ngcontent-%COMP%]   .platform-bar[_ngcontent-%COMP%]{height:8px;background:#e0e0e0;border-radius:4px;overflow:hidden;margin-bottom:8px}.platform-card[_ngcontent-%COMP%]   .platform-bar[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{height:100%;transition:width .5s ease}.platform-card[_ngcontent-%COMP%]   .platform-percentage[_ngcontent-%COMP%]{text-align:right;font-size:.9rem;color:#666;font-weight:500}.top-performers-section[_ngcontent-%COMP%]{padding:20px;background:#fff;border-radius:12px;box-shadow:0 2px 8px #00000014}.top-performers-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 15px;font-size:1.3rem;color:#333}.top-performers-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.performer-item[_ngcontent-%COMP%]{display:flex;gap:15px;padding:20px;background:#fff;border:1px solid #e0e0e0;border-radius:10px;transition:box-shadow .3s}.performer-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a}.performer-item[_ngcontent-%COMP%]   .performer-rank[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-width:50px;height:50px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-size:1.5rem;font-weight:700;border-radius:50%}.performer-item[_ngcontent-%COMP%]   .performer-content[_ngcontent-%COMP%]{flex:1;display:flex;gap:15px;align-items:center}.performer-item[_ngcontent-%COMP%]   .performer-content[_ngcontent-%COMP%]   .content-thumbnail[_ngcontent-%COMP%]{width:120px;height:90px;border-radius:8px;overflow:hidden}.performer-item[_ngcontent-%COMP%]   .performer-content[_ngcontent-%COMP%]   .content-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.performer-item[_ngcontent-%COMP%]   .performer-content[_ngcontent-%COMP%]   .content-info[_ngcontent-%COMP%]{flex:1}.performer-item[_ngcontent-%COMP%]   .performer-content[_ngcontent-%COMP%]   .content-info[_ngcontent-%COMP%]   .content-platform[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;margin-bottom:8px;font-size:.9rem;color:#666}.performer-item[_ngcontent-%COMP%]   .performer-content[_ngcontent-%COMP%]   .content-info[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{margin:0 0 10px;font-size:1.1rem;color:#333;line-height:1.4}.performer-item[_ngcontent-%COMP%]   .performer-content[_ngcontent-%COMP%]   .content-info[_ngcontent-%COMP%]   .content-metrics[_ngcontent-%COMP%]{display:flex;gap:15px;margin-bottom:8px;font-size:.95rem;color:#555}.performer-item[_ngcontent-%COMP%]   .performer-content[_ngcontent-%COMP%]   .content-info[_ngcontent-%COMP%]   .performer-reason[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:#2196f3;font-weight:500}.performer-item[_ngcontent-%COMP%]   .performer-content[_ngcontent-%COMP%]   .view-btn[_ngcontent-%COMP%]{padding:10px 20px;background:#2196f3;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:1rem;transition:background .3s}.performer-item[_ngcontent-%COMP%]   .performer-content[_ngcontent-%COMP%]   .view-btn[_ngcontent-%COMP%]:hover{background:#1976d2}.insights-section[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:12px;box-shadow:0 2px 8px #00000014}.insights-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 15px;font-size:1.3rem;color:#333}.insights-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-bottom:20px}.insights-content[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.insights-content[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#555;font-size:.9rem}.insights-content[_ngcontent-%COMP%]   .insight-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#333;font-size:1.1rem;font-weight:600}.insights-content[_ngcontent-%COMP%]   .insight-item.best-platform[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#2196f3}.recommendations-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.recommendation-item[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:flex-start;padding:12px;background:#fff;border-radius:6px}.recommendation-item[_ngcontent-%COMP%]   .rec-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-width:24px;height:24px;background:#4caf50;color:#fff;border-radius:50%;font-size:.9rem}.recommendation-item[_ngcontent-%COMP%]   .rec-text[_ngcontent-%COMP%]{flex:1;color:#333;line-height:1.5}.contents-section[_ngcontent-%COMP%]{padding:20px;background:#fff;border-radius:12px;box-shadow:0 2px 8px #00000014}.contents-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 15px;font-size:1.3rem;color:#333}.contents-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.contents-header[_ngcontent-%COMP%]   .filter-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:8px 15px;background:#e3f2fd;border-radius:20px;font-size:.9rem;color:#1976d2}.contents-header[_ngcontent-%COMP%]   .filter-info[_ngcontent-%COMP%]   .clear-filter[_ngcontent-%COMP%]{padding:2px 8px;background:#1976d2;color:#fff;border:none;border-radius:50%;cursor:pointer;font-size:.8rem}.contents-header[_ngcontent-%COMP%]   .filter-info[_ngcontent-%COMP%]   .clear-filter[_ngcontent-%COMP%]:hover{background:#1565c0}.contents-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.content-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;background:#fff;border:1px solid #e0e0e0;border-radius:10px;transition:box-shadow .3s}.content-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a}.content-item[_ngcontent-%COMP%]   .content-left[_ngcontent-%COMP%]{flex:1;display:flex;gap:15px;align-items:center}.content-item[_ngcontent-%COMP%]   .content-left[_ngcontent-%COMP%]   .content-platform-badge[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-width:50px;height:50px;border-radius:50%;font-size:1.5rem}.content-item[_ngcontent-%COMP%]   .content-left[_ngcontent-%COMP%]   .content-details[_ngcontent-%COMP%]{flex:1}.content-item[_ngcontent-%COMP%]   .content-left[_ngcontent-%COMP%]   .content-details[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.1rem;color:#333;line-height:1.4}.content-item[_ngcontent-%COMP%]   .content-left[_ngcontent-%COMP%]   .content-details[_ngcontent-%COMP%]   .content-meta[_ngcontent-%COMP%]{display:flex;gap:15px;margin-bottom:8px;font-size:.9rem;color:#666}.content-item[_ngcontent-%COMP%]   .content-left[_ngcontent-%COMP%]   .content-details[_ngcontent-%COMP%]   .content-meta[_ngcontent-%COMP%]   .content-campaign[_ngcontent-%COMP%]{color:#ff9800;font-weight:500}.content-item[_ngcontent-%COMP%]   .content-left[_ngcontent-%COMP%]   .content-details[_ngcontent-%COMP%]   .content-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px}.content-item[_ngcontent-%COMP%]   .content-left[_ngcontent-%COMP%]   .content-details[_ngcontent-%COMP%]   .content-tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{padding:4px 10px;background:#e3f2fd;color:#1976d2;border-radius:12px;font-size:.85rem}.content-item[_ngcontent-%COMP%]   .content-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:10px}.content-item[_ngcontent-%COMP%]   .content-right[_ngcontent-%COMP%]   .content-metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}.content-item[_ngcontent-%COMP%]   .content-right[_ngcontent-%COMP%]   .content-metrics-grid[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;font-size:.9rem}.content-item[_ngcontent-%COMP%]   .content-right[_ngcontent-%COMP%]   .content-metrics-grid[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-icon[_ngcontent-%COMP%]{font-size:1rem}.content-item[_ngcontent-%COMP%]   .content-right[_ngcontent-%COMP%]   .content-metrics-grid[_ngcontent-%COMP%]   .metric[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{color:#333;font-weight:500}.content-item[_ngcontent-%COMP%]   .content-right[_ngcontent-%COMP%]   .content-engagement[_ngcontent-%COMP%]{font-size:.9rem;color:#4caf50;font-weight:600}.content-item[_ngcontent-%COMP%]   .content-right[_ngcontent-%COMP%]   .content-link-btn[_ngcontent-%COMP%]{padding:8px 16px;background:#2196f3;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:.9rem;transition:background .3s}.content-item[_ngcontent-%COMP%]   .content-right[_ngcontent-%COMP%]   .content-link-btn[_ngcontent-%COMP%]:hover{background:#1976d2}.no-data[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:60px 20px;color:#999;font-size:1.1rem}@media (max-width: 768px){.widget-header[_ngcontent-%COMP%]{flex-direction:column;gap:15px;align-items:flex-start}.summary-section[_ngcontent-%COMP%], .platform-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.performer-item[_ngcontent-%COMP%]{flex-direction:column}.performer-item[_ngcontent-%COMP%]   .performer-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.content-item[_ngcontent-%COMP%]{flex-direction:column;gap:15px;align-items:flex-start}.content-item[_ngcontent-%COMP%]   .content-right[_ngcontent-%COMP%]{align-items:flex-start;width:100%}}"]})};var Oe=class t{constructor(e,n){this.authService=e;this.router=n}canActivate(e,n){return this.authService.isLoggedIn()?!0:(this.router.navigate(["/dashboard/login"]),!1)}static \u0275fac=function(n){return new(n||t)(le(Ft),le(Jt))};static \u0275prov=Qt({token:t,factory:t.\u0275fac,providedIn:"root"})};var Sp=[{path:"login",component:Lr},{path:"",component:Ur,canActivate:[Oe]},{path:"viral-marketing",component:Hr,canActivate:[Oe]}],qr=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Rn({type:t});static \u0275inj=Fn({imports:[Qr.forChild(Sp),Qr]})};var Fl=class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Rn({type:t});static \u0275inj=Fn({providers:[nt,Ft,Oe],imports:[_i,qr,Pi,Di,zi,ki,Ti,Ii,Ei,Ri,Si,Ni]})};export{Fl as DashboardModule};
