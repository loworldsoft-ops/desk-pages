import{ba as l,ua as a,xc as c}from"./chunk-5TLQJ6AI.js";var o={blue:{id:"blue",name:"Blue",label:"\uD30C\uB780\uC0C9",icon:"\u{1F535}",colors:{primary:"#4f46e5",secondary:"#0D8ABC",accent:"#3b82f6",neutral:"#6b7280"},categoryColors:["#4f46e5","#10b981","#f59e0b","#6b7280"]},red:{id:"red",name:"Red",label:"\uBE68\uAC04\uC0C9",icon:"\u{1F534}",colors:{primary:"#ef4444",secondary:"#dc2626",accent:"#f87171",neutral:"#6b7280"},categoryColors:["#ef4444","#dc2626","#f87171","#ef5350"]},green:{id:"green",name:"Green",label:"\uCD08\uB85D\uC0C9",icon:"\u{1F7E2}",colors:{primary:"#10b981",secondary:"#059669",accent:"#34d399",neutral:"#6b7280"},categoryColors:["#10b981","#059669","#34d399","#14b8a6"]},purple:{id:"purple",name:"Purple",label:"\uBCF4\uB77C\uC0C9",icon:"\u{1F7E3}",colors:{primary:"#a855f7",secondary:"#9333ea",accent:"#d8b4fe",neutral:"#6b7280"},categoryColors:["#a855f7","#9333ea","#c084fc","#e879f9"]},orange:{id:"orange",name:"Orange",label:"\uC8FC\uD669\uC0C9",icon:"\u{1F7E0}",colors:{primary:"#f97316",secondary:"#ea580c",accent:"#fb923c",neutral:"#6b7280"},categoryColors:["#f97316","#ea580c","#fb923c","#fbbf24"]},pink:{id:"pink",name:"Pink",label:"\uBD84\uD64D\uC0C9",icon:"\u{1FA77}",colors:{primary:"#ec4899",secondary:"#db2777",accent:"#f472b6",neutral:"#6b7280"},categoryColors:["#ec4899","#db2777","#f472b6","#fbcfe8"]}};var d=class r{STORAGE_KEY="app-theme-config";currentCalendarTheme=a(o.red);currentNoteTheme=a(o.red);isLunarVisible=a(!1);isSonlessVisible=a(!1);use24HourFormat=a(!0);availableThemes=a(Object.values(o));themeConfig=c(()=>({calendar:this.currentCalendarTheme(),note:this.currentNoteTheme(),display:{lunar:this.isLunarVisible(),sonless:this.isSonlessVisible(),hour24:this.use24HourFormat()},lastUpdated:new Date().toISOString()}));constructor(){this.loadThemeConfig(),this.applyThemes()}loadThemeConfig(){let t=localStorage.getItem(this.STORAGE_KEY);if(t)try{let e=JSON.parse(t),i=Object.values(o).find(s=>s.id===e.calendar.id),n=Object.values(o).find(s=>s.id===e.note.id);i&&this.currentCalendarTheme.set(i),n&&this.currentNoteTheme.set(n),e.display&&(e.display.lunar!==void 0&&this.isLunarVisible.set(e.display.lunar),e.display.sonless!==void 0&&this.isSonlessVisible.set(e.display.sonless),e.display.hour24!==void 0&&this.use24HourFormat.set(e.display.hour24))}catch(e){console.error("\uD14C\uB9C8 \uC124\uC815 \uB85C\uB4DC \uC2E4\uD328:",e)}}toggleLunarVisible(){this.isLunarVisible.update(t=>!t),this.saveThemeConfig()}toggleSonlessVisible(){this.isSonlessVisible.update(t=>!t),this.saveThemeConfig()}toggleHourFormat(){this.use24HourFormat.update(t=>!t),this.saveThemeConfig()}setCalendarTheme(t){let e=o[t];e&&(this.currentCalendarTheme.set(e),this.saveThemeConfig(),this.applyCalendarTheme(e))}setNoteTheme(t){let e=o[t];e&&(this.currentNoteTheme.set(e),this.saveThemeConfig(),this.applyNoteTheme(e))}saveThemeConfig(){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.themeConfig()))}applyThemes(){this.applyCalendarTheme(this.currentCalendarTheme()),this.applyNoteTheme(this.currentNoteTheme())}applyCalendarTheme(t){let e=document.documentElement;e.style.setProperty("--calendar-primary",t.colors.primary),e.style.setProperty("--calendar-secondary",t.colors.secondary),e.style.setProperty("--calendar-accent",t.colors.accent)}applyNoteTheme(t){let e=document.documentElement;e.style.setProperty("--note-primary",t.colors.primary),e.style.setProperty("--note-secondary",t.colors.secondary),e.style.setProperty("--note-accent",t.colors.accent)}getTheme(t){return o[t]}static \u0275fac=function(e){return new(e||r)};static \u0275prov=l({token:r,factory:r.\u0275fac,providedIn:"root"})};export{d as a};
