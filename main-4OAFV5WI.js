import{A as jn,B as al,a as j,b as Oe,e as Xa,f as ur,i as Tt,j as Xn,k as _n,l as Qa,m as Za,n as ja,o as Ut,p as dr,q as tl,r as nl,s as il,t as ol,u as Qn,x as Zn,y as rl,z as sl}from"./chunk-4O5ZDABC.js";import{$ as ka,$b as Ka,Aa as sr,Ab as Ga,B as ba,Ba as J,Da as Ba,Ea as ze,H as Da,Hc as el,I as gn,Ka as $n,La as ut,Pa as Ne,Ra as Fa,Ub as Ha,Vb as za,X as ie,Y as le,Ya as ar,Z as ct,Za as Na,_a as Oa,_b as Ja,a as Ot,aa as me,ac as Wn,b as Pa,ba as mn,bc as cr,c as wa,cc as Yn,d as Ma,db as $,dc as $a,e as Q,ea as de,eb as G,ec as Wa,f as Fd,fa as fe,fb as H,fc as Ya,g as nr,ga as X,gb as W,h as I,ha as or,ib as Et,ja as Kn,jb as Te,k as zn,kb as se,na as Ra,nb as La,o as Lt,ob as Ua,pb as qa,r as Ia,rb as lr,s as Jn,sb as dt,t as lt,ta as rr,vb as ve,w as Ct,wb as ft,xb as Va,y as ir}from"./chunk-PGTKKYSN.js";var Uu=Q(()=>{"use strict"});var ee=Q((so,qu)=>{"use strict";(function(n,e){typeof so=="object"?qu.exports=so=e():typeof define=="function"&&define.amd?define([],e):n.CryptoJS=e()})(so,function(){var n=n||(function(e,t){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof global<"u"&&global.crypto&&(i=global.crypto),!i&&typeof wa=="function")try{i=Uu()}catch{}var o=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},r=Object.create||(function(){function _(){}return function(v){var C;return _.prototype=v,C=new _,_.prototype=null,C}})(),s={},l=s.lib={},u=l.Base=(function(){return{extend:function(_){var v=r(this);return _&&v.mixIn(_),(!v.hasOwnProperty("init")||this.init===v.init)&&(v.init=function(){v.$super.init.apply(this,arguments)}),v.init.prototype=v,v.$super=this,v},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var v in _)_.hasOwnProperty(v)&&(this[v]=_[v]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),d=l.WordArray=u.extend({init:function(_,v){_=this.words=_||[],v!=t?this.sigBytes=v:this.sigBytes=_.length*4},toString:function(_){return(_||p).stringify(this)},concat:function(_){var v=this.words,C=_.words,E=this.sigBytes,T=_.sigBytes;if(this.clamp(),E%4)for(var A=0;A<T;A++){var M=C[A>>>2]>>>24-A%4*8&255;v[E+A>>>2]|=M<<24-(E+A)%4*8}else for(var k=0;k<T;k+=4)v[E+k>>>2]=C[k>>>2];return this.sigBytes+=T,this},clamp:function(){var _=this.words,v=this.sigBytes;_[v>>>2]&=4294967295<<32-v%4*8,_.length=e.ceil(v/4)},clone:function(){var _=u.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var v=[],C=0;C<_;C+=4)v.push(o());return new d.init(v,_)}}),f=s.enc={},p=f.Hex={stringify:function(_){for(var v=_.words,C=_.sigBytes,E=[],T=0;T<C;T++){var A=v[T>>>2]>>>24-T%4*8&255;E.push((A>>>4).toString(16)),E.push((A&15).toString(16))}return E.join("")},parse:function(_){for(var v=_.length,C=[],E=0;E<v;E+=2)C[E>>>3]|=parseInt(_.substr(E,2),16)<<24-E%8*4;return new d.init(C,v/2)}},h=f.Latin1={stringify:function(_){for(var v=_.words,C=_.sigBytes,E=[],T=0;T<C;T++){var A=v[T>>>2]>>>24-T%4*8&255;E.push(String.fromCharCode(A))}return E.join("")},parse:function(_){for(var v=_.length,C=[],E=0;E<v;E++)C[E>>>2]|=(_.charCodeAt(E)&255)<<24-E%4*8;return new d.init(C,v)}},g=f.Utf8={stringify:function(_){try{return decodeURIComponent(escape(h.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return h.parse(unescape(encodeURIComponent(_)))}},m=l.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(_){typeof _=="string"&&(_=g.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var v,C=this._data,E=C.words,T=C.sigBytes,A=this.blockSize,M=A*4,k=T/M;_?k=e.ceil(k):k=e.max((k|0)-this._minBufferSize,0);var w=k*A,N=e.min(w*4,T);if(w){for(var P=0;P<w;P+=A)this._doProcessBlock(E,P);v=E.splice(0,w),C.sigBytes-=N}return new d.init(v,N)},clone:function(){var _=u.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0}),x=l.Hasher=m.extend({cfg:u.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){_&&this._append(_);var v=this._doFinalize();return v},blockSize:512/32,_createHelper:function(_){return function(v,C){return new _.init(C).finalize(v)}},_createHmacHelper:function(_){return function(v,C){return new y.HMAC.init(_,C).finalize(v)}}}),y=s.algo={};return s})(Math);return n})});var Un=Q((ao,Vu)=>{"use strict";(function(n,e){typeof ao=="object"?Vu.exports=ao=e(ee()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(ao,function(n){return(function(e){var t=n,i=t.lib,o=i.Base,r=i.WordArray,s=t.x64={},l=s.Word=o.extend({init:function(d,f){this.high=d,this.low=f}}),u=s.WordArray=o.extend({init:function(d,f){d=this.words=d||[],f!=e?this.sigBytes=f:this.sigBytes=d.length*8},toX32:function(){for(var d=this.words,f=d.length,p=[],h=0;h<f;h++){var g=d[h];p.push(g.high),p.push(g.low)}return r.create(p,this.sigBytes)},clone:function(){for(var d=o.clone.call(this),f=d.words=this.words.slice(0),p=f.length,h=0;h<p;h++)f[h]=f[h].clone();return d}})})(),n})});var Hu=Q((lo,Gu)=>{"use strict";(function(n,e){typeof lo=="object"?Gu.exports=lo=e(ee()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(lo,function(n){return(function(){if(typeof ArrayBuffer=="function"){var e=n,t=e.lib,i=t.WordArray,o=i.init,r=i.init=function(s){if(s instanceof ArrayBuffer&&(s=new Uint8Array(s)),(s instanceof Int8Array||typeof Uint8ClampedArray<"u"&&s instanceof Uint8ClampedArray||s instanceof Int16Array||s instanceof Uint16Array||s instanceof Int32Array||s instanceof Uint32Array||s instanceof Float32Array||s instanceof Float64Array)&&(s=new Uint8Array(s.buffer,s.byteOffset,s.byteLength)),s instanceof Uint8Array){for(var l=s.byteLength,u=[],d=0;d<l;d++)u[d>>>2]|=s[d]<<24-d%4*8;o.call(this,u,l)}else o.apply(this,arguments)};r.prototype=i}})(),n.lib.WordArray})});var Ju=Q((co,zu)=>{"use strict";(function(n,e){typeof co=="object"?zu.exports=co=e(ee()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(co,function(n){return(function(){var e=n,t=e.lib,i=t.WordArray,o=e.enc,r=o.Utf16=o.Utf16BE={stringify:function(l){for(var u=l.words,d=l.sigBytes,f=[],p=0;p<d;p+=2){var h=u[p>>>2]>>>16-p%4*8&65535;f.push(String.fromCharCode(h))}return f.join("")},parse:function(l){for(var u=l.length,d=[],f=0;f<u;f++)d[f>>>1]|=l.charCodeAt(f)<<16-f%2*16;return i.create(d,u*2)}};o.Utf16LE={stringify:function(l){for(var u=l.words,d=l.sigBytes,f=[],p=0;p<d;p+=2){var h=s(u[p>>>2]>>>16-p%4*8&65535);f.push(String.fromCharCode(h))}return f.join("")},parse:function(l){for(var u=l.length,d=[],f=0;f<u;f++)d[f>>>1]|=s(l.charCodeAt(f)<<16-f%2*16);return i.create(d,u*2)}};function s(l){return l<<8&4278255360|l>>>8&16711935}})(),n.enc.Utf16})});var vt=Q((uo,Ku)=>{"use strict";(function(n,e){typeof uo=="object"?Ku.exports=uo=e(ee()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(uo,function(n){return(function(){var e=n,t=e.lib,i=t.WordArray,o=e.enc,r=o.Base64={stringify:function(l){var u=l.words,d=l.sigBytes,f=this._map;l.clamp();for(var p=[],h=0;h<d;h+=3)for(var g=u[h>>>2]>>>24-h%4*8&255,m=u[h+1>>>2]>>>24-(h+1)%4*8&255,x=u[h+2>>>2]>>>24-(h+2)%4*8&255,y=g<<16|m<<8|x,_=0;_<4&&h+_*.75<d;_++)p.push(f.charAt(y>>>6*(3-_)&63));var v=f.charAt(64);if(v)for(;p.length%4;)p.push(v);return p.join("")},parse:function(l){var u=l.length,d=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var p=0;p<d.length;p++)f[d.charCodeAt(p)]=p}var h=d.charAt(64);if(h){var g=l.indexOf(h);g!==-1&&(u=g)}return s(l,u,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function s(l,u,d){for(var f=[],p=0,h=0;h<u;h++)if(h%4){var g=d[l.charCodeAt(h-1)]<<h%4*2,m=d[l.charCodeAt(h)]>>>6-h%4*2,x=g|m;f[p>>>2]|=x<<24-p%4*8,p++}return i.create(f,p)}})(),n.enc.Base64})});var Wu=Q((fo,$u)=>{"use strict";(function(n,e){typeof fo=="object"?$u.exports=fo=e(ee()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(fo,function(n){return(function(){var e=n,t=e.lib,i=t.WordArray,o=e.enc,r=o.Base64url={stringify:function(l,u){u===void 0&&(u=!0);var d=l.words,f=l.sigBytes,p=u?this._safe_map:this._map;l.clamp();for(var h=[],g=0;g<f;g+=3)for(var m=d[g>>>2]>>>24-g%4*8&255,x=d[g+1>>>2]>>>24-(g+1)%4*8&255,y=d[g+2>>>2]>>>24-(g+2)%4*8&255,_=m<<16|x<<8|y,v=0;v<4&&g+v*.75<f;v++)h.push(p.charAt(_>>>6*(3-v)&63));var C=p.charAt(64);if(C)for(;h.length%4;)h.push(C);return h.join("")},parse:function(l,u){u===void 0&&(u=!0);var d=l.length,f=u?this._safe_map:this._map,p=this._reverseMap;if(!p){p=this._reverseMap=[];for(var h=0;h<f.length;h++)p[f.charCodeAt(h)]=h}var g=f.charAt(64);if(g){var m=l.indexOf(g);m!==-1&&(d=m)}return s(l,d,p)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function s(l,u,d){for(var f=[],p=0,h=0;h<u;h++)if(h%4){var g=d[l.charCodeAt(h-1)]<<h%4*2,m=d[l.charCodeAt(h)]>>>6-h%4*2,x=g|m;f[p>>>2]|=x<<24-p%4*8,p++}return i.create(f,p)}})(),n.enc.Base64url})});var xt=Q((po,Yu)=>{"use strict";(function(n,e){typeof po=="object"?Yu.exports=po=e(ee()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(po,function(n){return(function(e){var t=n,i=t.lib,o=i.WordArray,r=i.Hasher,s=t.algo,l=[];(function(){for(var g=0;g<64;g++)l[g]=e.abs(e.sin(g+1))*4294967296|0})();var u=s.MD5=r.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(g,m){for(var x=0;x<16;x++){var y=m+x,_=g[y];g[y]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360}var v=this._hash.words,C=g[m+0],E=g[m+1],T=g[m+2],A=g[m+3],M=g[m+4],k=g[m+5],w=g[m+6],N=g[m+7],P=g[m+8],R=g[m+9],V=g[m+10],L=g[m+11],K=g[m+12],b=g[m+13],U=g[m+14],q=g[m+15],S=v[0],B=v[1],O=v[2],F=v[3];S=d(S,B,O,F,C,7,l[0]),F=d(F,S,B,O,E,12,l[1]),O=d(O,F,S,B,T,17,l[2]),B=d(B,O,F,S,A,22,l[3]),S=d(S,B,O,F,M,7,l[4]),F=d(F,S,B,O,k,12,l[5]),O=d(O,F,S,B,w,17,l[6]),B=d(B,O,F,S,N,22,l[7]),S=d(S,B,O,F,P,7,l[8]),F=d(F,S,B,O,R,12,l[9]),O=d(O,F,S,B,V,17,l[10]),B=d(B,O,F,S,L,22,l[11]),S=d(S,B,O,F,K,7,l[12]),F=d(F,S,B,O,b,12,l[13]),O=d(O,F,S,B,U,17,l[14]),B=d(B,O,F,S,q,22,l[15]),S=f(S,B,O,F,E,5,l[16]),F=f(F,S,B,O,w,9,l[17]),O=f(O,F,S,B,L,14,l[18]),B=f(B,O,F,S,C,20,l[19]),S=f(S,B,O,F,k,5,l[20]),F=f(F,S,B,O,V,9,l[21]),O=f(O,F,S,B,q,14,l[22]),B=f(B,O,F,S,M,20,l[23]),S=f(S,B,O,F,R,5,l[24]),F=f(F,S,B,O,U,9,l[25]),O=f(O,F,S,B,A,14,l[26]),B=f(B,O,F,S,P,20,l[27]),S=f(S,B,O,F,b,5,l[28]),F=f(F,S,B,O,T,9,l[29]),O=f(O,F,S,B,N,14,l[30]),B=f(B,O,F,S,K,20,l[31]),S=p(S,B,O,F,k,4,l[32]),F=p(F,S,B,O,P,11,l[33]),O=p(O,F,S,B,L,16,l[34]),B=p(B,O,F,S,U,23,l[35]),S=p(S,B,O,F,E,4,l[36]),F=p(F,S,B,O,M,11,l[37]),O=p(O,F,S,B,N,16,l[38]),B=p(B,O,F,S,V,23,l[39]),S=p(S,B,O,F,b,4,l[40]),F=p(F,S,B,O,C,11,l[41]),O=p(O,F,S,B,A,16,l[42]),B=p(B,O,F,S,w,23,l[43]),S=p(S,B,O,F,R,4,l[44]),F=p(F,S,B,O,K,11,l[45]),O=p(O,F,S,B,q,16,l[46]),B=p(B,O,F,S,T,23,l[47]),S=h(S,B,O,F,C,6,l[48]),F=h(F,S,B,O,N,10,l[49]),O=h(O,F,S,B,U,15,l[50]),B=h(B,O,F,S,k,21,l[51]),S=h(S,B,O,F,K,6,l[52]),F=h(F,S,B,O,A,10,l[53]),O=h(O,F,S,B,V,15,l[54]),B=h(B,O,F,S,E,21,l[55]),S=h(S,B,O,F,P,6,l[56]),F=h(F,S,B,O,q,10,l[57]),O=h(O,F,S,B,w,15,l[58]),B=h(B,O,F,S,b,21,l[59]),S=h(S,B,O,F,M,6,l[60]),F=h(F,S,B,O,L,10,l[61]),O=h(O,F,S,B,T,15,l[62]),B=h(B,O,F,S,R,21,l[63]),v[0]=v[0]+S|0,v[1]=v[1]+B|0,v[2]=v[2]+O|0,v[3]=v[3]+F|0},_doFinalize:function(){var g=this._data,m=g.words,x=this._nDataBytes*8,y=g.sigBytes*8;m[y>>>5]|=128<<24-y%32;var _=e.floor(x/4294967296),v=x;m[(y+64>>>9<<4)+15]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,m[(y+64>>>9<<4)+14]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,g.sigBytes=(m.length+1)*4,this._process();for(var C=this._hash,E=C.words,T=0;T<4;T++){var A=E[T];E[T]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}return C},clone:function(){var g=r.clone.call(this);return g._hash=this._hash.clone(),g}});function d(g,m,x,y,_,v,C){var E=g+(m&x|~m&y)+_+C;return(E<<v|E>>>32-v)+m}function f(g,m,x,y,_,v,C){var E=g+(m&y|x&~y)+_+C;return(E<<v|E>>>32-v)+m}function p(g,m,x,y,_,v,C){var E=g+(m^x^y)+_+C;return(E<<v|E>>>32-v)+m}function h(g,m,x,y,_,v,C){var E=g+(x^(m|~y))+_+C;return(E<<v|E>>>32-v)+m}t.MD5=r._createHelper(u),t.HmacMD5=r._createHmacHelper(u)})(Math),n.MD5})});var ea=Q((ho,Xu)=>{"use strict";(function(n,e){typeof ho=="object"?Xu.exports=ho=e(ee()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(ho,function(n){return(function(){var e=n,t=e.lib,i=t.WordArray,o=t.Hasher,r=e.algo,s=[],l=r.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,d){for(var f=this._hash.words,p=f[0],h=f[1],g=f[2],m=f[3],x=f[4],y=0;y<80;y++){if(y<16)s[y]=u[d+y]|0;else{var _=s[y-3]^s[y-8]^s[y-14]^s[y-16];s[y]=_<<1|_>>>31}var v=(p<<5|p>>>27)+x+s[y];y<20?v+=(h&g|~h&m)+1518500249:y<40?v+=(h^g^m)+1859775393:y<60?v+=(h&g|h&m|g&m)-1894007588:v+=(h^g^m)-899497514,x=m,m=g,g=h<<30|h>>>2,h=p,p=v}f[0]=f[0]+p|0,f[1]=f[1]+h|0,f[2]=f[2]+g|0,f[3]=f[3]+m|0,f[4]=f[4]+x|0},_doFinalize:function(){var u=this._data,d=u.words,f=this._nDataBytes*8,p=u.sigBytes*8;return d[p>>>5]|=128<<24-p%32,d[(p+64>>>9<<4)+14]=Math.floor(f/4294967296),d[(p+64>>>9<<4)+15]=f,u.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});e.SHA1=o._createHelper(l),e.HmacSHA1=o._createHmacHelper(l)})(),n.SHA1})});var mo=Q((go,Qu)=>{"use strict";(function(n,e){typeof go=="object"?Qu.exports=go=e(ee()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(go,function(n){return(function(e){var t=n,i=t.lib,o=i.WordArray,r=i.Hasher,s=t.algo,l=[],u=[];(function(){function p(x){for(var y=e.sqrt(x),_=2;_<=y;_++)if(!(x%_))return!1;return!0}function h(x){return(x-(x|0))*4294967296|0}for(var g=2,m=0;m<64;)p(g)&&(m<8&&(l[m]=h(e.pow(g,1/2))),u[m]=h(e.pow(g,1/3)),m++),g++})();var d=[],f=s.SHA256=r.extend({_doReset:function(){this._hash=new o.init(l.slice(0))},_doProcessBlock:function(p,h){for(var g=this._hash.words,m=g[0],x=g[1],y=g[2],_=g[3],v=g[4],C=g[5],E=g[6],T=g[7],A=0;A<64;A++){if(A<16)d[A]=p[h+A]|0;else{var M=d[A-15],k=(M<<25|M>>>7)^(M<<14|M>>>18)^M>>>3,w=d[A-2],N=(w<<15|w>>>17)^(w<<13|w>>>19)^w>>>10;d[A]=k+d[A-7]+N+d[A-16]}var P=v&C^~v&E,R=m&x^m&y^x&y,V=(m<<30|m>>>2)^(m<<19|m>>>13)^(m<<10|m>>>22),L=(v<<26|v>>>6)^(v<<21|v>>>11)^(v<<7|v>>>25),K=T+L+P+u[A]+d[A],b=V+R;T=E,E=C,C=v,v=_+K|0,_=y,y=x,x=m,m=K+b|0}g[0]=g[0]+m|0,g[1]=g[1]+x|0,g[2]=g[2]+y|0,g[3]=g[3]+_|0,g[4]=g[4]+v|0,g[5]=g[5]+C|0,g[6]=g[6]+E|0,g[7]=g[7]+T|0},_doFinalize:function(){var p=this._data,h=p.words,g=this._nDataBytes*8,m=p.sigBytes*8;return h[m>>>5]|=128<<24-m%32,h[(m+64>>>9<<4)+14]=e.floor(g/4294967296),h[(m+64>>>9<<4)+15]=g,p.sigBytes=h.length*4,this._process(),this._hash},clone:function(){var p=r.clone.call(this);return p._hash=this._hash.clone(),p}});t.SHA256=r._createHelper(f),t.HmacSHA256=r._createHmacHelper(f)})(Math),n.SHA256})});var ju=Q((_o,Zu)=>{"use strict";(function(n,e,t){typeof _o=="object"?Zu.exports=_o=e(ee(),mo()):typeof define=="function"&&define.amd?define(["./core","./sha256"],e):e(n.CryptoJS)})(_o,function(n){return(function(){var e=n,t=e.lib,i=t.WordArray,o=e.algo,r=o.SHA256,s=o.SHA224=r.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=r._doFinalize.call(this);return l.sigBytes-=4,l}});e.SHA224=r._createHelper(s),e.HmacSHA224=r._createHmacHelper(s)})(),n.SHA224})});var ta=Q((vo,e0)=>{"use strict";(function(n,e,t){typeof vo=="object"?e0.exports=vo=e(ee(),Un()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],e):e(n.CryptoJS)})(vo,function(n){return(function(){var e=n,t=e.lib,i=t.Hasher,o=e.x64,r=o.Word,s=o.WordArray,l=e.algo;function u(){return r.create.apply(r,arguments)}var d=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],f=[];(function(){for(var h=0;h<80;h++)f[h]=u()})();var p=l.SHA512=i.extend({_doReset:function(){this._hash=new s.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(h,g){for(var m=this._hash.words,x=m[0],y=m[1],_=m[2],v=m[3],C=m[4],E=m[5],T=m[6],A=m[7],M=x.high,k=x.low,w=y.high,N=y.low,P=_.high,R=_.low,V=v.high,L=v.low,K=C.high,b=C.low,U=E.high,q=E.low,S=T.high,B=T.low,O=A.high,F=A.low,ne=M,Y=k,ge=w,Z=N,ce=P,Ee=R,_e=V,He=L,ye=K,Me=b,Vn=U,un=q,Gn=S,dn=B,tr=O,fn=F,Fe=0;Fe<80;Fe++){var De,st,Hn=f[Fe];if(Fe<16)st=Hn.high=h[g+Fe*2]|0,De=Hn.low=h[g+Fe*2+1]|0;else{var ha=f[Fe-15],Ft=ha.high,pn=ha.low,Ed=(Ft>>>1|pn<<31)^(Ft>>>8|pn<<24)^Ft>>>7,ga=(pn>>>1|Ft<<31)^(pn>>>8|Ft<<24)^(pn>>>7|Ft<<25),ma=f[Fe-2],Nt=ma.high,hn=ma.low,Td=(Nt>>>19|hn<<13)^(Nt<<3|hn>>>29)^Nt>>>6,_a=(hn>>>19|Nt<<13)^(hn<<3|Nt>>>29)^(hn>>>6|Nt<<26),va=f[Fe-7],Ad=va.high,Sd=va.low,xa=f[Fe-16],Pd=xa.high,ya=xa.low;De=ga+Sd,st=Ed+Ad+(De>>>0<ga>>>0?1:0),De=De+_a,st=st+Td+(De>>>0<_a>>>0?1:0),De=De+ya,st=st+Pd+(De>>>0<ya>>>0?1:0),Hn.high=st,Hn.low=De}var wd=ye&Vn^~ye&Gn,Ca=Me&un^~Me&dn,Md=ne&ge^ne&ce^ge&ce,Id=Y&Z^Y&Ee^Z&Ee,bd=(ne>>>28|Y<<4)^(ne<<30|Y>>>2)^(ne<<25|Y>>>7),Ea=(Y>>>28|ne<<4)^(Y<<30|ne>>>2)^(Y<<25|ne>>>7),Dd=(ye>>>14|Me<<18)^(ye>>>18|Me<<14)^(ye<<23|Me>>>9),kd=(Me>>>14|ye<<18)^(Me>>>18|ye<<14)^(Me<<23|ye>>>9),Ta=d[Fe],Rd=Ta.high,Aa=Ta.low,Ie=fn+kd,at=tr+Dd+(Ie>>>0<fn>>>0?1:0),Ie=Ie+Ca,at=at+wd+(Ie>>>0<Ca>>>0?1:0),Ie=Ie+Aa,at=at+Rd+(Ie>>>0<Aa>>>0?1:0),Ie=Ie+De,at=at+st+(Ie>>>0<De>>>0?1:0),Sa=Ea+Id,Bd=bd+Md+(Sa>>>0<Ea>>>0?1:0);tr=Gn,fn=dn,Gn=Vn,dn=un,Vn=ye,un=Me,Me=He+Ie|0,ye=_e+at+(Me>>>0<He>>>0?1:0)|0,_e=ce,He=Ee,ce=ge,Ee=Z,ge=ne,Z=Y,Y=Ie+Sa|0,ne=at+Bd+(Y>>>0<Ie>>>0?1:0)|0}k=x.low=k+Y,x.high=M+ne+(k>>>0<Y>>>0?1:0),N=y.low=N+Z,y.high=w+ge+(N>>>0<Z>>>0?1:0),R=_.low=R+Ee,_.high=P+ce+(R>>>0<Ee>>>0?1:0),L=v.low=L+He,v.high=V+_e+(L>>>0<He>>>0?1:0),b=C.low=b+Me,C.high=K+ye+(b>>>0<Me>>>0?1:0),q=E.low=q+un,E.high=U+Vn+(q>>>0<un>>>0?1:0),B=T.low=B+dn,T.high=S+Gn+(B>>>0<dn>>>0?1:0),F=A.low=F+fn,A.high=O+tr+(F>>>0<fn>>>0?1:0)},_doFinalize:function(){var h=this._data,g=h.words,m=this._nDataBytes*8,x=h.sigBytes*8;g[x>>>5]|=128<<24-x%32,g[(x+128>>>10<<5)+30]=Math.floor(m/4294967296),g[(x+128>>>10<<5)+31]=m,h.sigBytes=g.length*4,this._process();var y=this._hash.toX32();return y},clone:function(){var h=i.clone.call(this);return h._hash=this._hash.clone(),h},blockSize:1024/32});e.SHA512=i._createHelper(p),e.HmacSHA512=i._createHmacHelper(p)})(),n.SHA512})});var n0=Q((xo,t0)=>{"use strict";(function(n,e,t){typeof xo=="object"?t0.exports=xo=e(ee(),Un(),ta()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],e):e(n.CryptoJS)})(xo,function(n){return(function(){var e=n,t=e.x64,i=t.Word,o=t.WordArray,r=e.algo,s=r.SHA512,l=r.SHA384=s.extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var u=s._doFinalize.call(this);return u.sigBytes-=16,u}});e.SHA384=s._createHelper(l),e.HmacSHA384=s._createHmacHelper(l)})(),n.SHA384})});var o0=Q((yo,i0)=>{"use strict";(function(n,e,t){typeof yo=="object"?i0.exports=yo=e(ee(),Un()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],e):e(n.CryptoJS)})(yo,function(n){return(function(e){var t=n,i=t.lib,o=i.WordArray,r=i.Hasher,s=t.x64,l=s.Word,u=t.algo,d=[],f=[],p=[];(function(){for(var m=1,x=0,y=0;y<24;y++){d[m+5*x]=(y+1)*(y+2)/2%64;var _=x%5,v=(2*m+3*x)%5;m=_,x=v}for(var m=0;m<5;m++)for(var x=0;x<5;x++)f[m+5*x]=x+(2*m+3*x)%5*5;for(var C=1,E=0;E<24;E++){for(var T=0,A=0,M=0;M<7;M++){if(C&1){var k=(1<<M)-1;k<32?A^=1<<k:T^=1<<k-32}C&128?C=C<<1^113:C<<=1}p[E]=l.create(T,A)}})();var h=[];(function(){for(var m=0;m<25;m++)h[m]=l.create()})();var g=u.SHA3=r.extend({cfg:r.cfg.extend({outputLength:512}),_doReset:function(){for(var m=this._state=[],x=0;x<25;x++)m[x]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(m,x){for(var y=this._state,_=this.blockSize/2,v=0;v<_;v++){var C=m[x+2*v],E=m[x+2*v+1];C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360;var T=y[v];T.high^=E,T.low^=C}for(var A=0;A<24;A++){for(var M=0;M<5;M++){for(var k=0,w=0,N=0;N<5;N++){var T=y[M+5*N];k^=T.high,w^=T.low}var P=h[M];P.high=k,P.low=w}for(var M=0;M<5;M++)for(var R=h[(M+4)%5],V=h[(M+1)%5],L=V.high,K=V.low,k=R.high^(L<<1|K>>>31),w=R.low^(K<<1|L>>>31),N=0;N<5;N++){var T=y[M+5*N];T.high^=k,T.low^=w}for(var b=1;b<25;b++){var k,w,T=y[b],U=T.high,q=T.low,S=d[b];S<32?(k=U<<S|q>>>32-S,w=q<<S|U>>>32-S):(k=q<<S-32|U>>>64-S,w=U<<S-32|q>>>64-S);var B=h[f[b]];B.high=k,B.low=w}var O=h[0],F=y[0];O.high=F.high,O.low=F.low;for(var M=0;M<5;M++)for(var N=0;N<5;N++){var b=M+5*N,T=y[b],ne=h[b],Y=h[(M+1)%5+5*N],ge=h[(M+2)%5+5*N];T.high=ne.high^~Y.high&ge.high,T.low=ne.low^~Y.low&ge.low}var T=y[0],Z=p[A];T.high^=Z.high,T.low^=Z.low}},_doFinalize:function(){var m=this._data,x=m.words,y=this._nDataBytes*8,_=m.sigBytes*8,v=this.blockSize*32;x[_>>>5]|=1<<24-_%32,x[(e.ceil((_+1)/v)*v>>>5)-1]|=128,m.sigBytes=x.length*4,this._process();for(var C=this._state,E=this.cfg.outputLength/8,T=E/8,A=[],M=0;M<T;M++){var k=C[M],w=k.high,N=k.low;w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,N=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,A.push(N),A.push(w)}return new o.init(A,E)},clone:function(){for(var m=r.clone.call(this),x=m._state=this._state.slice(0),y=0;y<25;y++)x[y]=x[y].clone();return m}});t.SHA3=r._createHelper(g),t.HmacSHA3=r._createHmacHelper(g)})(Math),n.SHA3})});var s0=Q((Co,r0)=>{"use strict";(function(n,e){typeof Co=="object"?r0.exports=Co=e(ee()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(Co,function(n){return(function(e){var t=n,i=t.lib,o=i.WordArray,r=i.Hasher,s=t.algo,l=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),p=o.create([0,1518500249,1859775393,2400959708,2840853838]),h=o.create([1352829926,1548603684,1836072691,2053994217,0]),g=s.RIPEMD160=r.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(E,T){for(var A=0;A<16;A++){var M=T+A,k=E[M];E[M]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}var w=this._hash.words,N=p.words,P=h.words,R=l.words,V=u.words,L=d.words,K=f.words,b,U,q,S,B,O,F,ne,Y,ge;O=b=w[0],F=U=w[1],ne=q=w[2],Y=S=w[3],ge=B=w[4];for(var Z,A=0;A<80;A+=1)Z=b+E[T+R[A]]|0,A<16?Z+=m(U,q,S)+N[0]:A<32?Z+=x(U,q,S)+N[1]:A<48?Z+=y(U,q,S)+N[2]:A<64?Z+=_(U,q,S)+N[3]:Z+=v(U,q,S)+N[4],Z=Z|0,Z=C(Z,L[A]),Z=Z+B|0,b=B,B=S,S=C(q,10),q=U,U=Z,Z=O+E[T+V[A]]|0,A<16?Z+=v(F,ne,Y)+P[0]:A<32?Z+=_(F,ne,Y)+P[1]:A<48?Z+=y(F,ne,Y)+P[2]:A<64?Z+=x(F,ne,Y)+P[3]:Z+=m(F,ne,Y)+P[4],Z=Z|0,Z=C(Z,K[A]),Z=Z+ge|0,O=ge,ge=Y,Y=C(ne,10),ne=F,F=Z;Z=w[1]+q+Y|0,w[1]=w[2]+S+ge|0,w[2]=w[3]+B+O|0,w[3]=w[4]+b+F|0,w[4]=w[0]+U+ne|0,w[0]=Z},_doFinalize:function(){var E=this._data,T=E.words,A=this._nDataBytes*8,M=E.sigBytes*8;T[M>>>5]|=128<<24-M%32,T[(M+64>>>9<<4)+14]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,E.sigBytes=(T.length+1)*4,this._process();for(var k=this._hash,w=k.words,N=0;N<5;N++){var P=w[N];w[N]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}return k},clone:function(){var E=r.clone.call(this);return E._hash=this._hash.clone(),E}});function m(E,T,A){return E^T^A}function x(E,T,A){return E&T|~E&A}function y(E,T,A){return(E|~T)^A}function _(E,T,A){return E&A|T&~A}function v(E,T,A){return E^(T|~A)}function C(E,T){return E<<T|E>>>32-T}t.RIPEMD160=r._createHelper(g),t.HmacRIPEMD160=r._createHmacHelper(g)})(Math),n.RIPEMD160})});var To=Q((Eo,a0)=>{"use strict";(function(n,e){typeof Eo=="object"?a0.exports=Eo=e(ee()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(Eo,function(n){(function(){var e=n,t=e.lib,i=t.Base,o=e.enc,r=o.Utf8,s=e.algo,l=s.HMAC=i.extend({init:function(u,d){u=this._hasher=new u.init,typeof d=="string"&&(d=r.parse(d));var f=u.blockSize,p=f*4;d.sigBytes>p&&(d=u.finalize(d)),d.clamp();for(var h=this._oKey=d.clone(),g=this._iKey=d.clone(),m=h.words,x=g.words,y=0;y<f;y++)m[y]^=1549556828,x[y]^=909522486;h.sigBytes=g.sigBytes=p,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var d=this._hasher,f=d.finalize(u);d.reset();var p=d.finalize(this._oKey.clone().concat(f));return p}})})()})});var c0=Q((Ao,l0)=>{"use strict";(function(n,e,t){typeof Ao=="object"?l0.exports=Ao=e(ee(),mo(),To()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],e):e(n.CryptoJS)})(Ao,function(n){return(function(){var e=n,t=e.lib,i=t.Base,o=t.WordArray,r=e.algo,s=r.SHA256,l=r.HMAC,u=r.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:s,iterations:25e4}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,f){for(var p=this.cfg,h=l.create(p.hasher,d),g=o.create(),m=o.create([1]),x=g.words,y=m.words,_=p.keySize,v=p.iterations;x.length<_;){var C=h.update(f).finalize(m);h.reset();for(var E=C.words,T=E.length,A=C,M=1;M<v;M++){A=h.finalize(A),h.reset();for(var k=A.words,w=0;w<T;w++)E[w]^=k[w]}g.concat(C),y[0]++}return g.sigBytes=_*4,g}});e.PBKDF2=function(d,f,p){return u.create(p).compute(d,f)}})(),n.PBKDF2})});var nt=Q((So,u0)=>{"use strict";(function(n,e,t){typeof So=="object"?u0.exports=So=e(ee(),ea(),To()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],e):e(n.CryptoJS)})(So,function(n){return(function(){var e=n,t=e.lib,i=t.Base,o=t.WordArray,r=e.algo,s=r.MD5,l=r.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:s,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,d){for(var f,p=this.cfg,h=p.hasher.create(),g=o.create(),m=g.words,x=p.keySize,y=p.iterations;m.length<x;){f&&h.update(f),f=h.update(u).finalize(d),h.reset();for(var _=1;_<y;_++)f=h.finalize(f),h.reset();g.concat(f)}return g.sigBytes=x*4,g}});e.EvpKDF=function(u,d,f){return l.create(f).compute(u,d)}})(),n.EvpKDF})});var pe=Q((Po,d0)=>{"use strict";(function(n,e,t){typeof Po=="object"?d0.exports=Po=e(ee(),nt()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],e):e(n.CryptoJS)})(Po,function(n){n.lib.Cipher||(function(e){var t=n,i=t.lib,o=i.Base,r=i.WordArray,s=i.BufferedBlockAlgorithm,l=t.enc,u=l.Utf8,d=l.Base64,f=t.algo,p=f.EvpKDF,h=i.Cipher=s.extend({cfg:o.extend(),createEncryptor:function(P,R){return this.create(this._ENC_XFORM_MODE,P,R)},createDecryptor:function(P,R){return this.create(this._DEC_XFORM_MODE,P,R)},init:function(P,R,V){this.cfg=this.cfg.extend(V),this._xformMode=P,this._key=R,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(P){return this._append(P),this._process()},finalize:function(P){P&&this._append(P);var R=this._doFinalize();return R},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function P(R){return typeof R=="string"?N:M}return function(R){return{encrypt:function(V,L,K){return P(L).encrypt(R,V,L,K)},decrypt:function(V,L,K){return P(L).decrypt(R,V,L,K)}}}})()}),g=i.StreamCipher=h.extend({_doFinalize:function(){var P=this._process(!0);return P},blockSize:1}),m=t.mode={},x=i.BlockCipherMode=o.extend({createEncryptor:function(P,R){return this.Encryptor.create(P,R)},createDecryptor:function(P,R){return this.Decryptor.create(P,R)},init:function(P,R){this._cipher=P,this._iv=R}}),y=m.CBC=(function(){var P=x.extend();P.Encryptor=P.extend({processBlock:function(V,L){var K=this._cipher,b=K.blockSize;R.call(this,V,L,b),K.encryptBlock(V,L),this._prevBlock=V.slice(L,L+b)}}),P.Decryptor=P.extend({processBlock:function(V,L){var K=this._cipher,b=K.blockSize,U=V.slice(L,L+b);K.decryptBlock(V,L),R.call(this,V,L,b),this._prevBlock=U}});function R(V,L,K){var b,U=this._iv;U?(b=U,this._iv=e):b=this._prevBlock;for(var q=0;q<K;q++)V[L+q]^=b[q]}return P})(),_=t.pad={},v=_.Pkcs7={pad:function(P,R){for(var V=R*4,L=V-P.sigBytes%V,K=L<<24|L<<16|L<<8|L,b=[],U=0;U<L;U+=4)b.push(K);var q=r.create(b,L);P.concat(q)},unpad:function(P){var R=P.words[P.sigBytes-1>>>2]&255;P.sigBytes-=R}},C=i.BlockCipher=h.extend({cfg:h.cfg.extend({mode:y,padding:v}),reset:function(){var P;h.reset.call(this);var R=this.cfg,V=R.iv,L=R.mode;this._xformMode==this._ENC_XFORM_MODE?P=L.createEncryptor:(P=L.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==P?this._mode.init(this,V&&V.words):(this._mode=P.call(L,this,V&&V.words),this._mode.__creator=P)},_doProcessBlock:function(P,R){this._mode.processBlock(P,R)},_doFinalize:function(){var P,R=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(R.pad(this._data,this.blockSize),P=this._process(!0)):(P=this._process(!0),R.unpad(P)),P},blockSize:128/32}),E=i.CipherParams=o.extend({init:function(P){this.mixIn(P)},toString:function(P){return(P||this.formatter).stringify(this)}}),T=t.format={},A=T.OpenSSL={stringify:function(P){var R,V=P.ciphertext,L=P.salt;return L?R=r.create([1398893684,1701076831]).concat(L).concat(V):R=V,R.toString(d)},parse:function(P){var R,V=d.parse(P),L=V.words;return L[0]==1398893684&&L[1]==1701076831&&(R=r.create(L.slice(2,4)),L.splice(0,4),V.sigBytes-=16),E.create({ciphertext:V,salt:R})}},M=i.SerializableCipher=o.extend({cfg:o.extend({format:A}),encrypt:function(P,R,V,L){L=this.cfg.extend(L);var K=P.createEncryptor(V,L),b=K.finalize(R),U=K.cfg;return E.create({ciphertext:b,key:V,iv:U.iv,algorithm:P,mode:U.mode,padding:U.padding,blockSize:P.blockSize,formatter:L.format})},decrypt:function(P,R,V,L){L=this.cfg.extend(L),R=this._parse(R,L.format);var K=P.createDecryptor(V,L).finalize(R.ciphertext);return K},_parse:function(P,R){return typeof P=="string"?R.parse(P,this):P}}),k=t.kdf={},w=k.OpenSSL={execute:function(P,R,V,L,K){if(L||(L=r.random(64/8)),K)var b=p.create({keySize:R+V,hasher:K}).compute(P,L);else var b=p.create({keySize:R+V}).compute(P,L);var U=r.create(b.words.slice(R),V*4);return b.sigBytes=R*4,E.create({key:b,iv:U,salt:L})}},N=i.PasswordBasedCipher=M.extend({cfg:M.cfg.extend({kdf:w}),encrypt:function(P,R,V,L){L=this.cfg.extend(L);var K=L.kdf.execute(V,P.keySize,P.ivSize,L.salt,L.hasher);L.iv=K.iv;var b=M.encrypt.call(this,P,R,K.key,L);return b.mixIn(K),b},decrypt:function(P,R,V,L){L=this.cfg.extend(L),R=this._parse(R,L.format);var K=L.kdf.execute(V,P.keySize,P.ivSize,R.salt,L.hasher);L.iv=K.iv;var b=M.decrypt.call(this,P,R,K.key,L);return b}})})()})});var p0=Q((wo,f0)=>{"use strict";(function(n,e,t){typeof wo=="object"?f0.exports=wo=e(ee(),pe()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(wo,function(n){return n.mode.CFB=(function(){var e=n.lib.BlockCipherMode.extend();e.Encryptor=e.extend({processBlock:function(i,o){var r=this._cipher,s=r.blockSize;t.call(this,i,o,s,r),this._prevBlock=i.slice(o,o+s)}}),e.Decryptor=e.extend({processBlock:function(i,o){var r=this._cipher,s=r.blockSize,l=i.slice(o,o+s);t.call(this,i,o,s,r),this._prevBlock=l}});function t(i,o,r,s){var l,u=this._iv;u?(l=u.slice(0),this._iv=void 0):l=this._prevBlock,s.encryptBlock(l,0);for(var d=0;d<r;d++)i[o+d]^=l[d]}return e})(),n.mode.CFB})});var g0=Q((Mo,h0)=>{"use strict";(function(n,e,t){typeof Mo=="object"?h0.exports=Mo=e(ee(),pe()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(Mo,function(n){return n.mode.CTR=(function(){var e=n.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(i,o){var r=this._cipher,s=r.blockSize,l=this._iv,u=this._counter;l&&(u=this._counter=l.slice(0),this._iv=void 0);var d=u.slice(0);r.encryptBlock(d,0),u[s-1]=u[s-1]+1|0;for(var f=0;f<s;f++)i[o+f]^=d[f]}});return e.Decryptor=t,e})(),n.mode.CTR})});var _0=Q((Io,m0)=>{"use strict";(function(n,e,t){typeof Io=="object"?m0.exports=Io=e(ee(),pe()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(Io,function(n){return n.mode.CTRGladman=(function(){var e=n.lib.BlockCipherMode.extend();function t(r){if((r>>24&255)===255){var s=r>>16&255,l=r>>8&255,u=r&255;s===255?(s=0,l===255?(l=0,u===255?u=0:++u):++l):++s,r=0,r+=s<<16,r+=l<<8,r+=u}else r+=1<<24;return r}function i(r){return(r[0]=t(r[0]))===0&&(r[1]=t(r[1])),r}var o=e.Encryptor=e.extend({processBlock:function(r,s){var l=this._cipher,u=l.blockSize,d=this._iv,f=this._counter;d&&(f=this._counter=d.slice(0),this._iv=void 0),i(f);var p=f.slice(0);l.encryptBlock(p,0);for(var h=0;h<u;h++)r[s+h]^=p[h]}});return e.Decryptor=o,e})(),n.mode.CTRGladman})});var x0=Q((bo,v0)=>{"use strict";(function(n,e,t){typeof bo=="object"?v0.exports=bo=e(ee(),pe()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(bo,function(n){return n.mode.OFB=(function(){var e=n.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(i,o){var r=this._cipher,s=r.blockSize,l=this._iv,u=this._keystream;l&&(u=this._keystream=l.slice(0),this._iv=void 0),r.encryptBlock(u,0);for(var d=0;d<s;d++)i[o+d]^=u[d]}});return e.Decryptor=t,e})(),n.mode.OFB})});var C0=Q((Do,y0)=>{"use strict";(function(n,e,t){typeof Do=="object"?y0.exports=Do=e(ee(),pe()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(Do,function(n){return n.mode.ECB=(function(){var e=n.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(t,i){this._cipher.encryptBlock(t,i)}}),e.Decryptor=e.extend({processBlock:function(t,i){this._cipher.decryptBlock(t,i)}}),e})(),n.mode.ECB})});var T0=Q((ko,E0)=>{"use strict";(function(n,e,t){typeof ko=="object"?E0.exports=ko=e(ee(),pe()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(ko,function(n){return n.pad.AnsiX923={pad:function(e,t){var i=e.sigBytes,o=t*4,r=o-i%o,s=i+r-1;e.clamp(),e.words[s>>>2]|=r<<24-s%4*8,e.sigBytes+=r},unpad:function(e){var t=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=t}},n.pad.Ansix923})});var S0=Q((Ro,A0)=>{"use strict";(function(n,e,t){typeof Ro=="object"?A0.exports=Ro=e(ee(),pe()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(Ro,function(n){return n.pad.Iso10126={pad:function(e,t){var i=t*4,o=i-e.sigBytes%i;e.concat(n.lib.WordArray.random(o-1)).concat(n.lib.WordArray.create([o<<24],1))},unpad:function(e){var t=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=t}},n.pad.Iso10126})});var w0=Q((Bo,P0)=>{"use strict";(function(n,e,t){typeof Bo=="object"?P0.exports=Bo=e(ee(),pe()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(Bo,function(n){return n.pad.Iso97971={pad:function(e,t){e.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(e,t)},unpad:function(e){n.pad.ZeroPadding.unpad(e),e.sigBytes--}},n.pad.Iso97971})});var I0=Q((Fo,M0)=>{"use strict";(function(n,e,t){typeof Fo=="object"?M0.exports=Fo=e(ee(),pe()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(Fo,function(n){return n.pad.ZeroPadding={pad:function(e,t){var i=t*4;e.clamp(),e.sigBytes+=i-(e.sigBytes%i||i)},unpad:function(e){for(var t=e.words,i=e.sigBytes-1,i=e.sigBytes-1;i>=0;i--)if(t[i>>>2]>>>24-i%4*8&255){e.sigBytes=i+1;break}}},n.pad.ZeroPadding})});var D0=Q((No,b0)=>{"use strict";(function(n,e,t){typeof No=="object"?b0.exports=No=e(ee(),pe()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(No,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})});var R0=Q((Oo,k0)=>{"use strict";(function(n,e,t){typeof Oo=="object"?k0.exports=Oo=e(ee(),pe()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(Oo,function(n){return(function(e){var t=n,i=t.lib,o=i.CipherParams,r=t.enc,s=r.Hex,l=t.format,u=l.Hex={stringify:function(d){return d.ciphertext.toString(s)},parse:function(d){var f=s.parse(d);return o.create({ciphertext:f})}}})(),n.format.Hex})});var F0=Q((Lo,B0)=>{"use strict";(function(n,e,t){typeof Lo=="object"?B0.exports=Lo=e(ee(),vt(),xt(),nt(),pe()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(n.CryptoJS)})(Lo,function(n){return(function(){var e=n,t=e.lib,i=t.BlockCipher,o=e.algo,r=[],s=[],l=[],u=[],d=[],f=[],p=[],h=[],g=[],m=[];(function(){for(var _=[],v=0;v<256;v++)v<128?_[v]=v<<1:_[v]=v<<1^283;for(var C=0,E=0,v=0;v<256;v++){var T=E^E<<1^E<<2^E<<3^E<<4;T=T>>>8^T&255^99,r[C]=T,s[T]=C;var A=_[C],M=_[A],k=_[M],w=_[T]*257^T*16843008;l[C]=w<<24|w>>>8,u[C]=w<<16|w>>>16,d[C]=w<<8|w>>>24,f[C]=w;var w=k*16843009^M*65537^A*257^C*16843008;p[T]=w<<24|w>>>8,h[T]=w<<16|w>>>16,g[T]=w<<8|w>>>24,m[T]=w,C?(C=A^_[_[_[k^A]]],E^=_[_[E]]):C=E=1}})();var x=[0,1,2,4,8,16,32,64,128,27,54],y=o.AES=i.extend({_doReset:function(){var _;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var v=this._keyPriorReset=this._key,C=v.words,E=v.sigBytes/4,T=this._nRounds=E+6,A=(T+1)*4,M=this._keySchedule=[],k=0;k<A;k++)k<E?M[k]=C[k]:(_=M[k-1],k%E?E>6&&k%E==4&&(_=r[_>>>24]<<24|r[_>>>16&255]<<16|r[_>>>8&255]<<8|r[_&255]):(_=_<<8|_>>>24,_=r[_>>>24]<<24|r[_>>>16&255]<<16|r[_>>>8&255]<<8|r[_&255],_^=x[k/E|0]<<24),M[k]=M[k-E]^_);for(var w=this._invKeySchedule=[],N=0;N<A;N++){var k=A-N;if(N%4)var _=M[k];else var _=M[k-4];N<4||k<=4?w[N]=_:w[N]=p[r[_>>>24]]^h[r[_>>>16&255]]^g[r[_>>>8&255]]^m[r[_&255]]}}},encryptBlock:function(_,v){this._doCryptBlock(_,v,this._keySchedule,l,u,d,f,r)},decryptBlock:function(_,v){var C=_[v+1];_[v+1]=_[v+3],_[v+3]=C,this._doCryptBlock(_,v,this._invKeySchedule,p,h,g,m,s);var C=_[v+1];_[v+1]=_[v+3],_[v+3]=C},_doCryptBlock:function(_,v,C,E,T,A,M,k){for(var w=this._nRounds,N=_[v]^C[0],P=_[v+1]^C[1],R=_[v+2]^C[2],V=_[v+3]^C[3],L=4,K=1;K<w;K++){var b=E[N>>>24]^T[P>>>16&255]^A[R>>>8&255]^M[V&255]^C[L++],U=E[P>>>24]^T[R>>>16&255]^A[V>>>8&255]^M[N&255]^C[L++],q=E[R>>>24]^T[V>>>16&255]^A[N>>>8&255]^M[P&255]^C[L++],S=E[V>>>24]^T[N>>>16&255]^A[P>>>8&255]^M[R&255]^C[L++];N=b,P=U,R=q,V=S}var b=(k[N>>>24]<<24|k[P>>>16&255]<<16|k[R>>>8&255]<<8|k[V&255])^C[L++],U=(k[P>>>24]<<24|k[R>>>16&255]<<16|k[V>>>8&255]<<8|k[N&255])^C[L++],q=(k[R>>>24]<<24|k[V>>>16&255]<<16|k[N>>>8&255]<<8|k[P&255])^C[L++],S=(k[V>>>24]<<24|k[N>>>16&255]<<16|k[P>>>8&255]<<8|k[R&255])^C[L++];_[v]=b,_[v+1]=U,_[v+2]=q,_[v+3]=S},keySize:256/32});e.AES=i._createHelper(y)})(),n.AES})});var O0=Q((Uo,N0)=>{"use strict";(function(n,e,t){typeof Uo=="object"?N0.exports=Uo=e(ee(),vt(),xt(),nt(),pe()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(n.CryptoJS)})(Uo,function(n){return(function(){var e=n,t=e.lib,i=t.WordArray,o=t.BlockCipher,r=e.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=r.DES=o.extend({_doReset:function(){for(var x=this._key,y=x.words,_=[],v=0;v<56;v++){var C=s[v]-1;_[v]=y[C>>>5]>>>31-C%32&1}for(var E=this._subKeys=[],T=0;T<16;T++){for(var A=E[T]=[],M=u[T],v=0;v<24;v++)A[v/6|0]|=_[(l[v]-1+M)%28]<<31-v%6,A[4+(v/6|0)]|=_[28+(l[v+24]-1+M)%28]<<31-v%6;A[0]=A[0]<<1|A[0]>>>31;for(var v=1;v<7;v++)A[v]=A[v]>>>(v-1)*4+3;A[7]=A[7]<<5|A[7]>>>27}for(var k=this._invSubKeys=[],v=0;v<16;v++)k[v]=E[15-v]},encryptBlock:function(x,y){this._doCryptBlock(x,y,this._subKeys)},decryptBlock:function(x,y){this._doCryptBlock(x,y,this._invSubKeys)},_doCryptBlock:function(x,y,_){this._lBlock=x[y],this._rBlock=x[y+1],h.call(this,4,252645135),h.call(this,16,65535),g.call(this,2,858993459),g.call(this,8,16711935),h.call(this,1,1431655765);for(var v=0;v<16;v++){for(var C=_[v],E=this._lBlock,T=this._rBlock,A=0,M=0;M<8;M++)A|=d[M][((T^C[M])&f[M])>>>0];this._lBlock=T,this._rBlock=E^A}var k=this._lBlock;this._lBlock=this._rBlock,this._rBlock=k,h.call(this,1,1431655765),g.call(this,8,16711935),g.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),x[y]=this._lBlock,x[y+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function h(x,y){var _=(this._lBlock>>>x^this._rBlock)&y;this._rBlock^=_,this._lBlock^=_<<x}function g(x,y){var _=(this._rBlock>>>x^this._lBlock)&y;this._lBlock^=_,this._rBlock^=_<<x}e.DES=o._createHelper(p);var m=r.TripleDES=o.extend({_doReset:function(){var x=this._key,y=x.words;if(y.length!==2&&y.length!==4&&y.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var _=y.slice(0,2),v=y.length<4?y.slice(0,2):y.slice(2,4),C=y.length<6?y.slice(0,2):y.slice(4,6);this._des1=p.createEncryptor(i.create(_)),this._des2=p.createEncryptor(i.create(v)),this._des3=p.createEncryptor(i.create(C))},encryptBlock:function(x,y){this._des1.encryptBlock(x,y),this._des2.decryptBlock(x,y),this._des3.encryptBlock(x,y)},decryptBlock:function(x,y){this._des3.decryptBlock(x,y),this._des2.encryptBlock(x,y),this._des1.decryptBlock(x,y)},keySize:192/32,ivSize:64/32,blockSize:64/32});e.TripleDES=o._createHelper(m)})(),n.TripleDES})});var U0=Q((qo,L0)=>{"use strict";(function(n,e,t){typeof qo=="object"?L0.exports=qo=e(ee(),vt(),xt(),nt(),pe()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(n.CryptoJS)})(qo,function(n){return(function(){var e=n,t=e.lib,i=t.StreamCipher,o=e.algo,r=o.RC4=i.extend({_doReset:function(){for(var u=this._key,d=u.words,f=u.sigBytes,p=this._S=[],h=0;h<256;h++)p[h]=h;for(var h=0,g=0;h<256;h++){var m=h%f,x=d[m>>>2]>>>24-m%4*8&255;g=(g+p[h]+x)%256;var y=p[h];p[h]=p[g],p[g]=y}this._i=this._j=0},_doProcessBlock:function(u,d){u[d]^=s.call(this)},keySize:256/32,ivSize:0});function s(){for(var u=this._S,d=this._i,f=this._j,p=0,h=0;h<4;h++){d=(d+1)%256,f=(f+u[d])%256;var g=u[d];u[d]=u[f],u[f]=g,p|=u[(u[d]+u[f])%256]<<24-h*8}return this._i=d,this._j=f,p}e.RC4=i._createHelper(r);var l=o.RC4Drop=r.extend({cfg:r.cfg.extend({drop:192}),_doReset:function(){r._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)s.call(this)}});e.RC4Drop=i._createHelper(l)})(),n.RC4})});var V0=Q((Vo,q0)=>{"use strict";(function(n,e,t){typeof Vo=="object"?q0.exports=Vo=e(ee(),vt(),xt(),nt(),pe()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(n.CryptoJS)})(Vo,function(n){return(function(){var e=n,t=e.lib,i=t.StreamCipher,o=e.algo,r=[],s=[],l=[],u=o.Rabbit=i.extend({_doReset:function(){for(var f=this._key.words,p=this.cfg.iv,h=0;h<4;h++)f[h]=(f[h]<<8|f[h]>>>24)&16711935|(f[h]<<24|f[h]>>>8)&4278255360;var g=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],m=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var h=0;h<4;h++)d.call(this);for(var h=0;h<8;h++)m[h]^=g[h+4&7];if(p){var x=p.words,y=x[0],_=x[1],v=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,C=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,E=v>>>16|C&4294901760,T=C<<16|v&65535;m[0]^=v,m[1]^=E,m[2]^=C,m[3]^=T,m[4]^=v,m[5]^=E,m[6]^=C,m[7]^=T;for(var h=0;h<4;h++)d.call(this)}},_doProcessBlock:function(f,p){var h=this._X;d.call(this),r[0]=h[0]^h[5]>>>16^h[3]<<16,r[1]=h[2]^h[7]>>>16^h[5]<<16,r[2]=h[4]^h[1]>>>16^h[7]<<16,r[3]=h[6]^h[3]>>>16^h[1]<<16;for(var g=0;g<4;g++)r[g]=(r[g]<<8|r[g]>>>24)&16711935|(r[g]<<24|r[g]>>>8)&4278255360,f[p+g]^=r[g]},blockSize:128/32,ivSize:64/32});function d(){for(var f=this._X,p=this._C,h=0;h<8;h++)s[h]=p[h];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<s[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<s[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<s[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<s[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<s[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<s[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<s[6]>>>0?1:0)|0,this._b=p[7]>>>0<s[7]>>>0?1:0;for(var h=0;h<8;h++){var g=f[h]+p[h],m=g&65535,x=g>>>16,y=((m*m>>>17)+m*x>>>15)+x*x,_=((g&4294901760)*g|0)+((g&65535)*g|0);l[h]=y^_}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}e.Rabbit=i._createHelper(u)})(),n.Rabbit})});var H0=Q((Go,G0)=>{"use strict";(function(n,e,t){typeof Go=="object"?G0.exports=Go=e(ee(),vt(),xt(),nt(),pe()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(n.CryptoJS)})(Go,function(n){return(function(){var e=n,t=e.lib,i=t.StreamCipher,o=e.algo,r=[],s=[],l=[],u=o.RabbitLegacy=i.extend({_doReset:function(){var f=this._key.words,p=this.cfg.iv,h=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],g=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var m=0;m<4;m++)d.call(this);for(var m=0;m<8;m++)g[m]^=h[m+4&7];if(p){var x=p.words,y=x[0],_=x[1],v=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,C=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,E=v>>>16|C&4294901760,T=C<<16|v&65535;g[0]^=v,g[1]^=E,g[2]^=C,g[3]^=T,g[4]^=v,g[5]^=E,g[6]^=C,g[7]^=T;for(var m=0;m<4;m++)d.call(this)}},_doProcessBlock:function(f,p){var h=this._X;d.call(this),r[0]=h[0]^h[5]>>>16^h[3]<<16,r[1]=h[2]^h[7]>>>16^h[5]<<16,r[2]=h[4]^h[1]>>>16^h[7]<<16,r[3]=h[6]^h[3]>>>16^h[1]<<16;for(var g=0;g<4;g++)r[g]=(r[g]<<8|r[g]>>>24)&16711935|(r[g]<<24|r[g]>>>8)&4278255360,f[p+g]^=r[g]},blockSize:128/32,ivSize:64/32});function d(){for(var f=this._X,p=this._C,h=0;h<8;h++)s[h]=p[h];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<s[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<s[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<s[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<s[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<s[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<s[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<s[6]>>>0?1:0)|0,this._b=p[7]>>>0<s[7]>>>0?1:0;for(var h=0;h<8;h++){var g=f[h]+p[h],m=g&65535,x=g>>>16,y=((m*m>>>17)+m*x>>>15)+x*x,_=((g&4294901760)*g|0)+((g&65535)*g|0);l[h]=y^_}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}e.RabbitLegacy=i._createHelper(u)})(),n.RabbitLegacy})});var J0=Q((Ho,z0)=>{"use strict";(function(n,e,t){typeof Ho=="object"?z0.exports=Ho=e(ee(),vt(),xt(),nt(),pe()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(n.CryptoJS)})(Ho,function(n){return(function(){var e=n,t=e.lib,i=t.BlockCipher,o=e.algo;let r=16,s=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function d(m,x){let y=x>>24&255,_=x>>16&255,v=x>>8&255,C=x&255,E=m.sbox[0][y]+m.sbox[1][_];return E=E^m.sbox[2][v],E=E+m.sbox[3][C],E}function f(m,x,y){let _=x,v=y,C;for(let E=0;E<r;++E)_=_^m.pbox[E],v=d(m,_)^v,C=_,_=v,v=C;return C=_,_=v,v=C,v=v^m.pbox[r],_=_^m.pbox[r+1],{left:_,right:v}}function p(m,x,y){let _=x,v=y,C;for(let E=r+1;E>1;--E)_=_^m.pbox[E],v=d(m,_)^v,C=_,_=v,v=C;return C=_,_=v,v=C,v=v^m.pbox[1],_=_^m.pbox[0],{left:_,right:v}}function h(m,x,y){for(let T=0;T<4;T++){m.sbox[T]=[];for(let A=0;A<256;A++)m.sbox[T][A]=l[T][A]}let _=0;for(let T=0;T<r+2;T++)m.pbox[T]=s[T]^x[_],_++,_>=y&&(_=0);let v=0,C=0,E=0;for(let T=0;T<r+2;T+=2)E=f(m,v,C),v=E.left,C=E.right,m.pbox[T]=v,m.pbox[T+1]=C;for(let T=0;T<4;T++)for(let A=0;A<256;A+=2)E=f(m,v,C),v=E.left,C=E.right,m.sbox[T][A]=v,m.sbox[T][A+1]=C;return!0}var g=o.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var m=this._keyPriorReset=this._key,x=m.words,y=m.sigBytes/4;h(u,x,y)}},encryptBlock:function(m,x){var y=f(u,m[x],m[x+1]);m[x]=y.left,m[x+1]=y.right},decryptBlock:function(m,x){var y=p(u,m[x],m[x+1]);m[x]=y.left,m[x+1]=y.right},blockSize:64/32,keySize:128/32,ivSize:64/32});e.Blowfish=i._createHelper(g)})(),n.Blowfish})});var $0=Q((zo,K0)=>{"use strict";(function(n,e,t){typeof zo=="object"?K0.exports=zo=e(ee(),Un(),Hu(),Ju(),vt(),Wu(),xt(),ea(),mo(),ju(),ta(),n0(),o0(),s0(),To(),c0(),nt(),pe(),p0(),g0(),_0(),x0(),C0(),T0(),S0(),w0(),I0(),D0(),R0(),F0(),O0(),U0(),V0(),H0(),J0()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],e):n.CryptoJS=e(n.CryptoJS)})(zo,function(n){return n})});var X0=Q(Qo=>{"use strict";Qo.byteLength=jx;Qo.toByteArray=ty;Qo.fromByteArray=oy;var Ke=[],Be=[],Zx=typeof Uint8Array<"u"?Uint8Array:Array,na="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(kt=0,W0=na.length;kt<W0;++kt)Ke[kt]=na[kt],Be[na.charCodeAt(kt)]=kt;var kt,W0;Be[45]=62;Be[95]=63;function Y0(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var i=t===e?0:4-t%4;return[t,i]}function jx(n){var e=Y0(n),t=e[0],i=e[1];return(t+i)*3/4-i}function ey(n,e,t){return(e+t)*3/4-t}function ty(n){var e,t=Y0(n),i=t[0],o=t[1],r=new Zx(ey(n,i,o)),s=0,l=o>0?i-4:i,u;for(u=0;u<l;u+=4)e=Be[n.charCodeAt(u)]<<18|Be[n.charCodeAt(u+1)]<<12|Be[n.charCodeAt(u+2)]<<6|Be[n.charCodeAt(u+3)],r[s++]=e>>16&255,r[s++]=e>>8&255,r[s++]=e&255;return o===2&&(e=Be[n.charCodeAt(u)]<<2|Be[n.charCodeAt(u+1)]>>4,r[s++]=e&255),o===1&&(e=Be[n.charCodeAt(u)]<<10|Be[n.charCodeAt(u+1)]<<4|Be[n.charCodeAt(u+2)]>>2,r[s++]=e>>8&255,r[s++]=e&255),r}function ny(n){return Ke[n>>18&63]+Ke[n>>12&63]+Ke[n>>6&63]+Ke[n&63]}function iy(n,e,t){for(var i,o=[],r=e;r<t;r+=3)i=(n[r]<<16&16711680)+(n[r+1]<<8&65280)+(n[r+2]&255),o.push(ny(i));return o.join("")}function oy(n){for(var e,t=n.length,i=t%3,o=[],r=16383,s=0,l=t-i;s<l;s+=r)o.push(iy(n,s,s+r>l?l:s+r));return i===1?(e=n[t-1],o.push(Ke[e>>2]+Ke[e<<4&63]+"==")):i===2&&(e=(n[t-2]<<8)+n[t-1],o.push(Ke[e>>10]+Ke[e>>4&63]+Ke[e<<2&63]+"=")),o.join("")}});var Q0=Q(ia=>{"use strict";ia.read=function(n,e,t,i,o){var r,s,l=o*8-i-1,u=(1<<l)-1,d=u>>1,f=-7,p=t?o-1:0,h=t?-1:1,g=n[e+p];for(p+=h,r=g&(1<<-f)-1,g>>=-f,f+=l;f>0;r=r*256+n[e+p],p+=h,f-=8);for(s=r&(1<<-f)-1,r>>=-f,f+=i;f>0;s=s*256+n[e+p],p+=h,f-=8);if(r===0)r=1-d;else{if(r===u)return s?NaN:(g?-1:1)*(1/0);s=s+Math.pow(2,i),r=r-d}return(g?-1:1)*s*Math.pow(2,r-i)};ia.write=function(n,e,t,i,o,r){var s,l,u,d=r*8-o-1,f=(1<<d)-1,p=f>>1,h=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=i?0:r-1,m=i?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+p>=1?e+=h/u:e+=h*Math.pow(2,1-p),e*u>=2&&(s++,u/=2),s+p>=f?(l=0,s=f):s+p>=1?(l=(e*u-1)*Math.pow(2,o),s=s+p):(l=e*Math.pow(2,p-1)*Math.pow(2,o),s=0));o>=8;n[t+g]=l&255,g+=m,l/=256,o-=8);for(s=s<<o|l,d+=o;d>0;n[t+g]=s&255,g+=m,s/=256,d-=8);n[t+g-m]|=x*128}});var hd=Q(ln=>{"use strict";var oa=X0(),sn=Q0(),Z0=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;ln.Buffer=D;ln.SlowBuffer=uy;ln.INSPECT_MAX_BYTES=50;var Zo=2147483647;ln.kMaxLength=Zo;D.TYPED_ARRAY_SUPPORT=ry();!D.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function ry(){try{let n=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(n,e),n.foo()===42}catch{return!1}}Object.defineProperty(D.prototype,"parent",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.buffer}});Object.defineProperty(D.prototype,"offset",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.byteOffset}});function it(n){if(n>Zo)throw new RangeError('The value "'+n+'" is invalid for option "size"');let e=new Uint8Array(n);return Object.setPrototypeOf(e,D.prototype),e}function D(n,e,t){if(typeof n=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return la(n)}return nd(n,e,t)}D.poolSize=8192;function nd(n,e,t){if(typeof n=="string")return ay(n,e);if(ArrayBuffer.isView(n))return ly(n);if(n==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);if($e(n,ArrayBuffer)||n&&$e(n.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&($e(n,SharedArrayBuffer)||n&&$e(n.buffer,SharedArrayBuffer)))return sa(n,e,t);if(typeof n=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let i=n.valueOf&&n.valueOf();if(i!=null&&i!==n)return D.from(i,e,t);let o=cy(n);if(o)return o;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof n[Symbol.toPrimitive]=="function")return D.from(n[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n)}D.from=function(n,e,t){return nd(n,e,t)};Object.setPrototypeOf(D.prototype,Uint8Array.prototype);Object.setPrototypeOf(D,Uint8Array);function id(n){if(typeof n!="number")throw new TypeError('"size" argument must be of type number');if(n<0)throw new RangeError('The value "'+n+'" is invalid for option "size"')}function sy(n,e,t){return id(n),n<=0?it(n):e!==void 0?typeof t=="string"?it(n).fill(e,t):it(n).fill(e):it(n)}D.alloc=function(n,e,t){return sy(n,e,t)};function la(n){return id(n),it(n<0?0:ca(n)|0)}D.allocUnsafe=function(n){return la(n)};D.allocUnsafeSlow=function(n){return la(n)};function ay(n,e){if((typeof e!="string"||e==="")&&(e="utf8"),!D.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=od(n,e)|0,i=it(t),o=i.write(n,e);return o!==t&&(i=i.slice(0,o)),i}function ra(n){let e=n.length<0?0:ca(n.length)|0,t=it(e);for(let i=0;i<e;i+=1)t[i]=n[i]&255;return t}function ly(n){if($e(n,Uint8Array)){let e=new Uint8Array(n);return sa(e.buffer,e.byteOffset,e.byteLength)}return ra(n)}function sa(n,e,t){if(e<0||n.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(n.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let i;return e===void 0&&t===void 0?i=new Uint8Array(n):t===void 0?i=new Uint8Array(n,e):i=new Uint8Array(n,e,t),Object.setPrototypeOf(i,D.prototype),i}function cy(n){if(D.isBuffer(n)){let e=ca(n.length)|0,t=it(e);return t.length===0||n.copy(t,0,0,e),t}if(n.length!==void 0)return typeof n.length!="number"||da(n.length)?it(0):ra(n);if(n.type==="Buffer"&&Array.isArray(n.data))return ra(n.data)}function ca(n){if(n>=Zo)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Zo.toString(16)+" bytes");return n|0}function uy(n){return+n!=n&&(n=0),D.alloc(+n)}D.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==D.prototype};D.compare=function(e,t){if($e(e,Uint8Array)&&(e=D.from(e,e.offset,e.byteLength)),$e(t,Uint8Array)&&(t=D.from(t,t.offset,t.byteLength)),!D.isBuffer(e)||!D.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let i=e.length,o=t.length;for(let r=0,s=Math.min(i,o);r<s;++r)if(e[r]!==t[r]){i=e[r],o=t[r];break}return i<o?-1:o<i?1:0};D.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};D.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return D.alloc(0);let i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;let o=D.allocUnsafe(t),r=0;for(i=0;i<e.length;++i){let s=e[i];if($e(s,Uint8Array))r+s.length>o.length?(D.isBuffer(s)||(s=D.from(s)),s.copy(o,r)):Uint8Array.prototype.set.call(o,s,r);else if(D.isBuffer(s))s.copy(o,r);else throw new TypeError('"list" argument must be an Array of Buffers');r+=s.length}return o};function od(n,e){if(D.isBuffer(n))return n.length;if(ArrayBuffer.isView(n)||$e(n,ArrayBuffer))return n.byteLength;if(typeof n!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof n);let t=n.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return aa(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return pd(n).length;default:if(o)return i?-1:aa(n).length;e=(""+e).toLowerCase(),o=!0}}D.byteLength=od;function dy(n,e,t){let i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(n||(n="utf8");;)switch(n){case"hex":return Cy(this,e,t);case"utf8":case"utf-8":return sd(this,e,t);case"ascii":return xy(this,e,t);case"latin1":case"binary":return yy(this,e,t);case"base64":return _y(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ey(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),i=!0}}D.prototype._isBuffer=!0;function Rt(n,e,t){let i=n[e];n[e]=n[t],n[t]=i}D.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)Rt(this,t,t+1);return this};D.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)Rt(this,t,t+3),Rt(this,t+1,t+2);return this};D.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)Rt(this,t,t+7),Rt(this,t+1,t+6),Rt(this,t+2,t+5),Rt(this,t+3,t+4);return this};D.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?sd(this,0,e):dy.apply(this,arguments)};D.prototype.toLocaleString=D.prototype.toString;D.prototype.equals=function(e){if(!D.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:D.compare(this,e)===0};D.prototype.inspect=function(){let e="",t=ln.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};Z0&&(D.prototype[Z0]=D.prototype.inspect);D.prototype.compare=function(e,t,i,o,r){if($e(e,Uint8Array)&&(e=D.from(e,e.offset,e.byteLength)),!D.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),o===void 0&&(o=0),r===void 0&&(r=this.length),t<0||i>e.length||o<0||r>this.length)throw new RangeError("out of range index");if(o>=r&&t>=i)return 0;if(o>=r)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,o>>>=0,r>>>=0,this===e)return 0;let s=r-o,l=i-t,u=Math.min(s,l),d=this.slice(o,r),f=e.slice(t,i);for(let p=0;p<u;++p)if(d[p]!==f[p]){s=d[p],l=f[p];break}return s<l?-1:l<s?1:0};function rd(n,e,t,i,o){if(n.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,da(t)&&(t=o?0:n.length-1),t<0&&(t=n.length+t),t>=n.length){if(o)return-1;t=n.length-1}else if(t<0)if(o)t=0;else return-1;if(typeof e=="string"&&(e=D.from(e,i)),D.isBuffer(e))return e.length===0?-1:j0(n,e,t,i,o);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?o?Uint8Array.prototype.indexOf.call(n,e,t):Uint8Array.prototype.lastIndexOf.call(n,e,t):j0(n,[e],t,i,o);throw new TypeError("val must be string, number or Buffer")}function j0(n,e,t,i,o){let r=1,s=n.length,l=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(n.length<2||e.length<2)return-1;r=2,s/=2,l/=2,t/=2}function u(f,p){return r===1?f[p]:f.readUInt16BE(p*r)}let d;if(o){let f=-1;for(d=t;d<s;d++)if(u(n,d)===u(e,f===-1?0:d-f)){if(f===-1&&(f=d),d-f+1===l)return f*r}else f!==-1&&(d-=d-f),f=-1}else for(t+l>s&&(t=s-l),d=t;d>=0;d--){let f=!0;for(let p=0;p<l;p++)if(u(n,d+p)!==u(e,p)){f=!1;break}if(f)return d}return-1}D.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};D.prototype.indexOf=function(e,t,i){return rd(this,e,t,i,!0)};D.prototype.lastIndexOf=function(e,t,i){return rd(this,e,t,i,!1)};function fy(n,e,t,i){t=Number(t)||0;let o=n.length-t;i?(i=Number(i),i>o&&(i=o)):i=o;let r=e.length;i>r/2&&(i=r/2);let s;for(s=0;s<i;++s){let l=parseInt(e.substr(s*2,2),16);if(da(l))return s;n[t+s]=l}return s}function py(n,e,t,i){return jo(aa(e,n.length-t),n,t,i)}function hy(n,e,t,i){return jo(Py(e),n,t,i)}function gy(n,e,t,i){return jo(pd(e),n,t,i)}function my(n,e,t,i){return jo(wy(e,n.length-t),n,t,i)}D.prototype.write=function(e,t,i,o){if(t===void 0)o="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")o=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,o===void 0&&(o="utf8")):(o=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let r=this.length-t;if((i===void 0||i>r)&&(i=r),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");let s=!1;for(;;)switch(o){case"hex":return fy(this,e,t,i);case"utf8":case"utf-8":return py(this,e,t,i);case"ascii":case"latin1":case"binary":return hy(this,e,t,i);case"base64":return gy(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return my(this,e,t,i);default:if(s)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),s=!0}};D.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function _y(n,e,t){return e===0&&t===n.length?oa.fromByteArray(n):oa.fromByteArray(n.slice(e,t))}function sd(n,e,t){t=Math.min(n.length,t);let i=[],o=e;for(;o<t;){let r=n[o],s=null,l=r>239?4:r>223?3:r>191?2:1;if(o+l<=t){let u,d,f,p;switch(l){case 1:r<128&&(s=r);break;case 2:u=n[o+1],(u&192)===128&&(p=(r&31)<<6|u&63,p>127&&(s=p));break;case 3:u=n[o+1],d=n[o+2],(u&192)===128&&(d&192)===128&&(p=(r&15)<<12|(u&63)<<6|d&63,p>2047&&(p<55296||p>57343)&&(s=p));break;case 4:u=n[o+1],d=n[o+2],f=n[o+3],(u&192)===128&&(d&192)===128&&(f&192)===128&&(p=(r&15)<<18|(u&63)<<12|(d&63)<<6|f&63,p>65535&&p<1114112&&(s=p))}}s===null?(s=65533,l=1):s>65535&&(s-=65536,i.push(s>>>10&1023|55296),s=56320|s&1023),i.push(s),o+=l}return vy(i)}var ed=4096;function vy(n){let e=n.length;if(e<=ed)return String.fromCharCode.apply(String,n);let t="",i=0;for(;i<e;)t+=String.fromCharCode.apply(String,n.slice(i,i+=ed));return t}function xy(n,e,t){let i="";t=Math.min(n.length,t);for(let o=e;o<t;++o)i+=String.fromCharCode(n[o]&127);return i}function yy(n,e,t){let i="";t=Math.min(n.length,t);for(let o=e;o<t;++o)i+=String.fromCharCode(n[o]);return i}function Cy(n,e,t){let i=n.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);let o="";for(let r=e;r<t;++r)o+=My[n[r]];return o}function Ey(n,e,t){let i=n.slice(e,t),o="";for(let r=0;r<i.length-1;r+=2)o+=String.fromCharCode(i[r]+i[r+1]*256);return o}D.prototype.slice=function(e,t){let i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);let o=this.subarray(e,t);return Object.setPrototypeOf(o,D.prototype),o};function he(n,e,t){if(n%1!==0||n<0)throw new RangeError("offset is not uint");if(n+e>t)throw new RangeError("Trying to access beyond buffer length")}D.prototype.readUintLE=D.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||he(e,t,this.length);let o=this[e],r=1,s=0;for(;++s<t&&(r*=256);)o+=this[e+s]*r;return o};D.prototype.readUintBE=D.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||he(e,t,this.length);let o=this[e+--t],r=1;for(;t>0&&(r*=256);)o+=this[e+--t]*r;return o};D.prototype.readUint8=D.prototype.readUInt8=function(e,t){return e=e>>>0,t||he(e,1,this.length),this[e]};D.prototype.readUint16LE=D.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||he(e,2,this.length),this[e]|this[e+1]<<8};D.prototype.readUint16BE=D.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||he(e,2,this.length),this[e]<<8|this[e+1]};D.prototype.readUint32LE=D.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||he(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};D.prototype.readUint32BE=D.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||he(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};D.prototype.readBigUInt64LE=yt(function(e){e=e>>>0,an(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&qn(e,this.length-8);let o=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,r=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(o)+(BigInt(r)<<BigInt(32))});D.prototype.readBigUInt64BE=yt(function(e){e=e>>>0,an(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&qn(e,this.length-8);let o=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],r=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(o)<<BigInt(32))+BigInt(r)});D.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||he(e,t,this.length);let o=this[e],r=1,s=0;for(;++s<t&&(r*=256);)o+=this[e+s]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*t)),o};D.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||he(e,t,this.length);let o=t,r=1,s=this[e+--o];for(;o>0&&(r*=256);)s+=this[e+--o]*r;return r*=128,s>=r&&(s-=Math.pow(2,8*t)),s};D.prototype.readInt8=function(e,t){return e=e>>>0,t||he(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};D.prototype.readInt16LE=function(e,t){e=e>>>0,t||he(e,2,this.length);let i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};D.prototype.readInt16BE=function(e,t){e=e>>>0,t||he(e,2,this.length);let i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};D.prototype.readInt32LE=function(e,t){return e=e>>>0,t||he(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};D.prototype.readInt32BE=function(e,t){return e=e>>>0,t||he(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};D.prototype.readBigInt64LE=yt(function(e){e=e>>>0,an(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&qn(e,this.length-8);let o=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(o)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});D.prototype.readBigInt64BE=yt(function(e){e=e>>>0,an(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&qn(e,this.length-8);let o=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(o)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)});D.prototype.readFloatLE=function(e,t){return e=e>>>0,t||he(e,4,this.length),sn.read(this,e,!0,23,4)};D.prototype.readFloatBE=function(e,t){return e=e>>>0,t||he(e,4,this.length),sn.read(this,e,!1,23,4)};D.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||he(e,8,this.length),sn.read(this,e,!0,52,8)};D.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||he(e,8,this.length),sn.read(this,e,!1,52,8)};function we(n,e,t,i,o,r){if(!D.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<r)throw new RangeError('"value" argument is out of bounds');if(t+i>n.length)throw new RangeError("Index out of range")}D.prototype.writeUintLE=D.prototype.writeUIntLE=function(e,t,i,o){if(e=+e,t=t>>>0,i=i>>>0,!o){let l=Math.pow(2,8*i)-1;we(this,e,t,i,l,0)}let r=1,s=0;for(this[t]=e&255;++s<i&&(r*=256);)this[t+s]=e/r&255;return t+i};D.prototype.writeUintBE=D.prototype.writeUIntBE=function(e,t,i,o){if(e=+e,t=t>>>0,i=i>>>0,!o){let l=Math.pow(2,8*i)-1;we(this,e,t,i,l,0)}let r=i-1,s=1;for(this[t+r]=e&255;--r>=0&&(s*=256);)this[t+r]=e/s&255;return t+i};D.prototype.writeUint8=D.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||we(this,e,t,1,255,0),this[t]=e&255,t+1};D.prototype.writeUint16LE=D.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||we(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};D.prototype.writeUint16BE=D.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||we(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};D.prototype.writeUint32LE=D.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||we(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};D.prototype.writeUint32BE=D.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||we(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function ad(n,e,t,i,o){fd(e,i,o,n,t,7);let r=Number(e&BigInt(4294967295));n[t++]=r,r=r>>8,n[t++]=r,r=r>>8,n[t++]=r,r=r>>8,n[t++]=r;let s=Number(e>>BigInt(32)&BigInt(4294967295));return n[t++]=s,s=s>>8,n[t++]=s,s=s>>8,n[t++]=s,s=s>>8,n[t++]=s,t}function ld(n,e,t,i,o){fd(e,i,o,n,t,7);let r=Number(e&BigInt(4294967295));n[t+7]=r,r=r>>8,n[t+6]=r,r=r>>8,n[t+5]=r,r=r>>8,n[t+4]=r;let s=Number(e>>BigInt(32)&BigInt(4294967295));return n[t+3]=s,s=s>>8,n[t+2]=s,s=s>>8,n[t+1]=s,s=s>>8,n[t]=s,t+8}D.prototype.writeBigUInt64LE=yt(function(e,t=0){return ad(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});D.prototype.writeBigUInt64BE=yt(function(e,t=0){return ld(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});D.prototype.writeIntLE=function(e,t,i,o){if(e=+e,t=t>>>0,!o){let u=Math.pow(2,8*i-1);we(this,e,t,i,u-1,-u)}let r=0,s=1,l=0;for(this[t]=e&255;++r<i&&(s*=256);)e<0&&l===0&&this[t+r-1]!==0&&(l=1),this[t+r]=(e/s>>0)-l&255;return t+i};D.prototype.writeIntBE=function(e,t,i,o){if(e=+e,t=t>>>0,!o){let u=Math.pow(2,8*i-1);we(this,e,t,i,u-1,-u)}let r=i-1,s=1,l=0;for(this[t+r]=e&255;--r>=0&&(s*=256);)e<0&&l===0&&this[t+r+1]!==0&&(l=1),this[t+r]=(e/s>>0)-l&255;return t+i};D.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||we(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};D.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||we(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};D.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||we(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};D.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||we(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};D.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||we(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};D.prototype.writeBigInt64LE=yt(function(e,t=0){return ad(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});D.prototype.writeBigInt64BE=yt(function(e,t=0){return ld(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function cd(n,e,t,i,o,r){if(t+i>n.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function ud(n,e,t,i,o){return e=+e,t=t>>>0,o||cd(n,e,t,4,34028234663852886e22,-34028234663852886e22),sn.write(n,e,t,i,23,4),t+4}D.prototype.writeFloatLE=function(e,t,i){return ud(this,e,t,!0,i)};D.prototype.writeFloatBE=function(e,t,i){return ud(this,e,t,!1,i)};function dd(n,e,t,i,o){return e=+e,t=t>>>0,o||cd(n,e,t,8,17976931348623157e292,-17976931348623157e292),sn.write(n,e,t,i,52,8),t+8}D.prototype.writeDoubleLE=function(e,t,i){return dd(this,e,t,!0,i)};D.prototype.writeDoubleBE=function(e,t,i){return dd(this,e,t,!1,i)};D.prototype.copy=function(e,t,i,o){if(!D.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!o&&o!==0&&(o=this.length),t>=e.length&&(t=e.length),t||(t=0),o>0&&o<i&&(o=i),o===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-t<o-i&&(o=e.length-t+i);let r=o-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,o):Uint8Array.prototype.set.call(e,this.subarray(i,o),t),r};D.prototype.fill=function(e,t,i,o){if(typeof e=="string"){if(typeof t=="string"?(o=t,t=0,i=this.length):typeof i=="string"&&(o=i,i=this.length),o!==void 0&&typeof o!="string")throw new TypeError("encoding must be a string");if(typeof o=="string"&&!D.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(e.length===1){let s=e.charCodeAt(0);(o==="utf8"&&s<128||o==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);let r;if(typeof e=="number")for(r=t;r<i;++r)this[r]=e;else{let s=D.isBuffer(e)?e:D.from(e,o),l=s.length;if(l===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(r=0;r<i-t;++r)this[r+t]=s[r%l]}return this};var rn={};function ua(n,e,t){rn[n]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${n}]`,this.stack,delete this.name}get code(){return n}set code(o){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:o,writable:!0})}toString(){return`${this.name} [${n}]: ${this.message}`}}}ua("ERR_BUFFER_OUT_OF_BOUNDS",function(n){return n?`${n} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);ua("ERR_INVALID_ARG_TYPE",function(n,e){return`The "${n}" argument must be of type number. Received type ${typeof e}`},TypeError);ua("ERR_OUT_OF_RANGE",function(n,e,t){let i=`The value of "${n}" is out of range.`,o=t;return Number.isInteger(t)&&Math.abs(t)>2**32?o=td(String(t)):typeof t=="bigint"&&(o=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(o=td(o)),o+="n"),i+=` It must be ${e}. Received ${o}`,i},RangeError);function td(n){let e="",t=n.length,i=n[0]==="-"?1:0;for(;t>=i+4;t-=3)e=`_${n.slice(t-3,t)}${e}`;return`${n.slice(0,t)}${e}`}function Ty(n,e,t){an(e,"offset"),(n[e]===void 0||n[e+t]===void 0)&&qn(e,n.length-(t+1))}function fd(n,e,t,i,o,r){if(n>t||n<e){let s=typeof e=="bigint"?"n":"",l;throw r>3?e===0||e===BigInt(0)?l=`>= 0${s} and < 2${s} ** ${(r+1)*8}${s}`:l=`>= -(2${s} ** ${(r+1)*8-1}${s}) and < 2 ** ${(r+1)*8-1}${s}`:l=`>= ${e}${s} and <= ${t}${s}`,new rn.ERR_OUT_OF_RANGE("value",l,n)}Ty(i,o,r)}function an(n,e){if(typeof n!="number")throw new rn.ERR_INVALID_ARG_TYPE(e,"number",n)}function qn(n,e,t){throw Math.floor(n)!==n?(an(n,t),new rn.ERR_OUT_OF_RANGE(t||"offset","an integer",n)):e<0?new rn.ERR_BUFFER_OUT_OF_BOUNDS:new rn.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,n)}var Ay=/[^+/0-9A-Za-z-_]/g;function Sy(n){if(n=n.split("=")[0],n=n.trim().replace(Ay,""),n.length<2)return"";for(;n.length%4!==0;)n=n+"=";return n}function aa(n,e){e=e||1/0;let t,i=n.length,o=null,r=[];for(let s=0;s<i;++s){if(t=n.charCodeAt(s),t>55295&&t<57344){if(!o){if(t>56319){(e-=3)>-1&&r.push(239,191,189);continue}else if(s+1===i){(e-=3)>-1&&r.push(239,191,189);continue}o=t;continue}if(t<56320){(e-=3)>-1&&r.push(239,191,189),o=t;continue}t=(o-55296<<10|t-56320)+65536}else o&&(e-=3)>-1&&r.push(239,191,189);if(o=null,t<128){if((e-=1)<0)break;r.push(t)}else if(t<2048){if((e-=2)<0)break;r.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;r.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;r.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return r}function Py(n){let e=[];for(let t=0;t<n.length;++t)e.push(n.charCodeAt(t)&255);return e}function wy(n,e){let t,i,o,r=[];for(let s=0;s<n.length&&!((e-=2)<0);++s)t=n.charCodeAt(s),i=t>>8,o=t%256,r.push(o),r.push(i);return r}function pd(n){return oa.toByteArray(Sy(n))}function jo(n,e,t,i){let o;for(o=0;o<i&&!(o+t>=e.length||o>=n.length);++o)e[o+t]=n[o];return o}function $e(n,e){return n instanceof e||n!=null&&n.constructor!=null&&n.constructor.name!=null&&n.constructor.name===e.name}function da(n){return n!==n}var My=(function(){let n="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let i=t*16;for(let o=0;o<16;++o)e[i+o]=n[t]+n[o]}return e})();function yt(n){return typeof BigInt>"u"?Iy:n}function Iy(){throw new Error("BigInt not supported")}});var xd=Q((qT,vd)=>{"use strict";var ue=vd.exports={},We,Ye;function fa(){throw new Error("setTimeout has not been defined")}function pa(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?We=setTimeout:We=fa}catch{We=fa}try{typeof clearTimeout=="function"?Ye=clearTimeout:Ye=pa}catch{Ye=pa}})();function gd(n){if(We===setTimeout)return setTimeout(n,0);if((We===fa||!We)&&setTimeout)return We=setTimeout,setTimeout(n,0);try{return We(n,0)}catch{try{return We.call(null,n,0)}catch{return We.call(this,n,0)}}}function by(n){if(Ye===clearTimeout)return clearTimeout(n);if((Ye===pa||!Ye)&&clearTimeout)return Ye=clearTimeout,clearTimeout(n);try{return Ye(n)}catch{try{return Ye.call(null,n)}catch{return Ye.call(this,n)}}}var ot=[],cn=!1,Bt,er=-1;function Dy(){!cn||!Bt||(cn=!1,Bt.length?ot=Bt.concat(ot):er=-1,ot.length&&md())}function md(){if(!cn){var n=gd(Dy);cn=!0;for(var e=ot.length;e;){for(Bt=ot,ot=[];++er<e;)Bt&&Bt[er].run();er=-1,e=ot.length}Bt=null,cn=!1,by(n)}}ue.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];ot.push(new _d(n,e)),ot.length===1&&!cn&&gd(md)};function _d(n,e){this.fun=n,this.array=e}_d.prototype.run=function(){this.fun.apply(null,this.array)};ue.title="browser";ue.browser=!0;ue.env={};ue.argv=[];ue.version="";ue.versions={};function rt(){}ue.on=rt;ue.addListener=rt;ue.once=rt;ue.off=rt;ue.removeListener=rt;ue.removeAllListeners=rt;ue.emit=rt;ue.prependListener=rt;ue.prependOnceListener=rt;ue.listeners=function(n){return[]};ue.binding=function(n){throw new Error("process.binding is not supported")};ue.cwd=function(){return"/"};ue.chdir=function(n){throw new Error("process.chdir is not supported")};ue.umask=function(){return 0}});function ll(n){return new ie(3e3,!1)}function Nd(){return new ie(3100,!1)}function Od(){return new ie(3101,!1)}function Ld(n){return new ie(3001,!1)}function Ud(n){return new ie(3003,!1)}function qd(n){return new ie(3004,!1)}function ul(n,e){return new ie(3005,!1)}function dl(){return new ie(3006,!1)}function fl(){return new ie(3007,!1)}function pl(n,e){return new ie(3008,!1)}function hl(n){return new ie(3002,!1)}function gl(n,e,t,i,o){return new ie(3010,!1)}function ml(){return new ie(3011,!1)}function _l(){return new ie(3012,!1)}function vl(){return new ie(3200,!1)}function xl(){return new ie(3202,!1)}function yl(){return new ie(3013,!1)}function Cl(n){return new ie(3014,!1)}function El(n){return new ie(3015,!1)}function Tl(n){return new ie(3016,!1)}function Al(n,e){return new ie(3404,!1)}function Vd(n){return new ie(3502,!1)}function Sl(n){return new ie(3503,!1)}function Pl(){return new ie(3300,!1)}function wl(n){return new ie(3504,!1)}function Ml(n){return new ie(3301,!1)}function Il(n,e){return new ie(3302,!1)}function bl(n){return new ie(3303,!1)}function Dl(n,e){return new ie(3400,!1)}function kl(n){return new ie(3401,!1)}function Rl(n){return new ie(3402,!1)}function Bl(n,e){return new ie(3505,!1)}function Xe(n){switch(n.length){case 0:return new Tt;case 1:return n[0];default:return new Xn(n)}}function gr(n,e,t=new Map,i=new Map){let o=[],r=[],s=-1,l=null;if(e.forEach(u=>{let d=u.get("offset"),f=d==s,p=f&&l||new Map;u.forEach((h,g)=>{let m=g,x=h;if(g!=="offset")switch(m=n.normalizePropertyName(m,o),x){case _n:x=t.get(g);break;case Oe:x=i.get(g);break;default:x=n.normalizeStyleValue(g,m,x,o);break}p.set(m,x)}),f||r.push(p),l=p,s=d}),o.length)throw Vd(o);return r}function ei(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&fr(t,"start",n)));break;case"done":n.onDone(()=>i(t&&fr(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&fr(t,"destroy",n)));break}}function fr(n,e,t){let i=t.totalTime,o=!!t.disabled,r=ti(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i??n.totalTime,o),s=n._data;return s!=null&&(r._data=s),r}function ti(n,e,t,i,o="",r=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:o,totalTime:r,disabled:!!s}}function Ae(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function mr(n){let e=n.indexOf(":"),t=n.substring(1,e),i=n.slice(e+1);return[t,i]}var Gd=typeof document>"u"?null:document.documentElement;function ni(n){let e=n.parentNode||n.host||null;return e===Gd?null:e}function Hd(n){return n.substring(1,6)=="ebkit"}var At=null,cl=!1;function Fl(n){At||(At=zd()||{},cl=At.style?"WebkitAppearance"in At.style:!1);let e=!0;return At.style&&!Hd(n)&&(e=n in At.style,!e&&cl&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in At.style)),e}function zd(){return typeof document<"u"?document.body:null}function _r(n,e){for(;e;){if(e===n)return!0;e=ni(e)}return!1}function vr(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let i=n.querySelector(e);return i?[i]:[]}var Jd=1e3,xr="{{",Kd="}}",yr="ng-enter",ii="ng-leave",vn="ng-trigger",xn=".ng-trigger",Cr="ng-animating",oi=".ng-animating";function Je(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:pr(parseFloat(e[1]),e[2])}function pr(n,e){switch(e){case"s":return n*Jd;default:return n}}function yn(n,e,t){return n.hasOwnProperty("duration")?n:Wd(n,e,t)}var $d=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function Wd(n,e,t){let i,o=0,r="";if(typeof n=="string"){let s=n.match($d);if(s===null)return e.push(ll(n)),{duration:0,delay:0,easing:""};i=pr(parseFloat(s[1]),s[2]);let l=s[3];l!=null&&(o=pr(parseFloat(l),s[4]));let u=s[5];u&&(r=u)}else i=n;if(!t){let s=!1,l=e.length;i<0&&(e.push(Nd()),s=!0),o<0&&(e.push(Od()),s=!0),s&&e.splice(l,0,ll(n))}return{duration:i,delay:o,easing:r}}function Nl(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Le(n,e,t){e.forEach((i,o)=>{let r=ri(o);t&&!t.has(o)&&t.set(o,n.style[r]),n.style[r]=i})}function pt(n,e){e.forEach((t,i)=>{let o=ri(i);n.style[o]=""})}function qt(n){return Array.isArray(n)?n.length==1?n[0]:Xa(n):n}function Ol(n,e,t){let i=e.params||{},o=Er(n);o.length&&o.forEach(r=>{i.hasOwnProperty(r)||t.push(Ld(r))})}var hr=new RegExp(`${xr}\\s*(.+?)\\s*${Kd}`,"g");function Er(n){let e=[];if(typeof n=="string"){let t;for(;t=hr.exec(n);)e.push(t[1]);hr.lastIndex=0}return e}function Vt(n,e,t){let i=`${n}`,o=i.replace(hr,(r,s)=>{let l=e[s];return l==null&&(t.push(Ud(s)),l=""),l.toString()});return o==i?n:o}var Yd=/-+([a-z0-9])/g;function ri(n){return n.replace(Yd,(...e)=>e[1].toUpperCase())}function Ll(n,e){return n===0||e===0}function Ul(n,e,t){if(t.size&&e.length){let i=e[0],o=[];if(t.forEach((r,s)=>{i.has(s)||o.push(s),i.set(s,r)}),o.length)for(let r=1;r<e.length;r++){let s=e[r];o.forEach(l=>s.set(l,si(n,l)))}}return e}function Se(n,e,t){switch(e.type){case j.Trigger:return n.visitTrigger(e,t);case j.State:return n.visitState(e,t);case j.Transition:return n.visitTransition(e,t);case j.Sequence:return n.visitSequence(e,t);case j.Group:return n.visitGroup(e,t);case j.Animate:return n.visitAnimate(e,t);case j.Keyframes:return n.visitKeyframes(e,t);case j.Style:return n.visitStyle(e,t);case j.Reference:return n.visitReference(e,t);case j.AnimateChild:return n.visitAnimateChild(e,t);case j.AnimateRef:return n.visitAnimateRef(e,t);case j.Query:return n.visitQuery(e,t);case j.Stagger:return n.visitStagger(e,t);default:throw qd(e.type)}}function si(n,e){return window.getComputedStyle(n)[e]}var Ur=(()=>{class n{validateStyleProperty(t){return Fl(t)}containsElement(t,i){return _r(t,i)}getParentElement(t){return ni(t)}query(t,i,o){return vr(t,i,o)}computeStyle(t,i,o){return o||""}animate(t,i,o,r,s,l=[],u){return new Tt(o,r)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=le({token:n,factory:n.\u0275fac})}return n})(),Pt=class{static NOOP=new Ur},wt=class{};var Xd=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),di=class extends wt{normalizePropertyName(e,t){return ri(e)}normalizeStyleValue(e,t,i,o){let r="",s=i.toString().trim();if(Xd.has(t)&&i!==0&&i!=="0")if(typeof i=="number")r="px";else{let l=i.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&l[1].length==0&&o.push(ul(e,i))}return s+r}};var fi="*";function Qd(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>Zd(i,t,e)):t.push(n),t}function Zd(n,e,t){if(n[0]==":"){let u=jd(n,t);if(typeof u=="function"){e.push(u);return}n=u}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(El(n)),e;let o=i[1],r=i[2],s=i[3];e.push(ql(o,s));let l=o==fi&&s==fi;r[0]=="<"&&!l&&e.push(ql(s,o))}function jd(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(Tl(n)),"* => *"}}var ai=new Set(["true","1"]),li=new Set(["false","0"]);function ql(n,e){let t=ai.has(n)||li.has(n),i=ai.has(e)||li.has(e);return(o,r)=>{let s=n==fi||n==o,l=e==fi||e==r;return!s&&t&&typeof o=="boolean"&&(s=o?ai.has(n):li.has(n)),!l&&i&&typeof r=="boolean"&&(l=r?ai.has(e):li.has(e)),s&&l}}var Xl=":self",ef=new RegExp(`s*${Xl}s*,?`,"g");function Ql(n,e,t,i){return new Mr(n).build(e,t,i)}var Vl="",Mr=class{_driver;constructor(e){this._driver=e}build(e,t,i){let o=new Ir(t);return this._resetContextStyleTimingState(o),Se(this,qt(e),o)}_resetContextStyleTimingState(e){e.currentQuerySelector=Vl,e.collectedStyles=new Map,e.collectedStyles.set(Vl,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,o=t.depCount=0,r=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(dl()),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(t),l.type==j.State){let u=l,d=u.name;d.toString().split(/\s*,\s*/).forEach(f=>{u.name=f,r.push(this.visitState(u,t))}),u.name=d}else if(l.type==j.Transition){let u=this.visitTransition(l,t);i+=u.queryCount,o+=u.depCount,s.push(u)}else t.errors.push(fl())}),{type:j.Trigger,name:e.name,states:r,transitions:s,queryCount:i,depCount:o,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),o=e.options&&e.options.params||null;if(i.containsDynamicStyles){let r=new Set,s=o||{};i.styles.forEach(l=>{l instanceof Map&&l.forEach(u=>{Er(u).forEach(d=>{s.hasOwnProperty(d)||r.add(d)})})}),r.size&&t.errors.push(pl(e.name,[...r.values()]))}return{type:j.State,name:e.name,style:i,options:o?{params:o}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=Se(this,qt(e.animation),t),o=Qd(e.expr,t.errors);return{type:j.Transition,matchers:o,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:St(e.options)}}visitSequence(e,t){return{type:j.Sequence,steps:e.steps.map(i=>Se(this,i,t)),options:St(e.options)}}visitGroup(e,t){let i=t.currentTime,o=0,r=e.steps.map(s=>{t.currentTime=i;let l=Se(this,s,t);return o=Math.max(o,t.currentTime),l});return t.currentTime=o,{type:j.Group,steps:r,options:St(e.options)}}visitAnimate(e,t){let i=rf(e.timings,t.errors);t.currentAnimateTimings=i;let o,r=e.styles?e.styles:ur({});if(r.type==j.Keyframes)o=this.visitKeyframes(r,t);else{let s=e.styles,l=!1;if(!s){l=!0;let d={};i.easing&&(d.easing=i.easing),s=ur(d)}t.currentTime+=i.duration+i.delay;let u=this.visitStyle(s,t);u.isEmptyStep=l,o=u}return t.currentAnimateTimings=null,{type:j.Animate,timings:i,style:o,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],o=Array.isArray(e.styles)?e.styles:[e.styles];for(let l of o)typeof l=="string"?l===Oe?i.push(l):t.errors.push(hl(l)):i.push(new Map(Object.entries(l)));let r=!1,s=null;return i.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(s=l.get("easing"),l.delete("easing")),!r)){for(let u of l.values())if(u.toString().indexOf(xr)>=0){r=!0;break}}}),{type:j.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,o=t.currentTime,r=t.currentTime;i&&r>0&&(r-=i.duration+i.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((l,u)=>{let d=t.collectedStyles.get(t.currentQuerySelector),f=d.get(u),p=!0;f&&(r!=o&&r>=f.startTime&&o<=f.endTime&&(t.errors.push(gl(u,f.startTime,f.endTime,r,o)),p=!1),r=f.startTime),p&&d.set(u,{startTime:r,endTime:o}),t.options&&Ol(l,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:j.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(ml()),i;let o=1,r=0,s=[],l=!1,u=!1,d=0,f=e.steps.map(_=>{let v=this._makeStyleAst(_,t),C=v.offset!=null?v.offset:of(v.styles),E=0;return C!=null&&(r++,E=v.offset=C),u=u||E<0||E>1,l=l||E<d,d=E,s.push(E),v});u&&t.errors.push(_l()),l&&t.errors.push(vl());let p=e.steps.length,h=0;r>0&&r<p?t.errors.push(xl()):r==0&&(h=o/(p-1));let g=p-1,m=t.currentTime,x=t.currentAnimateTimings,y=x.duration;return f.forEach((_,v)=>{let C=h>0?v==g?1:h*v:s[v],E=C*y;t.currentTime=m+x.delay+E,x.duration=E,this._validateStyleAst(_,t),_.offset=C,i.styles.push(_)}),i}visitReference(e,t){return{type:j.Reference,animation:Se(this,qt(e.animation),t),options:St(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:j.AnimateChild,options:St(e.options)}}visitAnimateRef(e,t){return{type:j.AnimateRef,animation:this.visitReference(e.animation,t),options:St(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,o=e.options||{};t.queryCount++,t.currentQuery=e;let[r,s]=tf(e.selector);t.currentQuerySelector=i.length?i+" "+r:r,Ae(t.collectedStyles,t.currentQuerySelector,new Map);let l=Se(this,qt(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:j.Query,selector:r,limit:o.limit||0,optional:!!o.optional,includeSelf:s,animation:l,originalSelector:e.selector,options:St(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(yl());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:yn(e.timings,t.errors,!0);return{type:j.Stagger,animation:Se(this,qt(e.animation),t),timings:i,options:null}}};function tf(n){let e=!!n.split(/\s*,\s*/).find(t=>t==Xl);return e&&(n=n.replace(ef,"")),n=n.replace(/@\*/g,xn).replace(/@\w+/g,t=>xn+"-"+t.slice(1)).replace(/:animating/g,oi),[n,e]}function nf(n){return n?Ot({},n):null}var Ir=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function of(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function rf(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let r=yn(n,e).duration;return Tr(r,0,"")}let t=n;if(t.split(/\s+/).some(r=>r.charAt(0)=="{"&&r.charAt(1)=="{")){let r=Tr(0,0,"");return r.dynamic=!0,r.strValue=t,r}let o=yn(t,e);return Tr(o.duration,o.delay,o.easing)}function St(n){return n?(n=Ot({},n),n.params&&(n.params=nf(n.params))):n={},n}function Tr(n,e,t){return{duration:n,delay:e,easing:t}}function qr(n,e,t,i,o,r,s=null,l=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:o,delay:r,totalTime:o+r,easing:s,subTimeline:l}}var En=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},sf=1,af=":enter",lf=new RegExp(af,"g"),cf=":leave",uf=new RegExp(cf,"g");function Zl(n,e,t,i,o,r=new Map,s=new Map,l,u,d=[]){return new br().buildKeyframes(n,e,t,i,o,r,s,l,u,d)}var br=class{buildKeyframes(e,t,i,o,r,s,l,u,d,f=[]){d=d||new En;let p=new Dr(e,t,d,o,r,f,[]);p.options=u;let h=u.delay?Je(u.delay):0;p.currentTimeline.delayNextStep(h),p.currentTimeline.setStyles([s],null,p.errors,u),Se(this,i,p);let g=p.timelines.filter(m=>m.containsAnimation());if(g.length&&l.size){let m;for(let x=g.length-1;x>=0;x--){let y=g[x];if(y.element===t){m=y;break}}m&&!m.allowOnlyTimelineStyles()&&m.setStyles([l],null,p.errors,u)}return g.length?g.map(m=>m.buildKeyframes()):[qr(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let o=t.createSubContext(e.options),r=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,o,o.options);r!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let o of e){let r=o?.delay;if(r){let s=typeof r=="number"?r:Je(Vt(r,o?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let r=t.currentTimeline.currentTime,s=i.duration!=null?Je(i.duration):null,l=i.delay!=null?Je(i.delay):null;return s!==0&&e.forEach(u=>{let d=t.appendInstructionToTimeline(u,s,l);r=Math.max(r,d.duration+d.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),Se(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,o=t,r=e.options;if(r&&(r.params||r.delay)&&(o=t.createSubContext(r),o.transformIntoNewTimeline(),r.delay!=null)){o.previousNode.type==j.Style&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=pi);let s=Je(r.delay);o.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Se(this,s,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>i&&o.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],o=t.currentTimeline.currentTime,r=e.options&&e.options.delay?Je(e.options.delay):0;e.steps.forEach(s=>{let l=t.createSubContext(e.options);r&&l.delayNextStep(r),Se(this,s,l),o=Math.max(o,l.currentTimeline.currentTime),i.push(l.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(o),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,o=t.params?Vt(i,t.params,t.errors):i;return yn(o,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),o=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),o.snapshotCurrentStyles());let r=e.style;r.type==j.Keyframes?this.visitKeyframes(r,t):(t.incrementTime(i.duration),this.visitStyle(r,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,o=t.currentAnimateTimings;!o&&i.hasCurrentStyleProperties()&&i.forwardFrame();let r=o&&o.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(r):i.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,o=t.currentTimeline.duration,r=i.duration,l=t.createSubContext().currentTimeline;l.easing=i.easing,e.styles.forEach(u=>{let d=u.offset||0;l.forwardTime(d*r),l.setStyles(u.styles,u.easing,t.errors,t.options),l.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(l),t.transformIntoNewTimeline(o+r),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,o=e.options||{},r=o.delay?Je(o.delay):0;r&&(t.previousNode.type===j.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=pi);let s=i,l=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=l.length;let u=null;l.forEach((d,f)=>{t.currentQueryIndex=f;let p=t.createSubContext(e.options,d);r&&p.delayNextStep(r),d===t.element&&(u=p.currentTimeline),Se(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe();let h=p.currentTimeline.currentTime;s=Math.max(s,h)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,o=t.currentTimeline,r=e.timings,s=Math.abs(r.duration),l=s*(t.currentQueryTotal-1),u=s*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":u=l-u;break;case"full":u=i.currentStaggerTime;break}let f=t.currentTimeline;u&&f.delayNextStep(u);let p=f.currentTime;Se(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=o.currentTime-p+(o.startTime-i.currentTimeline.startTime)}},pi={},Dr=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=pi;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,i,o,r,s,l,u){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=o,this._leaveClassName=r,this.errors=s,this.timelines=l,this.currentTimeline=u||new hi(this._driver,t,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,o=this.options;i.duration!=null&&(o.duration=Je(i.duration)),i.delay!=null&&(o.delay=Je(i.delay));let r=i.params;if(r){let s=o.params;s||(s=this.options.params={}),Object.keys(r).forEach(l=>{(!t||!s.hasOwnProperty(l))&&(s[l]=Vt(r[l],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(o=>{i[o]=t[o]})}}return e}createSubContext(e=null,t,i){let o=t||this.element,r=new n(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(e){return this.previousNode=pi,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let o={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},r=new kr(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(r),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,o,r,s){let l=[];if(o&&l.push(this.element),e.length>0){e=e.replace(lf,"."+this._enterClassName),e=e.replace(uf,"."+this._leaveClassName);let u=i!=1,d=this._driver.query(this.element,e,u);i!==0&&(d=i<0?d.slice(d.length+i,d.length):d.slice(0,i)),l.push(...d)}return!r&&l.length==0&&s.push(Cl(t)),l}},hi=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,i,o){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=o,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=sf,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Oe),this._currentKeyframe.set(t,Oe);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,o){t&&this._previousKeyframe.set("easing",t);let r=o&&o.params||{},s=df(e,this._globalTimelineStyles);for(let[l,u]of s){let d=Vt(u,r,i);this._pendingStyles.set(l,d),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??Oe),this._updateStyle(l,d)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let o=this._styleSummary.get(i);(!o||t.time>o.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,o=[];this._keyframes.forEach((l,u)=>{let d=new Map([...this._backFill,...l]);d.forEach((f,p)=>{f===_n?e.add(p):f===Oe&&t.add(p)}),i||d.set("offset",u/this.duration),o.push(d)});let r=[...e.values()],s=[...t.values()];if(i){let l=o[0],u=new Map(l);l.set("offset",0),u.set("offset",1),o=[l,u]}return qr(this.element,o,r,s,this.duration,this.startTime,this.easing,!1)}},kr=class extends hi{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,i,o,r,s,l=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=o,this.postStyleProps=r,this._stretchStartingKeyframe=l,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){let r=[],s=i+t,l=t/s,u=new Map(e[0]);u.set("offset",0),r.push(u);let d=new Map(e[0]);d.set("offset",Gl(l)),r.push(d);let f=e.length-1;for(let p=1;p<=f;p++){let h=new Map(e[p]),g=h.get("offset"),m=t+g*i;h.set("offset",Gl(m/s)),r.push(h)}i=s,t=0,o="",e=r}return qr(this.element,e,this.preStyleProps,this.postStyleProps,i,t,o,!0)}};function Gl(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function df(n,e){let t=new Map,i;return n.forEach(o=>{if(o==="*"){i??=e.keys();for(let r of i)t.set(r,Oe)}else for(let[r,s]of o)t.set(r,s)}),t}function Hl(n,e,t,i,o,r,s,l,u,d,f,p,h){return{type:0,element:n,triggerName:e,isRemovalTransition:o,fromState:t,fromStyles:r,toState:i,toStyles:s,timelines:l,queriedElements:u,preStyleProps:d,postStyleProps:f,totalTime:p,errors:h}}var Ar={},gi=class{_triggerName;ast;_stateStyles;constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,o){return ff(this.ast.matchers,e,t,i,o)}buildStyles(e,t,i){let o=this._stateStyles.get("*");return e!==void 0&&(o=this._stateStyles.get(e?.toString())||o),o?o.buildStyles(t,i):new Map}build(e,t,i,o,r,s,l,u,d,f){let p=[],h=this.ast.options&&this.ast.options.params||Ar,g=l&&l.params||Ar,m=this.buildStyles(i,g,p),x=u&&u.params||Ar,y=this.buildStyles(o,x,p),_=new Set,v=new Map,C=new Map,E=o==="void",T={params:jl(x,h),delay:this.ast.options?.delay},A=f?[]:Zl(e,t,this.ast.animation,r,s,m,y,T,d,p),M=0;return A.forEach(k=>{M=Math.max(k.duration+k.delay,M)}),p.length?Hl(t,this._triggerName,i,o,E,m,y,[],[],v,C,M,p):(A.forEach(k=>{let w=k.element,N=Ae(v,w,new Set);k.preStyleProps.forEach(R=>N.add(R));let P=Ae(C,w,new Set);k.postStyleProps.forEach(R=>P.add(R)),w!==t&&_.add(w)}),Hl(t,this._triggerName,i,o,E,m,y,A,[..._.values()],v,C,M))}};function ff(n,e,t,i,o){return n.some(r=>r(e,t,i,o))}function jl(n,e){let t=Ot({},e);return Object.entries(n).forEach(([i,o])=>{o!=null&&(t[i]=o)}),t}var Rr=class{styles;defaultParams;normalizer;constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,o=jl(e,this.defaultParams);return this.styles.styles.forEach(r=>{typeof r!="string"&&r.forEach((s,l)=>{s&&(s=Vt(s,o,t));let u=this.normalizer.normalizePropertyName(l,t);s=this.normalizer.normalizeStyleValue(l,u,s,t),i.set(l,s)})}),i}};function pf(n,e,t){return new Br(n,e,t)}var Br=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,t.states.forEach(o=>{let r=o.options&&o.options.params||{};this.states.set(o.name,new Rr(o.style,r,i))}),zl(this.states,"true","1"),zl(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new gi(e,o,this.states))}),this.fallbackTransition=hf(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,o){return this.transitionFactories.find(s=>s.match(e,t,i,o))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function hf(n,e,t){let i=[(s,l)=>!0],o={type:j.Sequence,steps:[],options:null},r={type:j.Transition,animation:o,matchers:i,options:null,queryCount:0,depCount:0};return new gi(n,r,e)}function zl(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var gf=new En,Fr=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i}register(e,t){let i=[],o=[],r=Ql(this._driver,t,i,o);if(i.length)throw Sl(i);this._animations.set(e,r)}_buildPlayer(e,t,i){let o=e.element,r=gr(this._normalizer,e.keyframes,t,i);return this._driver.animate(o,r,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let o=[],r=this._animations.get(e),s,l=new Map;if(r?(s=Zl(this._driver,t,r,yr,ii,new Map,new Map,i,gf,o),s.forEach(f=>{let p=Ae(l,f.element,new Map);f.postStyleProps.forEach(h=>p.set(h,null))})):(o.push(Pl()),s=[]),o.length)throw wl(o);l.forEach((f,p)=>{f.forEach((h,g)=>{f.set(g,this._driver.computeStyle(p,g,Oe))})});let u=s.map(f=>{let p=l.get(f.element);return this._buildPlayer(f,new Map,p)}),d=Xe(u);return this._playersById.set(e,d),d.onDestroy(()=>this.destroy(e)),this.players.push(d),d}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw Ml(e);return t}listen(e,t,i,o){let r=ti(t,"","","");return ei(this._getPlayer(e),i,r,o),()=>{}}command(e,t,i,o){if(i=="register"){this.register(e,o[0]);return}if(i=="create"){let s=o[0]||{};this.create(e,t,s);return}let r=this._getPlayer(e);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e);break}}},Jl="ng-animate-queued",mf=".ng-animate-queued",Sr="ng-animate-disabled",_f=".ng-animate-disabled",vf="ng-star-inserted",xf=".ng-star-inserted",yf=[],ec={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Cf={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ue="__ng_removed",Tn=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),o=i?e.value:e;if(this.value=Tf(o),i){let r=e,{value:s}=r,l=Ma(r,["value"]);this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(o=>{i[o]==null&&(i[o]=t[o])})}}},Cn="void",Pr=new Tn(Cn),Nr=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this._hostClassName="ng-tns-"+e,ke(t,this._hostClassName)}listen(e,t,i,o){if(!this._triggers.has(t))throw Il(i,t);if(i==null||i.length==0)throw bl(t);if(!Af(i))throw Dl(i,t);let r=Ae(this._elementListeners,e,[]),s={name:t,phase:i,callback:o};r.push(s);let l=Ae(this._engine.statesByElement,e,new Map);return l.has(t)||(ke(e,vn),ke(e,vn+"-"+t),l.set(t,Pr)),()=>{this._engine.afterFlush(()=>{let u=r.indexOf(s);u>=0&&r.splice(u,1),this._triggers.has(t)||l.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw kl(e);return t}trigger(e,t,i,o=!0){let r=this._getTrigger(t),s=new An(this.id,t,e),l=this._engine.statesByElement.get(e);l||(ke(e,vn),ke(e,vn+"-"+t),this._engine.statesByElement.set(e,l=new Map));let u=l.get(t),d=new Tn(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&u&&d.absorbOptions(u.options),l.set(t,d),u||(u=Pr),!(d.value===Cn)&&u.value===d.value){if(!wf(u.params,d.params)){let x=[],y=r.matchStyles(u.value,u.params,x),_=r.matchStyles(d.value,d.params,x);x.length?this._engine.reportError(x):this._engine.afterFlush(()=>{pt(e,y),Le(e,_)})}return}let h=Ae(this._engine.playersByElement,e,[]);h.forEach(x=>{x.namespaceId==this.id&&x.triggerName==t&&x.queued&&x.destroy()});let g=r.matchTransition(u.value,d.value,e,d.params),m=!1;if(!g){if(!o)return;g=r.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:u,toState:d,player:s,isFallbackTransition:m}),m||(ke(e,Jl),s.onStart(()=>{Gt(e,Jl)})),s.onDone(()=>{let x=this.players.indexOf(s);x>=0&&this.players.splice(x,1);let y=this._engine.playersByElement.get(e);if(y){let _=y.indexOf(s);_>=0&&y.splice(_,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(o=>o.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,xn,!0);i.forEach(o=>{if(o[Ue])return;let r=this._engine.fetchNamespacesByElement(o);r.size?r.forEach(s=>s.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,i,o){let r=this._engine.statesByElement.get(e),s=new Map;if(r){let l=[];if(r.forEach((u,d)=>{if(s.set(d,u.value),this._triggers.has(d)){let f=this.trigger(e,d,Cn,o);f&&l.push(f)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&Xe(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let o=new Set;t.forEach(r=>{let s=r.name;if(o.has(s))return;o.add(s);let u=this._triggers.get(s).fallbackTransition,d=i.get(s)||Pr,f=new Tn(Cn),p=new An(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:u,fromState:d,toState:f,player:p,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let o=!1;if(i.totalAnimations){let r=i.players.length?i.playersByQueriedElement.get(e):[];if(r&&r.length)o=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(e),o)i.markElementAsRemoved(this.id,e,!1,t);else{let r=e[Ue];(!r||r===ec)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){ke(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let o=i.player;if(o.destroyed)return;let r=i.element,s=this._elementListeners.get(r);s&&s.forEach(l=>{if(l.name==i.triggerName){let u=ti(r,i.triggerName,i.fromState.value,i.toState.value);u._data=e,ei(i.player,l.phase,u,l.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(i)}),this._queue=[],t.sort((i,o)=>{let r=i.transition.ast.depCount,s=o.transition.ast.depCount;return r==0||s==0?r-s:this._engine.driver.containsElement(i.element,o.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Or=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new Nr(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,o=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,l=this.driver.getParentElement(t);for(;l;){let u=o.get(l);if(u){let d=i.indexOf(u);i.splice(d+1,0,e),s=!0;break}l=this.driver.getParentElement(l)}s||i.unshift(e)}else i.push(e);return o.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let o=this._namespaceLookup[e];o&&o.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let o=this._namespaceList.indexOf(i);o>=0&&this._namespaceList.splice(o,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let o of i.values())if(o.namespaceId){let r=this._fetchNamespace(o.namespaceId);r&&t.add(r)}}return t}trigger(e,t,i,o){if(ci(t)){let r=this._fetchNamespace(e);if(r)return r.trigger(t,i,o),!0}return!1}insertNode(e,t,i,o){if(!ci(t))return;let r=t[Ue];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,i)}o&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ke(e,Sr)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Gt(e,Sr))}removeNode(e,t,i){if(ci(t)){let o=e?this._fetchNamespace(e):null;o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let r=this.namespacesByHostElement.get(t);r&&r.id!==e&&r.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,o,r){this.collectedLeaveElements.push(t),t[Ue]={namespaceId:e,setForRemoval:o,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:r}}listen(e,t,i,o,r){return ci(t)?this._fetchNamespace(e).listen(t,i,o,r):()=>{}}_buildInstruction(e,t,i,o,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,o,e.fromState.options,e.toState.options,t,r)}destroyInnerAnimations(e){let t=this.driver.query(e,xn,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,oi,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Xe(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Ue];if(t&&t.setForRemoval){if(e[Ue]=ec,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Sr)&&this.markElementAsDisabled(e,!1),this.driver.query(e,_f,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,o)=>this._balanceNamespaceList(i,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let o=this.collectedEnterElements[i];ke(o,vf)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let o=0;o<i.length;o++)i[o]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let o=this.collectedLeaveElements[i];this.processLeaveNode(o)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?Xe(t).onDone(()=>{i.forEach(o=>o())}):i.forEach(o=>o())}}reportError(e){throw Rl(e)}_flushAnimations(e,t){let i=new En,o=[],r=new Map,s=[],l=new Map,u=new Map,d=new Map,f=new Set;this.disabledNodes.forEach(b=>{f.add(b);let U=this.driver.query(b,mf,!0);for(let q=0;q<U.length;q++)f.add(U[q])});let p=this.bodyNode,h=Array.from(this.statesByElement.keys()),g=Wl(h,this.collectedEnterElements),m=new Map,x=0;g.forEach((b,U)=>{let q=yr+x++;m.set(U,q),b.forEach(S=>ke(S,q))});let y=[],_=new Set,v=new Set;for(let b=0;b<this.collectedLeaveElements.length;b++){let U=this.collectedLeaveElements[b],q=U[Ue];q&&q.setForRemoval&&(y.push(U),_.add(U),q.hasAnimation?this.driver.query(U,xf,!0).forEach(S=>_.add(S)):v.add(U))}let C=new Map,E=Wl(h,Array.from(_));E.forEach((b,U)=>{let q=ii+x++;C.set(U,q),b.forEach(S=>ke(S,q))}),e.push(()=>{g.forEach((b,U)=>{let q=m.get(U);b.forEach(S=>Gt(S,q))}),E.forEach((b,U)=>{let q=C.get(U);b.forEach(S=>Gt(S,q))}),y.forEach(b=>{this.processLeaveNode(b)})});let T=[],A=[];for(let b=this._namespaceList.length-1;b>=0;b--)this._namespaceList[b].drainQueuedTransitions(t).forEach(q=>{let S=q.player,B=q.element;if(T.push(S),this.collectedEnterElements.length){let ce=B[Ue];if(ce&&ce.setForMove){if(ce.previousTriggersValues&&ce.previousTriggersValues.has(q.triggerName)){let Ee=ce.previousTriggersValues.get(q.triggerName),_e=this.statesByElement.get(q.element);if(_e&&_e.has(q.triggerName)){let He=_e.get(q.triggerName);He.value=Ee,_e.set(q.triggerName,He)}}S.destroy();return}}let O=!p||!this.driver.containsElement(p,B),F=C.get(B),ne=m.get(B),Y=this._buildInstruction(q,i,ne,F,O);if(Y.errors&&Y.errors.length){A.push(Y);return}if(O){S.onStart(()=>pt(B,Y.fromStyles)),S.onDestroy(()=>Le(B,Y.toStyles)),o.push(S);return}if(q.isFallbackTransition){S.onStart(()=>pt(B,Y.fromStyles)),S.onDestroy(()=>Le(B,Y.toStyles)),o.push(S);return}let ge=[];Y.timelines.forEach(ce=>{ce.stretchStartingKeyframe=!0,this.disabledNodes.has(ce.element)||ge.push(ce)}),Y.timelines=ge,i.append(B,Y.timelines);let Z={instruction:Y,player:S,element:B};s.push(Z),Y.queriedElements.forEach(ce=>Ae(l,ce,[]).push(S)),Y.preStyleProps.forEach((ce,Ee)=>{if(ce.size){let _e=u.get(Ee);_e||u.set(Ee,_e=new Set),ce.forEach((He,ye)=>_e.add(ye))}}),Y.postStyleProps.forEach((ce,Ee)=>{let _e=d.get(Ee);_e||d.set(Ee,_e=new Set),ce.forEach((He,ye)=>_e.add(ye))})});if(A.length){let b=[];A.forEach(U=>{b.push(Bl(U.triggerName,U.errors))}),T.forEach(U=>U.destroy()),this.reportError(b)}let M=new Map,k=new Map;s.forEach(b=>{let U=b.element;i.has(U)&&(k.set(U,U),this._beforeAnimationBuild(b.player.namespaceId,b.instruction,M))}),o.forEach(b=>{let U=b.element;this._getPreviousPlayers(U,!1,b.namespaceId,b.triggerName,null).forEach(S=>{Ae(M,U,[]).push(S),S.destroy()})});let w=y.filter(b=>Yl(b,u,d)),N=new Map;$l(N,this.driver,v,d,Oe).forEach(b=>{Yl(b,u,d)&&w.push(b)});let R=new Map;g.forEach((b,U)=>{$l(R,this.driver,new Set(b),u,_n)}),w.forEach(b=>{let U=N.get(b),q=R.get(b);N.set(b,new Map([...U?.entries()??[],...q?.entries()??[]]))});let V=[],L=[],K={};s.forEach(b=>{let{element:U,player:q,instruction:S}=b;if(i.has(U)){if(f.has(U)){q.onDestroy(()=>Le(U,S.toStyles)),q.disabled=!0,q.overrideTotalTime(S.totalTime),o.push(q);return}let B=K;if(k.size>1){let F=U,ne=[];for(;F=F.parentNode;){let Y=k.get(F);if(Y){B=Y;break}ne.push(F)}ne.forEach(Y=>k.set(Y,B))}let O=this._buildAnimation(q.namespaceId,S,M,r,R,N);if(q.setRealPlayer(O),B===K)V.push(q);else{let F=this.playersByElement.get(B);F&&F.length&&(q.parentPlayer=Xe(F)),o.push(q)}}else pt(U,S.fromStyles),q.onDestroy(()=>Le(U,S.toStyles)),L.push(q),f.has(U)&&o.push(q)}),L.forEach(b=>{let U=r.get(b.element);if(U&&U.length){let q=Xe(U);b.setRealPlayer(q)}}),o.forEach(b=>{b.parentPlayer?b.syncPlayerEvents(b.parentPlayer):b.destroy()});for(let b=0;b<y.length;b++){let U=y[b],q=U[Ue];if(Gt(U,ii),q&&q.hasAnimation)continue;let S=[];if(l.size){let O=l.get(U);O&&O.length&&S.push(...O);let F=this.driver.query(U,oi,!0);for(let ne=0;ne<F.length;ne++){let Y=l.get(F[ne]);Y&&Y.length&&S.push(...Y)}}let B=S.filter(O=>!O.destroyed);B.length?Sf(this,U,B):this.processLeaveNode(U)}return y.length=0,V.forEach(b=>{this.players.push(b),b.onDone(()=>{b.destroy();let U=this.players.indexOf(b);this.players.splice(U,1)}),b.play()}),V}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,o,r){let s=[];if(t){let l=this.playersByQueriedElement.get(e);l&&(s=l)}else{let l=this.playersByElement.get(e);if(l){let u=!r||r==Cn;l.forEach(d=>{d.queued||!u&&d.triggerName!=o||s.push(d)})}}return(i||o)&&(s=s.filter(l=>!(i&&i!=l.namespaceId||o&&o!=l.triggerName))),s}_beforeAnimationBuild(e,t,i){let o=t.triggerName,r=t.element,s=t.isRemovalTransition?void 0:e,l=t.isRemovalTransition?void 0:o;for(let u of t.timelines){let d=u.element,f=d!==r,p=Ae(i,d,[]);this._getPreviousPlayers(d,f,s,l,t.toState).forEach(g=>{let m=g.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),g.destroy(),p.push(g)})}pt(r,t.fromStyles)}_buildAnimation(e,t,i,o,r,s){let l=t.triggerName,u=t.element,d=[],f=new Set,p=new Set,h=t.timelines.map(m=>{let x=m.element;f.add(x);let y=x[Ue];if(y&&y.removedBeforeQueried)return new Tt(m.duration,m.delay);let _=x!==u,v=Pf((i.get(x)||yf).map(M=>M.getRealPlayer())).filter(M=>{let k=M;return k.element?k.element===x:!1}),C=r.get(x),E=s.get(x),T=gr(this._normalizer,m.keyframes,C,E),A=this._buildPlayer(m,T,v);if(m.subTimeline&&o&&p.add(x),_){let M=new An(e,l,x);M.setRealPlayer(A),d.push(M)}return A});d.forEach(m=>{Ae(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>Ef(this.playersByQueriedElement,m.element,m))}),f.forEach(m=>ke(m,Cr));let g=Xe(h);return g.onDestroy(()=>{f.forEach(m=>Gt(m,Cr)),Le(u,t.toStyles)}),p.forEach(m=>{Ae(o,m,[]).push(g)}),g}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Tt(e.duration,e.delay)}},An=class{namespaceId;triggerName;element;_player=new Tt;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(o=>ei(e,i,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ae(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function Ef(n,e,t){let i=n.get(e);if(i){if(i.length){let o=i.indexOf(t);i.splice(o,1)}i.length==0&&n.delete(e)}return i}function Tf(n){return n??null}function ci(n){return n&&n.nodeType===1}function Af(n){return n=="start"||n=="done"}function Kl(n,e){let t=n.style.display;return n.style.display=e??"none",t}function $l(n,e,t,i,o){let r=[];t.forEach(u=>r.push(Kl(u)));let s=[];i.forEach((u,d)=>{let f=new Map;u.forEach(p=>{let h=e.computeStyle(d,p,o);f.set(p,h),(!h||h.length==0)&&(d[Ue]=Cf,s.push(d))}),n.set(d,f)});let l=0;return t.forEach(u=>Kl(u,r[l++])),s}function Wl(n,e){let t=new Map;if(n.forEach(l=>t.set(l,[])),e.length==0)return t;let i=1,o=new Set(e),r=new Map;function s(l){if(!l)return i;let u=r.get(l);if(u)return u;let d=l.parentNode;return t.has(d)?u=d:o.has(d)?u=i:u=s(d),r.set(l,u),u}return e.forEach(l=>{let u=s(l);u!==i&&t.get(u).push(l)}),t}function ke(n,e){n.classList?.add(e)}function Gt(n,e){n.classList?.remove(e)}function Sf(n,e,t){Xe(t).onDone(()=>n.processLeaveNode(e))}function Pf(n){let e=[];return tc(n,e),e}function tc(n,e){for(let t=0;t<n.length;t++){let i=n[t];i instanceof Xn?tc(i.players,e):e.push(i)}}function wf(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let o=0;o<t.length;o++){let r=t[o];if(!e.hasOwnProperty(r)||n[r]!==e[r])return!1}return!0}function Yl(n,e,t){let i=t.get(n);if(!i)return!1;let o=e.get(n);return o?i.forEach(r=>o.add(r)):e.set(n,i),t.delete(n),!0}var Ht=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,i){this._driver=t,this._normalizer=i,this._transitionEngine=new Or(e.body,t,i),this._timelineEngine=new Fr(e.body,t,i),this._transitionEngine.onRemovalComplete=(o,r)=>this.onRemovalComplete(o,r)}registerTrigger(e,t,i,o,r){let s=e+"-"+o,l=this._triggerCache[s];if(!l){let u=[],d=[],f=Ql(this._driver,r,u,d);if(u.length)throw Al(o,u);l=pf(o,f,this._normalizer),this._triggerCache[s]=l}this._transitionEngine.registerTrigger(t,o,l)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,o){this._transitionEngine.insertNode(e,t,i,o)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,o){if(i.charAt(0)=="@"){let[r,s]=mr(i),l=o;this._timelineEngine.command(r,t,s,l)}else this._transitionEngine.trigger(e,t,i,o)}listen(e,t,i,o,r){if(i.charAt(0)=="@"){let[s,l]=mr(i);return this._timelineEngine.listen(s,t,l,r)}return this._transitionEngine.listen(e,t,i,o,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function Mf(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=wr(e[0]),e.length>1&&(i=wr(e[e.length-1]))):e instanceof Map&&(t=wr(e)),t||i?new If(n,t,i):null}var If=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,i,o){this._element=t,this._startStyles=i,this._endStyles=o;let r=n.initialStylesByElement.get(t);r||n.initialStylesByElement.set(t,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Le(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Le(this._element,this._initialStyles),this._endStyles&&(Le(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(pt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pt(this._element,this._endStyles),this._endStyles=null),Le(this._element,this._initialStyles),this._state=3)}}return n})();function wr(n){let e=null;return n.forEach((t,i)=>{bf(i)&&(e=e||new Map,e.set(i,t))}),e}function bf(n){return n==="display"||n==="position"}var mi=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,i,o){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=o,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,o)=>{o!=="offset"&&e.set(o,this._finished?i:si(this.element,o))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},_i=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return _r(e,t)}getParentElement(e){return ni(e)}query(e,t,i){return vr(e,t,i)}computeStyle(e,t,i){return si(e,t)}animate(e,t,i,o,r,s=[]){let l=o==0?"both":"forwards",u={duration:i,delay:o,fill:l};r&&(u.easing=r);let d=new Map,f=s.filter(g=>g instanceof mi);Ll(i,o)&&f.forEach(g=>{g.currentSnapshot.forEach((m,x)=>d.set(x,m))});let p=Nl(t).map(g=>new Map(g));p=Ul(e,p,d);let h=Mf(e,p);return new mi(e,p,u,h)}};var ui="@",nc="@.disabled",vi=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,i,o){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=o}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,o=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,o)}removeChild(e,t,i,o){if(o){this.delegate.removeChild(e,t,i);return}this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,o){this.delegate.setAttribute(e,t,i,o)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,o){this.delegate.setStyle(e,t,i,o)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==ui&&t==nc?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i,o){return this.delegate.listen(e,t,i,o)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},Lr=class extends vi{factory;constructor(e,t,i,o,r){super(t,i,o,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==ui?t.charAt(1)=="."&&t==nc?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i,o){if(t.charAt(0)==ui){let r=Df(e),s=t.slice(1),l="";return s.charAt(0)!=ui&&([s,l]=kf(s)),this.engine.listen(this.namespaceId,r,s,l,u=>{let d=u._data||-1;this.factory.scheduleListenerCallback(d,i,u)})}return this.delegate.listen(e,t,i,o)}};function Df(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function kf(n){let e=n.indexOf("."),t=n.substring(0,e),i=n.slice(e+1);return[t,i]}var xi=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,t.onRemovalComplete=(o,r)=>{r?.removeChild(null,o)}}createRenderer(e,t){let o=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let d=this._rendererCache,f=d.get(o);if(!f){let p=()=>d.delete(o);f=new vi("",o,this.engine,p),d.set(o,f)}return f}let r=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let l=d=>{Array.isArray(d)?d.forEach(l):this.engine.registerTrigger(r,s,e,d.name,d)};return t.data.animation.forEach(l),new Lr(this,s,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let o=this._animationCallbacksBuffer;o.length==0&&queueMicrotask(()=>{this._zone.run(()=>{o.forEach(r=>{let[s,l]=r;s(l)}),this._animationCallbacksBuffer=[]})}),o.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var Bf=(()=>{class n extends Ht{constructor(t,i,o){super(t,i,o)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||n)(me(Kn),me(Pt),me(wt))};static \u0275prov=le({token:n,factory:n.\u0275fac})}return n})();function Ff(){return new di}function Nf(n,e,t){return new xi(n,e,t)}var oc=[{provide:wt,useFactory:Ff},{provide:Ht,useClass:Bf},{provide:Ba,useFactory:Nf,deps:[Ja,Ht,Fa]}],Of=[{provide:Pt,useClass:Ur},{provide:rr,useValue:"NoopAnimations"},...oc],ic=[{provide:Pt,useFactory:()=>new _i},{provide:rr,useFactory:()=>"BrowserAnimations"},...oc],rc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Of:ic}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=ut({type:n});static \u0275inj=ct({providers:ic,imports:[Wn]})}return n})();var Vr=new ka("JWT_OPTIONS"),ac=(()=>{class n{constructor(t=null){this.tokenGetter=t&&t.tokenGetter||function(){}}urlBase64Decode(t){let i=t.replace(/-/g,"+").replace(/_/g,"/");switch(i.length%4){case 0:break;case 2:{i+="==";break}case 3:{i+="=";break}default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(i)}b64decode(t){let i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o="";if(t=String(t).replace(/=+$/,""),t.length%4===1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let r=0,s,l,u=0;l=t.charAt(u++);~l&&(s=r%4?s*64+l:l,r++%4)?o+=String.fromCharCode(255&s>>(-2*r&6)):0)l=i.indexOf(l);return o}b64DecodeUnicode(t){return decodeURIComponent(Array.prototype.map.call(this.b64decode(t),i=>"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(t=this.tokenGetter()){return t instanceof Promise?t.then(i=>this._decodeToken(i)):this._decodeToken(t)}_decodeToken(t){if(!t||t==="")return null;let i=t.split(".");if(i.length!==3)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");let o=this.urlBase64Decode(i[1]);if(!o)throw new Error("Cannot decode the token.");return JSON.parse(o)}getTokenExpirationDate(t=this.tokenGetter()){return t instanceof Promise?t.then(i=>this._getTokenExpirationDate(i)):this._getTokenExpirationDate(t)}_getTokenExpirationDate(t){let i;if(i=this.decodeToken(t),!i||!i.hasOwnProperty("exp"))return null;let o=new Date(0);return o.setUTCSeconds(i.exp),o}isTokenExpired(t=this.tokenGetter(),i){return t instanceof Promise?t.then(o=>this._isTokenExpired(o,i)):this._isTokenExpired(t,i)}_isTokenExpired(t,i){if(!t||t==="")return!0;let o=this.getTokenExpirationDate(t);return i=i||0,o===null?!1:!(o.valueOf()>new Date().valueOf()+i*1e3)}getAuthScheme(t,i){return typeof t=="function"?t(i):t}}return n.\u0275fac=function(t){return new(t||n)(me(Vr))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})(),sc=n=>n instanceof Promise?ba(()=>n):Jn(n),Lf=(()=>{class n{constructor(t,i,o){this.jwtHelper=i,this.document=o,this.standardPorts=["80","443"],this.tokenGetter=t.tokenGetter,this.headerName=t.headerName||"Authorization",this.authScheme=t.authScheme||t.authScheme===""?t.authScheme:"Bearer ",this.allowedDomains=t.allowedDomains||[],this.disallowedRoutes=t.disallowedRoutes||[],this.throwNoTokenError=t.throwNoTokenError||!1,this.skipWhenExpired=t.skipWhenExpired}isAllowedDomain(t){let i=new URL(t.url,this.document.location.origin);if(i.host===this.document.location.host)return!0;let o=`${i.hostname}${i.port&&!this.standardPorts.includes(i.port)?":"+i.port:""}`;return this.allowedDomains.findIndex(r=>typeof r=="string"?r===o:r instanceof RegExp?r.test(o):!1)>-1}isDisallowedRoute(t){let i=new URL(t.url,this.document.location.origin);return this.disallowedRoutes.findIndex(o=>{if(typeof o=="string"){let r=new URL(o,this.document.location.origin);return r.hostname===i.hostname&&r.pathname===i.pathname}return o instanceof RegExp?o.test(t.url):!1})>-1}handleInterception(t,i,o){let r=this.jwtHelper.getAuthScheme(this.authScheme,i);if(!t&&this.throwNoTokenError)throw new Error("Could not get token from tokenGetter function.");let s=Jn(!1);return this.skipWhenExpired&&(s=t?sc(this.jwtHelper.isTokenExpired(t)):Jn(!0)),t?s.pipe(Ct(l=>l&&this.skipWhenExpired?i.clone():i.clone({setHeaders:{[this.headerName]:`${r}${t}`}})),ir(l=>o.handle(l))):o.handle(i)}intercept(t,i){if(!this.isAllowedDomain(t)||this.isDisallowedRoute(t))return i.handle(t);let o=this.tokenGetter(t);return sc(o).pipe(ir(r=>this.handleInterception(r,t,i)))}}return n.\u0275fac=function(t){return new(t||n)(me(Vr),me(ac),me(Kn))},n.\u0275prov=le({token:n,factory:n.\u0275fac}),n})(),lc=(()=>{class n{constructor(t){if(t)throw new Error("JwtModule is already loaded. It should only be imported in your application's main module.")}static forRoot(t){return{ngModule:n,providers:[{provide:$a,useClass:Lf,multi:!0},t.jwtOptionsProvider||{provide:Vr,useValue:t.config},ac]}}}return n.\u0275fac=function(t){return new(t||n)(me(n,12))},n.\u0275mod=ut({type:n}),n.\u0275inj=ct({}),n})();var Uf=[{path:"",redirectTo:"desk",pathMatch:"full"},{path:"desk",loadChildren:()=>import("./chunk-OBHC2JCS.js").then(n=>n.DeskModule)},{path:"**",redirectTo:"desk"}],yi=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ut({type:n});static \u0275inj=ct({imports:[dr.forRoot(Uf,{useHash:!0}),dr]})};var Ci={production:!0,showGlobalNavigation:!0,requireAuth:!0,disableDarkMode:!1,apiUrl:"https://api.loworldsoft.com",baseSyncUrl:"https://api.loworldsoft.com",baseUrl:"https://api.loworldsoft.com",frontUrl:"https://api.loworldsoft.com",socket_url:"wss://api.loworldsoft.com",channelTalkApiUrl:"https://api.loworldsoft.com/channeltalk",channelTalkSocketUrl:"https://api.loworldsoft.com/channeltalk",auth:{username:"LSs6Jjw=",password:"fX9meA==",ezPassword:"fX1kew=="}};var qf=window.alert.bind(window),Ai=window.confirm.bind(window),Mt=null,Sn=null;var Ei=!1,cc=new Map;function uc(n){Mt=n,console.log("\u{1F3AF} Alert Override: SnackbarService \uC778\uC2A4\uD134\uC2A4\uAC00 \uC124\uC815\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}function dc(n){Sn=n,console.log("\u{1F3AF} Alert Override: MatDialog \uC778\uC2A4\uD134\uC2A4\uAC00 \uC124\uC815\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}function Vf(){try{return localStorage.getItem("useNativeAlert")==="true"}catch{return!1}}function fc(){console.log("\u{1F3AF} Alert Override \uCD08\uAE30\uD654 \uC911..."),window.alert=function(e){if(!Ei){if(!Mt){console.warn("\u26A0\uFE0F SnackbarService\uAC00 \uC544\uC9C1 \uC900\uBE44\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4.");return}Ei=!0;try{let t=String(e||""),i=t.toLowerCase();i.includes("\uC131\uACF5")||i.includes("\uC644\uB8CC")||i.includes("\uB418\uC5C8\uC2B5\uB2C8\uB2E4")?Mt.showSuccess(t,3e3):i.includes("\uC624\uB958")||i.includes("\uC2E4\uD328")||i.includes("\uC5D0\uB7EC")?Mt.showError(t,4e3):i.includes("\uACBD\uACE0")||i.includes("\uC8FC\uC758")?Mt.showWarning(t,3500):Mt.showInfo(t,3e3),console.log("\u{1F4E2} Alert \u2192 Snackbar:",t)}catch(t){console.warn("\u274C Alert Override \uC624\uB958:",t),qf(e)}finally{Ei=!1}}};let n=window.confirm;window.confirm=function(e){if(Ei)return!1;if(!Sn)return console.warn("\u26A0\uFE0F MatDialog\uAC00 \uC544\uC9C1 \uC900\uBE44\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4."),!1;console.log("\u{1F4AC} Confirm \u2192 Dialog:",e);let t=Math.random().toString(36),i=!1;try{import("./chunk-UVWDERKX.js").then(o=>{Sn.open(o.ConfirmDialogComponent,{width:"400px",disableClose:!1,data:{message:e||"\uD655\uC778\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",type:pc(e||"")}}).afterClosed().subscribe(s=>{i=s||!1;let l=cc.get(t);l&&(l.resolve(i),cc.delete(t))})})}catch(o){return console.warn("\u274C Dialog \uC5F4\uAE30 \uC624\uB958:",o),Ai(e)}return Ai(e)},console.log("\u2705 Alert Override \uCD08\uAE30\uD654 \uC644\uB8CC")}function pc(n){let e=n.toLowerCase();return e.includes("\uC0AD\uC81C")||e.includes("\uC81C\uAC70")?"danger":e.includes("\uACBD\uACE0")||e.includes("\uC8FC\uC758")?"warning":"info"}function Ti(n){return I(this,null,function*(){if(!Sn)return console.warn("\u26A0\uFE0F MatDialog\uAC00 \uC900\uBE44\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uC6D0\uBCF8 confirm \uC0AC\uC6A9"),Ai(n);try{let{ConfirmDialogComponent:e}=yield import("./chunk-UVWDERKX.js");return(yield Sn.open(e,{width:"400px",disableClose:!1,data:{message:n,type:pc(n)}}).afterClosed().toPromise())||!1}catch(e){return console.warn("\u274C confirmAsync \uC624\uB958:",e),Ai(n)}})}var Gf={setUseNativeAlert(n){localStorage.setItem("useNativeAlert",String(n)),console.log(`\u{1F527} Native Alert \uC0AC\uC6A9: ${n}`)},getStatus(){return{useNativeAlert:Vf(),snackbarReady:Mt!==null}},testAlert(n="\uD14C\uC2A4\uD2B8 \uBA54\uC2DC\uC9C0"){alert(n)},testConfirm(n="\uD14C\uC2A4\uD2B8 \uD655\uC778 \uBA54\uC2DC\uC9C0"){return confirm(n)},testConfirmAsync(n="\uC815\uB9D0 \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?"){return I(this,null,function*(){return yield Ti(n)})},testAllConfirmTypes(){return I(this,null,function*(){console.log("=== Confirm \uD0C0\uC785 \uD14C\uC2A4\uD2B8 \uC2DC\uC791 ===");let n=yield Ti("\uB098\uB294\uAC08\uBE44\uAC00\uC88B\uB2E4 \uC0AC\uC6A9\uC790\uB97C \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?");console.log("\uC0AD\uC81C confirm \uACB0\uACFC:",n),setTimeout(()=>I(null,null,function*(){let e=yield Ti("\uACBD\uACE0: \uC774 \uC791\uC5C5\uC740 \uB418\uB3CC\uB9B4 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.");console.log("\uACBD\uACE0 confirm \uACB0\uACFC:",e)}),500),setTimeout(()=>I(null,null,function*(){let e=yield Ti("\uBCC0\uACBD\uC0AC\uD56D\uC744 \uC800\uC7A5\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?");console.log("\uC77C\uBC18 confirm \uACB0\uACFC:",e)}),1e3)})}};typeof window<"u"&&(window.AlertOverride=Gf);var Pi=window.confirm.bind(window);function Hf(){return window.debugLogger}function Si(n,e){let t=Hf();t?t.info(n,e):console.log(`[${n}] ${e}`)}var Jt=null,zt=!1,Gr=!0;function Hr(n){Jt=n}function zf(n){Gr=n,Si("Confirm Override",`\u{1F3AF} ${n?"\uD65C\uC131\uD654":"\uBE44\uD65C\uC131\uD654"}`)}function hc(n){let e=n.toLowerCase();return e.includes("\uC0AD\uC81C")||e.includes("\uC81C\uAC70")||e.includes("delete")?"danger":e.includes("\uB098\uAC00")||e.includes("\uCDE8\uC18C")||e.includes("\uC885\uB8CC")?"warning":"info"}function gc(){let n=Pi;window.confirm=function(e){if(!Gr)return n(e);if(zt)return!1;if(!Jt)return n(e);zt=!0;try{import("./chunk-UVWDERKX.js").then(t=>{try{let i=Jt.open(t.ConfirmDialogComponent,{width:"400px",maxWidth:"90vw",disableClose:!1,hasBackdrop:!0,closeOnNavigation:!0,autoFocus:"dialog",restoreFocus:!0,panelClass:"confirm-dialog-container",data:{message:e||"\uD655\uC778\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",type:hc(e||""),confirmText:"\uD655\uC778",cancelText:"\uCDE8\uC18C"}});i.backdropClick().subscribe(()=>{i.close(!1)}),i.keydownEvents().subscribe(o=>{o.key==="Escape"&&i.close(!1)}),i.afterClosed().subscribe(o=>{zt=!1})}catch(i){Si("Confirm Override",`\u274C matDialogInstance.open() \uC2E4\uD328: ${i}`),zt=!1}}).catch(t=>{Si("Confirm Override",`\u274C ConfirmDialog import \uC2E4\uD328: ${t}`),zt=!1})}catch(t){return Si("Confirm Override",`\u274C \uB3D9\uAE30 \uC608\uC678 \uBC1C\uC0DD: ${t}`),zt=!1,!1}return!1}}function Jf(n){return I(this,null,function*(){if(!Jt)return console.warn("\u26A0\uFE0F MatDialog\uAC00 \uC900\uBE44\uB418\uC9C0 \uC54A\uC558\uC2B5\uB2C8\uB2E4. \uC6D0\uBCF8 confirm\uC744 \uC0AC\uC6A9\uD569\uB2C8\uB2E4."),Pi(n);try{let e=yield import("./chunk-UVWDERKX.js");return(yield Jt.open(e.ConfirmDialogComponent,{width:"400px",maxWidth:"90vw",disableClose:!1,panelClass:"confirm-dialog-container",data:{message:n||"\uD655\uC778\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",type:hc(n||""),confirmText:"\uD655\uC778",cancelText:"\uCDE8\uC18C"}}).afterClosed().toPromise())||!1}catch(e){return console.warn("\u274C confirmAsync \uC624\uB958:",e),Pi(n)}})}function Kf(n){return Pi(n)}var $f={setDialogInstance:Hr,setEnabled:zf,confirmAsync:Jf,nativeConfirm:Kf,isEnabled(){return Gr},isReady(){return Jt!==null}};typeof window<"u"&&(window.ConfirmOverride=$f);var qe=Object.create(null);qe.open="0";qe.close="1";qe.ping="2";qe.pong="3";qe.message="4";qe.upgrade="5";qe.noop="6";var Pn=Object.create(null);Object.keys(qe).forEach(n=>{Pn[qe[n]]=n});var wn={type:"error",data:"parser error"};var vc=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",xc=typeof ArrayBuffer=="function",yc=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,Mn=({type:n,data:e},t,i)=>vc&&e instanceof Blob?t?i(e):mc(e,i):xc&&(e instanceof ArrayBuffer||yc(e))?t?i(e):mc(new Blob([e]),i):i(qe[n]+(e||"")),mc=(n,e)=>{let t=new FileReader;return t.onload=function(){let i=t.result.split(",")[1];e("b"+(i||""))},t.readAsDataURL(n)};function _c(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}var zr;function Cc(n,e){if(vc&&n.data instanceof Blob)return n.data.arrayBuffer().then(_c).then(e);if(xc&&(n.data instanceof ArrayBuffer||yc(n.data)))return e(_c(n.data));Mn(n,!1,t=>{zr||(zr=new TextEncoder),e(zr.encode(t))})}var Ec="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",In=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<Ec.length;n++)In[Ec.charCodeAt(n)]=n;var Tc=n=>{let e=n.length*.75,t=n.length,i,o=0,r,s,l,u;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);let d=new ArrayBuffer(e),f=new Uint8Array(d);for(i=0;i<t;i+=4)r=In[n.charCodeAt(i)],s=In[n.charCodeAt(i+1)],l=In[n.charCodeAt(i+2)],u=In[n.charCodeAt(i+3)],f[o++]=r<<2|s>>4,f[o++]=(s&15)<<4|l>>2,f[o++]=(l&3)<<6|u&63;return d};var Wf=typeof ArrayBuffer=="function",bn=(n,e)=>{if(typeof n!="string")return{type:"message",data:Ac(n,e)};let t=n.charAt(0);return t==="b"?{type:"message",data:Yf(n.substring(1),e)}:Pn[t]?n.length>1?{type:Pn[t],data:n.substring(1)}:{type:Pn[t]}:wn},Yf=(n,e)=>{if(Wf){let t=Tc(n);return Ac(t,e)}else return{base64:!0,data:n}},Ac=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}};var Sc="",Pc=(n,e)=>{let t=n.length,i=new Array(t),o=0;n.forEach((r,s)=>{Mn(r,!1,l=>{i[s]=l,++o===t&&e(i.join(Sc))})})},wc=(n,e)=>{let t=n.split(Sc),i=[];for(let o=0;o<t.length;o++){let r=bn(t[o],e);if(i.push(r),r.type==="error")break}return i};function Mc(){return new TransformStream({transform(n,e){Cc(n,t=>{let i=t.length,o;if(i<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,i);else if(i<65536){o=new Uint8Array(3);let r=new DataView(o.buffer);r.setUint8(0,126),r.setUint16(1,i)}else{o=new Uint8Array(9);let r=new DataView(o.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(i))}n.data&&typeof n.data!="string"&&(o[0]|=128),e.enqueue(o),e.enqueue(t)})}})}var Jr;function wi(n){return n.reduce((e,t)=>e+t.length,0)}function Mi(n,e){if(n[0].length===e)return n.shift();let t=new Uint8Array(e),i=0;for(let o=0;o<e;o++)t[o]=n[0][i++],i===n[0].length&&(n.shift(),i=0);return n.length&&i<n[0].length&&(n[0]=n[0].slice(i)),t}function Ic(n,e){Jr||(Jr=new TextDecoder);let t=[],i=0,o=-1,r=!1;return new TransformStream({transform(s,l){for(t.push(s);;){if(i===0){if(wi(t)<1)break;let u=Mi(t,1);r=(u[0]&128)===128,o=u[0]&127,o<126?i=3:o===126?i=1:i=2}else if(i===1){if(wi(t)<2)break;let u=Mi(t,2);o=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),i=3}else if(i===2){if(wi(t)<8)break;let u=Mi(t,8),d=new DataView(u.buffer,u.byteOffset,u.length),f=d.getUint32(0);if(f>Math.pow(2,21)-1){l.enqueue(wn);break}o=f*Math.pow(2,32)+d.getUint32(4),i=3}else{if(wi(t)<o)break;let u=Mi(t,o);l.enqueue(bn(r?u:Jr.decode(u),e)),i=0}if(o===0||o>n){l.enqueue(wn);break}}}})}var Kr=4;function re(n){if(n)return Xf(n)}function Xf(n){for(var e in re.prototype)n[e]=re.prototype[e];return n}re.prototype.on=re.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};re.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};re.prototype.off=re.prototype.removeListener=re.prototype.removeAllListeners=re.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var i,o=0;o<t.length;o++)if(i=t[o],i===e||i.fn===e){t.splice(o,1);break}return t.length===0&&delete this._callbacks["$"+n],this};re.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(t){t=t.slice(0);for(var i=0,o=t.length;i<o;++i)t[i].apply(this,e)}return this};re.prototype.emitReserved=re.prototype.emit;re.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};re.prototype.hasListeners=function(n){return!!this.listeners(n).length};var Qe=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Ce=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),bc="arraybuffer";function Ii(n,...e){return e.reduce((t,i)=>(n.hasOwnProperty(i)&&(t[i]=n[i]),t),{})}var Qf=Ce.setTimeout,Zf=Ce.clearTimeout;function Ze(n,e){e.useNativeTimers?(n.setTimeoutFn=Qf.bind(Ce),n.clearTimeoutFn=Zf.bind(Ce)):(n.setTimeoutFn=Ce.setTimeout.bind(Ce),n.clearTimeoutFn=Ce.clearTimeout.bind(Ce))}var jf=1.33;function Dc(n){return typeof n=="string"?ep(n):Math.ceil((n.byteLength||n.size)*jf)}function ep(n){let e=0,t=0;for(let i=0,o=n.length;i<o;i++)e=n.charCodeAt(i),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(i++,t+=4);return t}function bi(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function kc(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function Rc(n){let e={},t=n.split("&");for(let i=0,o=t.length;i<o;i++){let r=t[i].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}var Di=class extends Error{constructor(e,t,i){super(e),this.description=t,this.context=i,this.type="TransportError"}},je=class extends re{constructor(e){super(),this.writable=!1,Ze(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,i){return super.emitReserved("error",new Di(e,t,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=bn(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let t=kc(e);return t.length?"?"+t:""}};var Dn=class extends je{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||t()})),this.writable||(i++,this.once("drain",function(){--i||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let t=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};wc(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Pc(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=bi()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}};var Bc=!1;try{Bc=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var Fc=Bc;function tp(){}var $r=class extends Dn{constructor(e){if(super(e),typeof location<"u"){let t=location.protocol==="https:",i=location.port;i||(i=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}}doWrite(e,t){let i=this.request({method:"POST",data:e});i.on("success",t),i.on("error",(o,r)=>{this.onError("xhr post error",o,r)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,i)=>{this.onError("xhr poll error",t,i)}),this.pollXhr=e}},ki=(()=>{class n extends re{constructor(t,i,o){super(),this.createRequest=t,Ze(this,o),this._opts=o,this._method=o.method||"GET",this._uri=i,this._data=o.data!==void 0?o.data:null,this._create()}_create(){var t;let i=Ii(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this._opts.xd;let o=this._xhr=this.createRequest(i);try{o.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){o.setDisableHeaderCheck&&o.setDisableHeaderCheck(!0);for(let r in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(r)&&o.setRequestHeader(r,this._opts.extraHeaders[r])}}catch{}if(this._method==="POST")try{o.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{o.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(o),"withCredentials"in o&&(o.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(o.timeout=this._opts.requestTimeout),o.onreadystatechange=()=>{var r;o.readyState===3&&((r=this._opts.cookieJar)===null||r===void 0||r.parseCookies(o.getResponseHeader("set-cookie"))),o.readyState===4&&(o.status===200||o.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof o.status=="number"?o.status:0)},0))},o.send(this._data)}catch(r){this.setTimeoutFn(()=>{this._onError(r)},0);return}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=tp,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){let t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Nc);else if(typeof addEventListener=="function"){let n="onpagehide"in Ce?"pagehide":"unload";addEventListener(n,Nc,!1)}}function Nc(){for(let n in ki.requests)ki.requests.hasOwnProperty(n)&&ki.requests[n].abort()}var np=(function(){let n=Oc({xdomain:!1});return n&&n.responseType!==null})(),ht=class extends $r{constructor(e){super(e);let t=e&&e.forceBase64;this.supportsBinary=np&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new ki(Oc,this.uri(),e)}};function Oc(n){let e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Fc))return new XMLHttpRequest}catch{}if(!e)try{return new Ce[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var Lc=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Yr=class extends je{get name(){return"websocket"}doOpen(){let e=this.uri(),t=this.opts.protocols,i=Lc?{}:Ii(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,i)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let i=e[t],o=t===e.length-1;Mn(i,this.supportsBinary,r=>{try{this.doWrite(i,r)}catch{}o&&Qe(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=bi()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}},Wr=Ce.WebSocket||Ce.MozWebSocket,gt=class extends Yr{createSocket(e,t,i){return Lc?new Wr(e,t,i):t?new Wr(e,t):new Wr(e)}doWrite(e,t){this.ws.send(t)}};var Kt=class extends je{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let t=Ic(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(t).getReader(),o=Mc();o.readable.pipeTo(e.writable),this._writer=o.writable.getWriter();let r=()=>{i.read().then(({done:l,value:u})=>{l||(this.onPacket(u),r())}).catch(l=>{})};r();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let i=e[t],o=t===e.length-1;this._writer.write(i).then(()=>{o&&Qe(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}};var Xr={websocket:gt,webtransport:Kt,polling:ht};var ip=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,op=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function $t(n){if(n.length>8e3)throw"URI too long";let e=n,t=n.indexOf("["),i=n.indexOf("]");t!=-1&&i!=-1&&(n=n.substring(0,t)+n.substring(t,i).replace(/:/g,";")+n.substring(i,n.length));let o=ip.exec(n||""),r={},s=14;for(;s--;)r[op[s]]=o[s]||"";return t!=-1&&i!=-1&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=rp(r,r.path),r.queryKey=sp(r,r.query),r}function rp(n,e){let t=/\/{2,9}/g,i=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function sp(n,e){let t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,o,r){o&&(t[o]=r)}),t}var Qr=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ri=[];Qr&&addEventListener("offline",()=>{Ri.forEach(n=>n())},!1);var Bi=(()=>{class n extends re{constructor(t,i){if(super(),this.binaryType=bc,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(i=t,t=null),t){let o=$t(t);i.hostname=o.host,i.secure=o.protocol==="https"||o.protocol==="wss",i.port=o.port,o.query&&(i.query=o.query)}else i.host&&(i.hostname=$t(i.host).host);Ze(this,i),this.secure=i.secure!=null?i.secure:typeof location<"u"&&location.protocol==="https:",i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=i.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},i.transports.forEach(o=>{let r=o.prototype.name;this.transports.push(r),this._transportsByName[r]=o}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},i),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Rc(this.opts.query)),Qr&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ri.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){let i=Object.assign({},this.opts.query);i.EIO=Kr,i.transport=t,this.id&&(i.sid=this.id);let o=Object.assign({},this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](o)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let t=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let i=this.createTransport(t);i.open(),this.setTransport(i)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",i=>this._onClose("transport close",i))}onOpen(){this.readyState="open",n.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let i=new Error("server error");i.code=t.data,this._onError(i);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let o=0;o<this.writeBuffer.length;o++){let r=this.writeBuffer[o].data;if(r&&(i+=Dc(r)),o>0&&i>this._maxPayload)return this.writeBuffer.slice(0,o);i+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Qe(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,i,o){return this._sendPacket("message",t,i,o),this}send(t,i,o){return this._sendPacket("message",t,i,o),this}_sendPacket(t,i,o,r){if(typeof i=="function"&&(r=i,i=void 0),typeof o=="function"&&(r=o,o=null),this.readyState==="closing"||this.readyState==="closed")return;o=o||{},o.compress=o.compress!==!1;let s={type:t,data:i,options:o};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}close(){let t=()=>{this._onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),t()},o=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?o():t()}):this.upgrading?o():t()),this}_onError(t){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,i){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Qr&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let o=Ri.indexOf(this._offlineEventListener);o!==-1&&Ri.splice(o,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,i),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=Kr,n})(),Fi=class extends Bi{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),i=!1;Bi.priorWebsocketSuccess=!1;let o=()=>{i||(t.send([{type:"ping",data:"probe"}]),t.once("packet",p=>{if(!i)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Bi.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(f(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{let h=new Error("probe error");h.transport=t.name,this.emitReserved("upgradeError",h)}}))};function r(){i||(i=!0,f(),t.close(),t=null)}let s=p=>{let h=new Error("probe error: "+p);h.transport=t.name,r(),this.emitReserved("upgradeError",h)};function l(){s("transport closed")}function u(){s("socket closed")}function d(p){t&&p.name!==t.name&&r()}let f=()=>{t.removeListener("open",o),t.removeListener("error",s),t.removeListener("close",l),this.off("close",u),this.off("upgrading",d)};t.once("open",o),t.once("error",s),t.once("close",l),this.once("close",u),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let t=[];for(let i=0;i<e.length;i++)~this.transports.indexOf(e[i])&&t.push(e[i]);return t}},Wt=class extends Fi{constructor(e,t={}){let i=typeof e=="object"?e:t;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(o=>Xr[o]).filter(o=>!!o)),super(e,i)}};var E1=Wt.protocol;function Uc(n,e="",t){let i=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),i=$t(n)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";let r=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port+e,i.href=i.protocol+"://"+r+(t&&t.port===i.port?"":":"+i.port),i}var is={};Fd(is,{Decoder:()=>ts,Encoder:()=>es,PacketType:()=>te,protocol:()=>zc});var lp=typeof ArrayBuffer=="function",cp=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,qc=Object.prototype.toString,up=typeof Blob=="function"||typeof Blob<"u"&&qc.call(Blob)==="[object BlobConstructor]",dp=typeof File=="function"||typeof File<"u"&&qc.call(File)==="[object FileConstructor]";function Rn(n){return lp&&(n instanceof ArrayBuffer||cp(n))||up&&n instanceof Blob||dp&&n instanceof File}function kn(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,i=n.length;t<i;t++)if(kn(n[t]))return!0;return!1}if(Rn(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return kn(n.toJSON(),!0);for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&kn(n[t]))return!0;return!1}function Vc(n){let e=[],t=n.data,i=n;return i.data=Zr(t,e),i.attachments=e.length,{packet:i,buffers:e}}function Zr(n,e){if(!n)return n;if(Rn(n)){let t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){let t=new Array(n.length);for(let i=0;i<n.length;i++)t[i]=Zr(n[i],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){let t={};for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=Zr(n[i],e));return t}return n}function Gc(n,e){return n.data=jr(n.data,e),delete n.attachments,n}function jr(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=jr(n[t],e);else if(typeof n=="object")for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=jr(n[t],e));return n}var fp=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],zc=5,te=(function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n})(te||{}),es=class{constructor(e){this.replacer=e}encode(e){return(e.type===te.EVENT||e.type===te.ACK)&&kn(e)?this.encodeAsBinary({type:e.type===te.EVENT?te.BINARY_EVENT:te.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===te.BINARY_EVENT||e.type===te.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){let t=Vc(e),i=this.encodeAsString(t.packet),o=t.buffers;return o.unshift(i),o}};function Hc(n){return Object.prototype.toString.call(n)==="[object Object]"}var ts=class n extends re{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let i=t.type===te.BINARY_EVENT;i||t.type===te.BINARY_ACK?(t.type=i?te.EVENT:te.ACK,this.reconstructor=new ns(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Rn(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,i={type:Number(e.charAt(0))};if(te[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===te.BINARY_EVENT||i.type===te.BINARY_ACK){let r=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let s=e.substring(r,t);if(s!=Number(s)||e.charAt(t)!=="-")throw new Error("Illegal attachments");i.attachments=Number(s)}if(e.charAt(t+1)==="/"){let r=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););i.nsp=e.substring(r,t)}else i.nsp="/";let o=e.charAt(t+1);if(o!==""&&Number(o)==o){let r=t+1;for(;++t;){let s=e.charAt(t);if(s==null||Number(s)!=s){--t;break}if(t===e.length)break}i.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){let r=this.tryParse(e.substr(t));if(n.isPayloadValid(i.type,r))i.data=r;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case te.CONNECT:return Hc(t);case te.DISCONNECT:return t===void 0;case te.CONNECT_ERROR:return typeof t=="string"||Hc(t);case te.EVENT:case te.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&fp.indexOf(t[0])===-1);case te.ACK:case te.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},ns=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=Gc(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function be(n,e,t){return n.on(e,t),function(){n.off(e,t)}}var pp=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Yt=class extends re{constructor(e,t,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[be(e,"open",this.onopen.bind(this)),be(e,"packet",this.onpacket.bind(this)),be(e,"error",this.onerror.bind(this)),be(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var i,o,r;if(pp.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let s={type:te.EVENT,data:t};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){let f=this.ids++,p=t.pop();this._registerAckCallback(f,p),s.id=f}let l=(o=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||o===void 0?void 0:o.writable,u=this.connected&&!(!((r=this.io.engine)===null||r===void 0)&&r._hasPingExpired());return this.flags.volatile&&!l||(u?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var i;let o=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(o===void 0){this.acks[e]=t;return}let r=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);t.call(this,new Error("operation has timed out"))},o),s=(...l)=>{this.io.clearTimeoutFn(r),t.apply(this,l)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...t){return new Promise((i,o)=>{let r=(s,l)=>s?o(s):i(l);r.withError=!0,t.push(r),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());let i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((o,...r)=>i!==this._queue[0]?void 0:(o!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(o)):(this._queue.shift(),t&&t(null,...r)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:te.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(i=>String(i.id)===e)){let i=this.acks[e];delete this.acks[e],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case te.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case te.EVENT:case te.BINARY_EVENT:this.onevent(e);break;case te.ACK:case te.BINARY_ACK:this.onack(e);break;case te.DISCONNECT:this.ondisconnect();break;case te.CONNECT_ERROR:this.destroy();let i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){let t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let i of t)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,i=!1;return function(...o){i||(i=!0,t.packet({type:te.ACK,id:e,data:o}))}}onack(e){let t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:te.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let i of t)i.apply(this,e.data)}}};function It(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}It.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=(Math.floor(e*10)&1)==0?n-t:n+t}return Math.min(n,this.max)|0};It.prototype.reset=function(){this.attempts=0};It.prototype.setMin=function(n){this.ms=n};It.prototype.setMax=function(n){this.max=n};It.prototype.setJitter=function(n){this.jitter=n};var Xt=class extends re{constructor(e,t){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Ze(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((i=t.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new It({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let o=t.parser||is;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Wt(this.uri,this.opts);let t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;let o=be(t,"open",function(){i.onopen(),e&&e()}),r=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},s=be(t,"error",r);if(this._timeout!==!1){let l=this._timeout,u=this.setTimeoutFn(()=>{o(),r(new Error("timeout")),t.close()},l);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(o),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(be(e,"ping",this.onping.bind(this)),be(e,"data",this.ondata.bind(this)),be(e,"error",this.onerror.bind(this)),be(e,"close",this.onclose.bind(this)),be(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Qe(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new Yt(this,e,t),this.nsps[e]=i),i}_destroy(e){let t=Object.keys(this.nsps);for(let i of t)if(this.nsps[i].active)return;this._close()}_packet(e){let t=this.encoder.encode(e);for(let i=0;i<t.length;i++)this.engine.write(t[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(o=>{o?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",o)):e.onreconnect()}))},t);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};var Bn={};function Fn(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};let t=Uc(n,e.path||"/socket.io"),i=t.source,o=t.id,r=t.path,s=Bn[o]&&r in Bn[o].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||s,u;return l?u=new Xt(i,e):(Bn[o]||(Bn[o]=new Xt(i,e)),u=Bn[o]),t.query&&!e.query&&(e.query=t.queryKey),u.socket(t.path,e)}Object.assign(Fn,{Manager:Xt,Socket:Yt,io:Fn,connect:Fn});var Ni=class n{socket=null;socketUrl=Ci.channelTalkSocketUrl;constructor(){}connect(){return new Promise((e,t)=>{if(this.socket?.connected){e();return}this.socket=Fn(this.socketUrl,{transports:["websocket"],reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5}),this.socket.on("connect",()=>{e()}),this.socket.on("disconnect",i=>{}),this.socket.on("connect_error",i=>{t(i)}),this.socket.on("connected",i=>{}),setTimeout(()=>{if(!this.socket?.connected){let i=new Error("WebSocket connection timeout");t(i)}},5e3)})}getSocket(){return this.socket}registerClient(e,t){if(!this.socket?.connected){console.log("\u{1F4CA} \uD604\uC7AC \uC18C\uCF13 \uC0C1\uD0DC:",{exists:!!this.socket,connected:this.socket?.connected,id:this.socket?.id});return}this.socket.emit("register-client",{clientId:e,roomId:t}),this.socket.once("register-success",i=>{}),this.socket.once("register-error",i=>{})}registerAgent(e,t){this.socket?.connected&&(this.socket.emit("register-agent",{agentId:e,organizationId:t}),this.socket.once("register-success",i=>{}),this.socket.once("register-error",i=>{}))}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null)}isConnected(){return!!this.socket?.connected}emitEvent(e,t){this.socket&&this.socket.connected&&this.socket.emit(e,t)}listenEvent(e,t){this.socket?.on(e,t)}onEvent(e){return new zn(t=>{if(this.socket)return this.socket.on(e,i=>{t.next(i)}),()=>{this.socket&&this.socket.off(e)}})}onAnyEvent(e){this.socket&&this.socket.onAny((t,...i)=>{e(t,i[0])})}offAllEvent(){this.socket?.off()}joinRoom(e,t){this.socket?.connected&&(this.socket.emit("joinRoom",{roomId:e,clientId:t}),this.socket.once("join-room-success",i=>{}),this.socket.once("join-room-error",i=>{}))}requestSupport(e){this.socket?.connected&&(this.socket.emit("requestSupport",{roomId:e}),this.socket.once("requestSupportSuccess",t=>{}),this.socket.once("requestSupportError",t=>{}))}assignAgent(e,t){this.socket?.connected&&(this.socket.emit("assignAgent",{roomId:e,agentId:t}),this.socket.once("assignAgentSuccess",i=>{}),this.socket.once("assignAgentError",i=>{}))}sendMessage(e,t){this.socket?.connected&&this.socket.emit("createChat",{dto:e,localId:t})}leaveRoom(e){this.emitEvent("leaveRoom",{roomId:e})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})};var Oi=class n{STORAGE_KEY="chatConsultationEnabled";enabledSubject;constructor(){let e=localStorage.getItem(this.STORAGE_KEY),t=e!==null?e==="true":!1;this.enabledSubject=new Lt(t)}get enabled$(){return this.enabledSubject.asObservable()}isEnabled(){return this.enabledSubject.value}setEnabled(e){this.enabledSubject.next(e),localStorage.setItem(this.STORAGE_KEY,e.toString())}toggle(){let e=!this.isEnabled();return this.setEnabled(e),e}static \u0275fac=function(t){return new(t||n)};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})};var Li=class n{currentThemeSubject=new Lt("light");currentTheme$=this.currentThemeSubject.asObservable();constructor(){this.initializeTheme()}initializeTheme(){let e=localStorage.getItem("app-theme");if(e&&(e==="light"||e==="dark"))this.setTheme(e);else{let t=window.matchMedia("(prefers-color-scheme: dark)").matches;this.setTheme(t?"dark":"light")}}getCurrentTheme(){return this.currentThemeSubject.value}setTheme(e){this.currentThemeSubject.next(e),localStorage.setItem("app-theme",e),document.body.classList.remove("light-theme","dark-theme"),document.body.classList.add(`${e}-theme`),document.documentElement.setAttribute("data-theme",e)}toggleTheme(){let e=this.getCurrentTheme()==="light"?"dark":"light";this.setTheme(e)}isDarkMode(){return this.getCurrentTheme()==="dark"}static \u0275fac=function(t){return new(t||n)};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})};var mp=()=>[];function _p(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",9),H())}function vp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",10)(2,"path",11)(3,"path",12),H())}function xp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",13),H())}function yp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",14),H())}function Cp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",15),H())}function Ep(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",16),H())}function Tp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",17),H())}function Ap(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",18),H())}function Sp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",19),H())}function Pp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",20),H())}function wp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",21),H())}function Mp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",22),H())}function Ip(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",23),H())}function bp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",24),H())}function Dp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",25),H())}function kp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",20),H())}function Rp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",26),H())}function Bp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",18),H())}function Fp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",27),H())}function Np(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",28),H())}function Op(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",9),H())}function Lp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",10)(2,"path",11)(3,"path",12),H())}function Up(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",13),H())}function qp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",14),H())}function Vp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",15),H())}function Gp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",16),H())}function Hp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",17),H())}function zp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",18),H())}function Jp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",19),H())}function Kp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",20),H())}function $p(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",21),H())}function Wp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",22),H())}function Yp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",23),H())}function Xp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",24),H())}function Qp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",25),H())}function Zp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",20),H())}function jp(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",26),H())}function eh(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",18),H())}function th(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",27),H())}function nh(n,e){if(n&1){let t=Et();G(0,"div",56),Te("click",function(o){let r=de(t).$implicit,s=se(3);return fe(s.navigateToMode(r,o))}),G(1,"div",57),Ne(2,Op,2,0,"svg",4)(3,Lp,4,0,"svg",4)(4,Up,2,0,"svg",4)(5,qp,2,0,"svg",4)(6,Vp,2,0,"svg",4)(7,Gp,2,0,"svg",4)(8,Hp,2,0,"svg",4)(9,zp,2,0,"svg",4)(10,Jp,2,0,"svg",4)(11,Kp,2,0,"svg",4)(12,$p,2,0,"svg",4)(13,Wp,2,0,"svg",4)(14,Yp,2,0,"svg",4)(15,Xp,2,0,"svg",4)(16,Qp,2,0,"svg",4)(17,Zp,2,0,"svg",4)(18,jp,2,0,"svg",4)(19,eh,2,0,"svg",4)(20,th,2,0,"svg",4),H(),G(21,"span",58),ve(22),H()()}if(n&2){let t=e.$implicit,i=se(3);dt("active",i.currentMode===t),J(2),$("ngIf",t==="novel"),J(),$("ngIf",t==="education"),J(),$("ngIf",t==="erp"),J(),$("ngIf",t==="loworld"),J(),$("ngIf",t==="store"),J(),$("ngIf",t==="expedition"),J(),$("ngIf",t==="chat-talk"),J(),$("ngIf",t==="slack"),J(),$("ngIf",t==="project"),J(),$("ngIf",t==="form"),J(),$("ngIf",t==="desk"),J(),$("ngIf",t==="wix"),J(),$("ngIf",t==="membership"),J(),$("ngIf",t==="dollar-token"),J(),$("ngIf",t==="calendar"),J(),$("ngIf",t==="diary"),J(),$("ngIf",t==="dashboard"),J(),$("ngIf",t==="community"),J(),$("ngIf",t==="content"),J(2),Va(" ",t==="novel"?"\uC18C\uC124":t==="education"?"\uAD50\uC721":t==="erp"?"\uC5C5\uBB34":t==="loworld"?"\uD648":t==="store"?"\uC2A4\uD1A0\uC5B4":t==="expedition"?"\uC6D0\uC815\uB300":t==="chat-talk"?"\uCC44\uD305":t==="slack"?"\uD611\uC5C5":t==="project"?"\uD504\uB85C\uC81D\uD2B8":t==="form"?"\uD3FC":t==="desk"?"\uB370\uC2A4\uD06C":t==="wix"?"\uBE4C\uB354":t==="membership"?"\uBA64\uBC84\uC2ED":t==="dollar-token"?"\uB2EC\uB7EC\uD1A0\uD070":t==="calendar"?"\uCE98\uB9B0\uB354":t==="diary"?"\uB2E4\uC774\uC5B4\uB9AC":t==="dashboard"?"\uB300\uC2DC\uBCF4\uB4DC":t==="community"?"\uCEE4\uBBA4\uB2C8\uD2F0":t==="content"?"\uCF58\uD150\uCE20":t," ")}}function ih(n,e){if(n&1){let t=Et();G(0,"span",59),Te("click",function(){let o=de(t).index,r=se(3);return fe(r.onPageDotClick(o))}),H()}if(n&2){let t=e.index,i=se(3);dt("active",t===i.currentModePage)}}function oh(n,e){n&1&&(X(),G(0,"svg",66),W(1,"path",67),H())}function rh(n,e){n&1&&(X(),G(0,"svg",66),W(1,"path",68),H())}function sh(n,e){if(n&1&&(G(0,"span",69)(1,"span",70),ve(2),H()()),n&2){let t=se(4);J(2),ft(t.autoSlideCounter)}}function ah(n,e){n&1&&(G(0,"span",71),ve(1," \u23F8 \uC911\uB2E8\uB428 "),H())}function lh(n,e){if(n&1){let t=Et();G(0,"div",60)(1,"button",61),Te("click",function(){de(t);let o=se(3);return fe(o.toggleAutoSlide())}),Ne(2,oh,2,0,"svg",62)(3,rh,2,0,"svg",62),H(),G(4,"div",63),Ne(5,sh,3,1,"span",64)(6,ah,2,0,"span",65),H()()}if(n&2){let t=se(3);J(),ar("aria-label",t.isAutoSlideActive()?"\uC790\uB3D9 \uC2AC\uB77C\uC774\uB4DC \uC815\uC9C0":"\uC790\uB3D9 \uC2AC\uB77C\uC774\uB4DC \uC2DC\uC791"),J(),$("ngIf",!t.isAutoSlideActive()),J(),$("ngIf",t.isAutoSlideActive()),J(2),$("ngIf",t.isAutoSlideActive()),J(),$("ngIf",!t.isAutoSlideActive())}}function ch(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",72),H())}function uh(n,e){n&1&&(X(),G(0,"svg",8),W(1,"path",73),H())}function dh(n,e){if(n&1){let t=Et();G(0,"div",29)(1,"div",30)(2,"div",31)(3,"button",32),Te("click",function(){de(t);let o=se(2);return fe(o.switchTab("modes"))}),ve(4," \uBAA8\uB4DC\uC804\uD658 "),G(5,"span",33),ve(6),H()(),G(7,"button",32),Te("click",function(){de(t);let o=se(2);return fe(o.switchTab("settings"))}),ve(8," \uAE00\uB85C\uBC8C \uAE30\uB2A5 "),H()(),G(9,"button",34),Te("click",function(){de(t);let o=se(2);return fe(o.closeNavigator())}),ve(10,"\xD7"),H()(),G(11,"div",35)(12,"div",36)(13,"div",37)(14,"div",38),Te("touchstart",function(o){de(t);let r=se(2);return fe(r.onTouchStart(o))})("touchmove",function(o){de(t);let r=se(2);return fe(r.onTouchMove(o))})("touchend",function(){de(t);let o=se(2);return fe(o.onTouchEnd())})("mousedown",function(o){de(t);let r=se(2);return fe(r.onMouseDown(o))})("mousemove",function(o){de(t);let r=se(2);return fe(r.onMouseMove(o))})("mouseup",function(){de(t);let o=se(2);return fe(o.onMouseUp())})("mouseleave",function(){de(t);let o=se(2);return fe(o.onMouseLeave())}),Ne(15,nh,23,22,"div",39),H(),G(16,"div",40)(17,"div",41)(18,"div",42),Ne(19,ih,1,2,"span",43),H(),Ne(20,lh,7,5,"div",44),H()()(),G(21,"div",45)(22,"div",46)(23,"div",47),Te("click",function(){de(t);let o=se(2);return fe(o.toggleTheme())}),G(24,"div",48),Ne(25,ch,2,0,"svg",4)(26,uh,2,0,"svg",4),H(),G(27,"div",49)(28,"div",50),ve(29),H(),G(30,"div",51),ve(31,"\uD654\uBA74 \uD14C\uB9C8 \uBCC0\uACBD"),H()(),G(32,"div",52)(33,"span"),ve(34),H()()(),G(35,"div",47),Te("click",function(){de(t);let o=se(2);return fe(o.toggleDebugConsole())}),G(36,"div",48),X(),G(37,"svg",8),W(38,"path",53),H()(),or(),G(39,"div",49)(40,"div",50),ve(41,"\uB514\uBC84\uADF8 \uCF58\uC194"),H(),G(42,"div",51),ve(43),H()(),G(44,"div",52)(45,"div",54),W(46,"div",55),H()()(),G(47,"div",47),Te("click",function(){de(t);let o=se(2);return fe(o.toggleChatConsultation())}),G(48,"div",48),X(),G(49,"svg",8),W(50,"path",17),H()(),or(),G(51,"div",49)(52,"div",50),ve(53,"\uCC44\uD305\uC0C1\uB2F4 \uD65C\uC131\uD654"),H(),G(54,"div",51),ve(55),H()(),G(56,"div",52)(57,"div",54),W(58,"div",55),H()()()()()()()()}if(n&2){let t=se(2);J(3),dt("active",t.activeTab==="modes"),J(3),ft(t.allModes.length),J(),dt("active",t.activeTab==="settings"),J(5),lr("transform","translateX("+(t.activeTab==="modes"?"0%":"-50%")+")"),J(3),$("ngForOf",t.getModesForCurrentPage()),J(4),$("ngForOf",Ga(22,mp).constructor(t.getTotalPages())),J(),$("ngIf",t.activeTab==="modes"),J(5),$("ngIf",!t.isDarkMode),J(),$("ngIf",t.isDarkMode),J(3),ft(t.isDarkMode?"\uB2E4\uD06C \uBAA8\uB4DC":"\uB77C\uC774\uD2B8 \uBAA8\uB4DC"),J(5),ft(t.isDarkMode?"\u{1F319}":"\u2600\uFE0F"),J(),dt("active",t.debugLogger.isEnabled()),J(8),ft(t.debugLogger.isEnabled()?"\uD65C\uC131\uD654\uB428":"\uBE44\uD65C\uC131\uD654\uB428"),J(2),dt("active",t.debugLogger.isEnabled()),J(10),ft(t.isChatConsultationEnabled()?"\uD65C\uC131\uD654\uB428":"\uBE44\uD65C\uC131\uD654\uB428"),J(2),dt("active",t.isChatConsultationEnabled())}}function fh(n,e){if(n&1){let t=Et();G(0,"div",74),Te("click",function(){de(t);let o=se(2);return fe(o.closeNavigator())}),H()}}function ph(n,e){if(n&1){let t=Et();G(0,"div",1)(1,"button",2),Te("click",function(){de(t);let o=se();return fe(o.toggleNavigator())}),G(2,"div",3),Ne(3,_p,2,0,"svg",4)(4,vp,4,0,"svg",4)(5,xp,2,0,"svg",4)(6,yp,2,0,"svg",4)(7,Cp,2,0,"svg",4)(8,Ep,2,0,"svg",4)(9,Tp,2,0,"svg",4)(10,Ap,2,0,"svg",4)(11,Sp,2,0,"svg",4)(12,Pp,2,0,"svg",4)(13,wp,2,0,"svg",4)(14,Mp,2,0,"svg",4)(15,Ip,2,0,"svg",4)(16,bp,2,0,"svg",4)(17,Dp,2,0,"svg",4)(18,kp,2,0,"svg",4)(19,Rp,2,0,"svg",4)(20,Bp,2,0,"svg",4)(21,Fp,2,0,"svg",4)(22,Np,2,0,"svg",4),H(),G(23,"span",5),ve(24),H()(),Ne(25,dh,59,23,"div",6)(26,fh,1,0,"div",7),H()}if(n&2){let t=se();J(),lr("background",t.getCurrentModeGradient()),ar("aria-label",t.isOpen?"Close navigator":"Open navigator"),J(2),$("ngIf",t.currentMode==="novel"),J(),$("ngIf",t.currentMode==="education"),J(),$("ngIf",t.currentMode==="erp"),J(),$("ngIf",t.currentMode==="loworld"),J(),$("ngIf",t.currentMode==="store"),J(),$("ngIf",t.currentMode==="expedition"),J(),$("ngIf",t.currentMode==="chat-talk"),J(),$("ngIf",t.currentMode==="slack"),J(),$("ngIf",t.currentMode==="project"),J(),$("ngIf",t.currentMode==="form"),J(),$("ngIf",t.currentMode==="desk"),J(),$("ngIf",t.currentMode==="wix"),J(),$("ngIf",t.currentMode==="membership"),J(),$("ngIf",t.currentMode==="dollar-token"),J(),$("ngIf",t.currentMode==="calendar"),J(),$("ngIf",t.currentMode==="diary"),J(),$("ngIf",t.currentMode==="dashboard"),J(),$("ngIf",t.currentMode==="community"),J(),$("ngIf",t.currentMode==="content"),J(),$("ngIf",!t.currentMode),J(2),ft(t.getCurrentModeLabel()),J(),$("ngIf",t.isOpen),J(),$("ngIf",t.isOpen)}}var Ui=class n{constructor(e,t,i){this.router=e;this.authService=t;this.themeService=i;this.isInsideIframe=this.iframeDetector.isInsideIframe(),this.router.events.pipe(Da(o=>o instanceof Za)).subscribe(o=>{this.updateCurrentMode(o.url)}),this.updateCurrentMode(this.router.url),this.themeService.currentTheme$.subscribe(o=>{this.isDarkMode=o==="dark"})}isOpen=!1;currentMode="";activeTab="modes";isDarkMode=!1;isInsideIframe=!1;currentModePage=0;modesPerPage=6;allModes=["novel","education","erp","loworld","store","expedition","chat-talk","slack","project","form","desk","wix","membership","dollar-token","calendar","diary","dashboard","community","content"];autoSlideInterval;autoSlideCounterInterval;autoSlideCounter=3;userInteracted=!1;touchStartX=0;touchStartY=0;touchEndX=0;isDragging=!1;swipeThreshold=50;minDragDistance=10;debugConsole;debugLogger=mn(Qn);socketService=mn(Ni);chatConsultationToggle=mn(Oi);iframeDetector=mn(rl);toggleTheme(){this.themeService.toggleTheme()}toggleDebugConsole(){let e=this.debugLogger.toggle();this.debugConsole&&(e?this.debugConsole.show():this.debugConsole.close())}toggleChatConsultation(){this.chatConsultationToggle.toggle()?this.debugLogger.info("\uCC44\uD305\uC0C1\uB2F4","\uFFFD \uCC44\uD305\uC0C1\uB2F4 \uD65C\uC131\uD654 - Socket \uC5F0\uACB0 \uC2DC\uC791"):(this.debugLogger.info("\uCC44\uD305\uC0C1\uB2F4","\u{1F4DE} \uCC44\uD305\uC0C1\uB2F4 \uBE44\uD65C\uC131\uD654 - Socket \uC5F0\uACB0 \uD574\uC81C"),this.socketService.isConnected()&&this.socketService.disconnect())}isChatConsultationEnabled(){return this.chatConsultationToggle.isEnabled()}get isLoggedIn(){return this.authService.isLoggedIn}updateCurrentMode(e){e.includes("/education")?this.currentMode="education":e.includes("/novel")?this.currentMode="novel":e.includes("/loworld")?this.currentMode="loworld":e.includes("/erp")?this.currentMode="erp":e.includes("/store")?this.currentMode="store":e.includes("/expedition")?this.currentMode="expedition":e.includes("/chat-talk")?this.currentMode="chat-talk":e.includes("/slack")?this.currentMode="slack":e.includes("/project")?this.currentMode="project":e.includes("/form")?this.currentMode="form":e.includes("/desk")?this.currentMode="desk":e.includes("/wix")?this.currentMode="wix":e.includes("/calendar")?this.currentMode="calendar":e.includes("/diary")?this.currentMode="diary":this.currentMode="loworld"}toggleNavigator(){this.isOpen=!this.isOpen,this.isOpen&&this.activeTab==="modes"?(this.userInteracted=!1,this.startAutoSlide()):this.stopAutoSlide()}closeNavigator(){this.isOpen=!1,this.userInteracted=!1,this.stopAutoSlide()}switchTab(e){this.activeTab=e,e==="modes"&&this.isOpen?this.startAutoSlide():this.stopAutoSlide()}startAutoSlide(){this.userInteracted||(this.stopAutoSlide(),this.autoSlideCounter=3,this.autoSlideInterval=setInterval(()=>{if(this.userInteracted){this.stopAutoSlide();return}let e=this.getTotalPages();this.currentModePage=(this.currentModePage+1)%e,this.autoSlideCounter=3},3e3),this.autoSlideCounterInterval=setInterval(()=>{if(this.userInteracted){this.stopAutoSlide();return}this.autoSlideCounter--,this.autoSlideCounter<0&&(this.autoSlideCounter=3)},1e3))}stopAutoSlide(){this.autoSlideInterval&&(clearInterval(this.autoSlideInterval),this.autoSlideInterval=null),this.autoSlideCounterInterval&&(clearInterval(this.autoSlideCounterInterval),this.autoSlideCounterInterval=null)}onPageDotClick(e){this.currentModePage=e,this.userInteracted=!0,this.stopAutoSlide()}toggleAutoSlide(){this.isAutoSlideActive()?(this.userInteracted=!0,this.stopAutoSlide()):(this.userInteracted=!1,this.startAutoSlide())}isAutoSlideActive(){return this.autoSlideInterval!==null&&this.autoSlideInterval!==void 0&&!this.userInteracted}ngOnDestroy(){this.stopAutoSlide()}navigateToMode(e,t){if(t&&t.stopPropagation(),this.userInteracted=!0,this.stopAutoSlide(),e===this.currentMode){this.closeNavigator();return}switch(this.closeNavigator(),e){case"novel":this.router.navigate(["/novel"]).catch(i=>{});break;case"loworld":this.router.navigate(["/loworld"]).catch(i=>{});break;case"education":this.router.navigate(["/education/home"]).catch(i=>{});break;case"erp":this.router.navigate(["/erp"]).catch(i=>{});break;case"store":this.router.navigate(["/store"]).catch(i=>{});break;case"expedition":this.router.navigate(["/expedition"]).catch(i=>{console.warn("Navigation to Expedition failed:",i)});break;case"chat-talk":this.router.navigate(["/chat-talk"]).catch(i=>{});break;case"slack":this.router.navigate(["/slack"]).catch(i=>{});break;case"project":this.router.navigate(["/project"]).catch(i=>{});break;case"form":this.router.navigate(["/form"]).catch(i=>{});break;case"desk":this.router.navigate(["/desk"]).catch(i=>{});break;case"wix":this.router.navigate(["/wix"]).catch(i=>{});break;case"membership":this.router.navigate(["/membership"]).catch(i=>{console.warn("Navigation to Membership failed:",i)});break;case"dollar-token":this.router.navigate(["/dollar-token"]).catch(i=>{console.warn("Navigation to Dollar Token failed:",i)});break;case"calendar":this.router.navigate(["/calendar"]).catch(i=>{console.warn("Navigation to Calendar failed:",i)});break;case"diary":this.router.navigate(["/diary"]).catch(i=>{console.warn("Navigation to Diary failed:",i)});break;case"dashboard":this.router.navigate(["/dashboard"]).catch(i=>{console.warn("Navigation to Dashboard failed:",i)});break;case"community":this.router.navigate(["/community"]).catch(i=>{console.warn("Navigation to Community failed:",i)});break;case"content":this.router.navigate(["/content"]).catch(i=>{console.warn("Navigation to Content failed:",i)});break}}getCurrentModeLabel(){switch(this.currentMode){case"novel":return"\uC18C\uC124";case"loworld":return"\uD648";case"education":return"\uAD50\uC721";case"erp":return"\uC5C5\uBB34";case"store":return"\uC2A4\uD1A0\uC5B4";case"expedition":return"\uC6D0\uC815\uB300";case"chat-talk":return"\uCC44\uD305";case"slack":return"\uD611\uC5C5";case"project":return"\uD504\uB85C\uC81D\uD2B8";case"form":return"\uD3FC";case"desk":return"Desk";case"wix":return"\uBE4C\uB354";case"membership":return"Membership";case"dollar-token":return"\uB2EC\uB7EC\uD1A0\uD070";case"calendar":return"\uCE98\uB9B0\uB354";case"diary":return"\uB2E4\uC774\uC5B4\uB9AC";case"dashboard":return"\uB300\uC2DC\uBCF4\uB4DC";case"community":return"\uCEE4\uBBA4\uB2C8\uD2F0";case"content":return"\uCF58\uD150\uCE20";default:return"\uD648"}}getCurrentModeGradient(){switch(this.currentMode){case"novel":return"linear-gradient(135deg, #ff1493, #ff4500)";case"education":return"linear-gradient(135deg, #007AFF, #00C6FF)";case"erp":return"linear-gradient(135deg, #32cd32, #00ff7f)";case"loworld":return"linear-gradient(135deg, #ff6347, #ffa500)";case"store":return"linear-gradient(135deg, #9370db, #8a2be2)";case"expedition":return"linear-gradient(135deg, #667eea, #764ba2)";case"chat-talk":return"linear-gradient(135deg, #ff69b4, #ff1493)";case"slack":return"linear-gradient(135deg, #10b981, #059669)";case"project":return"linear-gradient(135deg, #ff6b35, #f7931e)";case"form":return"linear-gradient(135deg, #ff6b35, #e65100)";case"desk":return"linear-gradient(135deg, #667eea, #764ba2)";case"wix":return"linear-gradient(135deg, #0041ff, #00d4ff)";case"membership":return"linear-gradient(135deg, #f59e0b, #d97706)";case"dollar-token":return"linear-gradient(135deg, #22c55e, #16a34a)";case"calendar":return"linear-gradient(135deg, #06b6d4, #0891b2)";case"diary":return"linear-gradient(135deg, #667eea, #764ba2)";case"dashboard":return"linear-gradient(135deg, #4facfe, #00f2fe)";case"community":return"linear-gradient(135deg, #f093fb, #f5576c)";case"content":return"linear-gradient(135deg, #667eea, #764ba2)";default:return"linear-gradient(135deg, var(--accent-color) 0%, #667eea 100%)"}}onEscapeKey(){this.isOpen&&this.closeNavigator()}onDocumentClick(e){e.target.closest(".global-navigator")||this.closeNavigator()}getModesForCurrentPage(){let e=this.currentModePage*this.modesPerPage;return this.allModes.slice(e,e+this.modesPerPage)}nextModePage(){this.userInteracted=!0,this.stopAutoSlide();let e=Math.ceil(this.allModes.length/this.modesPerPage);this.currentModePage<e-1&&this.currentModePage++}prevModePage(){this.userInteracted=!0,this.stopAutoSlide(),this.currentModePage>0&&this.currentModePage--}getTotalPages(){return Math.ceil(this.allModes.length/this.modesPerPage)}canGoNextPage(){return this.currentModePage<this.getTotalPages()-1}canGoPrevPage(){return this.currentModePage>0}onTouchStart(e){this.touchStartX=e.touches[0].clientX,this.touchStartY=e.touches[0].clientY}onTouchMove(e){if(!this.touchStartX)return;let t=Math.abs(e.touches[0].clientX-this.touchStartX),i=Math.abs(e.touches[0].clientY-this.touchStartY);!this.isDragging&&(t>this.minDragDistance||i>this.minDragDistance)&&(this.isDragging=!0,this.userInteracted=!0,this.stopAutoSlide()),this.isDragging&&(this.touchEndX=e.touches[0].clientX)}onTouchEnd(){if(!this.isDragging){this.touchStartX=0,this.touchStartY=0,this.touchEndX=0;return}this.handleSwipe(),this.isDragging=!1,this.touchStartX=0,this.touchStartY=0,this.touchEndX=0}onMouseDown(e){this.touchStartX=e.clientX,this.touchStartY=e.clientY}onMouseMove(e){if(!this.touchStartX)return;let t=Math.abs(e.clientX-this.touchStartX),i=Math.abs(e.clientY-this.touchStartY);!this.isDragging&&(t>this.minDragDistance||i>this.minDragDistance)&&(this.isDragging=!0,this.userInteracted=!0,this.stopAutoSlide()),this.isDragging&&(this.touchEndX=e.clientX)}onMouseUp(){if(!this.isDragging){this.touchStartX=0,this.touchStartY=0,this.touchEndX=0;return}this.handleSwipe(),this.isDragging=!1,this.touchStartX=0,this.touchStartY=0,this.touchEndX=0}onMouseLeave(){this.isDragging&&(this.isDragging=!1,this.touchStartX=0,this.touchStartY=0,this.touchEndX=0)}handleSwipe(){let e=this.touchStartX-this.touchEndX;e<-this.swipeThreshold&&this.canGoPrevPage()?this.prevModePage():e>this.swipeThreshold&&this.canGoNextPage()&&this.nextModePage(),this.touchStartX=0,this.touchEndX=0}static \u0275fac=function(t){return new(t||n)(ze(Ut),ze(Zn),ze(Li))};static \u0275cmp=$n({type:n,selectors:[["app-global-navigator"]],viewQuery:function(t,i){if(t&1&&La(jn,5),t&2){let o;Ua(o=qa())&&(i.debugConsole=o.first)}},hostBindings:function(t,i){t&1&&Te("keydown.escape",function(){return i.onEscapeKey()},sr)("click",function(r){return i.onDocumentClick(r)},sr)},standalone:!1,decls:2,vars:1,consts:[["class","global-navigator",4,"ngIf"],[1,"global-navigator"],[1,"navigator-toggle",3,"click"],[1,"toggle-icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"current-mode"],["class","navigator-menu",4,"ngIf"],["class","navigator-overlay",3,"click",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 14l9-5-9-5-9 5 9 5z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 5a1 1 0 011-1h4a1 1 0 011 1v7a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM14 5a1 1 0 011-1h4a1 1 0 011 1v7a1 1 0 01-1 1h-4a1 1 0 01-1-1V5zM4 16a1 1 0 011-1h4a1 1 0 011 1v3a1 1 0 01-1 1H5a1 1 0 01-1-1v-3zM14 16a1 1 0 011-1h4a1 1 0 011 1v3a1 1 0 01-1 1h-4a1 1 0 01-1-1v-3z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],[1,"navigator-menu"],[1,"menu-header"],[1,"tab-buttons"],[1,"tab-btn",3,"click"],[1,"badge"],[1,"close-btn",3,"click"],[1,"tab-container"],[1,"tab-content-wrapper"],[1,"tab-panel","modes-panel"],[1,"menu-options","ios-grid",3,"touchstart","touchmove","touchend","mousedown","mousemove","mouseup","mouseleave"],["class","app-icon",3,"active","click",4,"ngFor","ngForOf"],[1,"menu-footer"],[1,"footer-content"],[1,"page-indicator"],["class","dot",3,"active","click",4,"ngFor","ngForOf"],["class","auto-slide-controls",4,"ngIf"],[1,"tab-panel","settings-panel"],[1,"settings-list"],[1,"setting-item",3,"click"],[1,"setting-icon"],[1,"setting-text"],[1,"setting-label"],[1,"setting-description"],[1,"setting-action"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"],[1,"toggle-switch"],[1,"toggle-slider"],[1,"app-icon",3,"click"],[1,"icon-wrapper"],[1,"app-name"],[1,"dot",3,"click"],[1,"auto-slide-controls"],[1,"control-btn",3,"click"],["fill","currentColor","viewBox","0 0 24 24","width","20","height","20",4,"ngIf"],[1,"auto-slide-status"],["class","status-text",4,"ngIf"],["class","status-text paused",4,"ngIf"],["fill","currentColor","viewBox","0 0 24 24","width","20","height","20"],["d","M8 5v14l11-7z"],["d","M6 4h4v16H6V4zm8 0h4v16h-4V4z"],[1,"status-text"],[1,"timer-text"],[1,"status-text","paused"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"],[1,"navigator-overlay",3,"click"]],template:function(t,i){t&1&&(Ne(0,ph,27,26,"div",0),W(1,"app-debug-console")),t&2&&$("ngIf",!i.isInsideIframe)},dependencies:[Ha,za,jn],styles:[".global-navigator[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:10001;pointer-events:none}.global-navigator[_ngcontent-%COMP%]   .navigator-toggle[_ngcontent-%COMP%]{width:64px;height:64px;padding:6px;background:linear-gradient(135deg,var(--accent-color) 0%,#667eea 100%);border:none;border-radius:50%;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2px;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 16px #667eea66,0 2px 8px #0000001a;color:#fff;pointer-events:auto}.global-navigator[_ngcontent-%COMP%]   .navigator-toggle[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.global-navigator[_ngcontent-%COMP%]   .navigator-toggle[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;transition:transform .4s cubic-bezier(.4,0,.2,1)}.global-navigator[_ngcontent-%COMP%]   .navigator-toggle[_ngcontent-%COMP%]   .current-mode[_ngcontent-%COMP%]{font-size:9px;font-weight:600;white-space:nowrap;letter-spacing:.2px;text-align:center;line-height:1.2;max-width:54px;overflow:hidden;text-overflow:ellipsis}.global-navigator[_ngcontent-%COMP%]   .navigator-toggle[_ngcontent-%COMP%]:hover{transform:translateY(-2px) scale(1.05);box-shadow:0 8px 24px #667eea80,0 4px 12px #00000026}.global-navigator[_ngcontent-%COMP%]   .navigator-toggle[_ngcontent-%COMP%]:active{transform:translateY(0) scale(.98)}.global-navigator.open[_ngcontent-%COMP%]   .navigator-toggle[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);box-shadow:0 8px 24px #667eea99,0 4px 12px #0003}.global-navigator.open[_ngcontent-%COMP%]   .navigator-toggle[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(180deg)}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]{position:absolute;bottom:75px;right:0;width:380px;background:#ffffffb3;border:1px solid rgba(255,255,255,.18);border-radius:24px;box-shadow:0 8px 32px #1f26875e;overflow:hidden;transform-origin:bottom right;animation:_ngcontent-%COMP%_slideUp .4s cubic-bezier(.4,0,.2,1);backdrop-filter:blur(20px) saturate(180%);-webkit-backdrop-filter:blur(20px) saturate(180%);pointer-events:auto}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;border-bottom:1px solid rgba(255,255,255,.18);background:#ffffff1a;gap:12px}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .tab-buttons[_ngcontent-%COMP%]{display:flex;gap:8px;flex:1}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .tab-buttons[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]{flex:1;padding:8px 16px;background:transparent;border:none;border-radius:8px;font-size:14px;font-weight:600;color:#00000080;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:6px}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .tab-buttons[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;min-width:20px;height:20px;padding:0 6px;background:#667eea33;border-radius:10px;font-size:11px;font-weight:700;color:#667eea;line-height:1}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .tab-buttons[_ngcontent-%COMP%]   .tab-btn.active[_ngcontent-%COMP%]{background:#667eea26;color:#000000de}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .tab-buttons[_ngcontent-%COMP%]   .tab-btn.active[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:#667eea;color:#fff}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .tab-buttons[_ngcontent-%COMP%]   .tab-btn[_ngcontent-%COMP%]:hover:not(.active){background:#0000000d;color:#000000b3}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#0000000d;border:none;font-size:22px;cursor:pointer;color:#0009;width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s ease;font-weight:300}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#0000001a;transform:scale(1.1)}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .tab-container[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .tab-container[_ngcontent-%COMP%]   .tab-content-wrapper[_ngcontent-%COMP%]{display:flex;width:200%;transition:transform .4s cubic-bezier(.4,0,.2,1)}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .tab-container[_ngcontent-%COMP%]   .tab-content-wrapper[_ngcontent-%COMP%]   .tab-panel[_ngcontent-%COMP%]{width:50%;flex-shrink:0}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:24px;padding:28px 24px;height:280px;overflow-y:auto}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#00000026;border-radius:2px}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#00000040}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);-webkit-tap-highlight-color:transparent}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:76px;height:76px;border-radius:18px;display:flex;align-items:center;justify-content:center;transition:all .2s cubic-bezier(.4,0,.2,1)}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:32px;height:32px;transition:transform .2s ease}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#000000de;text-align:center;letter-spacing:-.2px;max-width:76px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;transition:color .2s ease}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:hover   .icon-wrapper[_ngcontent-%COMP%]{transform:scale(1.08);opacity:.9}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:hover   .icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:scale(1.05)}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:active   .icon-wrapper[_ngcontent-%COMP%]{transform:scale(.92);box-shadow:none}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon.active[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{background:#667eea40;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:2px solid rgba(102,126,234,.5);transform:scale(1.05)}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon.active[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#667eea}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon.active[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]{font-weight:600;color:#667eea}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(1)   .icon-wrapper[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff1493,#ff4500)}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(1)   .icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#fff}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(2)   .icon-wrapper[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1e90ff,#00bfff)}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(2)   .icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#fff}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(3)   .icon-wrapper[_ngcontent-%COMP%]{background:linear-gradient(135deg,#32cd32,#00ff7f)}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(3)   .icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#fff}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(4)   .icon-wrapper[_ngcontent-%COMP%]{background:linear-gradient(135deg,tomato,orange)}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(4)   .icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#fff}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(5)   .icon-wrapper[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9370db,#8a2be2)}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(5)   .icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#fff}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(6)   .icon-wrapper[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff69b4,#ff1493)}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(6)   .icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#fff}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .settings-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:20px 24px}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .settings-list[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;background:#fff6;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-radius:16px;border:1px solid rgba(255,255,255,.3);transition:all .3s cubic-bezier(.4,0,.2,1);cursor:pointer}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .settings-list[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]:hover{background:#ffffff80;transform:translate(4px);box-shadow:0 4px 12px #00000014}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .settings-list[_ngcontent-%COMP%]   .setting-item.active[_ngcontent-%COMP%]{background:#7b61ff26;border-color:#7b61ff4d}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .settings-list[_ngcontent-%COMP%]   .setting-item.active[_ngcontent-%COMP%]   .setting-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#7b61ff4d,#764ba24d)}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .settings-list[_ngcontent-%COMP%]   .setting-item.active[_ngcontent-%COMP%]   .setting-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#7b61ff}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .settings-list[_ngcontent-%COMP%]   .setting-item.active[_ngcontent-%COMP%]   .setting-label[_ngcontent-%COMP%]{color:#7b61ff;font-weight:600}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .settings-list[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:10px;background:linear-gradient(135deg,#667eea33,#764ba233);margin-right:16px}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .settings-list[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;color:#667eea}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .settings-list[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-text[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:4px}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .settings-list[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-text[_ngcontent-%COMP%]   .setting-label[_ngcontent-%COMP%]{font-size:15px;font-weight:500;color:#000000de}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .settings-list[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-text[_ngcontent-%COMP%]   .setting-description[_ngcontent-%COMP%]{font-size:12px;color:#00000080}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .settings-list[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-action[_ngcontent-%COMP%]{display:flex;align-items:center}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .settings-list[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-action[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]{position:relative;width:48px;height:28px;background:#fff3;border-radius:14px;transition:background-color .3s ease;cursor:pointer}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .settings-list[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-action[_ngcontent-%COMP%]   .toggle-switch[_ngcontent-%COMP%]   .toggle-slider[_ngcontent-%COMP%]{position:absolute;top:3px;left:3px;width:22px;height:22px;background:#fff;border-radius:50%;transition:transform .3s ease;box-shadow:0 2px 4px #0003}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .settings-list[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-action[_ngcontent-%COMP%]   .toggle-switch.active[_ngcontent-%COMP%]{background:#4caf50}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .settings-list[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   .setting-action[_ngcontent-%COMP%]   .toggle-switch.active[_ngcontent-%COMP%]   .toggle-slider[_ngcontent-%COMP%]{transform:translate(20px)}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-footer[_ngcontent-%COMP%]{padding:16px 24px 20px;border-top:1px solid rgba(255,255,255,.18);background:#ffffff1a;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);display:flex;flex-direction:column;align-items:center;gap:12px}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:16px;width:100%}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-footer[_ngcontent-%COMP%]   .page-indicator[_ngcontent-%COMP%]{display:flex;gap:6px}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-footer[_ngcontent-%COMP%]   .page-indicator[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:6px;height:6px;border-radius:50%;background:#0003;transition:all .3s ease;cursor:pointer}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-footer[_ngcontent-%COMP%]   .page-indicator[_ngcontent-%COMP%]   .dot.active[_ngcontent-%COMP%]{background:#667eea;width:18px;border-radius:3px}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-footer[_ngcontent-%COMP%]   .page-indicator[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:hover{background:#0006;transform:scale(1.2)}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-footer[_ngcontent-%COMP%]   .auto-slide-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-footer[_ngcontent-%COMP%]   .auto-slide-controls[_ngcontent-%COMP%]   .control-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;border:none;border-radius:50%;background:#667eea1a;color:#667eea;cursor:pointer;transition:all .3s ease}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-footer[_ngcontent-%COMP%]   .auto-slide-controls[_ngcontent-%COMP%]   .control-btn[_ngcontent-%COMP%]:hover{background:#667eea33;transform:scale(1.1)}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-footer[_ngcontent-%COMP%]   .auto-slide-controls[_ngcontent-%COMP%]   .control-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-footer[_ngcontent-%COMP%]   .auto-slide-controls[_ngcontent-%COMP%]   .control-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-footer[_ngcontent-%COMP%]   .auto-slide-controls[_ngcontent-%COMP%]   .auto-slide-status[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-footer[_ngcontent-%COMP%]   .auto-slide-controls[_ngcontent-%COMP%]   .auto-slide-status[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:#667eea;background:#667eea1a;padding:4px 12px;border-radius:12px;min-width:60px;text-align:center;display:flex;align-items:center;justify-content:center;gap:4px}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-footer[_ngcontent-%COMP%]   .auto-slide-controls[_ngcontent-%COMP%]   .auto-slide-status[_ngcontent-%COMP%]   .status-text.paused[_ngcontent-%COMP%]{color:#ff6b6b;background:#ff6b6b1a}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-footer[_ngcontent-%COMP%]   .auto-slide-controls[_ngcontent-%COMP%]   .auto-slide-status[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]   .timer-text[_ngcontent-%COMP%]{font-size:14px;font-weight:700;animation:_ngcontent-%COMP%_pulse 1s ease-in-out infinite}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-footer[_ngcontent-%COMP%]   .current-mode[_ngcontent-%COMP%]{font-size:12px;color:#0009;text-align:center;font-weight:500;letter-spacing:-.1px}.global-navigator[_ngcontent-%COMP%]   .navigator-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:transparent;z-index:-1}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@media (max-width: 768px){.global-navigator[_ngcontent-%COMP%]{bottom:16px;right:16px;left:16px}.global-navigator[_ngcontent-%COMP%]   .navigator-toggle[_ngcontent-%COMP%]{width:52px;height:52px;margin-left:auto}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]{width:100%;max-width:none;bottom:70px;right:0;left:0}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);gap:20px;padding:24px 20px}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:70px;height:70px}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]{font-size:11px;max-width:70px}}@media (max-width: 480px){.global-navigator[_ngcontent-%COMP%]{bottom:12px;right:12px;left:12px}.global-navigator[_ngcontent-%COMP%]   .navigator-toggle[_ngcontent-%COMP%]{width:48px;height:48px;margin-left:auto}.global-navigator[_ngcontent-%COMP%]   .navigator-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:22px;height:22px}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]{width:100%;max-width:none;border-radius:20px;left:0;right:0}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]{padding:16px 20px 12px}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);gap:16px;padding:20px 16px;max-height:400px}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]{gap:6px}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:16px}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:28px;height:28px}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]{font-size:10px;max-width:64px}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-footer[_ngcontent-%COMP%]{padding:12px 20px 16px}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-footer[_ngcontent-%COMP%]   .current-mode[_ngcontent-%COMP%]{font-size:11px}}@media (max-width: 375px){.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:14px;padding:18px 14px}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:14px}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:26px;height:26px}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]{font-size:9.5px;max-width:60px}}[data-theme=dark][_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]{background:#1e1e1eb3;border:1px solid rgba(255,255,255,.1);box-shadow:0 8px 32px #00000080}[data-theme=dark][_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]{background:#ffffff0d;border-bottom:1px solid rgba(255,255,255,.1)}[data-theme=dark][_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fffffff2}[data-theme=dark][_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#ffffff1a;color:#fffc}[data-theme=dark][_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#ffffff26}[data-theme=dark][_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff3}[data-theme=dark][_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ffffff4d}[data-theme=dark][_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]{color:#fffffff2}[data-theme=dark][_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon.active[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{background:#667eea4d;border:2px solid rgba(102,126,234,.6)}[data-theme=dark][_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon.active[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#a5b4fc}[data-theme=dark][_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon.active[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]{color:#a5b4fc}[data-theme=dark][_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-footer[_ngcontent-%COMP%]{background:#ffffff0d;border-top:1px solid rgba(255,255,255,.1)}[data-theme=dark][_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-footer[_ngcontent-%COMP%]   .page-indicator[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{background:#ffffff4d}[data-theme=dark][_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-footer[_ngcontent-%COMP%]   .page-indicator[_ngcontent-%COMP%]   .dot.active[_ngcontent-%COMP%]{background:#a5b4fc}[data-theme=dark][_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-footer[_ngcontent-%COMP%]   .current-mode[_ngcontent-%COMP%]{color:#ffffffb3}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(1)   .icon-wrapper.novel-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9333ea,#7e22ce)!important}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(1):hover   .icon-wrapper.novel-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a855f7,#9333ea)!important}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(2)   .icon-wrapper.docs-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#2563eb)!important}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(2):hover   .icon-wrapper.docs-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#60a5fa,#3b82f6)!important}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(3)   .icon-wrapper.erp-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)!important}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(3):hover   .icon-wrapper.erp-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#34d399,#10b981)!important}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(4)   .icon-wrapper.loworld-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706)!important}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(4):hover   .icon-wrapper.loworld-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fbbf24,#f59e0b)!important}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(5)   .icon-wrapper.store-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ec4899,#db2777)!important}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(5):hover   .icon-wrapper.store-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f472b6,#ec4899)!important}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(6)   .icon-wrapper.chat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#06b6d4,#0891b2)!important}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(6):hover   .icon-wrapper.chat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#22d3ee,#06b6d4)!important}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon.active[_ngcontent-%COMP%]   .icon-wrapper.novel-icon[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #9333ea4d!important}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon.active[_ngcontent-%COMP%]   .icon-wrapper.docs-icon[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #3b82f64d!important}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon.active[_ngcontent-%COMP%]   .icon-wrapper.erp-icon[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #10b9814d!important}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon.active[_ngcontent-%COMP%]   .icon-wrapper.loworld-icon[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #f59e0b4d!important}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon.active[_ngcontent-%COMP%]   .icon-wrapper.store-icon[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #ec48994d!important}.global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon.active[_ngcontent-%COMP%]   .icon-wrapper.chat-icon[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #06b6d44d!important}.dark-mode[_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(1)   .icon-wrapper.novel-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a855f7,#9333ea)!important;box-shadow:0 4px 20px #a855f74d,0 0 40px #a855f726!important}.dark-mode[_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(1):hover   .icon-wrapper.novel-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#c084fc,#a855f7)!important;box-shadow:0 6px 30px #a855f766,0 0 60px #a855f740!important;transform:scale(1.08) translateY(-2px)!important}.dark-mode[_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(2)   .icon-wrapper.docs-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#60a5fa,#3b82f6)!important;box-shadow:0 4px 20px #60a5fa4d,0 0 40px #60a5fa26!important}.dark-mode[_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(2):hover   .icon-wrapper.docs-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#93c5fd,#60a5fa)!important;box-shadow:0 6px 30px #60a5fa66,0 0 60px #60a5fa40!important;transform:scale(1.08) translateY(-2px)!important}.dark-mode[_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(3)   .icon-wrapper.erp-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#34d399,#10b981)!important;box-shadow:0 4px 20px #34d3994d,0 0 40px #34d39926!important}.dark-mode[_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(3):hover   .icon-wrapper.erp-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6ee7b7,#34d399)!important;box-shadow:0 6px 30px #34d39966,0 0 60px #34d39940!important;transform:scale(1.08) translateY(-2px)!important}.dark-mode[_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(4)   .icon-wrapper.loworld-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fbbf24,#f59e0b)!important;box-shadow:0 4px 20px #fbbf2466,0 0 40px #fbbf2433!important}.dark-mode[_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(4):hover   .icon-wrapper.loworld-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fcd34d,#fbbf24)!important;box-shadow:0 6px 30px #fbbf2480,0 0 60px #fbbf244d!important;transform:scale(1.08) translateY(-2px)!important}.dark-mode[_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(5)   .icon-wrapper.store-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f472b6,#ec4899)!important;box-shadow:0 4px 20px #f472b64d,0 0 40px #f472b626!important}.dark-mode[_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(5):hover   .icon-wrapper.store-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f9a8d4,#f472b6)!important;box-shadow:0 6px 30px #f472b666,0 0 60px #f472b640!important;transform:scale(1.08) translateY(-2px)!important}.dark-mode[_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(6)   .icon-wrapper.chat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#22d3ee,#06b6d4)!important;box-shadow:0 4px 20px #22d3ee4d,0 0 40px #22d3ee26!important}.dark-mode[_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:nth-child(6):hover   .icon-wrapper.chat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#67e8f9,#22d3ee)!important;box-shadow:0 6px 30px #22d3ee66,0 0 60px #22d3ee40!important;transform:scale(1.08) translateY(-2px)!important}.dark-mode[_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon.active[_ngcontent-%COMP%]   .icon-wrapper.novel-icon[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #a855f780,0 4px 20px #a855f766,0 0 50px #a855f74d!important}.dark-mode[_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon.active[_ngcontent-%COMP%]   .icon-wrapper.docs-icon[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #60a5fa80,0 4px 20px #60a5fa66,0 0 50px #60a5fa4d!important}.dark-mode[_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon.active[_ngcontent-%COMP%]   .icon-wrapper.erp-icon[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #34d39980,0 4px 20px #34d39966,0 0 50px #34d3994d!important}.dark-mode[_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon.active[_ngcontent-%COMP%]   .icon-wrapper.loworld-icon[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #fbbf2499,0 4px 20px #fbbf2480,0 0 50px #fbbf2466!important}.dark-mode[_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon.active[_ngcontent-%COMP%]   .icon-wrapper.store-icon[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #f472b680,0 4px 20px #f472b666,0 0 50px #f472b64d!important}.dark-mode[_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon.active[_ngcontent-%COMP%]   .icon-wrapper.chat-icon[_ngcontent-%COMP%]{box-shadow:0 0 0 3px #22d3ee80,0 4px 20px #22d3ee66,0 0 50px #22d3ee4d!important}.dark-mode[_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{filter:brightness(1.2) contrast(1.1)}.dark-mode[_ngcontent-%COMP%]   .global-navigator[_ngcontent-%COMP%]   .navigator-menu[_ngcontent-%COMP%]   .menu-options.ios-grid[_ngcontent-%COMP%]   .app-icon[_ngcontent-%COMP%]:hover   .icon-wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{filter:brightness(1.3) contrast(1.15)}.menu-options.ios-grid[_ngcontent-%COMP%]{cursor:grab;-webkit-user-select:none;user-select:none;touch-action:pan-y pinch-zoom}.menu-options.ios-grid[_ngcontent-%COMP%]:active{cursor:grabbing}.menu-options.ios-grid[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.page-indicator[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:8px;padding:12px 0}.page-indicator[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;background:#0000004d;cursor:pointer;transition:all .3s ease}.page-indicator[_ngcontent-%COMP%]   .dot.active[_ngcontent-%COMP%]{background:var(--accent-color);width:24px;border-radius:4px}.page-indicator[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:hover{transform:scale(1.2);opacity:.8}.dark-theme[_nghost-%COMP%]   .page-indicator[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .page-indicator[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{background:#ffffff4d}.dark-theme[_nghost-%COMP%]   .page-indicator[_ngcontent-%COMP%]   .dot.active[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .page-indicator[_ngcontent-%COMP%]   .dot.active[_ngcontent-%COMP%]{background:var(--accent-color)}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.05);opacity:.8}}"]})};function gh(n,e){n&1&&W(0,"app-global-navigator")}var qi=class n{constructor(e,t,i,o,r){this.titleService=e;this.debugLogger=t;this.snackbarService=i;this.matDialog=o;this.router=r;tl(this.debugLogger),uc(this.snackbarService),dc(this.matDialog),Hr(this.matDialog)}title="ezReader";ngOnInit(){this.titleService.setTitle("Loworldsoft")}get showGlobalNavigation(){return this.router.url.startsWith("/note")||this.router.url.startsWith("/calendar")||this.router.url.startsWith("/desk")?!1:Ci.showGlobalNavigation===!0}static \u0275fac=function(t){return new(t||n)(ze(Ya),ze(Qn),ze(sl),ze(el),ze(Ut))};static \u0275cmp=$n({type:n,selectors:[["app-root"]],standalone:!1,decls:2,vars:1,template:function(t,i){t&1&&(W(0,"router-outlet"),Na(1,gh,1,0,"app-global-navigator")),t&2&&(J(),Oa(i.showGlobalNavigation?1:-1))},dependencies:[Ui,ja],encapsulation:2})};var mh,_h;function vh(){return{geminiUrl:mh,vertexUrl:_h}}function xh(n,e,t,i){var o,r;if(!n?.baseUrl){let s=vh();return e?(o=s.vertexUrl)!==null&&o!==void 0?o:t:(r=s.geminiUrl)!==null&&r!==void 0?r:i}return n.baseUrl}var Ve=class{};function z(n,e){let t=/\{([^}]+)\}/g;return n.replace(t,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){let r=e[o];return r!=null?String(r):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function c(n,e,t){for(let r=0;r<e.length-1;r++){let s=e[r];if(s.endsWith("[]")){let l=s.slice(0,-2);if(!(l in n))if(Array.isArray(t))n[l]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(n[l])){let u=n[l];if(Array.isArray(t))for(let d=0;d<u.length;d++){let f=u[d];c(f,e.slice(r+1),t[d])}else for(let d of u)c(d,e.slice(r+1),t)}return}else if(s.endsWith("[0]")){let l=s.slice(0,-3);l in n||(n[l]=[{}]);let u=n[l];c(u[0],e.slice(r+1),t);return}(!n[s]||typeof n[s]!="object")&&(n[s]={}),n=n[s]}let i=e[e.length-1],o=n[i];if(o!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===o)return;if(typeof o=="object"&&typeof t=="object"&&o!==null&&t!==null)Object.assign(o,t);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[i]=t}function a(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let i=0;i<e.length;i++){if(typeof n!="object"||n===null)return t;let o=e[i];if(o.endsWith("[]")){let r=o.slice(0,-2);if(r in n){let s=n[r];return Array.isArray(s)?s.map(l=>a(l,e.slice(i+1),t)):t}else return t}else n=n[o]}return n}catch(i){if(i instanceof TypeError)return t;throw i}}function yh(n,e){for(let[t,i]of Object.entries(e)){let o=t.split("."),r=i.split("."),s=new Set,l=-1;for(let u=0;u<o.length;u++)if(o[u]==="*"){l=u;break}if(l!==-1&&r.length>l)for(let u=l;u<r.length;u++){let d=r[u];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&s.add(d)}os(n,o,r,0,s)}}function os(n,e,t,i,o){if(i>=e.length||typeof n!="object"||n===null)return;let r=e[i];if(r.endsWith("[]")){let s=r.slice(0,-2),l=n;if(s in l&&Array.isArray(l[s]))for(let u of l[s])os(u,e,t,i+1,o)}else if(r==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){let s=n,l=Object.keys(s).filter(d=>!d.startsWith("_")&&!o.has(d)),u={};for(let d of l)u[d]=s[d];for(let[d,f]of Object.entries(u)){let p=[];for(let h of t.slice(i))h==="*"?p.push(d):p.push(h);c(s,p,f)}for(let d of l)delete s[d]}}else{let s=n;r in s&&os(s[r],e,t,i+1,o)}}function Ys(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}function Ch(n){let e={},t=a(n,["operationName"]);t!=null&&c(e,["operationName"],t);let i=a(n,["resourceName"]);return i!=null&&c(e,["_url","resourceName"],i),e}function Eh(n){let e={},t=a(n,["name"]);t!=null&&c(e,["name"],t);let i=a(n,["metadata"]);i!=null&&c(e,["metadata"],i);let o=a(n,["done"]);o!=null&&c(e,["done"],o);let r=a(n,["error"]);r!=null&&c(e,["error"],r);let s=a(n,["response","generateVideoResponse"]);return s!=null&&c(e,["response"],Ah(s)),e}function Th(n){let e={},t=a(n,["name"]);t!=null&&c(e,["name"],t);let i=a(n,["metadata"]);i!=null&&c(e,["metadata"],i);let o=a(n,["done"]);o!=null&&c(e,["done"],o);let r=a(n,["error"]);r!=null&&c(e,["error"],r);let s=a(n,["response"]);return s!=null&&c(e,["response"],Sh(s)),e}function Ah(n){let e={},t=a(n,["generatedSamples"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>Ph(s))),c(e,["generatedVideos"],r)}let i=a(n,["raiMediaFilteredCount"]);i!=null&&c(e,["raiMediaFilteredCount"],i);let o=a(n,["raiMediaFilteredReasons"]);return o!=null&&c(e,["raiMediaFilteredReasons"],o),e}function Sh(n){let e={},t=a(n,["videos"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>wh(s))),c(e,["generatedVideos"],r)}let i=a(n,["raiMediaFilteredCount"]);i!=null&&c(e,["raiMediaFilteredCount"],i);let o=a(n,["raiMediaFilteredReasons"]);return o!=null&&c(e,["raiMediaFilteredReasons"],o),e}function Ph(n){let e={},t=a(n,["video"]);return t!=null&&c(e,["video"],Rh(t)),e}function wh(n){let e={},t=a(n,["_self"]);return t!=null&&c(e,["video"],Bh(t)),e}function Mh(n){let e={},t=a(n,["operationName"]);return t!=null&&c(e,["_url","operationName"],t),e}function Ih(n){let e={},t=a(n,["operationName"]);return t!=null&&c(e,["_url","operationName"],t),e}function bh(n){let e={},t=a(n,["name"]);t!=null&&c(e,["name"],t);let i=a(n,["metadata"]);i!=null&&c(e,["metadata"],i);let o=a(n,["done"]);o!=null&&c(e,["done"],o);let r=a(n,["error"]);r!=null&&c(e,["error"],r);let s=a(n,["response"]);return s!=null&&c(e,["response"],Dh(s)),e}function Dh(n){let e={},t=a(n,["sdkHttpResponse"]);t!=null&&c(e,["sdkHttpResponse"],t);let i=a(n,["parent"]);i!=null&&c(e,["parent"],i);let o=a(n,["documentName"]);return o!=null&&c(e,["documentName"],o),e}function du(n){let e={},t=a(n,["name"]);t!=null&&c(e,["name"],t);let i=a(n,["metadata"]);i!=null&&c(e,["metadata"],i);let o=a(n,["done"]);o!=null&&c(e,["done"],o);let r=a(n,["error"]);r!=null&&c(e,["error"],r);let s=a(n,["response"]);return s!=null&&c(e,["response"],kh(s)),e}function kh(n){let e={},t=a(n,["sdkHttpResponse"]);t!=null&&c(e,["sdkHttpResponse"],t);let i=a(n,["parent"]);i!=null&&c(e,["parent"],i);let o=a(n,["documentName"]);return o!=null&&c(e,["documentName"],o),e}function Rh(n){let e={},t=a(n,["uri"]);t!=null&&c(e,["uri"],t);let i=a(n,["encodedVideo"]);i!=null&&c(e,["videoBytes"],Ys(i));let o=a(n,["encoding"]);return o!=null&&c(e,["mimeType"],o),e}function Bh(n){let e={},t=a(n,["gcsUri"]);t!=null&&c(e,["uri"],t);let i=a(n,["bytesBase64Encoded"]);i!=null&&c(e,["videoBytes"],Ys(i));let o=a(n,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}var Dt=(function(n){return n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL",n})(Dt||{});var rs=(function(n){return n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO",n})(rs||{});var fu=(function(n){return n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",n})(fu||{});var Nn=(function(n){return n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT",n})(Nn||{});var Ln=class{constructor(e){let t={};for(let i of e.headers.entries())t[i[0]]=i[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}};var bt=class{get text(){var e,t,i,o,r,s,l,u;if(((o=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1,p=[];for(let h of(u=(l=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&u!==void 0?u:[]){for(let[g,m]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(m!==null||m!==void 0)&&p.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,d+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,t,i,o,r,s,l,u;if(((o=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="",f=[];for(let p of(u=(l=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&u!==void 0?u:[]){for(let[h,g]of Object.entries(p))h!=="inlineData"&&(g!==null||g!==void 0)&&f.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,t,i,o,r,s,l,u;if(((o=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");let d=(u=(l=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if(d?.length!==0)return d}get executableCode(){var e,t,i,o,r,s,l,u,d;if(((o=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");let f=(u=(l=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if(f?.length!==0)return(d=f?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,t,i,o,r,s,l,u,d;if(((o=(i=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");let f=(u=(l=(s=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if(f?.length!==0)return(d=f?.[0])===null||d===void 0?void 0:d.output}},Hi=class{},zi=class{},ss=class{},as=class{},ls=class{},cs=class{},Ji=class{},Ki=class{},$i=class{},us=class{};var Wi=class n{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){let i=new n,o,r=e;return t?o=Th(r):o=Eh(r),Object.assign(i,o),i}},Yi=class{},Xi=class{},Qi=class{},ds=class{},fs=class{},ps=class{};var hs=class n{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){let i=new n,r=bh(e);return Object.assign(i,r),i}},gs=class{},ms=class{},_s=class{};var Zi=class{};var vs=class{get text(){var e,t,i;let o="",r=!1,s=[];for(let l of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(let[u,d]of Object.entries(l))u!=="text"&&u!=="thought"&&d!==null&&s.push(u);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;r=!0,o+=l.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),r?o:void 0}get data(){var e,t,i;let o="",r=[];for(let s of(i=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&i!==void 0?i:[]){for(let[l,u]of Object.entries(s))l!=="inlineData"&&u!==null&&r.push(l);s.inlineData&&typeof s.inlineData.data=="string"&&(o+=atob(s.inlineData.data))}return r.length>0&&console.warn(`there are non-data parts ${r} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}};var xs=class{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}};var ys=class n{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){let i=new n,r=du(e);return Object.assign(i,r),i}};function oe(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){let t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function pu(n,e){let t=oe(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function hu(n){return Array.isArray(n)?n.map(e=>ji(e)):[ji(n)]}function ji(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function gu(n){let e=ji(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function mu(n){let e=ji(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Kc(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function _u(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Kc(e)):[Kc(n)]}function Cs(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function $c(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Wc(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function xe(n){if(n==null)throw new Error("ContentUnion is required");return Cs(n)?n:{role:"user",parts:_u(n)}}function Xs(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{let i=xe(t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(n.isVertexAI()){let t=xe(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>xe(t)):[xe(e)]}function Re(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if($c(n)||Wc(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[xe(n)]}let e=[],t=[],i=Cs(n[0]);for(let o of n){let r=Cs(o);if(r!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(r)e.push(o);else{if($c(o)||Wc(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(o)}}return i||e.push({role:"user",parts:_u(t)}),e}function Fh(n,e){n.includes("null")&&(e.nullable=!0);let t=n.filter(i=>i!=="null");if(t.length===1)e.type=Object.values(Dt).includes(t[0].toUpperCase())?t[0].toUpperCase():Dt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(let i of t)e.anyOf.push({type:Object.values(Dt).includes(i.toUpperCase())?i.toUpperCase():Dt.TYPE_UNSPECIFIED})}}function Qt(n){let e={},t=["items"],i=["anyOf"],o=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");let r=n.anyOf;r!=null&&r.length==2&&(r[0].type==="null"?(e.nullable=!0,n=r[1]):r[1].type==="null"&&(e.nullable=!0,n=r[0])),n.type instanceof Array&&Fh(n.type,e);for(let[s,l]of Object.entries(n))if(l!=null)if(s=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(Dt).includes(l.toUpperCase())?l.toUpperCase():Dt.TYPE_UNSPECIFIED}else if(t.includes(s))e[s]=Qt(l);else if(i.includes(s)){let u=[];for(let d of l){if(d.type=="null"){e.nullable=!0;continue}u.push(Qt(d))}e[s]=u}else if(o.includes(s)){let u={};for(let[d,f]of Object.entries(l))u[d]=Qt(f);e[s]=u}else{if(s==="additionalProperties")continue;e[s]=l}return e}function Qs(n){return Qt(n)}function Zs(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function js(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function en(n){if(n.functionDeclarations)for(let e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Qt(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Qt(e.response));return n}function tn(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");let e=[];for(let t of n)e.push(t);return e}function Nh(n,e,t,i=1){let o=!e.startsWith(`${t}/`)&&e.split("/").length===i;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:o?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:o?`${t}/${e}`:e}function tt(n,e){if(typeof e!="string")throw new Error("name must be a string");return Nh(n,e,"cachedContents")}function vu(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function mt(n){return Ys(n)}function Oh(n){return n!=null&&typeof n=="object"&&"name"in n}function Lh(n){return n!=null&&typeof n=="object"&&"video"in n}function Uh(n){return n!=null&&typeof n=="object"&&"uri"in n}function xu(n){var e;let t;if(Oh(n)&&(t=n.name),!(Uh(n)&&(t=n.uri,t===void 0))&&!(Lh(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){let o=t.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${t}`);t=o[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function yu(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function Cu(n){for(let e of["models","tunedModels","publisherModels"])if(qh(n,e))return n[e];return[]}function qh(n,e){return n!==null&&typeof n=="object"&&e in n}function Vh(n,e={}){let t=n,i={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(i.responseJsonSchema=t.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function Gh(n,e={}){let t=[],i=new Set;for(let o of n){let r=o.name;if(i.has(r))throw new Error(`Duplicate function name ${r} found in MCP tools. Please ensure function names are unique.`);i.add(r);let s=Vh(o,e);s.functionDeclarations&&t.push(...s.functionDeclarations)}return{functionDeclarations:t}}function Eu(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;let i=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,o=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(o>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function Hh(n){if(typeof n!="string")return n;let e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Tu(n){if(typeof n!="object"||n===null)return{};let e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;let o=t.inlinedResponses;if(!Array.isArray(o)||o.length===0)return n;let r=!1;for(let s of o){if(typeof s!="object"||s===null)continue;let u=s.response;if(typeof u!="object"||u===null)continue;if(u.embedding!==void 0){r=!0;break}}return r&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function nn(n,e){let t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function Au(n){let e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function zh(n){let e={},t=a(n,["responsesFile"]);t!=null&&c(e,["fileName"],t);let i=a(n,["inlinedResponses","inlinedResponses"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>Cg(s))),c(e,["inlinedResponses"],r)}let o=a(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>s)),c(e,["inlinedEmbedContentResponses"],r)}return e}function Jh(n){let e={},t=a(n,["predictionsFormat"]);t!=null&&c(e,["format"],t);let i=a(n,["gcsDestination","outputUriPrefix"]);i!=null&&c(e,["gcsUri"],i);let o=a(n,["bigqueryDestination","outputUri"]);return o!=null&&c(e,["bigqueryUri"],o),e}function Kh(n){let e={},t=a(n,["format"]);t!=null&&c(e,["predictionsFormat"],t);let i=a(n,["gcsUri"]);i!=null&&c(e,["gcsDestination","outputUriPrefix"],i);let o=a(n,["bigqueryUri"]);if(o!=null&&c(e,["bigqueryDestination","outputUri"],o),a(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(a(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Vi(n){let e={},t=a(n,["name"]);t!=null&&c(e,["name"],t);let i=a(n,["metadata","displayName"]);i!=null&&c(e,["displayName"],i);let o=a(n,["metadata","state"]);o!=null&&c(e,["state"],Au(o));let r=a(n,["metadata","createTime"]);r!=null&&c(e,["createTime"],r);let s=a(n,["metadata","endTime"]);s!=null&&c(e,["endTime"],s);let l=a(n,["metadata","updateTime"]);l!=null&&c(e,["updateTime"],l);let u=a(n,["metadata","model"]);u!=null&&c(e,["model"],u);let d=a(n,["metadata","output"]);return d!=null&&c(e,["dest"],zh(Tu(d))),e}function Es(n){let e={},t=a(n,["name"]);t!=null&&c(e,["name"],t);let i=a(n,["displayName"]);i!=null&&c(e,["displayName"],i);let o=a(n,["state"]);o!=null&&c(e,["state"],Au(o));let r=a(n,["error"]);r!=null&&c(e,["error"],r);let s=a(n,["createTime"]);s!=null&&c(e,["createTime"],s);let l=a(n,["startTime"]);l!=null&&c(e,["startTime"],l);let u=a(n,["endTime"]);u!=null&&c(e,["endTime"],u);let d=a(n,["updateTime"]);d!=null&&c(e,["updateTime"],d);let f=a(n,["model"]);f!=null&&c(e,["model"],f);let p=a(n,["inputConfig"]);p!=null&&c(e,["src"],$h(p));let h=a(n,["outputConfig"]);h!=null&&c(e,["dest"],Jh(Tu(h)));let g=a(n,["completionStats"]);return g!=null&&c(e,["completionStats"],g),e}function $h(n){let e={},t=a(n,["instancesFormat"]);t!=null&&c(e,["format"],t);let i=a(n,["gcsSource","uris"]);i!=null&&c(e,["gcsUri"],i);let o=a(n,["bigquerySource","inputUri"]);return o!=null&&c(e,["bigqueryUri"],o),e}function Wh(n,e){let t={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");let i=a(e,["fileName"]);i!=null&&c(t,["fileName"],i);let o=a(e,["inlinedRequests"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>yg(n,s))),c(t,["requests","requests"],r)}return t}function Yh(n){let e={},t=a(n,["format"]);t!=null&&c(e,["instancesFormat"],t);let i=a(n,["gcsUri"]);i!=null&&c(e,["gcsSource","uris"],i);let o=a(n,["bigqueryUri"]);if(o!=null&&c(e,["bigquerySource","inputUri"],o),a(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Xh(n){let e={},t=a(n,["data"]);if(t!=null&&c(e,["data"],t),a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let i=a(n,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function Qh(n,e){let t={},i=a(e,["name"]);return i!=null&&c(t,["_url","name"],nn(n,i)),t}function Zh(n,e){let t={},i=a(e,["name"]);return i!=null&&c(t,["_url","name"],nn(n,i)),t}function jh(n){let e={},t=a(n,["content"]);t!=null&&c(e,["content"],t);let i=a(n,["citationMetadata"]);i!=null&&c(e,["citationMetadata"],eg(i));let o=a(n,["tokenCount"]);o!=null&&c(e,["tokenCount"],o);let r=a(n,["finishReason"]);r!=null&&c(e,["finishReason"],r);let s=a(n,["avgLogprobs"]);s!=null&&c(e,["avgLogprobs"],s);let l=a(n,["groundingMetadata"]);l!=null&&c(e,["groundingMetadata"],l);let u=a(n,["index"]);u!=null&&c(e,["index"],u);let d=a(n,["logprobsResult"]);d!=null&&c(e,["logprobsResult"],d);let f=a(n,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>g)),c(e,["safetyRatings"],h)}let p=a(n,["urlContextMetadata"]);return p!=null&&c(e,["urlContextMetadata"],p),e}function eg(n){let e={},t=a(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>o)),c(e,["citations"],i)}return e}function Su(n){let e={},t=a(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>Mg(r))),c(e,["parts"],o)}let i=a(n,["role"]);return i!=null&&c(e,["role"],i),e}function tg(n,e){let t={},i=a(n,["displayName"]);if(e!==void 0&&i!=null&&c(e,["batch","displayName"],i),a(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function ng(n,e){let t={},i=a(n,["displayName"]);e!==void 0&&i!=null&&c(e,["displayName"],i);let o=a(n,["dest"]);return e!==void 0&&o!=null&&c(e,["outputConfig"],Kh(Hh(o))),t}function Yc(n,e){let t={},i=a(e,["model"]);i!=null&&c(t,["_url","model"],oe(n,i));let o=a(e,["src"]);o!=null&&c(t,["batch","inputConfig"],Wh(n,Eu(n,o)));let r=a(e,["config"]);return r!=null&&tg(r,t),t}function ig(n,e){let t={},i=a(e,["model"]);i!=null&&c(t,["model"],oe(n,i));let o=a(e,["src"]);o!=null&&c(t,["inputConfig"],Yh(Eu(n,o)));let r=a(e,["config"]);return r!=null&&ng(r,t),t}function og(n,e){let t={},i=a(n,["displayName"]);return e!==void 0&&i!=null&&c(e,["batch","displayName"],i),t}function rg(n,e){let t={},i=a(e,["model"]);i!=null&&c(t,["_url","model"],oe(n,i));let o=a(e,["src"]);o!=null&&c(t,["batch","inputConfig"],fg(n,o));let r=a(e,["config"]);return r!=null&&og(r,t),t}function sg(n,e){let t={},i=a(e,["name"]);return i!=null&&c(t,["_url","name"],nn(n,i)),t}function ag(n,e){let t={},i=a(e,["name"]);return i!=null&&c(t,["_url","name"],nn(n,i)),t}function lg(n){let e={},t=a(n,["sdkHttpResponse"]);t!=null&&c(e,["sdkHttpResponse"],t);let i=a(n,["name"]);i!=null&&c(e,["name"],i);let o=a(n,["done"]);o!=null&&c(e,["done"],o);let r=a(n,["error"]);return r!=null&&c(e,["error"],r),e}function cg(n){let e={},t=a(n,["sdkHttpResponse"]);t!=null&&c(e,["sdkHttpResponse"],t);let i=a(n,["name"]);i!=null&&c(e,["name"],i);let o=a(n,["done"]);o!=null&&c(e,["done"],o);let r=a(n,["error"]);return r!=null&&c(e,["error"],r),e}function ug(n,e){let t={},i=a(e,["contents"]);if(i!=null){let r=Xs(n,i);Array.isArray(r)&&(r=r.map(s=>s)),c(t,["requests[]","request","content"],r)}let o=a(e,["config"]);return o!=null&&(c(t,["_self"],dg(o,t)),yh(t,{"requests[].*":"requests[].request.*"})),t}function dg(n,e){let t={},i=a(n,["taskType"]);e!==void 0&&i!=null&&c(e,["requests[]","taskType"],i);let o=a(n,["title"]);e!==void 0&&o!=null&&c(e,["requests[]","title"],o);let r=a(n,["outputDimensionality"]);if(e!==void 0&&r!=null&&c(e,["requests[]","outputDimensionality"],r),a(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function fg(n,e){let t={},i=a(e,["fileName"]);i!=null&&c(t,["file_name"],i);let o=a(e,["inlinedRequests"]);return o!=null&&c(t,["requests"],ug(n,o)),t}function pg(n){let e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let t=a(n,["fileUri"]);t!=null&&c(e,["fileUri"],t);let i=a(n,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function hg(n,e,t){let i={},o=a(e,["systemInstruction"]);t!==void 0&&o!=null&&c(t,["systemInstruction"],Su(xe(o)));let r=a(e,["temperature"]);r!=null&&c(i,["temperature"],r);let s=a(e,["topP"]);s!=null&&c(i,["topP"],s);let l=a(e,["topK"]);l!=null&&c(i,["topK"],l);let u=a(e,["candidateCount"]);u!=null&&c(i,["candidateCount"],u);let d=a(e,["maxOutputTokens"]);d!=null&&c(i,["maxOutputTokens"],d);let f=a(e,["stopSequences"]);f!=null&&c(i,["stopSequences"],f);let p=a(e,["responseLogprobs"]);p!=null&&c(i,["responseLogprobs"],p);let h=a(e,["logprobs"]);h!=null&&c(i,["logprobs"],h);let g=a(e,["presencePenalty"]);g!=null&&c(i,["presencePenalty"],g);let m=a(e,["frequencyPenalty"]);m!=null&&c(i,["frequencyPenalty"],m);let x=a(e,["seed"]);x!=null&&c(i,["seed"],x);let y=a(e,["responseMimeType"]);y!=null&&c(i,["responseMimeType"],y);let _=a(e,["responseSchema"]);_!=null&&c(i,["responseSchema"],Qs(_));let v=a(e,["responseJsonSchema"]);if(v!=null&&c(i,["responseJsonSchema"],v),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let C=a(e,["safetySettings"]);if(t!==void 0&&C!=null){let R=C;Array.isArray(R)&&(R=R.map(V=>Ig(V))),c(t,["safetySettings"],R)}let E=a(e,["tools"]);if(t!==void 0&&E!=null){let R=tn(E);Array.isArray(R)&&(R=R.map(V=>bg(en(V)))),c(t,["tools"],R)}let T=a(e,["toolConfig"]);if(t!==void 0&&T!=null&&c(t,["toolConfig"],T),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let A=a(e,["cachedContent"]);t!==void 0&&A!=null&&c(t,["cachedContent"],tt(n,A));let M=a(e,["responseModalities"]);M!=null&&c(i,["responseModalities"],M);let k=a(e,["mediaResolution"]);k!=null&&c(i,["mediaResolution"],k);let w=a(e,["speechConfig"]);if(w!=null&&c(i,["speechConfig"],Zs(w)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let N=a(e,["thinkingConfig"]);N!=null&&c(i,["thinkingConfig"],N);let P=a(e,["imageConfig"]);return P!=null&&c(i,["imageConfig"],P),i}function gg(n){let e={},t=a(n,["sdkHttpResponse"]);t!=null&&c(e,["sdkHttpResponse"],t);let i=a(n,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>jh(d))),c(e,["candidates"],u)}let o=a(n,["modelVersion"]);o!=null&&c(e,["modelVersion"],o);let r=a(n,["promptFeedback"]);r!=null&&c(e,["promptFeedback"],r);let s=a(n,["responseId"]);s!=null&&c(e,["responseId"],s);let l=a(n,["usageMetadata"]);return l!=null&&c(e,["usageMetadata"],l),e}function mg(n,e){let t={},i=a(e,["name"]);return i!=null&&c(t,["_url","name"],nn(n,i)),t}function _g(n,e){let t={},i=a(e,["name"]);return i!=null&&c(t,["_url","name"],nn(n,i)),t}function vg(n){let e={};if(a(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let t=a(n,["enableWidget"]);return t!=null&&c(e,["enableWidget"],t),e}function xg(n){let e={};if(a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let t=a(n,["timeRangeFilter"]);return t!=null&&c(e,["timeRangeFilter"],t),e}function yg(n,e){let t={},i=a(e,["model"]);i!=null&&c(t,["request","model"],oe(n,i));let o=a(e,["contents"]);if(o!=null){let l=Re(o);Array.isArray(l)&&(l=l.map(u=>Su(u))),c(t,["request","contents"],l)}let r=a(e,["metadata"]);r!=null&&c(t,["metadata"],r);let s=a(e,["config"]);return s!=null&&c(t,["request","generationConfig"],hg(n,s,a(t,["request"],{}))),t}function Cg(n){let e={},t=a(n,["response"]);t!=null&&c(e,["response"],gg(t));let i=a(n,["error"]);return i!=null&&c(e,["error"],i),e}function Eg(n,e){let t={},i=a(n,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);let o=a(n,["pageToken"]);if(e!==void 0&&o!=null&&c(e,["_query","pageToken"],o),a(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function Tg(n,e){let t={},i=a(n,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);let o=a(n,["pageToken"]);e!==void 0&&o!=null&&c(e,["_query","pageToken"],o);let r=a(n,["filter"]);return e!==void 0&&r!=null&&c(e,["_query","filter"],r),t}function Ag(n){let e={},t=a(n,["config"]);return t!=null&&Eg(t,e),e}function Sg(n){let e={},t=a(n,["config"]);return t!=null&&Tg(t,e),e}function Pg(n){let e={},t=a(n,["sdkHttpResponse"]);t!=null&&c(e,["sdkHttpResponse"],t);let i=a(n,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);let o=a(n,["operations"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>Vi(s))),c(e,["batchJobs"],r)}return e}function wg(n){let e={},t=a(n,["sdkHttpResponse"]);t!=null&&c(e,["sdkHttpResponse"],t);let i=a(n,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);let o=a(n,["batchPredictionJobs"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>Es(s))),c(e,["batchJobs"],r)}return e}function Mg(n){let e={},t=a(n,["functionCall"]);t!=null&&c(e,["functionCall"],t);let i=a(n,["codeExecutionResult"]);i!=null&&c(e,["codeExecutionResult"],i);let o=a(n,["executableCode"]);o!=null&&c(e,["executableCode"],o);let r=a(n,["fileData"]);r!=null&&c(e,["fileData"],pg(r));let s=a(n,["functionResponse"]);s!=null&&c(e,["functionResponse"],s);let l=a(n,["inlineData"]);l!=null&&c(e,["inlineData"],Xh(l));let u=a(n,["text"]);u!=null&&c(e,["text"],u);let d=a(n,["thought"]);d!=null&&c(e,["thought"],d);let f=a(n,["thoughtSignature"]);f!=null&&c(e,["thoughtSignature"],f);let p=a(n,["videoMetadata"]);return p!=null&&c(e,["videoMetadata"],p),e}function Ig(n){let e={},t=a(n,["category"]);if(t!=null&&c(e,["category"],t),a(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let i=a(n,["threshold"]);return i!=null&&c(e,["threshold"],i),e}function bg(n){let e={},t=a(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>p)),c(e,["functionDeclarations"],f)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let i=a(n,["googleSearchRetrieval"]);i!=null&&c(e,["googleSearchRetrieval"],i);let o=a(n,["computerUse"]);o!=null&&c(e,["computerUse"],o);let r=a(n,["fileSearch"]);r!=null&&c(e,["fileSearch"],r);let s=a(n,["codeExecution"]);if(s!=null&&c(e,["codeExecution"],s),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let l=a(n,["googleMaps"]);l!=null&&c(e,["googleMaps"],vg(l));let u=a(n,["googleSearch"]);u!=null&&c(e,["googleSearch"],xg(u));let d=a(n,["urlContext"]);return d!=null&&c(e,["urlContext"],d),e}var _t=(function(n){return n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents",n})(_t||{}),et=class{constructor(e,t,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,i,o)}init(e,t,i){var o,r;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t?.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!i||Object.keys(i).length===0?s={config:{}}:typeof i=="object"?s=Object.assign({},i):s=i,s.config&&(s.config.pageToken=t.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(r=(o=s.config)===null||o===void 0?void 0:o.pageSize)!==null&&r!==void 0?r:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:()=>I(this,null,function*(){if(this.idxInternal>=this.pageLength)if(this.hasNextPage())yield this.nextPage();else return{value:void 0,done:!0};let e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}}),return:()=>I(this,null,function*(){return{value:void 0,done:!0}})}}nextPage(){return I(this,null,function*(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");let e=yield this.requestInternal(this.params);return this.initNextPage(e),this.page})}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}};var Ts=class extends Ve{constructor(e){super(),this.apiClient=e,this.create=t=>I(this,null,function*(){return this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)}),this.createEmbeddings=t=>I(this,null,function*(){if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}),this.list=(...i)=>I(this,[...i],function*(t={}){return new et(_t.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),yield this.listInternal(t),t)})}createInlinedGenerateContentRequest(e){let t=Yc(this.apiClient,e),i=t._url,o=z("{model}:batchGenerateContent",i),l=t.batch.inputConfig.requests,u=l.requests,d=[];for(let f of u){let p=Object.assign({},f);if(p.systemInstruction){let h=p.systemInstruction;delete p.systemInstruction;let g=p.request;g.systemInstruction=h,p.request=g}d.push(p)}return l.requests=d,delete t.config,delete t._url,delete t._query,{path:o,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){let i=t?Object.assign({},t):{},o=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${o}`),i.dest===void 0){let r=this.getGcsUri(e),s=this.getBigqueryUri(e);if(r)r.endsWith(".jsonl")?i.dest=`${r.slice(0,-6)}/dest`:i.dest=`${r}_dest_${o}`;else if(s)i.dest=`${s}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}createInternal(e){return I(this,null,function*(){var t,i,o,r;let s,l="",u={};if(this.apiClient.isVertexAI()){let d=ig(this.apiClient,e);return l=z("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Es(f))}else{let d=Yc(this.apiClient,e);return l=z("{model}:batchGenerateContent",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>Vi(f))}})}createEmbeddingsInternal(e){return I(this,null,function*(){var t,i;let o,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=rg(this.apiClient,e);return r=z("{model}:asyncBatchEmbedContent",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>Vi(u))}})}get(e){return I(this,null,function*(){var t,i,o,r;let s,l="",u={};if(this.apiClient.isVertexAI()){let d=_g(this.apiClient,e);return l=z("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Es(f))}else{let d=mg(this.apiClient,e);return l=z("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>Vi(f))}})}cancel(e){return I(this,null,function*(){var t,i,o,r;let s="",l={};if(this.apiClient.isVertexAI()){let u=Zh(this.apiClient,e);s=z("batchPredictionJobs/{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,yield this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{let u=Qh(this.apiClient,e);s=z("batches/{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,yield this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}})}listInternal(e){return I(this,null,function*(){var t,i,o,r;let s,l="",u={};if(this.apiClient.isVertexAI()){let d=Sg(e);return l=z("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=wg(f),h=new Zi;return Object.assign(h,p),h})}else{let d=Ag(e);return l=z("batches",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Pg(f),h=new Zi;return Object.assign(h,p),h})}})}delete(e){return I(this,null,function*(){var t,i,o,r;let s,l="",u={};if(this.apiClient.isVertexAI()){let d=ag(this.apiClient,e);return l=z("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>cg(f))}else{let d=sg(this.apiClient,e);return l=z("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>lg(f))}})}};function Dg(n){let e={},t=a(n,["data"]);if(t!=null&&c(e,["data"],t),a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let i=a(n,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function Xc(n){let e={},t=a(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>Zg(r))),c(e,["parts"],o)}let i=a(n,["role"]);return i!=null&&c(e,["role"],i),e}function kg(n,e){let t={},i=a(n,["ttl"]);e!==void 0&&i!=null&&c(e,["ttl"],i);let o=a(n,["expireTime"]);e!==void 0&&o!=null&&c(e,["expireTime"],o);let r=a(n,["displayName"]);e!==void 0&&r!=null&&c(e,["displayName"],r);let s=a(n,["contents"]);if(e!==void 0&&s!=null){let f=Re(s);Array.isArray(f)&&(f=f.map(p=>Xc(p))),c(e,["contents"],f)}let l=a(n,["systemInstruction"]);e!==void 0&&l!=null&&c(e,["systemInstruction"],Xc(xe(l)));let u=a(n,["tools"]);if(e!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>jg(p))),c(e,["tools"],f)}let d=a(n,["toolConfig"]);if(e!==void 0&&d!=null&&c(e,["toolConfig"],d),a(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function Rg(n,e){let t={},i=a(n,["ttl"]);e!==void 0&&i!=null&&c(e,["ttl"],i);let o=a(n,["expireTime"]);e!==void 0&&o!=null&&c(e,["expireTime"],o);let r=a(n,["displayName"]);e!==void 0&&r!=null&&c(e,["displayName"],r);let s=a(n,["contents"]);if(e!==void 0&&s!=null){let p=Re(s);Array.isArray(p)&&(p=p.map(h=>h)),c(e,["contents"],p)}let l=a(n,["systemInstruction"]);e!==void 0&&l!=null&&c(e,["systemInstruction"],xe(l));let u=a(n,["tools"]);if(e!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(h=>em(h))),c(e,["tools"],p)}let d=a(n,["toolConfig"]);e!==void 0&&d!=null&&c(e,["toolConfig"],d);let f=a(n,["kmsKeyName"]);return e!==void 0&&f!=null&&c(e,["encryption_spec","kmsKeyName"],f),t}function Bg(n,e){let t={},i=a(e,["model"]);i!=null&&c(t,["model"],pu(n,i));let o=a(e,["config"]);return o!=null&&kg(o,t),t}function Fg(n,e){let t={},i=a(e,["model"]);i!=null&&c(t,["model"],pu(n,i));let o=a(e,["config"]);return o!=null&&Rg(o,t),t}function Ng(n,e){let t={},i=a(e,["name"]);return i!=null&&c(t,["_url","name"],tt(n,i)),t}function Og(n,e){let t={},i=a(e,["name"]);return i!=null&&c(t,["_url","name"],tt(n,i)),t}function Lg(n){let e={},t=a(n,["sdkHttpResponse"]);return t!=null&&c(e,["sdkHttpResponse"],t),e}function Ug(n){let e={},t=a(n,["sdkHttpResponse"]);return t!=null&&c(e,["sdkHttpResponse"],t),e}function qg(n){let e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let t=a(n,["fileUri"]);t!=null&&c(e,["fileUri"],t);let i=a(n,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function Vg(n){let e={};if(a(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let t=a(n,["description"]);t!=null&&c(e,["description"],t);let i=a(n,["name"]);i!=null&&c(e,["name"],i);let o=a(n,["parameters"]);o!=null&&c(e,["parameters"],o);let r=a(n,["parametersJsonSchema"]);r!=null&&c(e,["parametersJsonSchema"],r);let s=a(n,["response"]);s!=null&&c(e,["response"],s);let l=a(n,["responseJsonSchema"]);return l!=null&&c(e,["responseJsonSchema"],l),e}function Gg(n,e){let t={},i=a(e,["name"]);return i!=null&&c(t,["_url","name"],tt(n,i)),t}function Hg(n,e){let t={},i=a(e,["name"]);return i!=null&&c(t,["_url","name"],tt(n,i)),t}function zg(n){let e={};if(a(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let t=a(n,["enableWidget"]);return t!=null&&c(e,["enableWidget"],t),e}function Jg(n){let e={};if(a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let t=a(n,["timeRangeFilter"]);return t!=null&&c(e,["timeRangeFilter"],t),e}function Kg(n,e){let t={},i=a(n,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);let o=a(n,["pageToken"]);return e!==void 0&&o!=null&&c(e,["_query","pageToken"],o),t}function $g(n,e){let t={},i=a(n,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);let o=a(n,["pageToken"]);return e!==void 0&&o!=null&&c(e,["_query","pageToken"],o),t}function Wg(n){let e={},t=a(n,["config"]);return t!=null&&Kg(t,e),e}function Yg(n){let e={},t=a(n,["config"]);return t!=null&&$g(t,e),e}function Xg(n){let e={},t=a(n,["sdkHttpResponse"]);t!=null&&c(e,["sdkHttpResponse"],t);let i=a(n,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);let o=a(n,["cachedContents"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>s)),c(e,["cachedContents"],r)}return e}function Qg(n){let e={},t=a(n,["sdkHttpResponse"]);t!=null&&c(e,["sdkHttpResponse"],t);let i=a(n,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);let o=a(n,["cachedContents"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>s)),c(e,["cachedContents"],r)}return e}function Zg(n){let e={},t=a(n,["functionCall"]);t!=null&&c(e,["functionCall"],t);let i=a(n,["codeExecutionResult"]);i!=null&&c(e,["codeExecutionResult"],i);let o=a(n,["executableCode"]);o!=null&&c(e,["executableCode"],o);let r=a(n,["fileData"]);r!=null&&c(e,["fileData"],qg(r));let s=a(n,["functionResponse"]);s!=null&&c(e,["functionResponse"],s);let l=a(n,["inlineData"]);l!=null&&c(e,["inlineData"],Dg(l));let u=a(n,["text"]);u!=null&&c(e,["text"],u);let d=a(n,["thought"]);d!=null&&c(e,["thought"],d);let f=a(n,["thoughtSignature"]);f!=null&&c(e,["thoughtSignature"],f);let p=a(n,["videoMetadata"]);return p!=null&&c(e,["videoMetadata"],p),e}function jg(n){let e={},t=a(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>p)),c(e,["functionDeclarations"],f)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let i=a(n,["googleSearchRetrieval"]);i!=null&&c(e,["googleSearchRetrieval"],i);let o=a(n,["computerUse"]);o!=null&&c(e,["computerUse"],o);let r=a(n,["fileSearch"]);r!=null&&c(e,["fileSearch"],r);let s=a(n,["codeExecution"]);if(s!=null&&c(e,["codeExecution"],s),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let l=a(n,["googleMaps"]);l!=null&&c(e,["googleMaps"],zg(l));let u=a(n,["googleSearch"]);u!=null&&c(e,["googleSearch"],Jg(u));let d=a(n,["urlContext"]);return d!=null&&c(e,["urlContext"],d),e}function em(n){let e={},t=a(n,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(h=>Vg(h))),c(e,["functionDeclarations"],p)}let i=a(n,["retrieval"]);i!=null&&c(e,["retrieval"],i);let o=a(n,["googleSearchRetrieval"]);o!=null&&c(e,["googleSearchRetrieval"],o);let r=a(n,["computerUse"]);if(r!=null&&c(e,["computerUse"],r),a(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let s=a(n,["codeExecution"]);s!=null&&c(e,["codeExecution"],s);let l=a(n,["enterpriseWebSearch"]);l!=null&&c(e,["enterpriseWebSearch"],l);let u=a(n,["googleMaps"]);u!=null&&c(e,["googleMaps"],u);let d=a(n,["googleSearch"]);d!=null&&c(e,["googleSearch"],d);let f=a(n,["urlContext"]);return f!=null&&c(e,["urlContext"],f),e}function tm(n,e){let t={},i=a(n,["ttl"]);e!==void 0&&i!=null&&c(e,["ttl"],i);let o=a(n,["expireTime"]);return e!==void 0&&o!=null&&c(e,["expireTime"],o),t}function nm(n,e){let t={},i=a(n,["ttl"]);e!==void 0&&i!=null&&c(e,["ttl"],i);let o=a(n,["expireTime"]);return e!==void 0&&o!=null&&c(e,["expireTime"],o),t}function im(n,e){let t={},i=a(e,["name"]);i!=null&&c(t,["_url","name"],tt(n,i));let o=a(e,["config"]);return o!=null&&tm(o,t),t}function om(n,e){let t={},i=a(e,["name"]);i!=null&&c(t,["_url","name"],tt(n,i));let o=a(e,["config"]);return o!=null&&nm(o,t),t}var As=class extends Ve{constructor(e){super(),this.apiClient=e,this.list=(...i)=>I(this,[...i],function*(t={}){return new et(_t.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),yield this.listInternal(t),t)})}create(e){return I(this,null,function*(){var t,i,o,r;let s,l="",u={};if(this.apiClient.isVertexAI()){let d=Fg(this.apiClient,e);return l=z("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{let d=Bg(this.apiClient,e);return l=z("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}})}get(e){return I(this,null,function*(){var t,i,o,r;let s,l="",u={};if(this.apiClient.isVertexAI()){let d=Hg(this.apiClient,e);return l=z("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{let d=Gg(this.apiClient,e);return l=z("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}})}delete(e){return I(this,null,function*(){var t,i,o,r;let s,l="",u={};if(this.apiClient.isVertexAI()){let d=Og(this.apiClient,e);return l=z("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Ug(f),h=new Xi;return Object.assign(h,p),h})}else{let d=Ng(this.apiClient,e);return l=z("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Lg(f),h=new Xi;return Object.assign(h,p),h})}})}update(e){return I(this,null,function*(){var t,i,o,r;let s,l="",u={};if(this.apiClient.isVertexAI()){let d=om(this.apiClient,e);return l=z("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{let d=im(this.apiClient,e);return l=z("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}})}listInternal(e){return I(this,null,function*(){var t,i,o,r;let s,l="",u={};if(this.apiClient.isVertexAI()){let d=Yg(e);return l=z("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Qg(f),h=new Qi;return Object.assign(h,p),h})}else{let d=Wg(e);return l=z("cachedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Xg(f),h=new Qi;return Object.assign(h,p),h})}})}};function Qc(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ae(n){return this instanceof ae?(this.v=n,this):new ae(n)}function Zt(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),o,r=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(g){return function(m){return Promise.resolve(m).then(g,p)}}function l(g,m){i[g]&&(o[g]=function(x){return new Promise(function(y,_){r.push([g,x,y,_])>1||u(g,x)})},m&&(o[g]=m(o[g])))}function u(g,m){try{d(i[g](m))}catch(x){h(r[0][3],x)}}function d(g){g.value instanceof ae?Promise.resolve(g.value.v).then(f,p):h(r[0][2],g)}function f(g){u("next",g)}function p(g){u("throw",g)}function h(g,m){g(m),r.shift(),r.length&&u(r[0][0],r[0][1])}}function On(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Qc=="function"?Qc(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=n[r]&&function(s){return new Promise(function(l,u){s=n[r](s),o(l,u,s.done,s.value)})}}function o(r,s,l,u){Promise.resolve(u).then(function(d){r({value:d,done:l})},s)}}function rm(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;let t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:Pu(t)}function Pu(n){if(n.parts===void 0||n.parts.length===0)return!1;for(let e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function sm(n){if(n.length!==0){for(let e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Zc(n){if(n===void 0||n.length===0)return[];let e=[],t=n.length,i=0;for(;i<t;)if(n[i].role==="user")e.push(n[i]),i++;else{let o=[],r=!0;for(;i<t&&n[i].role==="model";)o.push(n[i]),r&&!Pu(n[i])&&(r=!1),i++;r?e.push(...o):e.pop()}return e}var Ss=class{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new Ps(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}},Ps=class{constructor(e,t,i,o={},r=[]){this.apiClient=e,this.modelsModule=t,this.model=i,this.config=o,this.history=r,this.sendPromise=Promise.resolve(),sm(r)}sendMessage(e){return I(this,null,function*(){var t;yield this.sendPromise;let i=xe(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=I(this,null,function*(){var r,s,l;let u=yield o,d=(s=(r=u.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content,f=u.automaticFunctionCallingHistory,p=this.getHistory(!0).length,h=[];f!=null&&(h=(l=f.slice(p))!==null&&l!==void 0?l:[]);let g=d?[d]:[];this.recordHistory(i,g,h)}),yield this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o})}sendMessageStream(e){return I(this,null,function*(){var t;yield this.sendPromise;let i=xe(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});let r=yield o;return this.processStreamResponse(r,i)})}getHistory(e=!1){let t=e?Zc(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var i,o;return Zt(this,arguments,function*(){var s,l,u,d;let f=[];try{for(var p=!0,h=On(e),g;g=yield ae(h.next()),s=g.done,!s;p=!0){d=g.value,p=!1;let m=d;if(rm(m)){let x=(o=(i=m.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content;x!==void 0&&f.push(x)}yield yield ae(m)}}catch(m){l={error:m}}finally{try{!p&&!s&&(u=h.return)&&(yield ae(u.call(h)))}finally{if(l)throw l.error}}this.recordHistory(t,f)})}recordHistory(e,t,i){let o=[];t.length>0&&t.every(r=>r.role!==void 0)?o=t:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Zc(i)):this.history.push(e),this.history.push(...o)}};var eo=class n extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,n.prototype)}};function am(n){let e={},t=a(n,["file"]);return t!=null&&c(e,["file"],t),e}function lm(n){let e={},t=a(n,["sdkHttpResponse"]);return t!=null&&c(e,["sdkHttpResponse"],t),e}function cm(n){let e={},t=a(n,["name"]);return t!=null&&c(e,["_url","file"],xu(t)),e}function um(n){let e={},t=a(n,["sdkHttpResponse"]);return t!=null&&c(e,["sdkHttpResponse"],t),e}function dm(n){let e={},t=a(n,["name"]);return t!=null&&c(e,["_url","file"],xu(t)),e}function fm(n,e){let t={},i=a(n,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);let o=a(n,["pageToken"]);return e!==void 0&&o!=null&&c(e,["_query","pageToken"],o),t}function pm(n){let e={},t=a(n,["config"]);return t!=null&&fm(t,e),e}function hm(n){let e={},t=a(n,["sdkHttpResponse"]);t!=null&&c(e,["sdkHttpResponse"],t);let i=a(n,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);let o=a(n,["files"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>s)),c(e,["files"],r)}return e}var ws=class extends Ve{constructor(e){super(),this.apiClient=e,this.list=(...i)=>I(this,[...i],function*(t={}){return new et(_t.PAGED_ITEM_FILES,o=>this.listInternal(o),yield this.listInternal(t),t)})}upload(e){return I(this,null,function*(){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)})}download(e){return I(this,null,function*(){yield this.apiClient.downloadFile(e)})}listInternal(e){return I(this,null,function*(){var t,i;let o,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=pm(e);return r=z("files",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{let d=hm(u),f=new gs;return Object.assign(f,d),f})}})}createInternal(e){return I(this,null,function*(){var t,i;let o,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=am(e);return r=z("upload/v1beta/files",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>{let d=lm(u),f=new ms;return Object.assign(f,d),f})}})}get(e){return I(this,null,function*(){var t,i;let o,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=dm(e);return r=z("files/{file}",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>u)}})}delete(e){return I(this,null,function*(){var t,i;let o,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=cm(e);return r=z("files/{file}",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{let d=um(u),f=new _s;return Object.assign(f,d),f})}})}};function Gi(n){let e={},t=a(n,["data"]);if(t!=null&&c(e,["data"],t),a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let i=a(n,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function gm(n){let e={},t=a(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>bm(r))),c(e,["parts"],o)}let i=a(n,["role"]);return i!=null&&c(e,["role"],i),e}function mm(n){let e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let t=a(n,["fileUri"]);t!=null&&c(e,["fileUri"],t);let i=a(n,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function _m(n){let e={};if(a(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let t=a(n,["description"]);t!=null&&c(e,["description"],t);let i=a(n,["name"]);i!=null&&c(e,["name"],i);let o=a(n,["parameters"]);o!=null&&c(e,["parameters"],o);let r=a(n,["parametersJsonSchema"]);r!=null&&c(e,["parametersJsonSchema"],r);let s=a(n,["response"]);s!=null&&c(e,["response"],s);let l=a(n,["responseJsonSchema"]);return l!=null&&c(e,["responseJsonSchema"],l),e}function vm(n){let e={},t=a(n,["modelSelectionConfig"]);t!=null&&c(e,["modelConfig"],t);let i=a(n,["responseJsonSchema"]);i!=null&&c(e,["responseJsonSchema"],i);let o=a(n,["audioTimestamp"]);o!=null&&c(e,["audioTimestamp"],o);let r=a(n,["candidateCount"]);r!=null&&c(e,["candidateCount"],r);let s=a(n,["enableAffectiveDialog"]);s!=null&&c(e,["enableAffectiveDialog"],s);let l=a(n,["frequencyPenalty"]);l!=null&&c(e,["frequencyPenalty"],l);let u=a(n,["logprobs"]);u!=null&&c(e,["logprobs"],u);let d=a(n,["maxOutputTokens"]);d!=null&&c(e,["maxOutputTokens"],d);let f=a(n,["mediaResolution"]);f!=null&&c(e,["mediaResolution"],f);let p=a(n,["presencePenalty"]);p!=null&&c(e,["presencePenalty"],p);let h=a(n,["responseLogprobs"]);h!=null&&c(e,["responseLogprobs"],h);let g=a(n,["responseMimeType"]);g!=null&&c(e,["responseMimeType"],g);let m=a(n,["responseModalities"]);m!=null&&c(e,["responseModalities"],m);let x=a(n,["responseSchema"]);x!=null&&c(e,["responseSchema"],x);let y=a(n,["routingConfig"]);y!=null&&c(e,["routingConfig"],y);let _=a(n,["seed"]);_!=null&&c(e,["seed"],_);let v=a(n,["speechConfig"]);v!=null&&c(e,["speechConfig"],wu(v));let C=a(n,["stopSequences"]);C!=null&&c(e,["stopSequences"],C);let E=a(n,["temperature"]);E!=null&&c(e,["temperature"],E);let T=a(n,["thinkingConfig"]);T!=null&&c(e,["thinkingConfig"],T);let A=a(n,["topK"]);A!=null&&c(e,["topK"],A);let M=a(n,["topP"]);if(M!=null&&c(e,["topP"],M),a(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function xm(n){let e={};if(a(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let t=a(n,["enableWidget"]);return t!=null&&c(e,["enableWidget"],t),e}function ym(n){let e={};if(a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let t=a(n,["timeRangeFilter"]);return t!=null&&c(e,["timeRangeFilter"],t),e}function Cm(n,e){let t={},i=a(n,["generationConfig"]);e!==void 0&&i!=null&&c(e,["setup","generationConfig"],i);let o=a(n,["responseModalities"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig","responseModalities"],o);let r=a(n,["temperature"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig","temperature"],r);let s=a(n,["topP"]);e!==void 0&&s!=null&&c(e,["setup","generationConfig","topP"],s);let l=a(n,["topK"]);e!==void 0&&l!=null&&c(e,["setup","generationConfig","topK"],l);let u=a(n,["maxOutputTokens"]);e!==void 0&&u!=null&&c(e,["setup","generationConfig","maxOutputTokens"],u);let d=a(n,["mediaResolution"]);e!==void 0&&d!=null&&c(e,["setup","generationConfig","mediaResolution"],d);let f=a(n,["seed"]);e!==void 0&&f!=null&&c(e,["setup","generationConfig","seed"],f);let p=a(n,["speechConfig"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","speechConfig"],js(p));let h=a(n,["thinkingConfig"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","thinkingConfig"],h);let g=a(n,["enableAffectiveDialog"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],g);let m=a(n,["systemInstruction"]);e!==void 0&&m!=null&&c(e,["setup","systemInstruction"],gm(xe(m)));let x=a(n,["tools"]);if(e!==void 0&&x!=null){let A=tn(x);Array.isArray(A)&&(A=A.map(M=>km(en(M)))),c(e,["setup","tools"],A)}let y=a(n,["sessionResumption"]);e!==void 0&&y!=null&&c(e,["setup","sessionResumption"],Dm(y));let _=a(n,["inputAudioTranscription"]);e!==void 0&&_!=null&&c(e,["setup","inputAudioTranscription"],_);let v=a(n,["outputAudioTranscription"]);e!==void 0&&v!=null&&c(e,["setup","outputAudioTranscription"],v);let C=a(n,["realtimeInputConfig"]);e!==void 0&&C!=null&&c(e,["setup","realtimeInputConfig"],C);let E=a(n,["contextWindowCompression"]);e!==void 0&&E!=null&&c(e,["setup","contextWindowCompression"],E);let T=a(n,["proactivity"]);return e!==void 0&&T!=null&&c(e,["setup","proactivity"],T),t}function Em(n,e){let t={},i=a(n,["generationConfig"]);e!==void 0&&i!=null&&c(e,["setup","generationConfig"],vm(i));let o=a(n,["responseModalities"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig","responseModalities"],o);let r=a(n,["temperature"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig","temperature"],r);let s=a(n,["topP"]);e!==void 0&&s!=null&&c(e,["setup","generationConfig","topP"],s);let l=a(n,["topK"]);e!==void 0&&l!=null&&c(e,["setup","generationConfig","topK"],l);let u=a(n,["maxOutputTokens"]);e!==void 0&&u!=null&&c(e,["setup","generationConfig","maxOutputTokens"],u);let d=a(n,["mediaResolution"]);e!==void 0&&d!=null&&c(e,["setup","generationConfig","mediaResolution"],d);let f=a(n,["seed"]);e!==void 0&&f!=null&&c(e,["setup","generationConfig","seed"],f);let p=a(n,["speechConfig"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","speechConfig"],wu(js(p)));let h=a(n,["thinkingConfig"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","thinkingConfig"],h);let g=a(n,["enableAffectiveDialog"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],g);let m=a(n,["systemInstruction"]);e!==void 0&&m!=null&&c(e,["setup","systemInstruction"],xe(m));let x=a(n,["tools"]);if(e!==void 0&&x!=null){let A=tn(x);Array.isArray(A)&&(A=A.map(M=>Rm(en(M)))),c(e,["setup","tools"],A)}let y=a(n,["sessionResumption"]);e!==void 0&&y!=null&&c(e,["setup","sessionResumption"],y);let _=a(n,["inputAudioTranscription"]);e!==void 0&&_!=null&&c(e,["setup","inputAudioTranscription"],_);let v=a(n,["outputAudioTranscription"]);e!==void 0&&v!=null&&c(e,["setup","outputAudioTranscription"],v);let C=a(n,["realtimeInputConfig"]);e!==void 0&&C!=null&&c(e,["setup","realtimeInputConfig"],C);let E=a(n,["contextWindowCompression"]);e!==void 0&&E!=null&&c(e,["setup","contextWindowCompression"],E);let T=a(n,["proactivity"]);return e!==void 0&&T!=null&&c(e,["setup","proactivity"],T),t}function Tm(n,e){let t={},i=a(e,["model"]);i!=null&&c(t,["setup","model"],oe(n,i));let o=a(e,["config"]);return o!=null&&c(t,["config"],Cm(o,t)),t}function Am(n,e){let t={},i=a(e,["model"]);i!=null&&c(t,["setup","model"],oe(n,i));let o=a(e,["config"]);return o!=null&&c(t,["config"],Em(o,t)),t}function Sm(n){let e={},t=a(n,["musicGenerationConfig"]);return t!=null&&c(e,["musicGenerationConfig"],t),e}function Pm(n){let e={},t=a(n,["weightedPrompts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>o)),c(e,["weightedPrompts"],i)}return e}function wm(n){let e={},t=a(n,["media"]);if(t!=null){let d=hu(t);Array.isArray(d)&&(d=d.map(f=>Gi(f))),c(e,["mediaChunks"],d)}let i=a(n,["audio"]);i!=null&&c(e,["audio"],Gi(mu(i)));let o=a(n,["audioStreamEnd"]);o!=null&&c(e,["audioStreamEnd"],o);let r=a(n,["video"]);r!=null&&c(e,["video"],Gi(gu(r)));let s=a(n,["text"]);s!=null&&c(e,["text"],s);let l=a(n,["activityStart"]);l!=null&&c(e,["activityStart"],l);let u=a(n,["activityEnd"]);return u!=null&&c(e,["activityEnd"],u),e}function Mm(n){let e={},t=a(n,["media"]);if(t!=null){let d=hu(t);Array.isArray(d)&&(d=d.map(f=>f)),c(e,["mediaChunks"],d)}let i=a(n,["audio"]);i!=null&&c(e,["audio"],mu(i));let o=a(n,["audioStreamEnd"]);o!=null&&c(e,["audioStreamEnd"],o);let r=a(n,["video"]);r!=null&&c(e,["video"],gu(r));let s=a(n,["text"]);s!=null&&c(e,["text"],s);let l=a(n,["activityStart"]);l!=null&&c(e,["activityStart"],l);let u=a(n,["activityEnd"]);return u!=null&&c(e,["activityEnd"],u),e}function Im(n){let e={},t=a(n,["setupComplete"]);t!=null&&c(e,["setupComplete"],t);let i=a(n,["serverContent"]);i!=null&&c(e,["serverContent"],i);let o=a(n,["toolCall"]);o!=null&&c(e,["toolCall"],o);let r=a(n,["toolCallCancellation"]);r!=null&&c(e,["toolCallCancellation"],r);let s=a(n,["usageMetadata"]);s!=null&&c(e,["usageMetadata"],Bm(s));let l=a(n,["goAway"]);l!=null&&c(e,["goAway"],l);let u=a(n,["sessionResumptionUpdate"]);return u!=null&&c(e,["sessionResumptionUpdate"],u),e}function bm(n){let e={},t=a(n,["functionCall"]);t!=null&&c(e,["functionCall"],t);let i=a(n,["codeExecutionResult"]);i!=null&&c(e,["codeExecutionResult"],i);let o=a(n,["executableCode"]);o!=null&&c(e,["executableCode"],o);let r=a(n,["fileData"]);r!=null&&c(e,["fileData"],mm(r));let s=a(n,["functionResponse"]);s!=null&&c(e,["functionResponse"],s);let l=a(n,["inlineData"]);l!=null&&c(e,["inlineData"],Gi(l));let u=a(n,["text"]);u!=null&&c(e,["text"],u);let d=a(n,["thought"]);d!=null&&c(e,["thought"],d);let f=a(n,["thoughtSignature"]);f!=null&&c(e,["thoughtSignature"],f);let p=a(n,["videoMetadata"]);return p!=null&&c(e,["videoMetadata"],p),e}function Dm(n){let e={},t=a(n,["handle"]);if(t!=null&&c(e,["handle"],t),a(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function wu(n){let e={},t=a(n,["languageCode"]);t!=null&&c(e,["languageCode"],t);let i=a(n,["voiceConfig"]);if(i!=null&&c(e,["voiceConfig"],i),a(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function km(n){let e={},t=a(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>p)),c(e,["functionDeclarations"],f)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let i=a(n,["googleSearchRetrieval"]);i!=null&&c(e,["googleSearchRetrieval"],i);let o=a(n,["computerUse"]);o!=null&&c(e,["computerUse"],o);let r=a(n,["fileSearch"]);r!=null&&c(e,["fileSearch"],r);let s=a(n,["codeExecution"]);if(s!=null&&c(e,["codeExecution"],s),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let l=a(n,["googleMaps"]);l!=null&&c(e,["googleMaps"],xm(l));let u=a(n,["googleSearch"]);u!=null&&c(e,["googleSearch"],ym(u));let d=a(n,["urlContext"]);return d!=null&&c(e,["urlContext"],d),e}function Rm(n){let e={},t=a(n,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(h=>_m(h))),c(e,["functionDeclarations"],p)}let i=a(n,["retrieval"]);i!=null&&c(e,["retrieval"],i);let o=a(n,["googleSearchRetrieval"]);o!=null&&c(e,["googleSearchRetrieval"],o);let r=a(n,["computerUse"]);if(r!=null&&c(e,["computerUse"],r),a(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let s=a(n,["codeExecution"]);s!=null&&c(e,["codeExecution"],s);let l=a(n,["enterpriseWebSearch"]);l!=null&&c(e,["enterpriseWebSearch"],l);let u=a(n,["googleMaps"]);u!=null&&c(e,["googleMaps"],u);let d=a(n,["googleSearch"]);d!=null&&c(e,["googleSearch"],d);let f=a(n,["urlContext"]);return f!=null&&c(e,["urlContext"],f),e}function Bm(n){let e={},t=a(n,["promptTokenCount"]);t!=null&&c(e,["promptTokenCount"],t);let i=a(n,["cachedContentTokenCount"]);i!=null&&c(e,["cachedContentTokenCount"],i);let o=a(n,["candidatesTokenCount"]);o!=null&&c(e,["responseTokenCount"],o);let r=a(n,["toolUsePromptTokenCount"]);r!=null&&c(e,["toolUsePromptTokenCount"],r);let s=a(n,["thoughtsTokenCount"]);s!=null&&c(e,["thoughtsTokenCount"],s);let l=a(n,["totalTokenCount"]);l!=null&&c(e,["totalTokenCount"],l);let u=a(n,["promptTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(m=>m)),c(e,["promptTokensDetails"],g)}let d=a(n,["cacheTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(m=>m)),c(e,["cacheTokensDetails"],g)}let f=a(n,["candidatesTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(m=>m)),c(e,["responseTokensDetails"],g)}let p=a(n,["toolUsePromptTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(m=>m)),c(e,["toolUsePromptTokensDetails"],g)}let h=a(n,["trafficType"]);return h!=null&&c(e,["trafficType"],h),e}function Fm(n){let e={},t=a(n,["data"]);if(t!=null&&c(e,["data"],t),a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let i=a(n,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function Nm(n){let e={},t=a(n,["content"]);t!=null&&c(e,["content"],t);let i=a(n,["citationMetadata"]);i!=null&&c(e,["citationMetadata"],Om(i));let o=a(n,["tokenCount"]);o!=null&&c(e,["tokenCount"],o);let r=a(n,["finishReason"]);r!=null&&c(e,["finishReason"],r);let s=a(n,["avgLogprobs"]);s!=null&&c(e,["avgLogprobs"],s);let l=a(n,["groundingMetadata"]);l!=null&&c(e,["groundingMetadata"],l);let u=a(n,["index"]);u!=null&&c(e,["index"],u);let d=a(n,["logprobsResult"]);d!=null&&c(e,["logprobsResult"],d);let f=a(n,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>g)),c(e,["safetyRatings"],h)}let p=a(n,["urlContextMetadata"]);return p!=null&&c(e,["urlContextMetadata"],p),e}function Om(n){let e={},t=a(n,["citationSources"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>o)),c(e,["citations"],i)}return e}function Lm(n,e){let t={},i=a(e,["model"]);i!=null&&c(t,["_url","model"],oe(n,i));let o=a(e,["contents"]);if(o!=null){let r=Re(o);Array.isArray(r)&&(r=r.map(s=>s)),c(t,["contents"],r)}return t}function Um(n){let e={},t=a(n,["sdkHttpResponse"]);t!=null&&c(e,["sdkHttpResponse"],t);let i=a(n,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>r)),c(e,["tokensInfo"],o)}return e}function qm(n){let e={},t=a(n,["values"]);t!=null&&c(e,["values"],t);let i=a(n,["statistics"]);return i!=null&&c(e,["statistics"],Vm(i)),e}function Vm(n){let e={},t=a(n,["truncated"]);t!=null&&c(e,["truncated"],t);let i=a(n,["token_count"]);return i!=null&&c(e,["tokenCount"],i),e}function io(n){let e={},t=a(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>K_(r))),c(e,["parts"],o)}let i=a(n,["role"]);return i!=null&&c(e,["role"],i),e}function Gm(n){let e={},t=a(n,["controlType"]);t!=null&&c(e,["controlType"],t);let i=a(n,["enableControlImageComputation"]);return i!=null&&c(e,["computeControl"],i),e}function Hm(n){let e={};if(a(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function zm(n,e){let t={},i=a(n,["systemInstruction"]);e!==void 0&&i!=null&&c(e,["systemInstruction"],xe(i));let o=a(n,["tools"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>ku(l))),c(e,["tools"],s)}let r=a(n,["generationConfig"]);return e!==void 0&&r!=null&&c(e,["generationConfig"],R_(r)),t}function Jm(n,e){let t={},i=a(e,["model"]);i!=null&&c(t,["_url","model"],oe(n,i));let o=a(e,["contents"]);if(o!=null){let s=Re(o);Array.isArray(s)&&(s=s.map(l=>io(l))),c(t,["contents"],s)}let r=a(e,["config"]);return r!=null&&Hm(r),t}function Km(n,e){let t={},i=a(e,["model"]);i!=null&&c(t,["_url","model"],oe(n,i));let o=a(e,["contents"]);if(o!=null){let s=Re(o);Array.isArray(s)&&(s=s.map(l=>l)),c(t,["contents"],s)}let r=a(e,["config"]);return r!=null&&zm(r,t),t}function $m(n){let e={},t=a(n,["sdkHttpResponse"]);t!=null&&c(e,["sdkHttpResponse"],t);let i=a(n,["totalTokens"]);i!=null&&c(e,["totalTokens"],i);let o=a(n,["cachedContentTokenCount"]);return o!=null&&c(e,["cachedContentTokenCount"],o),e}function Wm(n){let e={},t=a(n,["sdkHttpResponse"]);t!=null&&c(e,["sdkHttpResponse"],t);let i=a(n,["totalTokens"]);return i!=null&&c(e,["totalTokens"],i),e}function Ym(n,e){let t={},i=a(e,["model"]);return i!=null&&c(t,["_url","name"],oe(n,i)),t}function Xm(n,e){let t={},i=a(e,["model"]);return i!=null&&c(t,["_url","name"],oe(n,i)),t}function Qm(n){let e={},t=a(n,["sdkHttpResponse"]);return t!=null&&c(e,["sdkHttpResponse"],t),e}function Zm(n){let e={},t=a(n,["sdkHttpResponse"]);return t!=null&&c(e,["sdkHttpResponse"],t),e}function jm(n,e){let t={},i=a(n,["outputGcsUri"]);e!==void 0&&i!=null&&c(e,["parameters","storageUri"],i);let o=a(n,["negativePrompt"]);e!==void 0&&o!=null&&c(e,["parameters","negativePrompt"],o);let r=a(n,["numberOfImages"]);e!==void 0&&r!=null&&c(e,["parameters","sampleCount"],r);let s=a(n,["aspectRatio"]);e!==void 0&&s!=null&&c(e,["parameters","aspectRatio"],s);let l=a(n,["guidanceScale"]);e!==void 0&&l!=null&&c(e,["parameters","guidanceScale"],l);let u=a(n,["seed"]);e!==void 0&&u!=null&&c(e,["parameters","seed"],u);let d=a(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&c(e,["parameters","safetySetting"],d);let f=a(n,["personGeneration"]);e!==void 0&&f!=null&&c(e,["parameters","personGeneration"],f);let p=a(n,["includeSafetyAttributes"]);e!==void 0&&p!=null&&c(e,["parameters","includeSafetyAttributes"],p);let h=a(n,["includeRaiReason"]);e!==void 0&&h!=null&&c(e,["parameters","includeRaiReason"],h);let g=a(n,["language"]);e!==void 0&&g!=null&&c(e,["parameters","language"],g);let m=a(n,["outputMimeType"]);e!==void 0&&m!=null&&c(e,["parameters","outputOptions","mimeType"],m);let x=a(n,["outputCompressionQuality"]);e!==void 0&&x!=null&&c(e,["parameters","outputOptions","compressionQuality"],x);let y=a(n,["addWatermark"]);e!==void 0&&y!=null&&c(e,["parameters","addWatermark"],y);let _=a(n,["labels"]);e!==void 0&&_!=null&&c(e,["labels"],_);let v=a(n,["editMode"]);e!==void 0&&v!=null&&c(e,["parameters","editMode"],v);let C=a(n,["baseSteps"]);return e!==void 0&&C!=null&&c(e,["parameters","editConfig","baseSteps"],C),t}function e_(n,e){let t={},i=a(e,["model"]);i!=null&&c(t,["_url","model"],oe(n,i));let o=a(e,["prompt"]);o!=null&&c(t,["instances[0]","prompt"],o);let r=a(e,["referenceImages"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Z_(u))),c(t,["instances[0]","referenceImages"],l)}let s=a(e,["config"]);return s!=null&&jm(s,t),t}function t_(n){let e={},t=a(n,["sdkHttpResponse"]);t!=null&&c(e,["sdkHttpResponse"],t);let i=a(n,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>oo(r))),c(e,["generatedImages"],o)}return e}function n_(n,e){let t={},i=a(n,["taskType"]);e!==void 0&&i!=null&&c(e,["requests[]","taskType"],i);let o=a(n,["title"]);e!==void 0&&o!=null&&c(e,["requests[]","title"],o);let r=a(n,["outputDimensionality"]);if(e!==void 0&&r!=null&&c(e,["requests[]","outputDimensionality"],r),a(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function i_(n,e){let t={},i=a(n,["taskType"]);e!==void 0&&i!=null&&c(e,["instances[]","task_type"],i);let o=a(n,["title"]);e!==void 0&&o!=null&&c(e,["instances[]","title"],o);let r=a(n,["outputDimensionality"]);e!==void 0&&r!=null&&c(e,["parameters","outputDimensionality"],r);let s=a(n,["mimeType"]);e!==void 0&&s!=null&&c(e,["instances[]","mimeType"],s);let l=a(n,["autoTruncate"]);return e!==void 0&&l!=null&&c(e,["parameters","autoTruncate"],l),t}function o_(n,e){let t={},i=a(e,["model"]);i!=null&&c(t,["_url","model"],oe(n,i));let o=a(e,["contents"]);if(o!=null){let l=Xs(n,o);Array.isArray(l)&&(l=l.map(u=>u)),c(t,["requests[]","content"],l)}let r=a(e,["config"]);r!=null&&n_(r,t);let s=a(e,["model"]);return s!==void 0&&c(t,["requests[]","model"],oe(n,s)),t}function r_(n,e){let t={},i=a(e,["model"]);i!=null&&c(t,["_url","model"],oe(n,i));let o=a(e,["contents"]);if(o!=null){let s=Xs(n,o);Array.isArray(s)&&(s=s.map(l=>l)),c(t,["instances[]","content"],s)}let r=a(e,["config"]);return r!=null&&i_(r,t),t}function s_(n){let e={},t=a(n,["sdkHttpResponse"]);t!=null&&c(e,["sdkHttpResponse"],t);let i=a(n,["embeddings"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),c(e,["embeddings"],r)}let o=a(n,["metadata"]);return o!=null&&c(e,["metadata"],o),e}function a_(n){let e={},t=a(n,["sdkHttpResponse"]);t!=null&&c(e,["sdkHttpResponse"],t);let i=a(n,["predictions[]","embeddings"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>qm(s))),c(e,["embeddings"],r)}let o=a(n,["metadata"]);return o!=null&&c(e,["metadata"],o),e}function l_(n){let e={},t=a(n,["endpoint"]);t!=null&&c(e,["name"],t);let i=a(n,["deployedModelId"]);return i!=null&&c(e,["deployedModelId"],i),e}function c_(n){let e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let t=a(n,["fileUri"]);t!=null&&c(e,["fileUri"],t);let i=a(n,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function u_(n){let e={};if(a(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let t=a(n,["description"]);t!=null&&c(e,["description"],t);let i=a(n,["name"]);i!=null&&c(e,["name"],i);let o=a(n,["parameters"]);o!=null&&c(e,["parameters"],o);let r=a(n,["parametersJsonSchema"]);r!=null&&c(e,["parametersJsonSchema"],r);let s=a(n,["response"]);s!=null&&c(e,["response"],s);let l=a(n,["responseJsonSchema"]);return l!=null&&c(e,["responseJsonSchema"],l),e}function d_(n,e,t){let i={},o=a(e,["systemInstruction"]);t!==void 0&&o!=null&&c(t,["systemInstruction"],io(xe(o)));let r=a(e,["temperature"]);r!=null&&c(i,["temperature"],r);let s=a(e,["topP"]);s!=null&&c(i,["topP"],s);let l=a(e,["topK"]);l!=null&&c(i,["topK"],l);let u=a(e,["candidateCount"]);u!=null&&c(i,["candidateCount"],u);let d=a(e,["maxOutputTokens"]);d!=null&&c(i,["maxOutputTokens"],d);let f=a(e,["stopSequences"]);f!=null&&c(i,["stopSequences"],f);let p=a(e,["responseLogprobs"]);p!=null&&c(i,["responseLogprobs"],p);let h=a(e,["logprobs"]);h!=null&&c(i,["logprobs"],h);let g=a(e,["presencePenalty"]);g!=null&&c(i,["presencePenalty"],g);let m=a(e,["frequencyPenalty"]);m!=null&&c(i,["frequencyPenalty"],m);let x=a(e,["seed"]);x!=null&&c(i,["seed"],x);let y=a(e,["responseMimeType"]);y!=null&&c(i,["responseMimeType"],y);let _=a(e,["responseSchema"]);_!=null&&c(i,["responseSchema"],Qs(_));let v=a(e,["responseJsonSchema"]);if(v!=null&&c(i,["responseJsonSchema"],v),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let C=a(e,["safetySettings"]);if(t!==void 0&&C!=null){let R=C;Array.isArray(R)&&(R=R.map(V=>j_(V))),c(t,["safetySettings"],R)}let E=a(e,["tools"]);if(t!==void 0&&E!=null){let R=tn(E);Array.isArray(R)&&(R=R.map(V=>rv(en(V)))),c(t,["tools"],R)}let T=a(e,["toolConfig"]);if(t!==void 0&&T!=null&&c(t,["toolConfig"],T),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let A=a(e,["cachedContent"]);t!==void 0&&A!=null&&c(t,["cachedContent"],tt(n,A));let M=a(e,["responseModalities"]);M!=null&&c(i,["responseModalities"],M);let k=a(e,["mediaResolution"]);k!=null&&c(i,["mediaResolution"],k);let w=a(e,["speechConfig"]);if(w!=null&&c(i,["speechConfig"],Zs(w)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let N=a(e,["thinkingConfig"]);N!=null&&c(i,["thinkingConfig"],N);let P=a(e,["imageConfig"]);return P!=null&&c(i,["imageConfig"],P),i}function f_(n,e,t){let i={},o=a(e,["systemInstruction"]);t!==void 0&&o!=null&&c(t,["systemInstruction"],xe(o));let r=a(e,["temperature"]);r!=null&&c(i,["temperature"],r);let s=a(e,["topP"]);s!=null&&c(i,["topP"],s);let l=a(e,["topK"]);l!=null&&c(i,["topK"],l);let u=a(e,["candidateCount"]);u!=null&&c(i,["candidateCount"],u);let d=a(e,["maxOutputTokens"]);d!=null&&c(i,["maxOutputTokens"],d);let f=a(e,["stopSequences"]);f!=null&&c(i,["stopSequences"],f);let p=a(e,["responseLogprobs"]);p!=null&&c(i,["responseLogprobs"],p);let h=a(e,["logprobs"]);h!=null&&c(i,["logprobs"],h);let g=a(e,["presencePenalty"]);g!=null&&c(i,["presencePenalty"],g);let m=a(e,["frequencyPenalty"]);m!=null&&c(i,["frequencyPenalty"],m);let x=a(e,["seed"]);x!=null&&c(i,["seed"],x);let y=a(e,["responseMimeType"]);y!=null&&c(i,["responseMimeType"],y);let _=a(e,["responseSchema"]);_!=null&&c(i,["responseSchema"],Qs(_));let v=a(e,["responseJsonSchema"]);v!=null&&c(i,["responseJsonSchema"],v);let C=a(e,["routingConfig"]);C!=null&&c(i,["routingConfig"],C);let E=a(e,["modelSelectionConfig"]);E!=null&&c(i,["modelConfig"],E);let T=a(e,["safetySettings"]);if(t!==void 0&&T!=null){let b=T;Array.isArray(b)&&(b=b.map(U=>U)),c(t,["safetySettings"],b)}let A=a(e,["tools"]);if(t!==void 0&&A!=null){let b=tn(A);Array.isArray(b)&&(b=b.map(U=>ku(en(U)))),c(t,["tools"],b)}let M=a(e,["toolConfig"]);t!==void 0&&M!=null&&c(t,["toolConfig"],M);let k=a(e,["labels"]);t!==void 0&&k!=null&&c(t,["labels"],k);let w=a(e,["cachedContent"]);t!==void 0&&w!=null&&c(t,["cachedContent"],tt(n,w));let N=a(e,["responseModalities"]);N!=null&&c(i,["responseModalities"],N);let P=a(e,["mediaResolution"]);P!=null&&c(i,["mediaResolution"],P);let R=a(e,["speechConfig"]);R!=null&&c(i,["speechConfig"],Du(Zs(R)));let V=a(e,["audioTimestamp"]);V!=null&&c(i,["audioTimestamp"],V);let L=a(e,["thinkingConfig"]);L!=null&&c(i,["thinkingConfig"],L);let K=a(e,["imageConfig"]);return K!=null&&c(i,["imageConfig"],K),i}function jc(n,e){let t={},i=a(e,["model"]);i!=null&&c(t,["_url","model"],oe(n,i));let o=a(e,["contents"]);if(o!=null){let s=Re(o);Array.isArray(s)&&(s=s.map(l=>io(l))),c(t,["contents"],s)}let r=a(e,["config"]);return r!=null&&c(t,["generationConfig"],d_(n,r,t)),t}function eu(n,e){let t={},i=a(e,["model"]);i!=null&&c(t,["_url","model"],oe(n,i));let o=a(e,["contents"]);if(o!=null){let s=Re(o);Array.isArray(s)&&(s=s.map(l=>l)),c(t,["contents"],s)}let r=a(e,["config"]);return r!=null&&c(t,["generationConfig"],f_(n,r,t)),t}function tu(n){let e={},t=a(n,["sdkHttpResponse"]);t!=null&&c(e,["sdkHttpResponse"],t);let i=a(n,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>Nm(d))),c(e,["candidates"],u)}let o=a(n,["modelVersion"]);o!=null&&c(e,["modelVersion"],o);let r=a(n,["promptFeedback"]);r!=null&&c(e,["promptFeedback"],r);let s=a(n,["responseId"]);s!=null&&c(e,["responseId"],s);let l=a(n,["usageMetadata"]);return l!=null&&c(e,["usageMetadata"],l),e}function nu(n){let e={},t=a(n,["sdkHttpResponse"]);t!=null&&c(e,["sdkHttpResponse"],t);let i=a(n,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>f)),c(e,["candidates"],d)}let o=a(n,["createTime"]);o!=null&&c(e,["createTime"],o);let r=a(n,["modelVersion"]);r!=null&&c(e,["modelVersion"],r);let s=a(n,["promptFeedback"]);s!=null&&c(e,["promptFeedback"],s);let l=a(n,["responseId"]);l!=null&&c(e,["responseId"],l);let u=a(n,["usageMetadata"]);return u!=null&&c(e,["usageMetadata"],u),e}function p_(n,e){let t={};if(a(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");let i=a(n,["numberOfImages"]);e!==void 0&&i!=null&&c(e,["parameters","sampleCount"],i);let o=a(n,["aspectRatio"]);e!==void 0&&o!=null&&c(e,["parameters","aspectRatio"],o);let r=a(n,["guidanceScale"]);if(e!==void 0&&r!=null&&c(e,["parameters","guidanceScale"],r),a(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let s=a(n,["safetyFilterLevel"]);e!==void 0&&s!=null&&c(e,["parameters","safetySetting"],s);let l=a(n,["personGeneration"]);e!==void 0&&l!=null&&c(e,["parameters","personGeneration"],l);let u=a(n,["includeSafetyAttributes"]);e!==void 0&&u!=null&&c(e,["parameters","includeSafetyAttributes"],u);let d=a(n,["includeRaiReason"]);e!==void 0&&d!=null&&c(e,["parameters","includeRaiReason"],d);let f=a(n,["language"]);e!==void 0&&f!=null&&c(e,["parameters","language"],f);let p=a(n,["outputMimeType"]);e!==void 0&&p!=null&&c(e,["parameters","outputOptions","mimeType"],p);let h=a(n,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&c(e,["parameters","outputOptions","compressionQuality"],h),a(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let g=a(n,["imageSize"]);if(e!==void 0&&g!=null&&c(e,["parameters","sampleImageSize"],g),a(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function h_(n,e){let t={},i=a(n,["outputGcsUri"]);e!==void 0&&i!=null&&c(e,["parameters","storageUri"],i);let o=a(n,["negativePrompt"]);e!==void 0&&o!=null&&c(e,["parameters","negativePrompt"],o);let r=a(n,["numberOfImages"]);e!==void 0&&r!=null&&c(e,["parameters","sampleCount"],r);let s=a(n,["aspectRatio"]);e!==void 0&&s!=null&&c(e,["parameters","aspectRatio"],s);let l=a(n,["guidanceScale"]);e!==void 0&&l!=null&&c(e,["parameters","guidanceScale"],l);let u=a(n,["seed"]);e!==void 0&&u!=null&&c(e,["parameters","seed"],u);let d=a(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&c(e,["parameters","safetySetting"],d);let f=a(n,["personGeneration"]);e!==void 0&&f!=null&&c(e,["parameters","personGeneration"],f);let p=a(n,["includeSafetyAttributes"]);e!==void 0&&p!=null&&c(e,["parameters","includeSafetyAttributes"],p);let h=a(n,["includeRaiReason"]);e!==void 0&&h!=null&&c(e,["parameters","includeRaiReason"],h);let g=a(n,["language"]);e!==void 0&&g!=null&&c(e,["parameters","language"],g);let m=a(n,["outputMimeType"]);e!==void 0&&m!=null&&c(e,["parameters","outputOptions","mimeType"],m);let x=a(n,["outputCompressionQuality"]);e!==void 0&&x!=null&&c(e,["parameters","outputOptions","compressionQuality"],x);let y=a(n,["addWatermark"]);e!==void 0&&y!=null&&c(e,["parameters","addWatermark"],y);let _=a(n,["labels"]);e!==void 0&&_!=null&&c(e,["labels"],_);let v=a(n,["imageSize"]);e!==void 0&&v!=null&&c(e,["parameters","sampleImageSize"],v);let C=a(n,["enhancePrompt"]);return e!==void 0&&C!=null&&c(e,["parameters","enhancePrompt"],C),t}function g_(n,e){let t={},i=a(e,["model"]);i!=null&&c(t,["_url","model"],oe(n,i));let o=a(e,["prompt"]);o!=null&&c(t,["instances[0]","prompt"],o);let r=a(e,["config"]);return r!=null&&p_(r,t),t}function m_(n,e){let t={},i=a(e,["model"]);i!=null&&c(t,["_url","model"],oe(n,i));let o=a(e,["prompt"]);o!=null&&c(t,["instances[0]","prompt"],o);let r=a(e,["config"]);return r!=null&&h_(r,t),t}function __(n){let e={},t=a(n,["sdkHttpResponse"]);t!=null&&c(e,["sdkHttpResponse"],t);let i=a(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>I_(s))),c(e,["generatedImages"],r)}let o=a(n,["positivePromptSafetyAttributes"]);return o!=null&&c(e,["positivePromptSafetyAttributes"],Iu(o)),e}function v_(n){let e={},t=a(n,["sdkHttpResponse"]);t!=null&&c(e,["sdkHttpResponse"],t);let i=a(n,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>oo(s))),c(e,["generatedImages"],r)}let o=a(n,["positivePromptSafetyAttributes"]);return o!=null&&c(e,["positivePromptSafetyAttributes"],bu(o)),e}function x_(n,e){let t={},i=a(n,["numberOfVideos"]);if(e!==void 0&&i!=null&&c(e,["parameters","sampleCount"],i),a(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");let o=a(n,["durationSeconds"]);if(e!==void 0&&o!=null&&c(e,["parameters","durationSeconds"],o),a(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let r=a(n,["aspectRatio"]);e!==void 0&&r!=null&&c(e,["parameters","aspectRatio"],r);let s=a(n,["resolution"]);e!==void 0&&s!=null&&c(e,["parameters","resolution"],s);let l=a(n,["personGeneration"]);if(e!==void 0&&l!=null&&c(e,["parameters","personGeneration"],l),a(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");let u=a(n,["negativePrompt"]);e!==void 0&&u!=null&&c(e,["parameters","negativePrompt"],u);let d=a(n,["enhancePrompt"]);if(e!==void 0&&d!=null&&c(e,["parameters","enhancePrompt"],d),a(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");let f=a(n,["lastFrame"]);e!==void 0&&f!=null&&c(e,["instances[0]","lastFrame"],ro(f));let p=a(n,["referenceImages"]);if(e!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>vv(g))),c(e,["instances[0]","referenceImages"],h)}if(a(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(a(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function y_(n,e){let t={},i=a(n,["numberOfVideos"]);e!==void 0&&i!=null&&c(e,["parameters","sampleCount"],i);let o=a(n,["outputGcsUri"]);e!==void 0&&o!=null&&c(e,["parameters","storageUri"],o);let r=a(n,["fps"]);e!==void 0&&r!=null&&c(e,["parameters","fps"],r);let s=a(n,["durationSeconds"]);e!==void 0&&s!=null&&c(e,["parameters","durationSeconds"],s);let l=a(n,["seed"]);e!==void 0&&l!=null&&c(e,["parameters","seed"],l);let u=a(n,["aspectRatio"]);e!==void 0&&u!=null&&c(e,["parameters","aspectRatio"],u);let d=a(n,["resolution"]);e!==void 0&&d!=null&&c(e,["parameters","resolution"],d);let f=a(n,["personGeneration"]);e!==void 0&&f!=null&&c(e,["parameters","personGeneration"],f);let p=a(n,["pubsubTopic"]);e!==void 0&&p!=null&&c(e,["parameters","pubsubTopic"],p);let h=a(n,["negativePrompt"]);e!==void 0&&h!=null&&c(e,["parameters","negativePrompt"],h);let g=a(n,["enhancePrompt"]);e!==void 0&&g!=null&&c(e,["parameters","enhancePrompt"],g);let m=a(n,["generateAudio"]);e!==void 0&&m!=null&&c(e,["parameters","generateAudio"],m);let x=a(n,["lastFrame"]);e!==void 0&&x!=null&&c(e,["instances[0]","lastFrame"],Ge(x));let y=a(n,["referenceImages"]);if(e!==void 0&&y!=null){let C=y;Array.isArray(C)&&(C=C.map(E=>xv(E))),c(e,["instances[0]","referenceImages"],C)}let _=a(n,["mask"]);e!==void 0&&_!=null&&c(e,["instances[0]","mask"],_v(_));let v=a(n,["compressionQuality"]);return e!==void 0&&v!=null&&c(e,["parameters","compressionQuality"],v),t}function C_(n){let e={},t=a(n,["name"]);t!=null&&c(e,["name"],t);let i=a(n,["metadata"]);i!=null&&c(e,["metadata"],i);let o=a(n,["done"]);o!=null&&c(e,["done"],o);let r=a(n,["error"]);r!=null&&c(e,["error"],r);let s=a(n,["response","generateVideoResponse"]);return s!=null&&c(e,["response"],S_(s)),e}function E_(n){let e={},t=a(n,["name"]);t!=null&&c(e,["name"],t);let i=a(n,["metadata"]);i!=null&&c(e,["metadata"],i);let o=a(n,["done"]);o!=null&&c(e,["done"],o);let r=a(n,["error"]);r!=null&&c(e,["error"],r);let s=a(n,["response"]);return s!=null&&c(e,["response"],P_(s)),e}function T_(n,e){let t={},i=a(e,["model"]);i!=null&&c(t,["_url","model"],oe(n,i));let o=a(e,["prompt"]);o!=null&&c(t,["instances[0]","prompt"],o);let r=a(e,["image"]);r!=null&&c(t,["instances[0]","image"],ro(r));let s=a(e,["video"]);s!=null&&c(t,["instances[0]","video"],Ru(s));let l=a(e,["source"]);l!=null&&w_(l,t);let u=a(e,["config"]);return u!=null&&x_(u,t),t}function A_(n,e){let t={},i=a(e,["model"]);i!=null&&c(t,["_url","model"],oe(n,i));let o=a(e,["prompt"]);o!=null&&c(t,["instances[0]","prompt"],o);let r=a(e,["image"]);r!=null&&c(t,["instances[0]","image"],Ge(r));let s=a(e,["video"]);s!=null&&c(t,["instances[0]","video"],Bu(s));let l=a(e,["source"]);l!=null&&M_(l,t);let u=a(e,["config"]);return u!=null&&y_(u,t),t}function S_(n){let e={},t=a(n,["generatedSamples"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>D_(s))),c(e,["generatedVideos"],r)}let i=a(n,["raiMediaFilteredCount"]);i!=null&&c(e,["raiMediaFilteredCount"],i);let o=a(n,["raiMediaFilteredReasons"]);return o!=null&&c(e,["raiMediaFilteredReasons"],o),e}function P_(n){let e={},t=a(n,["videos"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(s=>k_(s))),c(e,["generatedVideos"],r)}let i=a(n,["raiMediaFilteredCount"]);i!=null&&c(e,["raiMediaFilteredCount"],i);let o=a(n,["raiMediaFilteredReasons"]);return o!=null&&c(e,["raiMediaFilteredReasons"],o),e}function w_(n,e){let t={},i=a(n,["prompt"]);e!==void 0&&i!=null&&c(e,["instances[0]","prompt"],i);let o=a(n,["image"]);e!==void 0&&o!=null&&c(e,["instances[0]","image"],ro(o));let r=a(n,["video"]);return e!==void 0&&r!=null&&c(e,["instances[0]","video"],Ru(r)),t}function M_(n,e){let t={},i=a(n,["prompt"]);e!==void 0&&i!=null&&c(e,["instances[0]","prompt"],i);let o=a(n,["image"]);e!==void 0&&o!=null&&c(e,["instances[0]","image"],Ge(o));let r=a(n,["video"]);return e!==void 0&&r!=null&&c(e,["instances[0]","video"],Bu(r)),t}function I_(n){let e={},t=a(n,["_self"]);t!=null&&c(e,["image"],L_(t));let i=a(n,["raiFilteredReason"]);i!=null&&c(e,["raiFilteredReason"],i);let o=a(n,["_self"]);return o!=null&&c(e,["safetyAttributes"],Iu(o)),e}function oo(n){let e={},t=a(n,["_self"]);t!=null&&c(e,["image"],Mu(t));let i=a(n,["raiFilteredReason"]);i!=null&&c(e,["raiFilteredReason"],i);let o=a(n,["_self"]);o!=null&&c(e,["safetyAttributes"],bu(o));let r=a(n,["prompt"]);return r!=null&&c(e,["enhancedPrompt"],r),e}function b_(n){let e={},t=a(n,["_self"]);t!=null&&c(e,["mask"],Mu(t));let i=a(n,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>r)),c(e,["labels"],o)}return e}function D_(n){let e={},t=a(n,["video"]);return t!=null&&c(e,["video"],gv(t)),e}function k_(n){let e={},t=a(n,["_self"]);return t!=null&&c(e,["video"],mv(t)),e}function R_(n){let e={},t=a(n,["modelSelectionConfig"]);t!=null&&c(e,["modelConfig"],t);let i=a(n,["responseJsonSchema"]);i!=null&&c(e,["responseJsonSchema"],i);let o=a(n,["audioTimestamp"]);o!=null&&c(e,["audioTimestamp"],o);let r=a(n,["candidateCount"]);r!=null&&c(e,["candidateCount"],r);let s=a(n,["enableAffectiveDialog"]);s!=null&&c(e,["enableAffectiveDialog"],s);let l=a(n,["frequencyPenalty"]);l!=null&&c(e,["frequencyPenalty"],l);let u=a(n,["logprobs"]);u!=null&&c(e,["logprobs"],u);let d=a(n,["maxOutputTokens"]);d!=null&&c(e,["maxOutputTokens"],d);let f=a(n,["mediaResolution"]);f!=null&&c(e,["mediaResolution"],f);let p=a(n,["presencePenalty"]);p!=null&&c(e,["presencePenalty"],p);let h=a(n,["responseLogprobs"]);h!=null&&c(e,["responseLogprobs"],h);let g=a(n,["responseMimeType"]);g!=null&&c(e,["responseMimeType"],g);let m=a(n,["responseModalities"]);m!=null&&c(e,["responseModalities"],m);let x=a(n,["responseSchema"]);x!=null&&c(e,["responseSchema"],x);let y=a(n,["routingConfig"]);y!=null&&c(e,["routingConfig"],y);let _=a(n,["seed"]);_!=null&&c(e,["seed"],_);let v=a(n,["speechConfig"]);v!=null&&c(e,["speechConfig"],Du(v));let C=a(n,["stopSequences"]);C!=null&&c(e,["stopSequences"],C);let E=a(n,["temperature"]);E!=null&&c(e,["temperature"],E);let T=a(n,["thinkingConfig"]);T!=null&&c(e,["thinkingConfig"],T);let A=a(n,["topK"]);A!=null&&c(e,["topK"],A);let M=a(n,["topP"]);if(M!=null&&c(e,["topP"],M),a(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function B_(n,e){let t={},i=a(e,["model"]);return i!=null&&c(t,["_url","name"],oe(n,i)),t}function F_(n,e){let t={},i=a(e,["model"]);return i!=null&&c(t,["_url","name"],oe(n,i)),t}function N_(n){let e={};if(a(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let t=a(n,["enableWidget"]);return t!=null&&c(e,["enableWidget"],t),e}function O_(n){let e={};if(a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let t=a(n,["timeRangeFilter"]);return t!=null&&c(e,["timeRangeFilter"],t),e}function L_(n){let e={},t=a(n,["bytesBase64Encoded"]);t!=null&&c(e,["imageBytes"],mt(t));let i=a(n,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function Mu(n){let e={},t=a(n,["gcsUri"]);t!=null&&c(e,["gcsUri"],t);let i=a(n,["bytesBase64Encoded"]);i!=null&&c(e,["imageBytes"],mt(i));let o=a(n,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function ro(n){let e={};if(a(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");let t=a(n,["imageBytes"]);t!=null&&c(e,["bytesBase64Encoded"],mt(t));let i=a(n,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function Ge(n){let e={},t=a(n,["gcsUri"]);t!=null&&c(e,["gcsUri"],t);let i=a(n,["imageBytes"]);i!=null&&c(e,["bytesBase64Encoded"],mt(i));let o=a(n,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function U_(n,e,t){let i={},o=a(e,["pageSize"]);t!==void 0&&o!=null&&c(t,["_query","pageSize"],o);let r=a(e,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);let s=a(e,["filter"]);t!==void 0&&s!=null&&c(t,["_query","filter"],s);let l=a(e,["queryBase"]);return t!==void 0&&l!=null&&c(t,["_url","models_url"],yu(n,l)),i}function q_(n,e,t){let i={},o=a(e,["pageSize"]);t!==void 0&&o!=null&&c(t,["_query","pageSize"],o);let r=a(e,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);let s=a(e,["filter"]);t!==void 0&&s!=null&&c(t,["_query","filter"],s);let l=a(e,["queryBase"]);return t!==void 0&&l!=null&&c(t,["_url","models_url"],yu(n,l)),i}function V_(n,e){let t={},i=a(e,["config"]);return i!=null&&U_(n,i,t),t}function G_(n,e){let t={},i=a(e,["config"]);return i!=null&&q_(n,i,t),t}function H_(n){let e={},t=a(n,["sdkHttpResponse"]);t!=null&&c(e,["sdkHttpResponse"],t);let i=a(n,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);let o=a(n,["_self"]);if(o!=null){let r=Cu(o);Array.isArray(r)&&(r=r.map(s=>Ms(s))),c(e,["models"],r)}return e}function z_(n){let e={},t=a(n,["sdkHttpResponse"]);t!=null&&c(e,["sdkHttpResponse"],t);let i=a(n,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);let o=a(n,["_self"]);if(o!=null){let r=Cu(o);Array.isArray(r)&&(r=r.map(s=>Is(s))),c(e,["models"],r)}return e}function J_(n){let e={},t=a(n,["maskMode"]);t!=null&&c(e,["maskMode"],t);let i=a(n,["segmentationClasses"]);i!=null&&c(e,["maskClasses"],i);let o=a(n,["maskDilation"]);return o!=null&&c(e,["dilation"],o),e}function Ms(n){let e={},t=a(n,["name"]);t!=null&&c(e,["name"],t);let i=a(n,["displayName"]);i!=null&&c(e,["displayName"],i);let o=a(n,["description"]);o!=null&&c(e,["description"],o);let r=a(n,["version"]);r!=null&&c(e,["version"],r);let s=a(n,["_self"]);s!=null&&c(e,["tunedModelInfo"],sv(s));let l=a(n,["inputTokenLimit"]);l!=null&&c(e,["inputTokenLimit"],l);let u=a(n,["outputTokenLimit"]);u!=null&&c(e,["outputTokenLimit"],u);let d=a(n,["supportedGenerationMethods"]);d!=null&&c(e,["supportedActions"],d);let f=a(n,["temperature"]);f!=null&&c(e,["temperature"],f);let p=a(n,["maxTemperature"]);p!=null&&c(e,["maxTemperature"],p);let h=a(n,["topP"]);h!=null&&c(e,["topP"],h);let g=a(n,["topK"]);g!=null&&c(e,["topK"],g);let m=a(n,["thinking"]);return m!=null&&c(e,["thinking"],m),e}function Is(n){let e={},t=a(n,["name"]);t!=null&&c(e,["name"],t);let i=a(n,["displayName"]);i!=null&&c(e,["displayName"],i);let o=a(n,["description"]);o!=null&&c(e,["description"],o);let r=a(n,["versionId"]);r!=null&&c(e,["version"],r);let s=a(n,["deployedModels"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>l_(h))),c(e,["endpoints"],p)}let l=a(n,["labels"]);l!=null&&c(e,["labels"],l);let u=a(n,["_self"]);u!=null&&c(e,["tunedModelInfo"],av(u));let d=a(n,["defaultCheckpointId"]);d!=null&&c(e,["defaultCheckpointId"],d);let f=a(n,["checkpoints"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>h)),c(e,["checkpoints"],p)}return e}function K_(n){let e={},t=a(n,["functionCall"]);t!=null&&c(e,["functionCall"],t);let i=a(n,["codeExecutionResult"]);i!=null&&c(e,["codeExecutionResult"],i);let o=a(n,["executableCode"]);o!=null&&c(e,["executableCode"],o);let r=a(n,["fileData"]);r!=null&&c(e,["fileData"],c_(r));let s=a(n,["functionResponse"]);s!=null&&c(e,["functionResponse"],s);let l=a(n,["inlineData"]);l!=null&&c(e,["inlineData"],Fm(l));let u=a(n,["text"]);u!=null&&c(e,["text"],u);let d=a(n,["thought"]);d!=null&&c(e,["thought"],d);let f=a(n,["thoughtSignature"]);f!=null&&c(e,["thoughtSignature"],f);let p=a(n,["videoMetadata"]);return p!=null&&c(e,["videoMetadata"],p),e}function $_(n){let e={},t=a(n,["productImage"]);return t!=null&&c(e,["image"],Ge(t)),e}function W_(n,e){let t={},i=a(n,["numberOfImages"]);e!==void 0&&i!=null&&c(e,["parameters","sampleCount"],i);let o=a(n,["baseSteps"]);e!==void 0&&o!=null&&c(e,["parameters","baseSteps"],o);let r=a(n,["outputGcsUri"]);e!==void 0&&r!=null&&c(e,["parameters","storageUri"],r);let s=a(n,["seed"]);e!==void 0&&s!=null&&c(e,["parameters","seed"],s);let l=a(n,["safetyFilterLevel"]);e!==void 0&&l!=null&&c(e,["parameters","safetySetting"],l);let u=a(n,["personGeneration"]);e!==void 0&&u!=null&&c(e,["parameters","personGeneration"],u);let d=a(n,["addWatermark"]);e!==void 0&&d!=null&&c(e,["parameters","addWatermark"],d);let f=a(n,["outputMimeType"]);e!==void 0&&f!=null&&c(e,["parameters","outputOptions","mimeType"],f);let p=a(n,["outputCompressionQuality"]);e!==void 0&&p!=null&&c(e,["parameters","outputOptions","compressionQuality"],p);let h=a(n,["enhancePrompt"]);e!==void 0&&h!=null&&c(e,["parameters","enhancePrompt"],h);let g=a(n,["labels"]);return e!==void 0&&g!=null&&c(e,["labels"],g),t}function Y_(n,e){let t={},i=a(e,["model"]);i!=null&&c(t,["_url","model"],oe(n,i));let o=a(e,["source"]);o!=null&&Q_(o,t);let r=a(e,["config"]);return r!=null&&W_(r,t),t}function X_(n){let e={},t=a(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>oo(o))),c(e,["generatedImages"],i)}return e}function Q_(n,e){let t={},i=a(n,["prompt"]);e!==void 0&&i!=null&&c(e,["instances[0]","prompt"],i);let o=a(n,["personImage"]);e!==void 0&&o!=null&&c(e,["instances[0]","personImage","image"],Ge(o));let r=a(n,["productImages"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>$_(l))),c(e,["instances[0]","productImages"],s)}return t}function Z_(n){let e={},t=a(n,["referenceImage"]);t!=null&&c(e,["referenceImage"],Ge(t));let i=a(n,["referenceId"]);i!=null&&c(e,["referenceId"],i);let o=a(n,["referenceType"]);o!=null&&c(e,["referenceType"],o);let r=a(n,["maskImageConfig"]);r!=null&&c(e,["maskImageConfig"],J_(r));let s=a(n,["controlImageConfig"]);s!=null&&c(e,["controlImageConfig"],Gm(s));let l=a(n,["styleImageConfig"]);l!=null&&c(e,["styleImageConfig"],l);let u=a(n,["subjectImageConfig"]);return u!=null&&c(e,["subjectImageConfig"],u),e}function Iu(n){let e={},t=a(n,["safetyAttributes","categories"]);t!=null&&c(e,["categories"],t);let i=a(n,["safetyAttributes","scores"]);i!=null&&c(e,["scores"],i);let o=a(n,["contentType"]);return o!=null&&c(e,["contentType"],o),e}function bu(n){let e={},t=a(n,["safetyAttributes","categories"]);t!=null&&c(e,["categories"],t);let i=a(n,["safetyAttributes","scores"]);i!=null&&c(e,["scores"],i);let o=a(n,["contentType"]);return o!=null&&c(e,["contentType"],o),e}function j_(n){let e={},t=a(n,["category"]);if(t!=null&&c(e,["category"],t),a(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let i=a(n,["threshold"]);return i!=null&&c(e,["threshold"],i),e}function ev(n){let e={},t=a(n,["image"]);return t!=null&&c(e,["image"],Ge(t)),e}function tv(n,e){let t={},i=a(n,["mode"]);e!==void 0&&i!=null&&c(e,["parameters","mode"],i);let o=a(n,["maxPredictions"]);e!==void 0&&o!=null&&c(e,["parameters","maxPredictions"],o);let r=a(n,["confidenceThreshold"]);e!==void 0&&r!=null&&c(e,["parameters","confidenceThreshold"],r);let s=a(n,["maskDilation"]);e!==void 0&&s!=null&&c(e,["parameters","maskDilation"],s);let l=a(n,["binaryColorThreshold"]);e!==void 0&&l!=null&&c(e,["parameters","binaryColorThreshold"],l);let u=a(n,["labels"]);return e!==void 0&&u!=null&&c(e,["labels"],u),t}function nv(n,e){let t={},i=a(e,["model"]);i!=null&&c(t,["_url","model"],oe(n,i));let o=a(e,["source"]);o!=null&&ov(o,t);let r=a(e,["config"]);return r!=null&&tv(r,t),t}function iv(n){let e={},t=a(n,["predictions"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(o=>b_(o))),c(e,["generatedMasks"],i)}return e}function ov(n,e){let t={},i=a(n,["prompt"]);e!==void 0&&i!=null&&c(e,["instances[0]","prompt"],i);let o=a(n,["image"]);e!==void 0&&o!=null&&c(e,["instances[0]","image"],Ge(o));let r=a(n,["scribbleImage"]);return e!==void 0&&r!=null&&c(e,["instances[0]","scribble"],ev(r)),t}function Du(n){let e={},t=a(n,["languageCode"]);t!=null&&c(e,["languageCode"],t);let i=a(n,["voiceConfig"]);if(i!=null&&c(e,["voiceConfig"],i),a(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function rv(n){let e={},t=a(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>p)),c(e,["functionDeclarations"],f)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let i=a(n,["googleSearchRetrieval"]);i!=null&&c(e,["googleSearchRetrieval"],i);let o=a(n,["computerUse"]);o!=null&&c(e,["computerUse"],o);let r=a(n,["fileSearch"]);r!=null&&c(e,["fileSearch"],r);let s=a(n,["codeExecution"]);if(s!=null&&c(e,["codeExecution"],s),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let l=a(n,["googleMaps"]);l!=null&&c(e,["googleMaps"],N_(l));let u=a(n,["googleSearch"]);u!=null&&c(e,["googleSearch"],O_(u));let d=a(n,["urlContext"]);return d!=null&&c(e,["urlContext"],d),e}function ku(n){let e={},t=a(n,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(h=>u_(h))),c(e,["functionDeclarations"],p)}let i=a(n,["retrieval"]);i!=null&&c(e,["retrieval"],i);let o=a(n,["googleSearchRetrieval"]);o!=null&&c(e,["googleSearchRetrieval"],o);let r=a(n,["computerUse"]);if(r!=null&&c(e,["computerUse"],r),a(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let s=a(n,["codeExecution"]);s!=null&&c(e,["codeExecution"],s);let l=a(n,["enterpriseWebSearch"]);l!=null&&c(e,["enterpriseWebSearch"],l);let u=a(n,["googleMaps"]);u!=null&&c(e,["googleMaps"],u);let d=a(n,["googleSearch"]);d!=null&&c(e,["googleSearch"],d);let f=a(n,["urlContext"]);return f!=null&&c(e,["urlContext"],f),e}function sv(n){let e={},t=a(n,["baseModel"]);t!=null&&c(e,["baseModel"],t);let i=a(n,["createTime"]);i!=null&&c(e,["createTime"],i);let o=a(n,["updateTime"]);return o!=null&&c(e,["updateTime"],o),e}function av(n){let e={},t=a(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&c(e,["baseModel"],t);let i=a(n,["createTime"]);i!=null&&c(e,["createTime"],i);let o=a(n,["updateTime"]);return o!=null&&c(e,["updateTime"],o),e}function lv(n,e){let t={},i=a(n,["displayName"]);e!==void 0&&i!=null&&c(e,["displayName"],i);let o=a(n,["description"]);e!==void 0&&o!=null&&c(e,["description"],o);let r=a(n,["defaultCheckpointId"]);return e!==void 0&&r!=null&&c(e,["defaultCheckpointId"],r),t}function cv(n,e){let t={},i=a(n,["displayName"]);e!==void 0&&i!=null&&c(e,["displayName"],i);let o=a(n,["description"]);e!==void 0&&o!=null&&c(e,["description"],o);let r=a(n,["defaultCheckpointId"]);return e!==void 0&&r!=null&&c(e,["defaultCheckpointId"],r),t}function uv(n,e){let t={},i=a(e,["model"]);i!=null&&c(t,["_url","name"],oe(n,i));let o=a(e,["config"]);return o!=null&&lv(o,t),t}function dv(n,e){let t={},i=a(e,["model"]);i!=null&&c(t,["_url","model"],oe(n,i));let o=a(e,["config"]);return o!=null&&cv(o,t),t}function fv(n,e){let t={},i=a(n,["outputGcsUri"]);e!==void 0&&i!=null&&c(e,["parameters","storageUri"],i);let o=a(n,["safetyFilterLevel"]);e!==void 0&&o!=null&&c(e,["parameters","safetySetting"],o);let r=a(n,["personGeneration"]);e!==void 0&&r!=null&&c(e,["parameters","personGeneration"],r);let s=a(n,["includeRaiReason"]);e!==void 0&&s!=null&&c(e,["parameters","includeRaiReason"],s);let l=a(n,["outputMimeType"]);e!==void 0&&l!=null&&c(e,["parameters","outputOptions","mimeType"],l);let u=a(n,["outputCompressionQuality"]);e!==void 0&&u!=null&&c(e,["parameters","outputOptions","compressionQuality"],u);let d=a(n,["enhanceInputImage"]);e!==void 0&&d!=null&&c(e,["parameters","upscaleConfig","enhanceInputImage"],d);let f=a(n,["imagePreservationFactor"]);e!==void 0&&f!=null&&c(e,["parameters","upscaleConfig","imagePreservationFactor"],f);let p=a(n,["labels"]);e!==void 0&&p!=null&&c(e,["labels"],p);let h=a(n,["numberOfImages"]);e!==void 0&&h!=null&&c(e,["parameters","sampleCount"],h);let g=a(n,["mode"]);return e!==void 0&&g!=null&&c(e,["parameters","mode"],g),t}function pv(n,e){let t={},i=a(e,["model"]);i!=null&&c(t,["_url","model"],oe(n,i));let o=a(e,["image"]);o!=null&&c(t,["instances[0]","image"],Ge(o));let r=a(e,["upscaleFactor"]);r!=null&&c(t,["parameters","upscaleConfig","upscaleFactor"],r);let s=a(e,["config"]);return s!=null&&fv(s,t),t}function hv(n){let e={},t=a(n,["sdkHttpResponse"]);t!=null&&c(e,["sdkHttpResponse"],t);let i=a(n,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>oo(r))),c(e,["generatedImages"],o)}return e}function gv(n){let e={},t=a(n,["uri"]);t!=null&&c(e,["uri"],t);let i=a(n,["encodedVideo"]);i!=null&&c(e,["videoBytes"],mt(i));let o=a(n,["encoding"]);return o!=null&&c(e,["mimeType"],o),e}function mv(n){let e={},t=a(n,["gcsUri"]);t!=null&&c(e,["uri"],t);let i=a(n,["bytesBase64Encoded"]);i!=null&&c(e,["videoBytes"],mt(i));let o=a(n,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function _v(n){let e={},t=a(n,["image"]);t!=null&&c(e,["_self"],Ge(t));let i=a(n,["maskMode"]);return i!=null&&c(e,["maskMode"],i),e}function vv(n){let e={},t=a(n,["image"]);t!=null&&c(e,["image"],ro(t));let i=a(n,["referenceType"]);return i!=null&&c(e,["referenceType"],i),e}function xv(n){let e={},t=a(n,["image"]);t!=null&&c(e,["image"],Ge(t));let i=a(n,["referenceType"]);return i!=null&&c(e,["referenceType"],i),e}function Ru(n){let e={},t=a(n,["uri"]);t!=null&&c(e,["uri"],t);let i=a(n,["videoBytes"]);i!=null&&c(e,["encodedVideo"],mt(i));let o=a(n,["mimeType"]);return o!=null&&c(e,["encoding"],o),e}function Bu(n){let e={},t=a(n,["uri"]);t!=null&&c(e,["gcsUri"],t);let i=a(n,["videoBytes"]);i!=null&&c(e,["bytesBase64Encoded"],mt(i));let o=a(n,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}var yv="Content-Type",Cv="X-Server-Timeout",Ev="User-Agent",bs="x-goog-api-client",Tv="1.29.1",Av=`google-genai-sdk/${Tv}`,Sv="v1beta1",Pv="v1beta",iu=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/,Ds=class{constructor(e){var t,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});let o={};this.clientOptions.vertexai?(o.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:Sv,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Pv,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");let i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){let e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,i){let o=[this.getRequestUrlInternal(t)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}request(e){return I(this,null,function*(){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,t,i);if(e.queryParams)for(let[s,l]of Object.entries(e.queryParams))o.searchParams.append(s,String(l));let r={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=e.body;return r=yield this.includeExtraHttpOptionsToRequestInit(r,t,o.toString(),e.abortSignal),this.unaryApiCall(o,r,e.httpMethod)})}patchHttpOptions(e,t){let i=JSON.parse(JSON.stringify(e));for(let[o,r]of Object.entries(t))typeof r=="object"?i[o]=Object.assign(Object.assign({},i[o]),r):r!==void 0&&(i[o]=r);return i}requestStream(e){return I(this,null,function*(){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,t,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let r={};return r.body=e.body,r=yield this.includeExtraHttpOptionsToRequestInit(r,t,o.toString(),e.abortSignal),this.streamApiCall(o,r,e.httpMethod)})}includeExtraHttpOptionsToRequestInit(e,t,i,o){return I(this,null,function*(){if(t&&t.timeout||o){let r=new AbortController,s=r.signal;if(t.timeout&&t?.timeout>0){let l=setTimeout(()=>r.abort(),t.timeout);l&&typeof l.unref=="function"&&l.unref()}o&&o.addEventListener("abort",()=>{r.abort()}),e.signal=s}return t&&t.extraBody!==null&&wv(e,t.extraBody),e.headers=yield this.getHeadersInternal(t,i),e})}unaryApiCall(e,t,i){return I(this,null,function*(){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(o=>I(this,null,function*(){return yield ou(o),new Ln(o)})).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})})}streamApiCall(e,t,i){return I(this,null,function*(){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:i})).then(o=>I(this,null,function*(){return yield ou(o),this.processStreamResponse(o)})).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})})}processStreamResponse(e){var t;return Zt(this,arguments,function*(){let o=(t=e?.body)===null||t===void 0?void 0:t.getReader(),r=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let s="";for(;;){let{done:l,value:u}=yield ae(o.read());if(l){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}let d=r.decode(u,{stream:!0});try{let p=JSON.parse(d);if("error"in p){let h=JSON.parse(JSON.stringify(p.error)),g=h.status,m=h.code,x=`got status: ${g}. ${JSON.stringify(p)}`;if(m>=400&&m<600)throw new eo({message:x,status:m})}}catch(p){if(p.name==="ApiError")throw p}s+=d;let f=s.match(iu);for(;f;){let p=f[1];try{let h=new Response(p,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield ae(new Ln(h)),s=s.slice(f[0].length),f=s.match(iu)}catch(h){throw new Error(`exception parsing stream chunk ${p}. ${h}`)}}}}finally{o.releaseLock()}})}apiCall(e,t){return I(this,null,function*(){return fetch(e,t).catch(i=>{throw new Error(`exception ${i} sending request`)})})}getDefaultHeaders(){let e={},t=Av+" "+this.clientOptions.userAgentExtra;return e[Ev]=t,e[bs]=t,e[yv]="application/json",e}getHeadersInternal(e,t){return I(this,null,function*(){let i=new Headers;if(e&&e.headers){for(let[o,r]of Object.entries(e.headers))i.append(o,r);e.timeout&&e.timeout>0&&i.append(Cv,String(Math.ceil(e.timeout/1e3)))}return yield this.clientOptions.auth.addAuthHeaders(i,t),i})}getFileName(e){var t;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(t=i.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),i}uploadFile(e,t){return I(this,null,function*(){var i;let o={};t!=null&&(o.mimeType=t.mimeType,o.name=t.name,o.displayName=t.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);let r=this.clientOptions.uploader,s=yield r.stat(e);o.sizeBytes=String(s.size);let l=(i=t?.mimeType)!==null&&i!==void 0?i:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=l;let u={file:o},d=this.getFileName(e),f=z("upload/v1beta/files",u._url),p=yield this.fetchUploadUrl(f,o.sizeBytes,o.mimeType,d,u,t?.httpOptions);return r.upload(e,p,this)})}uploadFileToFileSearchStore(e,t,i){return I(this,null,function*(){var o;let r=this.clientOptions.uploader,s=yield r.stat(t),l=String(s.size),u=(o=i?.mimeType)!==null&&o!==void 0?o:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");let d=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(t),p={};i?.customMetadata&&(p.customMetadata=i.customMetadata),i?.chunkingConfig&&(p.chunkingConfig=i.chunkingConfig);let h=yield this.fetchUploadUrl(d,l,u,f,p,i?.httpOptions);return r.uploadToFileSearchStore(t,h,this)})}downloadFile(e){return I(this,null,function*(){yield this.clientOptions.downloader.download(e,this)})}fetchUploadUrl(e,t,i,o,r,s){return I(this,null,function*(){var l;let u={};s?u=s:u={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${i}`},o?{"X-Goog-Upload-File-Name":o}:{})};let d=yield this.request({path:e,body:JSON.stringify(r),httpMethod:"POST",httpOptions:u});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");let f=(l=d?.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f})}};function ou(n){return I(this,null,function*(){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){let t=n.status,i;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=yield n.json():i={error:{message:yield n.text(),code:n.status,status:n.statusText}};let o=JSON.stringify(i);throw t>=400&&t<600?new eo({message:o,status:t}):new Error(o)}})}function wv(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{let r=JSON.parse(n.body);if(typeof r=="object"&&r!==null&&!Array.isArray(r))t=r;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(r,s){let l=Object.assign({},r);for(let u in s)if(Object.prototype.hasOwnProperty.call(s,u)){let d=s[u],f=l[u];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?l[u]=i(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${u}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),l[u]=d)}return l}let o=i(t,e);n.body=JSON.stringify(o)}var Mv="mcp_used/unknown",Iv=!1;function Fu(n){for(let e of n)if(bv(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Iv}function Nu(n){var e;let t=(e=n[bs])!==null&&e!==void 0?e:"";n[bs]=(t+` ${Mv}`).trimStart()}function bv(n){return n!==null&&typeof n=="object"&&n instanceof ks}function Dv(n,e=100){return Zt(this,arguments,function*(){let i,o=0;for(;o<e;){let r=yield ae(n.listTools({cursor:i}));for(let s of r.tools)yield yield ae(s),o++;if(!r.nextCursor)break;i=r.nextCursor}})}var ks=class n{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new n(e,t)}initialize(){return I(this,null,function*(){var e,t,i,o;if(this.mcpTools.length>0)return;let r={},s=[];for(let f of this.mcpClients)try{for(var l=!0,u=(t=void 0,On(Dv(f))),d;d=yield u.next(),e=d.done,!e;l=!0){o=d.value,l=!1;let p=o;s.push(p);let h=p.name;if(r[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);r[h]=f}}catch(p){t={error:p}}finally{try{!l&&!e&&(i=u.return)&&(yield i.call(u))}finally{if(t)throw t.error}}this.mcpTools=s,this.functionNameToMcpClient=r})}tool(){return I(this,null,function*(){return yield this.initialize(),Gh(this.mcpTools,this.config)})}callTool(e){return I(this,null,function*(){yield this.initialize();let t=[];for(let i of e)if(i.name in this.functionNameToMcpClient){let o=this.functionNameToMcpClient[i.name],r;this.config.timeout&&(r={timeout:this.config.timeout});let s=yield o.callTool({name:i.name,arguments:i.args},void 0,r);t.push({functionResponse:{name:i.name,response:s.isError?{error:s}:s}})}return t})}};function kv(n,e,t){return I(this,null,function*(){let i=new xs,o;t.data instanceof Blob?o=JSON.parse(yield t.data.text()):o=JSON.parse(t.data),Object.assign(i,o),e(i)})}var Rs=class{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i}connect(e){return I(this,null,function*(){var t,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");let o=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),s=Bv(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),u=`${o}/ws/google.ai.generativelanguage.${r}.GenerativeService.BidiGenerateMusic?key=${l}`,d=()=>{},f=new Promise(C=>{d=C}),p=e.callbacks,h=function(){d({})},g=this.apiClient,m={onopen:h,onmessage:C=>{kv(g,p.onmessage,C)},onerror:(t=p?.onerror)!==null&&t!==void 0?t:function(C){},onclose:(i=p?.onclose)!==null&&i!==void 0?i:function(C){}},x=this.webSocketFactory.create(u,Rv(s),m);x.connect(),yield f;let v={setup:{model:oe(this.apiClient,e.model)}};return x.send(JSON.stringify(v)),new Bs(x,this.apiClient)})}},Bs=class{constructor(e,t){this.conn=e,this.apiClient=t}setWeightedPrompts(e){return I(this,null,function*(){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");let t=Pm(e);this.conn.send(JSON.stringify({clientContent:t}))})}setMusicGenerationConfig(e){return I(this,null,function*(){e.musicGenerationConfig||(e.musicGenerationConfig={});let t=Sm(e);this.conn.send(JSON.stringify(t))})}sendPlaybackControl(e){let t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Nn.PLAY)}pause(){this.sendPlaybackControl(Nn.PAUSE)}stop(){this.sendPlaybackControl(Nn.STOP)}resetContext(){this.sendPlaybackControl(Nn.RESET_CONTEXT)}close(){this.conn.close()}};function Rv(n){let e={};return n.forEach((t,i)=>{e[i]=t}),e}function Bv(n){let e=new Headers;for(let[t,i]of Object.entries(n))e.append(t,i);return e}var Fv="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";function Nv(n,e,t){return I(this,null,function*(){let i=new vs,o;t.data instanceof Blob?o=yield t.data.text():t.data instanceof ArrayBuffer?o=new TextDecoder().decode(t.data):o=t.data;let r=JSON.parse(o);if(n.isVertexAI()){let s=Im(r);Object.assign(i,s)}else Object.assign(i,r);e(i)})}var Fs=class{constructor(e,t,i){this.apiClient=e,this.auth=t,this.webSocketFactory=i,this.music=new Rs(this.apiClient,this.auth,this.webSocketFactory)}connect(e){return I(this,null,function*(){var t,i,o,r,s,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");let u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),f,p=this.apiClient.getHeaders();e.config&&e.config.tools&&Fu(e.config.tools)&&Nu(p);let h=Uv(p);if(this.apiClient.isVertexAI())f=`${u}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,yield this.auth.addAuthHeaders(h,f);else{let w=this.apiClient.getApiKey(),N="BidiGenerateContent",P="key";w?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),N="BidiGenerateContentConstrained",P="access_token"),f=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.${N}?${P}=${w}`}let g=()=>{},m=new Promise(w=>{g=w}),x=e.callbacks,y=function(){var w;(w=x?.onopen)===null||w===void 0||w.call(x),g({})},_=this.apiClient,v={onopen:y,onmessage:w=>{Nv(_,x.onmessage,w)},onerror:(t=x?.onerror)!==null&&t!==void 0?t:function(w){},onclose:(i=x?.onclose)!==null&&i!==void 0?i:function(w){}},C=this.webSocketFactory.create(f,Lv(h),v);C.connect(),yield m;let E=oe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&E.startsWith("publishers/")){let w=this.apiClient.getProject(),N=this.apiClient.getLocation();E=`projects/${w}/locations/${N}/`+E}let T={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[rs.AUDIO]}:e.config.responseModalities=[rs.AUDIO]),!((r=e.config)===null||r===void 0)&&r.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");let A=(l=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[],M=[];for(let w of A)if(this.isCallableTool(w)){let N=w;M.push(yield N.tool())}else M.push(w);M.length>0&&(e.config.tools=M);let k={model:E,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?T=Am(this.apiClient,k):T=Tm(this.apiClient,k),delete T.config,C.send(JSON.stringify(T)),new Ns(C,this.apiClient)})}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}},Ov={turnComplete:!0},Ns=class{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let i=[];try{i=Re(t.turns),e.isVertexAI()||(i=i.map(o=>io(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:i,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let i=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?i=t.functionResponses:i=[t.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(let r of i){if(typeof r!="object"||r===null||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error(Fv)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},Ov),e);let t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:Mm(e)}:t={realtimeInput:wm(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");let t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}};function Lv(n){let e={};return n.forEach((t,i)=>{e[i]=t}),e}function Uv(n){let e=new Headers;for(let[t,i]of Object.entries(n))e.append(t,i);return e}var ru=10;function su(n){var e,t,i;if(!((e=n?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(let s of(t=n?.tools)!==null&&t!==void 0?t:[])if(jt(s)){o=!0;break}if(!o)return!0;let r=(i=n?.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return r&&(r<0||!Number.isInteger(r))||r==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",r),!0):!1}function jt(n){return"callTool"in n&&typeof n.callTool=="function"}function qv(n){var e,t,i;return(i=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(o=>jt(o)))!==null&&i!==void 0?i:!1}function au(n){var e;let t=[];return!((e=n?.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((i,o)=>{if(jt(i))return;let r=i;r.functionDeclarations&&r.functionDeclarations.length>0&&t.push(o)}),t}function lu(n){var e;return!(!((e=n?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}var Os=class extends Ve{constructor(e){super(),this.apiClient=e,this.generateContent=t=>I(this,null,function*(){var i,o,r,s,l;let u=yield this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!qv(t)||su(t.config))return yield this.generateContentInternal(u);let d=au(t);if(d.length>0){let x=d.map(y=>`tools[${y}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${x}.`)}let f,p,h=Re(u.contents),g=(r=(o=(i=u.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:ru,m=0;for(;m<g&&(f=yield this.generateContentInternal(u),!(!f.functionCalls||f.functionCalls.length===0));){let x=f.candidates[0].content,y=[];for(let _ of(l=(s=t.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[])if(jt(_)){let C=yield _.callTool(f.functionCalls);y.push(...C)}m++,p={role:"user",parts:y},u.contents=Re(u.contents),u.contents.push(x),u.contents.push(p),lu(u.config)&&(h.push(x),h.push(p))}return lu(u.config)&&(f.automaticFunctionCallingHistory=h),f}),this.generateContentStream=t=>I(this,null,function*(){if(this.maybeMoveToResponseJsonSchem(t),su(t.config)){let o=yield this.processParamsMaybeAddMcpUsage(t);return yield this.generateContentStreamInternal(o)}let i=au(t);if(i.length>0){let o=i.map(r=>`tools[${r}]`).join(", ");throw new Error(`Incompatible tools found at ${o}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}return yield this.processAfcStream(t)}),this.generateImages=t=>I(this,null,function*(){return yield this.generateImagesInternal(t).then(i=>{var o;let r,s=[];if(i?.generatedImages)for(let u of i.generatedImages)u&&u?.safetyAttributes&&((o=u?.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?r=u?.safetyAttributes:s.push(u);let l;return r?l={generatedImages:s,positivePromptSafetyAttributes:r,sdkHttpResponse:i.sdkHttpResponse}:l={generatedImages:s,sdkHttpResponse:i.sdkHttpResponse},l})}),this.list=t=>I(this,null,function*(){var i;let s={config:Object.assign(Object.assign({},{queryBase:!0}),t?.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((i=s.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new et(_t.PAGED_ITEM_MODELS,l=>this.listInternal(l),yield this.listInternal(s),s)}),this.editImage=t=>I(this,null,function*(){let i={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(i.referenceImages=t.referenceImages.map(o=>o.toReferenceImageAPI())),yield this.editImageInternal(i)}),this.upscaleImage=t=>I(this,null,function*(){let i={numberOfImages:1,mode:"upscale"};t.config&&(i=Object.assign(Object.assign({},i),t.config));let o={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:i};return yield this.upscaleImageInternal(o)}),this.generateVideos=t=>I(this,null,function*(){var i,o,r,s,l,u;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=t.video)===null||i===void 0)&&i.uri&&(!((o=t.video)===null||o===void 0)&&o.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((s=(r=t.source)===null||r===void 0?void 0:r.video)===null||s===void 0)&&s.uri&&(!((u=(l=t.source)===null||l===void 0?void 0:l.video)===null||u===void 0)&&u.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),yield this.generateVideosInternal(t)})}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}processParamsMaybeAddMcpUsage(e){return I(this,null,function*(){var t,i,o;let r=(t=e.config)===null||t===void 0?void 0:t.tools;if(!r)return e;let s=yield Promise.all(r.map(u=>I(null,null,function*(){return jt(u)?yield u.tool():u}))),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(l.config.tools=s,e.config&&e.config.tools&&Fu(e.config.tools)){let u=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{},d=Object.assign({},u);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),Nu(d),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return l})}initAfcToolsMap(e){return I(this,null,function*(){var t,i,o;let r=new Map;for(let s of(i=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&i!==void 0?i:[])if(jt(s)){let l=s,u=yield l.tool();for(let d of(o=u.functionDeclarations)!==null&&o!==void 0?o:[]){if(!d.name)throw new Error("Function declaration name is required.");if(r.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);r.set(d.name,l)}}return r})}processAfcStream(e){return I(this,null,function*(){var t,i,o;let r=(o=(i=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:ru,s=!1,l=0,u=yield this.initAfcToolsMap(e);return(function(d,f,p){var h,g;return Zt(this,arguments,function*(){for(var m,x,y,_;l<r;){s&&(l++,s=!1);let T=yield ae(d.processParamsMaybeAddMcpUsage(p)),A=yield ae(d.generateContentStreamInternal(T)),M=[],k=[];try{for(var v=!0,C=(x=void 0,On(A)),E;E=yield ae(C.next()),m=E.done,!m;v=!0){_=E.value,v=!1;let w=_;if(yield yield ae(w),w.candidates&&(!((h=w.candidates[0])===null||h===void 0)&&h.content)){k.push(w.candidates[0].content);for(let N of(g=w.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(l<r&&N.functionCall){if(!N.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(N.functionCall.name)){let P=yield ae(f.get(N.functionCall.name).callTool([N.functionCall]));M.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${N.functionCall.name}`)}}}}catch(w){x={error:w}}finally{try{!v&&!m&&(y=C.return)&&(yield ae(y.call(C)))}finally{if(x)throw x.error}}if(M.length>0){s=!0;let w=new bt;w.candidates=[{content:{role:"user",parts:M}}],yield yield ae(w);let N=[];N.push(...k),N.push({role:"user",parts:M});let P=Re(p.contents).concat(N);p.contents=P}else break}})})(this,u,e)})}generateContentInternal(e){return I(this,null,function*(){var t,i,o,r;let s,l="",u={};if(this.apiClient.isVertexAI()){let d=eu(this.apiClient,e);return l=z("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=nu(f),h=new bt;return Object.assign(h,p),h})}else{let d=jc(this.apiClient,e);return l=z("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=tu(f),h=new bt;return Object.assign(h,p),h})}})}generateContentStreamInternal(e){return I(this,null,function*(){var t,i,o,r;let s,l="",u={};if(this.apiClient.isVertexAI()){let d=eu(this.apiClient,e);return l=z("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(p){return Zt(this,arguments,function*(){var h,g,m,x;try{for(var y=!0,_=On(p),v;v=yield ae(_.next()),h=v.done,!h;y=!0){x=v.value,y=!1;let C=x,E=nu(yield ae(C.json()));E.sdkHttpResponse={headers:C.headers};let T=new bt;Object.assign(T,E),yield yield ae(T)}}catch(C){g={error:C}}finally{try{!y&&!h&&(m=_.return)&&(yield ae(m.call(_)))}finally{if(g)throw g.error}}})})}else{let d=jc(this.apiClient,e);return l=z("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(p){return Zt(this,arguments,function*(){var h,g,m,x;try{for(var y=!0,_=On(p),v;v=yield ae(_.next()),h=v.done,!h;y=!0){x=v.value,y=!1;let C=x,E=tu(yield ae(C.json()));E.sdkHttpResponse={headers:C.headers};let T=new bt;Object.assign(T,E),yield yield ae(T)}}catch(C){g={error:C}}finally{try{!y&&!h&&(m=_.return)&&(yield ae(m.call(_)))}finally{if(g)throw g.error}}})})}})}embedContent(e){return I(this,null,function*(){var t,i,o,r;let s,l="",u={};if(this.apiClient.isVertexAI()){let d=r_(this.apiClient,e);return l=z("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=a_(f),h=new Hi;return Object.assign(h,p),h})}else{let d=o_(this.apiClient,e);return l=z("{model}:batchEmbedContents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=s_(f),h=new Hi;return Object.assign(h,p),h})}})}generateImagesInternal(e){return I(this,null,function*(){var t,i,o,r;let s,l="",u={};if(this.apiClient.isVertexAI()){let d=m_(this.apiClient,e);return l=z("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=v_(f),h=new zi;return Object.assign(h,p),h})}else{let d=g_(this.apiClient,e);return l=z("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=__(f),h=new zi;return Object.assign(h,p),h})}})}editImageInternal(e){return I(this,null,function*(){var t,i;let o,r="",s={};if(this.apiClient.isVertexAI()){let l=e_(this.apiClient,e);return r=z("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{let d=t_(u),f=new ss;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")})}upscaleImageInternal(e){return I(this,null,function*(){var t,i;let o,r="",s={};if(this.apiClient.isVertexAI()){let l=pv(this.apiClient,e);return r=z("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{let d=hv(u),f=new as;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")})}recontextImage(e){return I(this,null,function*(){var t,i;let o,r="",s={};if(this.apiClient.isVertexAI()){let l=Y_(this.apiClient,e);return r=z("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>{let d=X_(u),f=new ls;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")})}segmentImage(e){return I(this,null,function*(){var t,i;let o,r="",s={};if(this.apiClient.isVertexAI()){let l=nv(this.apiClient,e);return r=z("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>{let d=iv(u),f=new cs;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")})}get(e){return I(this,null,function*(){var t,i,o,r;let s,l="",u={};if(this.apiClient.isVertexAI()){let d=F_(this.apiClient,e);return l=z("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Is(f))}else{let d=B_(this.apiClient,e);return l=z("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>Ms(f))}})}listInternal(e){return I(this,null,function*(){var t,i,o,r;let s,l="",u={};if(this.apiClient.isVertexAI()){let d=G_(this.apiClient,e);return l=z("{models_url}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=z_(f),h=new Ji;return Object.assign(h,p),h})}else{let d=V_(this.apiClient,e);return l=z("{models_url}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=H_(f),h=new Ji;return Object.assign(h,p),h})}})}update(e){return I(this,null,function*(){var t,i,o,r;let s,l="",u={};if(this.apiClient.isVertexAI()){let d=dv(this.apiClient,e);return l=z("{model}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Is(f))}else{let d=uv(this.apiClient,e);return l=z("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>Ms(f))}})}delete(e){return I(this,null,function*(){var t,i,o,r;let s,l="",u={};if(this.apiClient.isVertexAI()){let d=Xm(this.apiClient,e);return l=z("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Zm(f),h=new Ki;return Object.assign(h,p),h})}else{let d=Ym(this.apiClient,e);return l=z("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Qm(f),h=new Ki;return Object.assign(h,p),h})}})}countTokens(e){return I(this,null,function*(){var t,i,o,r;let s,l="",u={};if(this.apiClient.isVertexAI()){let d=Km(this.apiClient,e);return l=z("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Wm(f),h=new $i;return Object.assign(h,p),h})}else{let d=Jm(this.apiClient,e);return l=z("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=$m(f),h=new $i;return Object.assign(h,p),h})}})}computeTokens(e){return I(this,null,function*(){var t,i;let o,r="",s={};if(this.apiClient.isVertexAI()){let l=Lm(this.apiClient,e);return r=z("{model}:computeTokens",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>{let d=Um(u),f=new us;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")})}generateVideosInternal(e){return I(this,null,function*(){var t,i,o,r;let s,l="",u={};if(this.apiClient.isVertexAI()){let d=A_(this.apiClient,e);return l=z("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{let p=E_(f),h=new Wi;return Object.assign(h,p),h})}else{let d=T_(this.apiClient,e);return l=z("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{let p=C_(f),h=new Wi;return Object.assign(h,p),h})}})}};var Ls=class extends Ve{constructor(e){super(),this.apiClient=e}getVideosOperation(e){return I(this,null,function*(){let t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let o=t.name.split("/operations/")[0],r;i&&"httpOptions"in i&&(r=i.httpOptions);let s=yield this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:o,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{let o=yield this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}})}get(e){return I(this,null,function*(){let t=e.operation,i=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let o=t.name.split("/operations/")[0],r;i&&"httpOptions"in i&&(r=i.httpOptions);let s=yield this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:o,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{let o=yield this.getVideosOperationInternal({operationName:t.name,config:i});return t._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}})}getVideosOperationInternal(e){return I(this,null,function*(){var t,i,o,r;let s,l="",u={};if(this.apiClient.isVertexAI()){let d=Ih(e);return l=z("{operationName}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s}else{let d=Mh(e);return l=z("{operationName}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s}})}fetchPredictVideosOperationInternal(e){return I(this,null,function*(){var t,i;let o,r="",s={};if(this.apiClient.isVertexAI()){let l=Ch(e);return r=z("{resourceName}:fetchPredictOperation",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o}else throw new Error("This method is only supported by the Vertex AI.")})}};function Vv(n){let e={},t=a(n,["data"]);if(t!=null&&c(e,["data"],t),a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let i=a(n,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function Gv(n){let e={},t=a(n,["parts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>Xv(r))),c(e,["parts"],o)}let i=a(n,["role"]);return i!=null&&c(e,["role"],i),e}function Hv(n,e,t){let i={},o=a(e,["expireTime"]);t!==void 0&&o!=null&&c(t,["expireTime"],o);let r=a(e,["newSessionExpireTime"]);t!==void 0&&r!=null&&c(t,["newSessionExpireTime"],r);let s=a(e,["uses"]);t!==void 0&&s!=null&&c(t,["uses"],s);let l=a(e,["liveConnectConstraints"]);t!==void 0&&l!=null&&c(t,["bidiGenerateContentSetup"],Yv(n,l));let u=a(e,["lockAdditionalFields"]);return t!==void 0&&u!=null&&c(t,["fieldMask"],u),i}function zv(n,e){let t={},i=a(e,["config"]);return i!=null&&c(t,["config"],Hv(n,i,t)),t}function Jv(n){let e={};if(a(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let t=a(n,["fileUri"]);t!=null&&c(e,["fileUri"],t);let i=a(n,["mimeType"]);return i!=null&&c(e,["mimeType"],i),e}function Kv(n){let e={};if(a(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let t=a(n,["enableWidget"]);return t!=null&&c(e,["enableWidget"],t),e}function $v(n){let e={};if(a(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let t=a(n,["timeRangeFilter"]);return t!=null&&c(e,["timeRangeFilter"],t),e}function Wv(n,e){let t={},i=a(n,["generationConfig"]);e!==void 0&&i!=null&&c(e,["setup","generationConfig"],i);let o=a(n,["responseModalities"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig","responseModalities"],o);let r=a(n,["temperature"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig","temperature"],r);let s=a(n,["topP"]);e!==void 0&&s!=null&&c(e,["setup","generationConfig","topP"],s);let l=a(n,["topK"]);e!==void 0&&l!=null&&c(e,["setup","generationConfig","topK"],l);let u=a(n,["maxOutputTokens"]);e!==void 0&&u!=null&&c(e,["setup","generationConfig","maxOutputTokens"],u);let d=a(n,["mediaResolution"]);e!==void 0&&d!=null&&c(e,["setup","generationConfig","mediaResolution"],d);let f=a(n,["seed"]);e!==void 0&&f!=null&&c(e,["setup","generationConfig","seed"],f);let p=a(n,["speechConfig"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","speechConfig"],js(p));let h=a(n,["thinkingConfig"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","thinkingConfig"],h);let g=a(n,["enableAffectiveDialog"]);e!==void 0&&g!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],g);let m=a(n,["systemInstruction"]);e!==void 0&&m!=null&&c(e,["setup","systemInstruction"],Gv(xe(m)));let x=a(n,["tools"]);if(e!==void 0&&x!=null){let A=tn(x);Array.isArray(A)&&(A=A.map(M=>Zv(en(M)))),c(e,["setup","tools"],A)}let y=a(n,["sessionResumption"]);e!==void 0&&y!=null&&c(e,["setup","sessionResumption"],Qv(y));let _=a(n,["inputAudioTranscription"]);e!==void 0&&_!=null&&c(e,["setup","inputAudioTranscription"],_);let v=a(n,["outputAudioTranscription"]);e!==void 0&&v!=null&&c(e,["setup","outputAudioTranscription"],v);let C=a(n,["realtimeInputConfig"]);e!==void 0&&C!=null&&c(e,["setup","realtimeInputConfig"],C);let E=a(n,["contextWindowCompression"]);e!==void 0&&E!=null&&c(e,["setup","contextWindowCompression"],E);let T=a(n,["proactivity"]);return e!==void 0&&T!=null&&c(e,["setup","proactivity"],T),t}function Yv(n,e){let t={},i=a(e,["model"]);i!=null&&c(t,["setup","model"],oe(n,i));let o=a(e,["config"]);return o!=null&&c(t,["config"],Wv(o,t)),t}function Xv(n){let e={},t=a(n,["functionCall"]);t!=null&&c(e,["functionCall"],t);let i=a(n,["codeExecutionResult"]);i!=null&&c(e,["codeExecutionResult"],i);let o=a(n,["executableCode"]);o!=null&&c(e,["executableCode"],o);let r=a(n,["fileData"]);r!=null&&c(e,["fileData"],Jv(r));let s=a(n,["functionResponse"]);s!=null&&c(e,["functionResponse"],s);let l=a(n,["inlineData"]);l!=null&&c(e,["inlineData"],Vv(l));let u=a(n,["text"]);u!=null&&c(e,["text"],u);let d=a(n,["thought"]);d!=null&&c(e,["thought"],d);let f=a(n,["thoughtSignature"]);f!=null&&c(e,["thoughtSignature"],f);let p=a(n,["videoMetadata"]);return p!=null&&c(e,["videoMetadata"],p),e}function Qv(n){let e={},t=a(n,["handle"]);if(t!=null&&c(e,["handle"],t),a(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Zv(n){let e={},t=a(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>p)),c(e,["functionDeclarations"],f)}if(a(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let i=a(n,["googleSearchRetrieval"]);i!=null&&c(e,["googleSearchRetrieval"],i);let o=a(n,["computerUse"]);o!=null&&c(e,["computerUse"],o);let r=a(n,["fileSearch"]);r!=null&&c(e,["fileSearch"],r);let s=a(n,["codeExecution"]);if(s!=null&&c(e,["codeExecution"],s),a(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let l=a(n,["googleMaps"]);l!=null&&c(e,["googleMaps"],Kv(l));let u=a(n,["googleSearch"]);u!=null&&c(e,["googleSearch"],$v(u));let d=a(n,["urlContext"]);return d!=null&&c(e,["urlContext"],d),e}function jv(n){let e=[];for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)){let i=n[t];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){let o=Object.keys(i).map(r=>`${t}.${r}`);e.push(...o)}else e.push(t)}return e.join(",")}function ex(n,e){let t=null,i=n.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){let r=i.setup;typeof r=="object"&&r!==null?(n.bidiGenerateContentSetup=r,t=r):delete n.bidiGenerateContentSetup}else i!==void 0&&delete n.bidiGenerateContentSetup;let o=n.fieldMask;if(t){let r=jv(t);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)r?n.fieldMask=r:delete n.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){let s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"],l=[];o.length>0&&(l=o.map(d=>s.includes(d)?`generationConfig.${d}`:d));let u=[];r&&u.push(r),l.length>0&&u.push(...l),u.length>0?n.fieldMask=u.join(","):delete n.fieldMask}else delete n.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?n.fieldMask=o.join(","):delete n.fieldMask;return n}var Us=class extends Ve{constructor(e){super(),this.apiClient=e}create(e){return I(this,null,function*(){var t,i;let o,r="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{let l=zv(this.apiClient,e);r=z("auth_tokens",l._url),s=l._query,delete l.config,delete l._url,delete l._query;let u=ex(l,e.config);return o=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}})}};function tx(n,e){let t={},i=a(n,["displayName"]);return e!==void 0&&i!=null&&c(e,["displayName"],i),t}function nx(n){let e={},t=a(n,["config"]);return t!=null&&tx(t,e),e}function ix(n,e){let t={},i=a(n,["force"]);return e!==void 0&&i!=null&&c(e,["_query","force"],i),t}function ox(n){let e={},t=a(n,["name"]);t!=null&&c(e,["_url","name"],t);let i=a(n,["config"]);return i!=null&&ix(i,e),e}function rx(n){let e={},t=a(n,["name"]);return t!=null&&c(e,["_url","name"],t),e}function sx(n,e){let t={},i=a(n,["customMetadata"]);if(e!==void 0&&i!=null){let r=i;Array.isArray(r)&&(r=r.map(s=>s)),c(e,["customMetadata"],r)}let o=a(n,["chunkingConfig"]);return e!==void 0&&o!=null&&c(e,["chunkingConfig"],o),t}function ax(n){let e={},t=a(n,["name"]);t!=null&&c(e,["name"],t);let i=a(n,["metadata"]);i!=null&&c(e,["metadata"],i);let o=a(n,["done"]);o!=null&&c(e,["done"],o);let r=a(n,["error"]);r!=null&&c(e,["error"],r);let s=a(n,["response"]);return s!=null&&c(e,["response"],cx(s)),e}function lx(n){let e={},t=a(n,["fileSearchStoreName"]);t!=null&&c(e,["_url","file_search_store_name"],t);let i=a(n,["fileName"]);i!=null&&c(e,["fileName"],i);let o=a(n,["config"]);return o!=null&&sx(o,e),e}function cx(n){let e={},t=a(n,["sdkHttpResponse"]);t!=null&&c(e,["sdkHttpResponse"],t);let i=a(n,["parent"]);i!=null&&c(e,["parent"],i);let o=a(n,["documentName"]);return o!=null&&c(e,["documentName"],o),e}function ux(n,e){let t={},i=a(n,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);let o=a(n,["pageToken"]);return e!==void 0&&o!=null&&c(e,["_query","pageToken"],o),t}function dx(n){let e={},t=a(n,["config"]);return t!=null&&ux(t,e),e}function fx(n){let e={},t=a(n,["sdkHttpResponse"]);t!=null&&c(e,["sdkHttpResponse"],t);let i=a(n,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);let o=a(n,["fileSearchStores"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>s)),c(e,["fileSearchStores"],r)}return e}function px(n,e){let t={},i=a(n,["mimeType"]);e!==void 0&&i!=null&&c(e,["mimeType"],i);let o=a(n,["displayName"]);e!==void 0&&o!=null&&c(e,["displayName"],o);let r=a(n,["customMetadata"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>u)),c(e,["customMetadata"],l)}let s=a(n,["chunkingConfig"]);return e!==void 0&&s!=null&&c(e,["chunkingConfig"],s),t}function hx(n){let e={},t=a(n,["fileSearchStoreName"]);t!=null&&c(e,["_url","file_search_store_name"],t);let i=a(n,["config"]);return i!=null&&px(i,e),e}function gx(n){let e={},t=a(n,["sdkHttpResponse"]);return t!=null&&c(e,["sdkHttpResponse"],t),e}function mx(n,e){let t={},i=a(n,["force"]);return e!==void 0&&i!=null&&c(e,["_query","force"],i),t}function _x(n){let e={},t=a(n,["name"]);t!=null&&c(e,["_url","name"],t);let i=a(n,["config"]);return i!=null&&mx(i,e),e}function vx(n){let e={},t=a(n,["name"]);return t!=null&&c(e,["_url","name"],t),e}function xx(n,e){let t={},i=a(n,["pageSize"]);e!==void 0&&i!=null&&c(e,["_query","pageSize"],i);let o=a(n,["pageToken"]);return e!==void 0&&o!=null&&c(e,["_query","pageToken"],o),t}function yx(n){let e={},t=a(n,["parent"]);t!=null&&c(e,["_url","parent"],t);let i=a(n,["config"]);return i!=null&&xx(i,e),e}function Cx(n){let e={},t=a(n,["sdkHttpResponse"]);t!=null&&c(e,["sdkHttpResponse"],t);let i=a(n,["nextPageToken"]);i!=null&&c(e,["nextPageToken"],i);let o=a(n,["documents"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(s=>s)),c(e,["documents"],r)}return e}var qs=class extends Ve{constructor(e){super(),this.apiClient=e,this.list=t=>I(this,null,function*(){return new et(_t.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:t.parent,config:i.config}),yield this.listInternal(t),t)})}get(e){return I(this,null,function*(){var t,i;let o,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=vx(e);return r=z("{name}",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>u)}})}delete(e){return I(this,null,function*(){var t,i;let o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let s=_x(e);o=z("{name}",s._url),r=s._query,delete s._url,delete s._query,yield this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}})}listInternal(e){return I(this,null,function*(){var t,i;let o,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=yx(e);return r=z("{parent}/documents",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>{let d=Cx(u),f=new ds;return Object.assign(f,d),f})}})}};var Vs=class extends Ve{constructor(e,t=new qs(e)){super(),this.apiClient=e,this.documents=t,this.list=(...o)=>I(this,[...o],function*(i={}){return new et(_t.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),yield this.listInternal(i),i)})}uploadToFileSearchStore(e){return I(this,null,function*(){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)})}create(e){return I(this,null,function*(){var t,i;let o,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=nx(e);return r=z("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>u)}})}get(e){return I(this,null,function*(){var t,i;let o,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=rx(e);return r=z("{name}",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>u)}})}delete(e){return I(this,null,function*(){var t,i;let o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let s=ox(e);o=z("{name}",s._url),r=s._query,delete s._url,delete s._query,yield this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}})}listInternal(e){return I(this,null,function*(){var t,i;let o,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=dx(e);return r=z("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>{let d=fx(u),f=new fs;return Object.assign(f,d),f})}})}uploadToFileSearchStoreInternal(e){return I(this,null,function*(){var t,i;let o,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=hx(e);return r=z("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>{let d=gx(u),f=new ps;return Object.assign(f,d),f})}})}importFile(e){return I(this,null,function*(){var t,i;let o,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=lx(e);return r=z("{file_search_store_name}:importFile",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json()),o.then(u=>{let d=ax(u),f=new hs;return Object.assign(f,d),f})}})}};function Ex(n,e){let t={},i=a(n,["name"]);return i!=null&&c(t,["_url","name"],i),t}function Tx(n,e){let t={},i=a(n,["name"]);return i!=null&&c(t,["_url","name"],i),t}function Ax(n,e,t){let i={};if(a(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");let o=a(n,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&c(e,["displayName"],o),a(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");let r=a(n,["epochCount"]);e!==void 0&&r!=null&&c(e,["tuningTask","hyperparameters","epochCount"],r);let s=a(n,["learningRateMultiplier"]);if(s!=null&&c(i,["tuningTask","hyperparameters","learningRateMultiplier"],s),a(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");let l=a(n,["batchSize"]);e!==void 0&&l!=null&&c(e,["tuningTask","hyperparameters","batchSize"],l);let u=a(n,["learningRate"]);if(e!==void 0&&u!=null&&c(e,["tuningTask","hyperparameters","learningRate"],u),a(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(a(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function Sx(n,e,t){let i={},o=a(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){let g=a(n,["validationDataset"]);e!==void 0&&g!=null&&c(e,["supervisedTuningSpec"],cu(g))}else if(o==="PREFERENCE_TUNING"){let g=a(n,["validationDataset"]);e!==void 0&&g!=null&&c(e,["preferenceOptimizationSpec"],cu(g))}let r=a(n,["tunedModelDisplayName"]);e!==void 0&&r!=null&&c(e,["tunedModelDisplayName"],r);let s=a(n,["description"]);e!==void 0&&s!=null&&c(e,["description"],s);let l=a(t,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){let g=a(n,["epochCount"]);e!==void 0&&g!=null&&c(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(l==="PREFERENCE_TUNING"){let g=a(n,["epochCount"]);e!==void 0&&g!=null&&c(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let u=a(t,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){let g=a(n,["learningRateMultiplier"]);e!==void 0&&g!=null&&c(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(u==="PREFERENCE_TUNING"){let g=a(n,["learningRateMultiplier"]);e!==void 0&&g!=null&&c(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let d=a(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){let g=a(n,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&c(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(d==="PREFERENCE_TUNING"){let g=a(n,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&c(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let f=a(t,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){let g=a(n,["adapterSize"]);e!==void 0&&g!=null&&c(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(f==="PREFERENCE_TUNING"){let g=a(n,["adapterSize"]);e!==void 0&&g!=null&&c(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(a(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");let p=a(n,["labels"]);e!==void 0&&p!=null&&c(e,["labels"],p);let h=a(n,["beta"]);return e!==void 0&&h!=null&&c(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),i}function Px(n,e){let t={},i=a(n,["baseModel"]);i!=null&&c(t,["baseModel"],i);let o=a(n,["preTunedModel"]);o!=null&&c(t,["preTunedModel"],o);let r=a(n,["trainingDataset"]);r!=null&&Ox(r);let s=a(n,["config"]);return s!=null&&Ax(s,t),t}function wx(n,e){let t={},i=a(n,["baseModel"]);i!=null&&c(t,["baseModel"],i);let o=a(n,["preTunedModel"]);o!=null&&c(t,["preTunedModel"],o);let r=a(n,["trainingDataset"]);r!=null&&Lx(r,t,e);let s=a(n,["config"]);return s!=null&&Sx(s,t,e),t}function Mx(n,e){let t={},i=a(n,["name"]);return i!=null&&c(t,["_url","name"],i),t}function Ix(n,e){let t={},i=a(n,["name"]);return i!=null&&c(t,["_url","name"],i),t}function bx(n,e,t){let i={},o=a(n,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);let r=a(n,["pageToken"]);e!==void 0&&r!=null&&c(e,["_query","pageToken"],r);let s=a(n,["filter"]);return e!==void 0&&s!=null&&c(e,["_query","filter"],s),i}function Dx(n,e,t){let i={},o=a(n,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);let r=a(n,["pageToken"]);e!==void 0&&r!=null&&c(e,["_query","pageToken"],r);let s=a(n,["filter"]);return e!==void 0&&s!=null&&c(e,["_query","filter"],s),i}function kx(n,e){let t={},i=a(n,["config"]);return i!=null&&bx(i,t),t}function Rx(n,e){let t={},i=a(n,["config"]);return i!=null&&Dx(i,t),t}function Bx(n,e){let t={},i=a(n,["sdkHttpResponse"]);i!=null&&c(t,["sdkHttpResponse"],i);let o=a(n,["nextPageToken"]);o!=null&&c(t,["nextPageToken"],o);let r=a(n,["tunedModels"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>Ou(l))),c(t,["tuningJobs"],s)}return t}function Fx(n,e){let t={},i=a(n,["sdkHttpResponse"]);i!=null&&c(t,["sdkHttpResponse"],i);let o=a(n,["nextPageToken"]);o!=null&&c(t,["nextPageToken"],o);let r=a(n,["tuningJobs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>Gs(l))),c(t,["tuningJobs"],s)}return t}function Nx(n,e){let t={},i=a(n,["name"]);i!=null&&c(t,["model"],i);let o=a(n,["name"]);return o!=null&&c(t,["endpoint"],o),t}function Ox(n,e){let t={};if(a(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");let i=a(n,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>r)),c(t,["examples","examples"],o)}return t}function Lx(n,e,t){let i={},o=a(t,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){let s=a(n,["gcsUri"]);e!==void 0&&s!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){let s=a(n,["gcsUri"]);e!==void 0&&s!=null&&c(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let r=a(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){let s=a(n,["vertexDatasetResource"]);e!==void 0&&s!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(r==="PREFERENCE_TUNING"){let s=a(n,["vertexDatasetResource"]);e!==void 0&&s!=null&&c(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(a(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function Ou(n,e){let t={},i=a(n,["sdkHttpResponse"]);i!=null&&c(t,["sdkHttpResponse"],i);let o=a(n,["name"]);o!=null&&c(t,["name"],o);let r=a(n,["state"]);r!=null&&c(t,["state"],vu(r));let s=a(n,["createTime"]);s!=null&&c(t,["createTime"],s);let l=a(n,["tuningTask","startTime"]);l!=null&&c(t,["startTime"],l);let u=a(n,["tuningTask","completeTime"]);u!=null&&c(t,["endTime"],u);let d=a(n,["updateTime"]);d!=null&&c(t,["updateTime"],d);let f=a(n,["description"]);f!=null&&c(t,["description"],f);let p=a(n,["baseModel"]);p!=null&&c(t,["baseModel"],p);let h=a(n,["_self"]);return h!=null&&c(t,["tunedModel"],Nx(h)),t}function Gs(n,e){let t={},i=a(n,["sdkHttpResponse"]);i!=null&&c(t,["sdkHttpResponse"],i);let o=a(n,["name"]);o!=null&&c(t,["name"],o);let r=a(n,["state"]);r!=null&&c(t,["state"],vu(r));let s=a(n,["createTime"]);s!=null&&c(t,["createTime"],s);let l=a(n,["startTime"]);l!=null&&c(t,["startTime"],l);let u=a(n,["endTime"]);u!=null&&c(t,["endTime"],u);let d=a(n,["updateTime"]);d!=null&&c(t,["updateTime"],d);let f=a(n,["error"]);f!=null&&c(t,["error"],f);let p=a(n,["description"]);p!=null&&c(t,["description"],p);let h=a(n,["baseModel"]);h!=null&&c(t,["baseModel"],h);let g=a(n,["tunedModel"]);g!=null&&c(t,["tunedModel"],g);let m=a(n,["preTunedModel"]);m!=null&&c(t,["preTunedModel"],m);let x=a(n,["supervisedTuningSpec"]);x!=null&&c(t,["supervisedTuningSpec"],x);let y=a(n,["preferenceOptimizationSpec"]);y!=null&&c(t,["preferenceOptimizationSpec"],y);let _=a(n,["tuningDataStats"]);_!=null&&c(t,["tuningDataStats"],_);let v=a(n,["encryptionSpec"]);v!=null&&c(t,["encryptionSpec"],v);let C=a(n,["partnerModelTuningSpec"]);C!=null&&c(t,["partnerModelTuningSpec"],C);let E=a(n,["customBaseModel"]);E!=null&&c(t,["customBaseModel"],E);let T=a(n,["experiment"]);T!=null&&c(t,["experiment"],T);let A=a(n,["labels"]);A!=null&&c(t,["labels"],A);let M=a(n,["outputUri"]);M!=null&&c(t,["outputUri"],M);let k=a(n,["pipelineJob"]);k!=null&&c(t,["pipelineJob"],k);let w=a(n,["serviceAccount"]);w!=null&&c(t,["serviceAccount"],w);let N=a(n,["tunedModelDisplayName"]);N!=null&&c(t,["tunedModelDisplayName"],N);let P=a(n,["veoTuningSpec"]);return P!=null&&c(t,["veoTuningSpec"],P),t}function Ux(n,e){let t={},i=a(n,["sdkHttpResponse"]);i!=null&&c(t,["sdkHttpResponse"],i);let o=a(n,["name"]);o!=null&&c(t,["name"],o);let r=a(n,["metadata"]);r!=null&&c(t,["metadata"],r);let s=a(n,["done"]);s!=null&&c(t,["done"],s);let l=a(n,["error"]);return l!=null&&c(t,["error"],l),t}function cu(n,e){let t={},i=a(n,["gcsUri"]);i!=null&&c(t,["validationDatasetUri"],i);let o=a(n,["vertexDatasetResource"]);return o!=null&&c(t,["validationDatasetUri"],o),t}var Hs=class extends Ve{constructor(e){super(),this.apiClient=e,this.get=t=>I(this,null,function*(){return yield this.getInternal(t)}),this.list=(...i)=>I(this,[...i],function*(t={}){return new et(_t.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),yield this.listInternal(t),t)}),this.tune=t=>I(this,null,function*(){var i;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){let o={tunedModelName:t.baseModel};!((i=t.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(o.checkpointId=t.config.preTunedModelCheckpointId);let r=Object.assign(Object.assign({},t),{preTunedModel:o});return r.baseModel=void 0,yield this.tuneInternal(r)}else{let o=Object.assign({},t);return yield this.tuneInternal(o)}else{let o=Object.assign({},t),r=yield this.tuneMldevInternal(o),s="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?s=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(s=r.name.split("/operations/")[0]),{name:s,state:fu.JOB_STATE_QUEUED}}})}getInternal(e){return I(this,null,function*(){var t,i,o,r;let s,l="",u={};if(this.apiClient.isVertexAI()){let d=Ix(e);return l=z("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>Gs(f))}else{let d=Mx(e);return l=z("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>Ou(f))}})}listInternal(e){return I(this,null,function*(){var t,i,o,r;let s,l="",u={};if(this.apiClient.isVertexAI()){let d=Rx(e);return l=z("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Fx(f),h=new Yi;return Object.assign(h,p),h})}else{let d=kx(e);return l=z("tunedModels",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Bx(f),h=new Yi;return Object.assign(h,p),h})}})}cancel(e){return I(this,null,function*(){var t,i,o,r;let s="",l={};if(this.apiClient.isVertexAI()){let u=Tx(e);s=z("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,yield this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{let u=Ex(e);s=z("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,yield this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}})}tuneInternal(e){return I(this,null,function*(){var t,i;let o,r="",s={};if(this.apiClient.isVertexAI()){let l=wx(e,e);return r=z("tuningJobs",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>Gs(u))}else throw new Error("This method is only supported by the Vertex AI.")})}tuneMldevInternal(e){return I(this,null,function*(){var t,i;let o,r="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=Px(e);return r=z("tunedModels",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(u=>u.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:u.headers},f})),o.then(u=>Ux(u))}})}};var zs=class{download(e,t){return I(this,null,function*(){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")})}},qx=1024*1024*8,Vx=3,Gx=1e3,Hx=2,to="x-goog-upload-status";function zx(n,e,t){return I(this,null,function*(){var i;let o=yield Lu(n,e,t),r=yield o?.json();if(((i=o?.headers)===null||i===void 0?void 0:i[to])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return r.file})}function Jx(n,e,t){return I(this,null,function*(){var i;let o=yield Lu(n,e,t),r=yield o?.json();if(((i=o?.headers)===null||i===void 0?void 0:i[to])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");let s=du(r),l=new ys;return Object.assign(l,s),l})}function Lu(n,e,t){return I(this,null,function*(){var i,o;let r=0,s=0,l=new Ln(new Response),u="upload";for(r=n.size;s<r;){let d=Math.min(qx,r-s),f=n.slice(s,s+d);s+d>=r&&(u+=", finalize");let p=0,h=Gx;for(;p<Vx&&(l=yield t.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(s),"Content-Length":String(d)}}}),!(!((i=l?.headers)===null||i===void 0)&&i[to]));)p++,yield $x(h),h=h*Hx;if(s+=d,((o=l?.headers)===null||o===void 0?void 0:o[to])!=="active")break;if(r<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l})}function Kx(n){return I(this,null,function*(){return{size:n.size,type:n.type}})}function $x(n){return new Promise(e=>setTimeout(e,n))}var Js=class{upload(e,t,i){return I(this,null,function*(){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return yield zx(e,t,i)})}uploadToFileSearchStore(e,t,i){return I(this,null,function*(){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return yield Jx(e,t,i)})}stat(e){return I(this,null,function*(){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return yield Kx(e)})}};var Ks=class{create(e,t,i){return new $s(e,t,i)}},$s=class{constructor(e,t,i){this.url=e,this.headers=t,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}};var uu="x-goog-api-key",Ws=class{constructor(e){this.apiKey=e}addAuthHeaders(e,t){return I(this,null,function*(){if(e.get(uu)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(uu,this.apiKey)}})}};var Wx="gl-node/",no=class{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;let i=xh(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;let o=new Ws(this.apiKey);this.apiClient=new Ds({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Wx+"web",uploader:new Js,downloader:new zs}),this.models=new Os(this.apiClient),this.live=new Fs(this.apiClient,o,new Ks),this.batches=new Ts(this.apiClient),this.chats=new Ss(this.models,this.apiClient),this.caches=new As(this.apiClient),this.files=new ws(this.apiClient),this.operations=new Ls(this.apiClient),this.authTokens=new Us(this.apiClient),this.tunings=new Hs(this.apiClient),this.fileSearchStores=new Vs(this.apiClient)}};var Jo=nr($0());var on=class n{ENCRYPTED_API_KEY="U2FsdGVkX19ILCT33NvRMnrfGuGerBksJREzwCDAIb7VpwUoVn/Oc3vrAqfYplC8SjPFUU3npbu+85eFwOKgpw==";ENCRYPTION_KEY="ezReader";API_KEY;ai;constructor(){try{let e=Jo.AES.decrypt(this.ENCRYPTED_API_KEY,this.ENCRYPTION_KEY);this.API_KEY=e.toString(Jo.enc.Utf8)}catch(e){console.error("API \uD0A4 \uBCF5\uD638\uD654 \uC2E4\uD328:",e),this.API_KEY=""}this.ai=new no({apiKey:this.API_KEY}),console.log("GeminiTranslationService initialized with gemini-2.5-flash model")}translateText(e,t){if(!e.trim())return lt(()=>new Error("\uBC88\uC5ED\uD560 \uD14D\uC2A4\uD2B8\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."));let o={english:"English",korean:"Korean",japanese:"Japanese",chinese:"Chinese",spanish:"Spanish",french:"French",german:"German"}[t]||"English",r=`Translate the following text to ${o}. Provide only the translation without any explanations or additional text:

${e}`;return Ia(this.ai.models.generateContent({model:"gemini-2.5-flash",contents:r})).pipe(Ct(s=>{if(console.log("Gemini API \uBC88\uC5ED \uC751\uB2F5:",s),s&&s.text){let l=s.text.trim();return{originalText:e,translatedText:l,targetLanguage:o,success:!0}}else throw new Error("\uBC88\uC5ED \uC751\uB2F5\uC744 \uBC1B\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.")}),gn(s=>{console.error("Gemini API \uBC88\uC5ED \uC624\uB958:",s);let l="\uBC88\uC5ED \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.";return s.message&&(l=s.message),lt(()=>({originalText:e,translatedText:"",targetLanguage:o,success:!1,error:l}))}))}translateMultipleTexts(e,t){let i=[];return new zn(o=>{let r=0,s=()=>{if(r>=e.length){o.next(i),o.complete();return}let l=e[r];this.translateText(l,t).subscribe({next:u=>{i.push(u),r++,setTimeout(s,100)},error:u=>{i.push({originalText:l,translatedText:"",targetLanguage:t,success:!1,error:u.message||"\uBC88\uC5ED \uC2E4\uD328"}),r++,setTimeout(s,100)}})};s()})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ko=class n{constructor(e){this.http=e}OLLAMA_BASE_URL="http://localhost:11434";TARGET_MODEL="gemma3:1b";checkOllamaAvailability(){return I(this,null,function*(){return!1})}translateText(e,t){if(!e.trim())return lt(()=>new Error("\uBC88\uC5ED\uD560 \uD14D\uC2A4\uD2B8\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."));let r=`\uB2E4\uC74C \uD14D\uC2A4\uD2B8\uB97C ${{english:"\uC601\uC5B4",korean:"\uD55C\uAD6D\uC5B4",japanese:"\uC77C\uBCF8\uC5B4",chinese:"\uC911\uAD6D\uC5B4",spanish:"\uC2A4\uD398\uC778\uC5B4",french:"\uD504\uB791\uC2A4\uC5B4",german:"\uB3C5\uC77C\uC5B4"}[t]||t}\uB85C \uBC88\uC5ED\uD574\uC8FC\uC138\uC694. \uBC88\uC5ED\uB41C \uB0B4\uC6A9\uB9CC \uC751\uB2F5\uD558\uACE0 \uB2E4\uB978 \uC124\uBA85\uC740 \uD3EC\uD568\uD558\uC9C0 \uB9C8\uC138\uC694.

\uD14D\uC2A4\uD2B8:
${e}

\uBC88\uC5ED:`,s={model:this.TARGET_MODEL,prompt:r,stream:!1,options:{temperature:.3,top_p:.9,max_tokens:4e3}},l=new cr({"Content-Type":"application/json"});return this.http.post(`${this.OLLAMA_BASE_URL}/api/generate`,s,{headers:l}).pipe(Ct(u=>{if(u.response&&u.response.trim())return{originalText:e,translatedText:u.response.trim(),targetLanguage:t,success:!0};throw new Error("\uBC88\uC5ED \uC751\uB2F5\uC774 \uBE44\uC5B4\uC788\uC2B5\uB2C8\uB2E4.")}),gn(u=>{let d="\uB85C\uCEEC AI \uBC88\uC5ED \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.";return u.status===0?d="Ollama \uC11C\uBC84\uC5D0 \uC5F0\uACB0\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. Ollama\uAC00 \uC2E4\uD589 \uC911\uC778\uC9C0 \uD655\uC778\uD574\uC8FC\uC138\uC694.":u.status===404?d=`${this.TARGET_MODEL} \uBAA8\uB378\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uBAA8\uB378\uC744 \uC124\uCE58\uD574\uC8FC\uC138\uC694.`:u.error?.error?d=u.error.error:u.message&&(d=u.message),lt(()=>({originalText:e,translatedText:"",targetLanguage:t,success:!1,error:d}))}))}summarizeText(e,t="general",i="medium"){if(!e.trim())return lt(()=>new Error("\uC694\uC57D\uD560 \uD14D\uC2A4\uD2B8\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4."));let o="";switch(t){case"bullet":o="\uB2E4\uC74C \uBB38\uC11C\uC758 \uD575\uC2EC \uD3EC\uC778\uD2B8\uB97C \uBC88\uD638\uAC00 \uB9E4\uACA8\uC9C4 \uBAA9\uB85D\uC73C\uB85C \uC694\uC57D\uD574\uC8FC\uC138\uC694. ";break;case"qa":o="\uB2E4\uC74C \uBB38\uC11C\uB97C Q&A \uD615\uC2DD\uC73C\uB85C \uC694\uC57D\uD574\uC8FC\uC138\uC694. \uC8FC\uC694 \uC9C8\uBB38\uACFC \uB2F5\uBCC0\uC73C\uB85C \uAD6C\uC131\uD574\uC8FC\uC138\uC694. ";break;case"structure":o="\uB2E4\uC74C \uBB38\uC11C\uB97C \uAD6C\uC870\uC801\uC73C\uB85C \uC694\uC57D\uD574\uC8FC\uC138\uC694. \uC81C\uBAA9, \uC8FC\uC694 \uC139\uC158, \uD575\uC2EC \uB0B4\uC6A9\uC744 \uCCB4\uACC4\uC801\uC73C\uB85C \uC815\uB9AC\uD574\uC8FC\uC138\uC694. ";break;default:o="\uB2E4\uC74C \uBB38\uC11C\uB97C \uC694\uC57D\uD574\uC8FC\uC138\uC694. "}switch(i){case"short":o+="\uAC04\uACB0\uD558\uAC8C 1-2\uBB38\uB2E8\uC73C\uB85C \uC694\uC57D\uD574\uC8FC\uC138\uC694. ";break;case"long":o+="\uC790\uC138\uD558\uAC8C 5-6\uBB38\uB2E8\uC73C\uB85C \uC694\uC57D\uD574\uC8FC\uC138\uC694. ";break;default:o+="\uC801\uC808\uD55C \uAE38\uC774\uB85C 3-4\uBB38\uB2E8\uC73C\uB85C \uC694\uC57D\uD574\uC8FC\uC138\uC694. "}o+=`\uD55C\uAD6D\uC5B4\uB85C \uC791\uC131\uD574\uC8FC\uC138\uC694. \uC694\uC57D\uB41C \uB0B4\uC6A9\uB9CC \uC751\uB2F5\uD558\uACE0 \uB2E4\uB978 \uC124\uBA85\uC740 \uD3EC\uD568\uD558\uC9C0 \uB9C8\uC138\uC694.

\uBB38\uC11C \uB0B4\uC6A9:
${e}`;let r={model:this.TARGET_MODEL,prompt:o,stream:!1,options:{temperature:.3,top_p:.9,max_tokens:4e3}},s=new cr({"Content-Type":"application/json"});return this.http.post(`${this.OLLAMA_BASE_URL}/api/generate`,r,{headers:s}).pipe(Ct(l=>{if(l.response&&l.response.trim())return{originalText:e,translatedText:l.response.trim(),targetLanguage:"korean",success:!0};throw new Error("\uC694\uC57D \uC751\uB2F5\uC774 \uBE44\uC5B4\uC788\uC2B5\uB2C8\uB2E4.")}),gn(l=>{let u="\uB85C\uCEEC AI \uC694\uC57D \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.";return l.status===0?u="Ollama \uC11C\uBC84\uC5D0 \uC5F0\uACB0\uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. Ollama\uAC00 \uC2E4\uD589 \uC911\uC778\uC9C0 \uD655\uC778\uD574\uC8FC\uC138\uC694.":l.status===404?u=`${this.TARGET_MODEL} \uBAA8\uB378\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4. \uBAA8\uB378\uC744 \uC124\uCE58\uD574\uC8FC\uC138\uC694.`:l.error?.error?u=l.error.error:l.message&&(u=l.message),lt(()=>({originalText:e,translatedText:"",targetLanguage:"korean",success:!1,error:u}))}))}getAvailableModels(){return I(this,null,function*(){return[]})}static \u0275fac=function(t){return new(t||n)(me(Yn))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})};var $o=class n{constructor(e){this.router=e;this.loadRecentFiles()}RECENT_FILES_KEY="ezReaderRecentFiles";recentFilesSubject=new Lt([]);recentFiles$=this.recentFilesSubject.asObservable();config={maxRecentFiles:5,supportedImageFormats:["image/jpeg","image/png","image/gif","image/webp"],supportedDocumentFormats:["application/pdf",".doc",".docx",".txt"],maxFileSize:50*1024*1024};loadRecentFiles(){let e=localStorage.getItem(this.RECENT_FILES_KEY),t=e?JSON.parse(e):[];return this.recentFilesSubject.next(t),t}saveRecentFiles(e){try{let t=JSON.stringify(e);if(new Blob([t]).size>5*1024*1024){let o=e.slice(0,Math.floor(e.length/2));localStorage.setItem(this.RECENT_FILES_KEY,JSON.stringify(o)),this.recentFilesSubject.next(o);return}localStorage.setItem(this.RECENT_FILES_KEY,t),this.recentFilesSubject.next(e)}catch(t){if(t instanceof DOMException&&t.name==="QuotaExceededError"){this.clearExcessiveData();let i=e.map(o=>({name:o.name,date:o.date,size:o.size,data:""})).slice(0,3);try{localStorage.setItem(this.RECENT_FILES_KEY,JSON.stringify(i)),this.recentFilesSubject.next(i)}catch{localStorage.removeItem(this.RECENT_FILES_KEY),this.recentFilesSubject.next([])}}}}clearExcessiveData(){try{["currentPdf","currentPdfName","pdfData"].forEach(o=>{let r=localStorage.getItem(o);r&&r.length>1024*1024&&localStorage.removeItem(o)});let t=this.loadRecentFiles(),i=t.map(o=>Pa(Ot({},o),{data:o.data&&o.data.length>1e4?"":o.data}));(i.length!==t.length||i.some((o,r)=>o.data!==t[r].data))&&localStorage.setItem(this.RECENT_FILES_KEY,JSON.stringify(i))}catch{}}addRecentFile(e,t,i){let o=new Date().toISOString(),r=this.recentFilesSubject.value,s=t.length<100*1024,u=[{name:e,date:o,data:s?t:"",size:i},...r.filter(d=>d.name!==e)].slice(0,this.config.maxRecentFiles);this.saveRecentFiles(u)}deleteRecentFile(e){let i=this.recentFilesSubject.value.filter(o=>o.name!==e.name);this.saveRecentFiles(i)}handleFileUpload(e,t=!1){return new Promise(i=>{let o=document.createElement("input");o.type="file",o.multiple=t,o.accept=e.join(","),o.onchange=r=>{i(r.target.files)},o.onclick=()=>{setTimeout(()=>{o.files||i(null)},1e3)},o.click()})}processPdfFile(e){return I(this,null,function*(){return new Promise((t,i)=>{let o=new FileReader;o.onload=()=>{let r=o.result;this.addRecentFile(e.name,r,this.formatFileSize(e.size)),t(r)},o.onerror=()=>i(o.error),o.readAsDataURL(e)})})}openInViewer(e,t,i="desktop"){let o=i==="mobile"?"/docs_mobile/viewer":"/viewer";this.router.navigate([o],{state:{pdfData:e,name:t}})}formatFileSize(e){if(e===0)return"0 Bytes";let t=1024,i=["Bytes","KB","MB","GB"],o=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,o)).toFixed(2))+" "+i[o]}handleFileDrop(e){e.preventDefault();let t=e.dataTransfer?.files;if(t&&t.length>0){let i=t[0];if(i.type==="application/pdf"||i.name.toLowerCase().endsWith(".pdf"))return i;{let r=new CustomEvent("show-snackbar",{detail:{message:"PDF \uD30C\uC77C\uB9CC \uC5C5\uB85C\uB4DC\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4."}});return document.dispatchEvent(r),null}}return null}handleFileAction(e,t){return I(this,null,function*(){switch(e){case"open":t.length>0&&t[0].data&&this.openInViewer(t[0].data,t[0].name);break;case"share":break;case"rename":break;case"copy":break;case"delete":break;default:}})}getStorageInfo(){let e=0;for(let o in localStorage)localStorage.hasOwnProperty(o)&&(e+=localStorage.getItem(o)?.length||0);let t=5*1024*1024,i=e/t*100;return{used:e,total:t,percentage:i}}clearAllRecentFiles(){localStorage.removeItem(this.RECENT_FILES_KEY),this.recentFilesSubject.next([])}emergencyCleanup(){let e=this.getStorageInfo();Object.keys(localStorage).filter(i=>i.startsWith("ezReader")||i.includes("pdf")||i.includes("Pdf")||i==="currentPdf"||i==="currentPdfName").forEach(i=>{localStorage.removeItem(i)}),this.recentFilesSubject.next([])}static \u0275fac=function(t){return new(t||n)(me(Ut))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})};var Wo=class n{getConversionOptions(){return[{id:"image",title:"\uC774\uBBF8\uC9C0 \u2192 PDF",icon:"./images/ico-img@3x.png",acceptTypes:["image/*"]},{id:"excel",title:"\uC5D1\uC140 \u2192 PDF",icon:"./images/btn-gnb-xls@3x.png",acceptTypes:[".xlsx",".xls"]},{id:"powerpoint",title:"\uD30C\uC6CC\uD3EC\uC778\uD2B8 \u2192 PDF",icon:"./images/btn-gnb-ppt@3x.png",acceptTypes:[".pptx",".ppt"]},{id:"word",title:"\uC6CC\uB4DC \u2192 PDF",icon:"./images/btn-gnb-doc@3x.png",acceptTypes:[".docx",".doc"]}]}getUploadOptions(){return[{id:"file",title:"\uD30C\uC77C",icon:"",acceptTypes:[".pdf",".doc",".docx",".txt"]},{id:"photo",title:"\uC0AC\uC9C4",icon:"",acceptTypes:["image/*"]},{id:"pdf",title:"PDF",icon:"",acceptTypes:[".pdf"]}]}convertFiles(e,t,i){return I(this,null,function*(){try{return yield this.simulateConversion(e.length),!0}catch{return!1}})}simulateConversion(e){return I(this,null,function*(){return new Promise(t=>{setTimeout(t,1e3+e*500)})})}getDefaultSettings(){return{fileName:"\uBCC0\uD658\uB41C_\uD30C\uC77C",savePath:"/Users/Downloads",quality:80,format:"pdf"}}validateFileType(e,t){let i=e.name.toLowerCase(),o=e.type;return t.some(r=>{if(r.startsWith("."))return i.endsWith(r);if(r.includes("/*")){let s=r.split("/")[0];return o.startsWith(s)}else return o===r})}getSupportedFormatsMessage(e){return`\uC9C0\uC6D0 \uD615\uC2DD: ${e.join(", ")}`}static \u0275fac=function(t){return new(t||n)};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})};var Yo=class n{constructor(e,t){this.http=e;this.geminiService=t}generateNovel(e){return I(this,null,function*(){try{let t=this.buildNovelPrompt(e),i=yield this.geminiService.translateText(t,"korean").toPromise();return i&&i.translatedText?{success:!0,novel:i.translatedText}:{success:!1,error:"\uBB34\uD611\uC9C0 \uC0DD\uC131\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4."}}catch(t){return{success:!1,error:t instanceof Error?t.message:"\uC54C \uC218 \uC5C6\uB294 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4."}}})}buildNovelPrompt(e){let{genre:t,protagonist:i,setting:o,theme:r,length:s,style:l}=e,u={traditional:"\uC804\uD1B5\uC801\uC778 \uC911\uAD6D \uBB34\uD611\uC758 \uBD84\uC704\uAE30",modern:"\uD604\uB300\uC801 \uAC10\uAC01\uC774 \uAC00\uBBF8\uB41C \uBB34\uD611",fantasy:"\uD658\uC0C1\uC801\uC774\uACE0 \uC2E0\uBE44\uB85C\uC6B4 \uC694\uC18C\uAC00 \uAC00\uB4DD\uD55C \uBB34\uD611",historical:"\uC5ED\uC0AC\uC801 \uBC30\uACBD\uC774 \uC0DD\uC0DD\uD55C \uBB34\uD611"},d={ancient:"\uACE0\uB300 \uC911\uAD6D\uC758 \uAC15\uD638\uC138\uACC4",joseon:"\uC870\uC120\uC2DC\uB300 \uD55C\uAD6D\uC758 \uBB34\uB9BC",modern:"\uD604\uB300 \uB3C4\uC2DC\uC758 \uC228\uACA8\uC9C4 \uBB34\uB9BC\uC138\uACC4",fantasy:"\uC2E0\uBE44\uB85C\uC6B4 \uD658\uC0C1\uC758 \uC138\uACC4"},f={revenge:"\uBCF5\uC218\uC640 \uC6D0\uD55C\uC758 \uC774\uC57C\uAE30",love:"\uC0AC\uB791\uACFC \uB85C\uB9E8\uC2A4\uAC00 \uC911\uC2EC\uC778 \uC774\uC57C\uAE30",friendship:"\uC6B0\uC815\uACFC \uB3D9\uB8CC\uC560\uC758 \uC774\uC57C\uAE30",justice:"\uC815\uC758\uC640 \uC120\uC545 \uB300\uACB0\uC758 \uC774\uC57C\uAE30",power:"\uAD8C\uB825\uD22C\uC7C1\uACFC \uD328\uAD8C \uB2E4\uD23C\uC758 \uC774\uC57C\uAE30",adventure:"\uBAA8\uD5D8\uACFC \uD0D0\uD5D8\uC758 \uC774\uC57C\uAE30"},p={short:"3-5\uAC1C \uC7A5\uC73C\uB85C \uAD6C\uC131\uB41C \uC9E7\uACE0 \uC784\uD329\uD2B8 \uC788\uB294 \uC774\uC57C\uAE30",medium:"8-12\uAC1C \uC7A5\uC73C\uB85C \uAD6C\uC131\uB41C \uC801\uB2F9\uD55C \uAE38\uC774\uC758 \uC774\uC57C\uAE30",long:"15-20\uAC1C \uC7A5\uC73C\uB85C \uAD6C\uC131\uB41C \uC7A5\uD3B8 \uB300\uD558 \uC18C\uC124"},h={classic:"\uACE0\uC804\uC801\uC774\uACE0 \uACA9\uC870 \uC788\uB294 \uBB38\uCCB4",modern:"\uD604\uB300\uC801\uC774\uACE0 \uC77D\uAE30 \uC26C\uC6B4 \uBB38\uCCB4",humorous:"\uC720\uBA38\uB7EC\uC2A4\uD558\uACE0 \uC7AC\uBBF8\uC788\uB294 \uBB38\uCCB4",serious:"\uC9C4\uC9C0\uD558\uACE0 \uAE4A\uC774 \uC788\uB294 \uBB38\uCCB4"};return`
\uB2F9\uC2E0\uC740 \uC804\uBB38 \uBB34\uD611\uC18C\uC124 \uC791\uAC00\uC785\uB2C8\uB2E4. \uB2E4\uC74C \uC870\uAC74\uC5D0 \uB9DE\uB294 \uBB34\uD611\uC9C0\uB97C \uCC3D\uC791\uD574\uC8FC\uC138\uC694:

**\uC18C\uC124 \uC124\uC815:**
- \uC8FC\uC778\uACF5: ${i}
- \uC7A5\uB974: ${u[t]}
- \uBC30\uACBD: ${d[o]}
- \uC8FC\uC81C: ${f[r]}
- \uBD84\uB7C9: ${p[s]}
- \uBB38\uCCB4: ${h[l]}

**\uC791\uC131 \uC694\uAD6C\uC0AC\uD56D:**
1. \uBB34\uD611\uC9C0 \uD2B9\uC720\uC758 \uC6C5\uC7A5\uD558\uACE0 \uC5ED\uB3D9\uC801\uC778 \uBD84\uC704\uAE30\uB97C \uC5F0\uCD9C\uD574\uC8FC\uC138\uC694
2. \uBB34\uACF5, \uB0B4\uB825, \uACBD\uACF5 \uB4F1 \uBB34\uD611\uC18C\uC124 \uACE0\uC720\uC758 \uC694\uC18C\uB4E4\uC744 \uC790\uC5F0\uC2A4\uB7FD\uAC8C \uD3EC\uD568\uD574\uC8FC\uC138\uC694
3. \uC0DD\uB3D9\uAC10 \uC788\uB294 \uB300\uD654\uC640 \uBC15\uC9C4\uAC10 \uB118\uCE58\uB294 \uC561\uC158 \uC2DC\uD000\uC2A4\uB97C \uD3EC\uD568\uD574\uC8FC\uC138\uC694
4. \uAC01 \uC7A5\uB9C8\uB2E4 \uC801\uC808\uD55C \uC81C\uBAA9\uC744 \uBD99\uC5EC\uC8FC\uC138\uC694
5. \uD55C\uAD6D\uC5B4\uB85C \uC791\uC131\uD558\uB418, \uBB34\uD611\uC9C0 \uD2B9\uC720\uC758 \uACE0\uD48D\uC2A4\uB7EC\uC6B4 \uD45C\uD604\uC744 \uC801\uC808\uD788 \uC0AC\uC6A9\uD574\uC8FC\uC138\uC694

**\uAD6C\uC131:**
- \uD504\uB864\uB85C\uADF8 (\uC120\uD0DD\uC0AC\uD56D)
- \uBCF8\uD3B8 (\uC124\uC815\uB41C \uBD84\uB7C9\uC5D0 \uB9DE\uB294 \uC7A5 \uC218)
- \uC5D0\uD544\uB85C\uADF8 (\uC120\uD0DD\uC0AC\uD56D)

\uC9C0\uAE08 \uBC14\uB85C "${i}"\uC744 \uC8FC\uC778\uACF5\uC73C\uB85C \uD55C \uBA4B\uC9C4 \uBB34\uD611\uC9C0\uB97C \uC368\uC8FC\uC138\uC694!
`}generateNovelKeywords(e){let t=[e.protagonist,"\uBB34\uACF5","\uB0B4\uB825","\uACBD\uACF5","\uAC80\uBC95","\uB3C4\uBC95","\uAC15\uD638","\uBB34\uB9BC","\uBB38\uD30C","\uD608\uB9F9","\uB9C8\uAD50","\uACE0\uC218","\uC808\uC138\uBB34\uACF5","\uC2E0\uACF5","\uBE44\uAE09","\uBB34\uC220","\uC0AC\uBD80","\uC81C\uC790","\uB3D9\uBB38","\uC0AC\uD615","\uC0AC\uC81C","\uC6D0\uC218","\uBCF5\uC218","\uC758\uB9AC","\uC815\uC758","\uC545\uC5ED"];return e.genre==="fantasy"&&t.push("\uC2E0\uAC80","\uC601\uBB3C","\uC2E0\uD1B5\uB825","\uC120\uACC4","\uC694\uAD34"),e.theme==="love"&&t.push("\uC5F0\uC778","\uC0AC\uB791","\uC774\uBCC4","\uB9CC\uB0A8","\uC6B4\uBA85"),t}static \u0275fac=function(t){return new(t||n)(me(Yn),me(on))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})};function Qx(){let n=localStorage.getItem("loworld_accessToken");if(n)return n;switch(localStorage.getItem("ez_store_auth_mode")||"CUSTOMER"){case"CUSTOMER":return localStorage.getItem("ez_store_customer_token");case"SELLER":return localStorage.getItem("ez_store_seller_token");case"ADMIN":return localStorage.getItem("ez_store_admin_token");default:return null}}var Xo=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=ut({type:n,bootstrap:[qi]});static \u0275inj=ct({providers:[Ra(),on,Ko,$o,Wo,Yo,Zn],imports:[Wn,rc,Qa,Wa,lc.forRoot({config:{tokenGetter:Qx,allowedDomains:["localhost:3000","api.loworldsoft.com"],disallowedRoutes:[]}}),al,yi]})};var yd=nr(hd()),Cd=nr(xd());window.Buffer=yd.Buffer;window.process=Cd.default;window.global=window;nl();fc();gc();window.toggleConsoleOverride=il;window.getConsoleOverrideStatus=ol;Ka().bootstrapModule(Xo,{ngZoneEventCoalescing:!0}).catch(n=>console.warn("[Bootstrap Error]",n));
