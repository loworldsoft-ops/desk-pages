import{c as to,e as J,h as F}from"./chunk-WWX6BADO.js";var Oo=J(()=>{"use strict"});var W=J((sn,jo)=>{"use strict";(function(n,e){typeof sn=="object"?jo.exports=sn=e():typeof define=="function"&&define.amd?define([],e):n.CryptoJS=e()})(sn,function(){var n=n||(function(e,t){var o;if(typeof window<"u"&&window.crypto&&(o=window.crypto),typeof self<"u"&&self.crypto&&(o=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(o=globalThis.crypto),!o&&typeof window<"u"&&window.msCrypto&&(o=window.msCrypto),!o&&typeof global<"u"&&global.crypto&&(o=global.crypto),!o&&typeof to=="function")try{o=Oo()}catch{}var r=function(){if(o){if(typeof o.getRandomValues=="function")try{return o.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof o.randomBytes=="function")try{return o.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},l=Object.create||(function(){function m(){}return function(E){var y;return m.prototype=E,y=new m,m.prototype=null,y}})(),u={},a=u.lib={},f=a.Base=(function(){return{extend:function(m){var E=l(this);return m&&E.mixIn(m),(!E.hasOwnProperty("init")||this.init===E.init)&&(E.init=function(){E.$super.init.apply(this,arguments)}),E.init.prototype=E,E.$super=this,E},create:function(){var m=this.extend();return m.init.apply(m,arguments),m},init:function(){},mixIn:function(m){for(var E in m)m.hasOwnProperty(E)&&(this[E]=m[E]);m.hasOwnProperty("toString")&&(this.toString=m.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),d=a.WordArray=f.extend({init:function(m,E){m=this.words=m||[],E!=t?this.sigBytes=E:this.sigBytes=m.length*4},toString:function(m){return(m||h).stringify(this)},concat:function(m){var E=this.words,y=m.words,_=this.sigBytes,A=m.sigBytes;if(this.clamp(),_%4)for(var T=0;T<A;T++){var D=y[T>>>2]>>>24-T%4*8&255;E[_+T>>>2]|=D<<24-(_+T)%4*8}else for(var B=0;B<A;B+=4)E[_+B>>>2]=y[B>>>2];return this.sigBytes+=A,this},clamp:function(){var m=this.words,E=this.sigBytes;m[E>>>2]&=4294967295<<32-E%4*8,m.length=e.ceil(E/4)},clone:function(){var m=f.clone.call(this);return m.words=this.words.slice(0),m},random:function(m){for(var E=[],y=0;y<m;y+=4)E.push(r());return new d.init(E,m)}}),c=u.enc={},h=c.Hex={stringify:function(m){for(var E=m.words,y=m.sigBytes,_=[],A=0;A<y;A++){var T=E[A>>>2]>>>24-A%4*8&255;_.push((T>>>4).toString(16)),_.push((T&15).toString(16))}return _.join("")},parse:function(m){for(var E=m.length,y=[],_=0;_<E;_+=2)y[_>>>3]|=parseInt(m.substr(_,2),16)<<24-_%8*4;return new d.init(y,E/2)}},p=c.Latin1={stringify:function(m){for(var E=m.words,y=m.sigBytes,_=[],A=0;A<y;A++){var T=E[A>>>2]>>>24-A%4*8&255;_.push(String.fromCharCode(T))}return _.join("")},parse:function(m){for(var E=m.length,y=[],_=0;_<E;_++)y[_>>>2]|=(m.charCodeAt(_)&255)<<24-_%4*8;return new d.init(y,E)}},x=c.Utf8={stringify:function(m){try{return decodeURIComponent(escape(p.stringify(m)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(m){return p.parse(unescape(encodeURIComponent(m)))}},g=a.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(m){typeof m=="string"&&(m=x.parse(m)),this._data.concat(m),this._nDataBytes+=m.sigBytes},_process:function(m){var E,y=this._data,_=y.words,A=y.sigBytes,T=this.blockSize,D=T*4,B=A/D;m?B=e.ceil(B):B=e.max((B|0)-this._minBufferSize,0);var I=B*T,w=e.min(I*4,A);if(I){for(var S=0;S<I;S+=T)this._doProcessBlock(_,S);E=_.splice(0,I),y.sigBytes-=w}return new d.init(E,w)},clone:function(){var m=f.clone.call(this);return m._data=this._data.clone(),m},_minBufferSize:0}),C=a.Hasher=g.extend({cfg:f.extend(),init:function(m){this.cfg=this.cfg.extend(m),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(m){return this._append(m),this._process(),this},finalize:function(m){m&&this._append(m);var E=this._doFinalize();return E},blockSize:512/32,_createHelper:function(m){return function(E,y){return new m.init(y).finalize(E)}},_createHmacHelper:function(m){return function(E,y){return new v.HMAC.init(m,y).finalize(E)}}}),v=u.algo={};return u})(Math);return n})});var qe=J((ln,ei)=>{"use strict";(function(n,e){typeof ln=="object"?ei.exports=ln=e(W()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(ln,function(n){return(function(e){var t=n,o=t.lib,r=o.Base,l=o.WordArray,u=t.x64={},a=u.Word=r.extend({init:function(d,c){this.high=d,this.low=c}}),f=u.WordArray=r.extend({init:function(d,c){d=this.words=d||[],c!=e?this.sigBytes=c:this.sigBytes=d.length*8},toX32:function(){for(var d=this.words,c=d.length,h=[],p=0;p<c;p++){var x=d[p];h.push(x.high),h.push(x.low)}return l.create(h,this.sigBytes)},clone:function(){for(var d=r.clone.call(this),c=d.words=this.words.slice(0),h=c.length,p=0;p<h;p++)c[p]=c[p].clone();return d}})})(),n})});var ti=J((an,ni)=>{"use strict";(function(n,e){typeof an=="object"?ni.exports=an=e(W()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(an,function(n){return(function(){if(typeof ArrayBuffer=="function"){var e=n,t=e.lib,o=t.WordArray,r=o.init,l=o.init=function(u){if(u instanceof ArrayBuffer&&(u=new Uint8Array(u)),(u instanceof Int8Array||typeof Uint8ClampedArray<"u"&&u instanceof Uint8ClampedArray||u instanceof Int16Array||u instanceof Uint16Array||u instanceof Int32Array||u instanceof Uint32Array||u instanceof Float32Array||u instanceof Float64Array)&&(u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength)),u instanceof Uint8Array){for(var a=u.byteLength,f=[],d=0;d<a;d++)f[d>>>2]|=u[d]<<24-d%4*8;r.call(this,f,a)}else r.apply(this,arguments)};l.prototype=o}})(),n.lib.WordArray})});var ii=J((un,oi)=>{"use strict";(function(n,e){typeof un=="object"?oi.exports=un=e(W()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(un,function(n){return(function(){var e=n,t=e.lib,o=t.WordArray,r=e.enc,l=r.Utf16=r.Utf16BE={stringify:function(a){for(var f=a.words,d=a.sigBytes,c=[],h=0;h<d;h+=2){var p=f[h>>>2]>>>16-h%4*8&65535;c.push(String.fromCharCode(p))}return c.join("")},parse:function(a){for(var f=a.length,d=[],c=0;c<f;c++)d[c>>>1]|=a.charCodeAt(c)<<16-c%2*16;return o.create(d,f*2)}};r.Utf16LE={stringify:function(a){for(var f=a.words,d=a.sigBytes,c=[],h=0;h<d;h+=2){var p=u(f[h>>>2]>>>16-h%4*8&65535);c.push(String.fromCharCode(p))}return c.join("")},parse:function(a){for(var f=a.length,d=[],c=0;c<f;c++)d[c>>>1]|=u(a.charCodeAt(c)<<16-c%2*16);return o.create(d,f*2)}};function u(a){return a<<8&4278255360|a>>>8&16711935}})(),n.enc.Utf16})});var he=J((fn,ri)=>{"use strict";(function(n,e){typeof fn=="object"?ri.exports=fn=e(W()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(fn,function(n){return(function(){var e=n,t=e.lib,o=t.WordArray,r=e.enc,l=r.Base64={stringify:function(a){var f=a.words,d=a.sigBytes,c=this._map;a.clamp();for(var h=[],p=0;p<d;p+=3)for(var x=f[p>>>2]>>>24-p%4*8&255,g=f[p+1>>>2]>>>24-(p+1)%4*8&255,C=f[p+2>>>2]>>>24-(p+2)%4*8&255,v=x<<16|g<<8|C,m=0;m<4&&p+m*.75<d;m++)h.push(c.charAt(v>>>6*(3-m)&63));var E=c.charAt(64);if(E)for(;h.length%4;)h.push(E);return h.join("")},parse:function(a){var f=a.length,d=this._map,c=this._reverseMap;if(!c){c=this._reverseMap=[];for(var h=0;h<d.length;h++)c[d.charCodeAt(h)]=h}var p=d.charAt(64);if(p){var x=a.indexOf(p);x!==-1&&(f=x)}return u(a,f,c)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function u(a,f,d){for(var c=[],h=0,p=0;p<f;p++)if(p%4){var x=d[a.charCodeAt(p-1)]<<p%4*2,g=d[a.charCodeAt(p)]>>>6-p%4*2,C=x|g;c[h>>>2]|=C<<24-h%4*8,h++}return o.create(c,h)}})(),n.enc.Base64})});var li=J((dn,si)=>{"use strict";(function(n,e){typeof dn=="object"?si.exports=dn=e(W()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(dn,function(n){return(function(){var e=n,t=e.lib,o=t.WordArray,r=e.enc,l=r.Base64url={stringify:function(a,f){f===void 0&&(f=!0);var d=a.words,c=a.sigBytes,h=f?this._safe_map:this._map;a.clamp();for(var p=[],x=0;x<c;x+=3)for(var g=d[x>>>2]>>>24-x%4*8&255,C=d[x+1>>>2]>>>24-(x+1)%4*8&255,v=d[x+2>>>2]>>>24-(x+2)%4*8&255,m=g<<16|C<<8|v,E=0;E<4&&x+E*.75<c;E++)p.push(h.charAt(m>>>6*(3-E)&63));var y=h.charAt(64);if(y)for(;p.length%4;)p.push(y);return p.join("")},parse:function(a,f){f===void 0&&(f=!0);var d=a.length,c=f?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var p=0;p<c.length;p++)h[c.charCodeAt(p)]=p}var x=c.charAt(64);if(x){var g=a.indexOf(x);g!==-1&&(d=g)}return u(a,d,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function u(a,f,d){for(var c=[],h=0,p=0;p<f;p++)if(p%4){var x=d[a.charCodeAt(p-1)]<<p%4*2,g=d[a.charCodeAt(p)]>>>6-p%4*2,C=x|g;c[h>>>2]|=C<<24-h%4*8,h++}return o.create(c,h)}})(),n.enc.Base64url})});var xe=J((cn,ai)=>{"use strict";(function(n,e){typeof cn=="object"?ai.exports=cn=e(W()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(cn,function(n){return(function(e){var t=n,o=t.lib,r=o.WordArray,l=o.Hasher,u=t.algo,a=[];(function(){for(var x=0;x<64;x++)a[x]=e.abs(e.sin(x+1))*4294967296|0})();var f=u.MD5=l.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(x,g){for(var C=0;C<16;C++){var v=g+C,m=x[v];x[v]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360}var E=this._hash.words,y=x[g+0],_=x[g+1],A=x[g+2],T=x[g+3],D=x[g+4],B=x[g+5],I=x[g+6],w=x[g+7],S=x[g+8],P=x[g+9],q=x[g+10],M=x[g+11],V=x[g+12],H=x[g+13],G=x[g+14],z=x[g+15],R=E[0],k=E[1],U=E[2],N=E[3];R=d(R,k,U,N,y,7,a[0]),N=d(N,R,k,U,_,12,a[1]),U=d(U,N,R,k,A,17,a[2]),k=d(k,U,N,R,T,22,a[3]),R=d(R,k,U,N,D,7,a[4]),N=d(N,R,k,U,B,12,a[5]),U=d(U,N,R,k,I,17,a[6]),k=d(k,U,N,R,w,22,a[7]),R=d(R,k,U,N,S,7,a[8]),N=d(N,R,k,U,P,12,a[9]),U=d(U,N,R,k,q,17,a[10]),k=d(k,U,N,R,M,22,a[11]),R=d(R,k,U,N,V,7,a[12]),N=d(N,R,k,U,H,12,a[13]),U=d(U,N,R,k,G,17,a[14]),k=d(k,U,N,R,z,22,a[15]),R=c(R,k,U,N,_,5,a[16]),N=c(N,R,k,U,I,9,a[17]),U=c(U,N,R,k,M,14,a[18]),k=c(k,U,N,R,y,20,a[19]),R=c(R,k,U,N,B,5,a[20]),N=c(N,R,k,U,q,9,a[21]),U=c(U,N,R,k,z,14,a[22]),k=c(k,U,N,R,D,20,a[23]),R=c(R,k,U,N,P,5,a[24]),N=c(N,R,k,U,G,9,a[25]),U=c(U,N,R,k,T,14,a[26]),k=c(k,U,N,R,S,20,a[27]),R=c(R,k,U,N,H,5,a[28]),N=c(N,R,k,U,A,9,a[29]),U=c(U,N,R,k,w,14,a[30]),k=c(k,U,N,R,V,20,a[31]),R=h(R,k,U,N,B,4,a[32]),N=h(N,R,k,U,S,11,a[33]),U=h(U,N,R,k,M,16,a[34]),k=h(k,U,N,R,G,23,a[35]),R=h(R,k,U,N,_,4,a[36]),N=h(N,R,k,U,D,11,a[37]),U=h(U,N,R,k,w,16,a[38]),k=h(k,U,N,R,q,23,a[39]),R=h(R,k,U,N,H,4,a[40]),N=h(N,R,k,U,y,11,a[41]),U=h(U,N,R,k,T,16,a[42]),k=h(k,U,N,R,I,23,a[43]),R=h(R,k,U,N,P,4,a[44]),N=h(N,R,k,U,V,11,a[45]),U=h(U,N,R,k,z,16,a[46]),k=h(k,U,N,R,A,23,a[47]),R=p(R,k,U,N,y,6,a[48]),N=p(N,R,k,U,w,10,a[49]),U=p(U,N,R,k,G,15,a[50]),k=p(k,U,N,R,B,21,a[51]),R=p(R,k,U,N,V,6,a[52]),N=p(N,R,k,U,T,10,a[53]),U=p(U,N,R,k,q,15,a[54]),k=p(k,U,N,R,_,21,a[55]),R=p(R,k,U,N,S,6,a[56]),N=p(N,R,k,U,z,10,a[57]),U=p(U,N,R,k,I,15,a[58]),k=p(k,U,N,R,H,21,a[59]),R=p(R,k,U,N,D,6,a[60]),N=p(N,R,k,U,M,10,a[61]),U=p(U,N,R,k,A,15,a[62]),k=p(k,U,N,R,P,21,a[63]),E[0]=E[0]+R|0,E[1]=E[1]+k|0,E[2]=E[2]+U|0,E[3]=E[3]+N|0},_doFinalize:function(){var x=this._data,g=x.words,C=this._nDataBytes*8,v=x.sigBytes*8;g[v>>>5]|=128<<24-v%32;var m=e.floor(C/4294967296),E=C;g[(v+64>>>9<<4)+15]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,g[(v+64>>>9<<4)+14]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,x.sigBytes=(g.length+1)*4,this._process();for(var y=this._hash,_=y.words,A=0;A<4;A++){var T=_[A];_[A]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}return y},clone:function(){var x=l.clone.call(this);return x._hash=this._hash.clone(),x}});function d(x,g,C,v,m,E,y){var _=x+(g&C|~g&v)+m+y;return(_<<E|_>>>32-E)+g}function c(x,g,C,v,m,E,y){var _=x+(g&v|C&~v)+m+y;return(_<<E|_>>>32-E)+g}function h(x,g,C,v,m,E,y){var _=x+(g^C^v)+m+y;return(_<<E|_>>>32-E)+g}function p(x,g,C,v,m,E,y){var _=x+(C^(g|~v))+m+y;return(_<<E|_>>>32-E)+g}t.MD5=l._createHelper(f),t.HmacMD5=l._createHmacHelper(f)})(Math),n.MD5})});var bt=J((pn,ui)=>{"use strict";(function(n,e){typeof pn=="object"?ui.exports=pn=e(W()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(pn,function(n){return(function(){var e=n,t=e.lib,o=t.WordArray,r=t.Hasher,l=e.algo,u=[],a=l.SHA1=r.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(f,d){for(var c=this._hash.words,h=c[0],p=c[1],x=c[2],g=c[3],C=c[4],v=0;v<80;v++){if(v<16)u[v]=f[d+v]|0;else{var m=u[v-3]^u[v-8]^u[v-14]^u[v-16];u[v]=m<<1|m>>>31}var E=(h<<5|h>>>27)+C+u[v];v<20?E+=(p&x|~p&g)+1518500249:v<40?E+=(p^x^g)+1859775393:v<60?E+=(p&x|p&g|x&g)-1894007588:E+=(p^x^g)-899497514,C=g,g=x,x=p<<30|p>>>2,p=h,h=E}c[0]=c[0]+h|0,c[1]=c[1]+p|0,c[2]=c[2]+x|0,c[3]=c[3]+g|0,c[4]=c[4]+C|0},_doFinalize:function(){var f=this._data,d=f.words,c=this._nDataBytes*8,h=f.sigBytes*8;return d[h>>>5]|=128<<24-h%32,d[(h+64>>>9<<4)+14]=Math.floor(c/4294967296),d[(h+64>>>9<<4)+15]=c,f.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var f=r.clone.call(this);return f._hash=this._hash.clone(),f}});e.SHA1=r._createHelper(a),e.HmacSHA1=r._createHmacHelper(a)})(),n.SHA1})});var xn=J((hn,fi)=>{"use strict";(function(n,e){typeof hn=="object"?fi.exports=hn=e(W()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(hn,function(n){return(function(e){var t=n,o=t.lib,r=o.WordArray,l=o.Hasher,u=t.algo,a=[],f=[];(function(){function h(C){for(var v=e.sqrt(C),m=2;m<=v;m++)if(!(C%m))return!1;return!0}function p(C){return(C-(C|0))*4294967296|0}for(var x=2,g=0;g<64;)h(x)&&(g<8&&(a[g]=p(e.pow(x,1/2))),f[g]=p(e.pow(x,1/3)),g++),x++})();var d=[],c=u.SHA256=l.extend({_doReset:function(){this._hash=new r.init(a.slice(0))},_doProcessBlock:function(h,p){for(var x=this._hash.words,g=x[0],C=x[1],v=x[2],m=x[3],E=x[4],y=x[5],_=x[6],A=x[7],T=0;T<64;T++){if(T<16)d[T]=h[p+T]|0;else{var D=d[T-15],B=(D<<25|D>>>7)^(D<<14|D>>>18)^D>>>3,I=d[T-2],w=(I<<15|I>>>17)^(I<<13|I>>>19)^I>>>10;d[T]=B+d[T-7]+w+d[T-16]}var S=E&y^~E&_,P=g&C^g&v^C&v,q=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),M=(E<<26|E>>>6)^(E<<21|E>>>11)^(E<<7|E>>>25),V=A+M+S+f[T]+d[T],H=q+P;A=_,_=y,y=E,E=m+V|0,m=v,v=C,C=g,g=V+H|0}x[0]=x[0]+g|0,x[1]=x[1]+C|0,x[2]=x[2]+v|0,x[3]=x[3]+m|0,x[4]=x[4]+E|0,x[5]=x[5]+y|0,x[6]=x[6]+_|0,x[7]=x[7]+A|0},_doFinalize:function(){var h=this._data,p=h.words,x=this._nDataBytes*8,g=h.sigBytes*8;return p[g>>>5]|=128<<24-g%32,p[(g+64>>>9<<4)+14]=e.floor(x/4294967296),p[(g+64>>>9<<4)+15]=x,h.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var h=l.clone.call(this);return h._hash=this._hash.clone(),h}});t.SHA256=l._createHelper(c),t.HmacSHA256=l._createHmacHelper(c)})(Math),n.SHA256})});var ci=J((mn,di)=>{"use strict";(function(n,e,t){typeof mn=="object"?di.exports=mn=e(W(),xn()):typeof define=="function"&&define.amd?define(["./core","./sha256"],e):e(n.CryptoJS)})(mn,function(n){return(function(){var e=n,t=e.lib,o=t.WordArray,r=e.algo,l=r.SHA256,u=r.SHA224=l.extend({_doReset:function(){this._hash=new o.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var a=l._doFinalize.call(this);return a.sigBytes-=4,a}});e.SHA224=l._createHelper(u),e.HmacSHA224=l._createHmacHelper(u)})(),n.SHA224})});var Jt=J((gn,pi)=>{"use strict";(function(n,e,t){typeof gn=="object"?pi.exports=gn=e(W(),qe()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],e):e(n.CryptoJS)})(gn,function(n){return(function(){var e=n,t=e.lib,o=t.Hasher,r=e.x64,l=r.Word,u=r.WordArray,a=e.algo;function f(){return l.create.apply(l,arguments)}var d=[f(1116352408,3609767458),f(1899447441,602891725),f(3049323471,3964484399),f(3921009573,2173295548),f(961987163,4081628472),f(1508970993,3053834265),f(2453635748,2937671579),f(2870763221,3664609560),f(3624381080,2734883394),f(310598401,1164996542),f(607225278,1323610764),f(1426881987,3590304994),f(1925078388,4068182383),f(2162078206,991336113),f(2614888103,633803317),f(3248222580,3479774868),f(3835390401,2666613458),f(4022224774,944711139),f(264347078,2341262773),f(604807628,2007800933),f(770255983,1495990901),f(1249150122,1856431235),f(1555081692,3175218132),f(1996064986,2198950837),f(2554220882,3999719339),f(2821834349,766784016),f(2952996808,2566594879),f(3210313671,3203337956),f(3336571891,1034457026),f(3584528711,2466948901),f(113926993,3758326383),f(338241895,168717936),f(666307205,1188179964),f(773529912,1546045734),f(1294757372,1522805485),f(1396182291,2643833823),f(1695183700,2343527390),f(1986661051,1014477480),f(2177026350,1206759142),f(2456956037,344077627),f(2730485921,1290863460),f(2820302411,3158454273),f(3259730800,3505952657),f(3345764771,106217008),f(3516065817,3606008344),f(3600352804,1432725776),f(4094571909,1467031594),f(275423344,851169720),f(430227734,3100823752),f(506948616,1363258195),f(659060556,3750685593),f(883997877,3785050280),f(958139571,3318307427),f(1322822218,3812723403),f(1537002063,2003034995),f(1747873779,3602036899),f(1955562222,1575990012),f(2024104815,1125592928),f(2227730452,2716904306),f(2361852424,442776044),f(2428436474,593698344),f(2756734187,3733110249),f(3204031479,2999351573),f(3329325298,3815920427),f(3391569614,3928383900),f(3515267271,566280711),f(3940187606,3454069534),f(4118630271,4000239992),f(116418474,1914138554),f(174292421,2731055270),f(289380356,3203993006),f(460393269,320620315),f(685471733,587496836),f(852142971,1086792851),f(1017036298,365543100),f(1126000580,2618297676),f(1288033470,3409855158),f(1501505948,4234509866),f(1607167915,987167468),f(1816402316,1246189591)],c=[];(function(){for(var p=0;p<80;p++)c[p]=f()})();var h=a.SHA512=o.extend({_doReset:function(){this._hash=new u.init([new l.init(1779033703,4089235720),new l.init(3144134277,2227873595),new l.init(1013904242,4271175723),new l.init(2773480762,1595750129),new l.init(1359893119,2917565137),new l.init(2600822924,725511199),new l.init(528734635,4215389547),new l.init(1541459225,327033209)])},_doProcessBlock:function(p,x){for(var g=this._hash.words,C=g[0],v=g[1],m=g[2],E=g[3],y=g[4],_=g[5],A=g[6],T=g[7],D=C.high,B=C.low,I=v.high,w=v.low,S=m.high,P=m.low,q=E.high,M=E.low,V=y.high,H=y.low,G=_.high,z=_.low,R=A.high,k=A.low,U=T.high,N=T.low,X=D,K=B,O=I,b=w,De=S,Ee=P,Wn=q,Fe=M,oe=V,j=H,Le=G,Pe=z,He=R,Be=k,zn=U,Re=N,ie=0;ie<80;ie++){var ne,fe,Ve=c[ie];if(ie<16)fe=Ve.high=p[x+ie*2]|0,ne=Ve.low=p[x+ie*2+1]|0;else{var Wt=c[ie-15],Ce=Wt.high,Ne=Wt.low,sr=(Ce>>>1|Ne<<31)^(Ce>>>8|Ne<<24)^Ce>>>7,zt=(Ne>>>1|Ce<<31)^(Ne>>>8|Ce<<24)^(Ne>>>7|Ce<<25),Yt=c[ie-2],ve=Yt.high,Me=Yt.low,lr=(ve>>>19|Me<<13)^(ve<<3|Me>>>29)^ve>>>6,Kt=(Me>>>19|ve<<13)^(Me<<3|ve>>>29)^(Me>>>6|ve<<26),$t=c[ie-7],ar=$t.high,ur=$t.low,Xt=c[ie-16],fr=Xt.high,Qt=Xt.low;ne=zt+ur,fe=sr+ar+(ne>>>0<zt>>>0?1:0),ne=ne+Kt,fe=fe+lr+(ne>>>0<Kt>>>0?1:0),ne=ne+Qt,fe=fe+fr+(ne>>>0<Qt>>>0?1:0),Ve.high=fe,Ve.low=ne}var dr=oe&Le^~oe&He,Zt=j&Pe^~j&Be,cr=X&O^X&De^O&De,pr=K&b^K&Ee^b&Ee,hr=(X>>>28|K<<4)^(X<<30|K>>>2)^(X<<25|K>>>7),Ot=(K>>>28|X<<4)^(K<<30|X>>>2)^(K<<25|X>>>7),xr=(oe>>>14|j<<18)^(oe>>>18|j<<14)^(oe<<23|j>>>9),mr=(j>>>14|oe<<18)^(j>>>18|oe<<14)^(j<<23|oe>>>9),jt=d[ie],gr=jt.high,eo=jt.low,ee=Re+mr,de=zn+xr+(ee>>>0<Re>>>0?1:0),ee=ee+Zt,de=de+dr+(ee>>>0<Zt>>>0?1:0),ee=ee+eo,de=de+gr+(ee>>>0<eo>>>0?1:0),ee=ee+ne,de=de+fe+(ee>>>0<ne>>>0?1:0),no=Ot+pr,Er=hr+cr+(no>>>0<Ot>>>0?1:0);zn=He,Re=Be,He=Le,Be=Pe,Le=oe,Pe=j,j=Fe+ee|0,oe=Wn+de+(j>>>0<Fe>>>0?1:0)|0,Wn=De,Fe=Ee,De=O,Ee=b,O=X,b=K,K=ee+no|0,X=de+Er+(K>>>0<ee>>>0?1:0)|0}B=C.low=B+K,C.high=D+X+(B>>>0<K>>>0?1:0),w=v.low=w+b,v.high=I+O+(w>>>0<b>>>0?1:0),P=m.low=P+Ee,m.high=S+De+(P>>>0<Ee>>>0?1:0),M=E.low=M+Fe,E.high=q+Wn+(M>>>0<Fe>>>0?1:0),H=y.low=H+j,y.high=V+oe+(H>>>0<j>>>0?1:0),z=_.low=z+Pe,_.high=G+Le+(z>>>0<Pe>>>0?1:0),k=A.low=k+Be,A.high=R+He+(k>>>0<Be>>>0?1:0),N=T.low=N+Re,T.high=U+zn+(N>>>0<Re>>>0?1:0)},_doFinalize:function(){var p=this._data,x=p.words,g=this._nDataBytes*8,C=p.sigBytes*8;x[C>>>5]|=128<<24-C%32,x[(C+128>>>10<<5)+30]=Math.floor(g/4294967296),x[(C+128>>>10<<5)+31]=g,p.sigBytes=x.length*4,this._process();var v=this._hash.toX32();return v},clone:function(){var p=o.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});e.SHA512=o._createHelper(h),e.HmacSHA512=o._createHmacHelper(h)})(),n.SHA512})});var xi=J((En,hi)=>{"use strict";(function(n,e,t){typeof En=="object"?hi.exports=En=e(W(),qe(),Jt()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],e):e(n.CryptoJS)})(En,function(n){return(function(){var e=n,t=e.x64,o=t.Word,r=t.WordArray,l=e.algo,u=l.SHA512,a=l.SHA384=u.extend({_doReset:function(){this._hash=new r.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var f=u._doFinalize.call(this);return f.sigBytes-=16,f}});e.SHA384=u._createHelper(a),e.HmacSHA384=u._createHmacHelper(a)})(),n.SHA384})});var gi=J((Cn,mi)=>{"use strict";(function(n,e,t){typeof Cn=="object"?mi.exports=Cn=e(W(),qe()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],e):e(n.CryptoJS)})(Cn,function(n){return(function(e){var t=n,o=t.lib,r=o.WordArray,l=o.Hasher,u=t.x64,a=u.Word,f=t.algo,d=[],c=[],h=[];(function(){for(var g=1,C=0,v=0;v<24;v++){d[g+5*C]=(v+1)*(v+2)/2%64;var m=C%5,E=(2*g+3*C)%5;g=m,C=E}for(var g=0;g<5;g++)for(var C=0;C<5;C++)c[g+5*C]=C+(2*g+3*C)%5*5;for(var y=1,_=0;_<24;_++){for(var A=0,T=0,D=0;D<7;D++){if(y&1){var B=(1<<D)-1;B<32?T^=1<<B:A^=1<<B-32}y&128?y=y<<1^113:y<<=1}h[_]=a.create(A,T)}})();var p=[];(function(){for(var g=0;g<25;g++)p[g]=a.create()})();var x=f.SHA3=l.extend({cfg:l.cfg.extend({outputLength:512}),_doReset:function(){for(var g=this._state=[],C=0;C<25;C++)g[C]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(g,C){for(var v=this._state,m=this.blockSize/2,E=0;E<m;E++){var y=g[C+2*E],_=g[C+2*E+1];y=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360;var A=v[E];A.high^=_,A.low^=y}for(var T=0;T<24;T++){for(var D=0;D<5;D++){for(var B=0,I=0,w=0;w<5;w++){var A=v[D+5*w];B^=A.high,I^=A.low}var S=p[D];S.high=B,S.low=I}for(var D=0;D<5;D++)for(var P=p[(D+4)%5],q=p[(D+1)%5],M=q.high,V=q.low,B=P.high^(M<<1|V>>>31),I=P.low^(V<<1|M>>>31),w=0;w<5;w++){var A=v[D+5*w];A.high^=B,A.low^=I}for(var H=1;H<25;H++){var B,I,A=v[H],G=A.high,z=A.low,R=d[H];R<32?(B=G<<R|z>>>32-R,I=z<<R|G>>>32-R):(B=z<<R-32|G>>>64-R,I=G<<R-32|z>>>64-R);var k=p[c[H]];k.high=B,k.low=I}var U=p[0],N=v[0];U.high=N.high,U.low=N.low;for(var D=0;D<5;D++)for(var w=0;w<5;w++){var H=D+5*w,A=v[H],X=p[H],K=p[(D+1)%5+5*w],O=p[(D+2)%5+5*w];A.high=X.high^~K.high&O.high,A.low=X.low^~K.low&O.low}var A=v[0],b=h[T];A.high^=b.high,A.low^=b.low}},_doFinalize:function(){var g=this._data,C=g.words,v=this._nDataBytes*8,m=g.sigBytes*8,E=this.blockSize*32;C[m>>>5]|=1<<24-m%32,C[(e.ceil((m+1)/E)*E>>>5)-1]|=128,g.sigBytes=C.length*4,this._process();for(var y=this._state,_=this.cfg.outputLength/8,A=_/8,T=[],D=0;D<A;D++){var B=y[D],I=B.high,w=B.low;I=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,T.push(w),T.push(I)}return new r.init(T,_)},clone:function(){for(var g=l.clone.call(this),C=g._state=this._state.slice(0),v=0;v<25;v++)C[v]=C[v].clone();return g}});t.SHA3=l._createHelper(x),t.HmacSHA3=l._createHmacHelper(x)})(Math),n.SHA3})});var Ci=J((vn,Ei)=>{"use strict";(function(n,e){typeof vn=="object"?Ei.exports=vn=e(W()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(vn,function(n){return(function(e){var t=n,o=t.lib,r=o.WordArray,l=o.Hasher,u=t.algo,a=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),f=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=r.create([0,1518500249,1859775393,2400959708,2840853838]),p=r.create([1352829926,1548603684,1836072691,2053994217,0]),x=u.RIPEMD160=l.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(_,A){for(var T=0;T<16;T++){var D=A+T,B=_[D];_[D]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360}var I=this._hash.words,w=h.words,S=p.words,P=a.words,q=f.words,M=d.words,V=c.words,H,G,z,R,k,U,N,X,K,O;U=H=I[0],N=G=I[1],X=z=I[2],K=R=I[3],O=k=I[4];for(var b,T=0;T<80;T+=1)b=H+_[A+P[T]]|0,T<16?b+=g(G,z,R)+w[0]:T<32?b+=C(G,z,R)+w[1]:T<48?b+=v(G,z,R)+w[2]:T<64?b+=m(G,z,R)+w[3]:b+=E(G,z,R)+w[4],b=b|0,b=y(b,M[T]),b=b+k|0,H=k,k=R,R=y(z,10),z=G,G=b,b=U+_[A+q[T]]|0,T<16?b+=E(N,X,K)+S[0]:T<32?b+=m(N,X,K)+S[1]:T<48?b+=v(N,X,K)+S[2]:T<64?b+=C(N,X,K)+S[3]:b+=g(N,X,K)+S[4],b=b|0,b=y(b,V[T]),b=b+O|0,U=O,O=K,K=y(X,10),X=N,N=b;b=I[1]+z+K|0,I[1]=I[2]+R+O|0,I[2]=I[3]+k+U|0,I[3]=I[4]+H+N|0,I[4]=I[0]+G+X|0,I[0]=b},_doFinalize:function(){var _=this._data,A=_.words,T=this._nDataBytes*8,D=_.sigBytes*8;A[D>>>5]|=128<<24-D%32,A[(D+64>>>9<<4)+14]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,_.sigBytes=(A.length+1)*4,this._process();for(var B=this._hash,I=B.words,w=0;w<5;w++){var S=I[w];I[w]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}return B},clone:function(){var _=l.clone.call(this);return _._hash=this._hash.clone(),_}});function g(_,A,T){return _^A^T}function C(_,A,T){return _&A|~_&T}function v(_,A,T){return(_|~A)^T}function m(_,A,T){return _&T|A&~T}function E(_,A,T){return _^(A|~T)}function y(_,A){return _<<A|_>>>32-A}t.RIPEMD160=l._createHelper(x),t.HmacRIPEMD160=l._createHmacHelper(x)})(Math),n.RIPEMD160})});var _n=J((yn,vi)=>{"use strict";(function(n,e){typeof yn=="object"?vi.exports=yn=e(W()):typeof define=="function"&&define.amd?define(["./core"],e):e(n.CryptoJS)})(yn,function(n){(function(){var e=n,t=e.lib,o=t.Base,r=e.enc,l=r.Utf8,u=e.algo,a=u.HMAC=o.extend({init:function(f,d){f=this._hasher=new f.init,typeof d=="string"&&(d=l.parse(d));var c=f.blockSize,h=c*4;d.sigBytes>h&&(d=f.finalize(d)),d.clamp();for(var p=this._oKey=d.clone(),x=this._iKey=d.clone(),g=p.words,C=x.words,v=0;v<c;v++)g[v]^=1549556828,C[v]^=909522486;p.sigBytes=x.sigBytes=h,this.reset()},reset:function(){var f=this._hasher;f.reset(),f.update(this._iKey)},update:function(f){return this._hasher.update(f),this},finalize:function(f){var d=this._hasher,c=d.finalize(f);d.reset();var h=d.finalize(this._oKey.clone().concat(c));return h}})})()})});var _i=J((An,yi)=>{"use strict";(function(n,e,t){typeof An=="object"?yi.exports=An=e(W(),xn(),_n()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],e):e(n.CryptoJS)})(An,function(n){return(function(){var e=n,t=e.lib,o=t.Base,r=t.WordArray,l=e.algo,u=l.SHA256,a=l.HMAC,f=l.PBKDF2=o.extend({cfg:o.extend({keySize:128/32,hasher:u,iterations:25e4}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,c){for(var h=this.cfg,p=a.create(h.hasher,d),x=r.create(),g=r.create([1]),C=x.words,v=g.words,m=h.keySize,E=h.iterations;C.length<m;){var y=p.update(c).finalize(g);p.reset();for(var _=y.words,A=_.length,T=y,D=1;D<E;D++){T=p.finalize(T),p.reset();for(var B=T.words,I=0;I<A;I++)_[I]^=B[I]}x.concat(y),v[0]++}return x.sigBytes=m*4,x}});e.PBKDF2=function(d,c,h){return f.create(h).compute(d,c)}})(),n.PBKDF2})});var ue=J((Tn,Ai)=>{"use strict";(function(n,e,t){typeof Tn=="object"?Ai.exports=Tn=e(W(),bt(),_n()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],e):e(n.CryptoJS)})(Tn,function(n){return(function(){var e=n,t=e.lib,o=t.Base,r=t.WordArray,l=e.algo,u=l.MD5,a=l.EvpKDF=o.extend({cfg:o.extend({keySize:128/32,hasher:u,iterations:1}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,d){for(var c,h=this.cfg,p=h.hasher.create(),x=r.create(),g=x.words,C=h.keySize,v=h.iterations;g.length<C;){c&&p.update(c),c=p.update(f).finalize(d),p.reset();for(var m=1;m<v;m++)c=p.finalize(c),p.reset();x.concat(c)}return x.sigBytes=C*4,x}});e.EvpKDF=function(f,d,c){return a.create(c).compute(f,d)}})(),n.EvpKDF})});var Q=J((Sn,Ti)=>{"use strict";(function(n,e,t){typeof Sn=="object"?Ti.exports=Sn=e(W(),ue()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],e):e(n.CryptoJS)})(Sn,function(n){n.lib.Cipher||(function(e){var t=n,o=t.lib,r=o.Base,l=o.WordArray,u=o.BufferedBlockAlgorithm,a=t.enc,f=a.Utf8,d=a.Base64,c=t.algo,h=c.EvpKDF,p=o.Cipher=u.extend({cfg:r.extend(),createEncryptor:function(S,P){return this.create(this._ENC_XFORM_MODE,S,P)},createDecryptor:function(S,P){return this.create(this._DEC_XFORM_MODE,S,P)},init:function(S,P,q){this.cfg=this.cfg.extend(q),this._xformMode=S,this._key=P,this.reset()},reset:function(){u.reset.call(this),this._doReset()},process:function(S){return this._append(S),this._process()},finalize:function(S){S&&this._append(S);var P=this._doFinalize();return P},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function S(P){return typeof P=="string"?w:D}return function(P){return{encrypt:function(q,M,V){return S(M).encrypt(P,q,M,V)},decrypt:function(q,M,V){return S(M).decrypt(P,q,M,V)}}}})()}),x=o.StreamCipher=p.extend({_doFinalize:function(){var S=this._process(!0);return S},blockSize:1}),g=t.mode={},C=o.BlockCipherMode=r.extend({createEncryptor:function(S,P){return this.Encryptor.create(S,P)},createDecryptor:function(S,P){return this.Decryptor.create(S,P)},init:function(S,P){this._cipher=S,this._iv=P}}),v=g.CBC=(function(){var S=C.extend();S.Encryptor=S.extend({processBlock:function(q,M){var V=this._cipher,H=V.blockSize;P.call(this,q,M,H),V.encryptBlock(q,M),this._prevBlock=q.slice(M,M+H)}}),S.Decryptor=S.extend({processBlock:function(q,M){var V=this._cipher,H=V.blockSize,G=q.slice(M,M+H);V.decryptBlock(q,M),P.call(this,q,M,H),this._prevBlock=G}});function P(q,M,V){var H,G=this._iv;G?(H=G,this._iv=e):H=this._prevBlock;for(var z=0;z<V;z++)q[M+z]^=H[z]}return S})(),m=t.pad={},E=m.Pkcs7={pad:function(S,P){for(var q=P*4,M=q-S.sigBytes%q,V=M<<24|M<<16|M<<8|M,H=[],G=0;G<M;G+=4)H.push(V);var z=l.create(H,M);S.concat(z)},unpad:function(S){var P=S.words[S.sigBytes-1>>>2]&255;S.sigBytes-=P}},y=o.BlockCipher=p.extend({cfg:p.cfg.extend({mode:v,padding:E}),reset:function(){var S;p.reset.call(this);var P=this.cfg,q=P.iv,M=P.mode;this._xformMode==this._ENC_XFORM_MODE?S=M.createEncryptor:(S=M.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==S?this._mode.init(this,q&&q.words):(this._mode=S.call(M,this,q&&q.words),this._mode.__creator=S)},_doProcessBlock:function(S,P){this._mode.processBlock(S,P)},_doFinalize:function(){var S,P=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(P.pad(this._data,this.blockSize),S=this._process(!0)):(S=this._process(!0),P.unpad(S)),S},blockSize:128/32}),_=o.CipherParams=r.extend({init:function(S){this.mixIn(S)},toString:function(S){return(S||this.formatter).stringify(this)}}),A=t.format={},T=A.OpenSSL={stringify:function(S){var P,q=S.ciphertext,M=S.salt;return M?P=l.create([1398893684,1701076831]).concat(M).concat(q):P=q,P.toString(d)},parse:function(S){var P,q=d.parse(S),M=q.words;return M[0]==1398893684&&M[1]==1701076831&&(P=l.create(M.slice(2,4)),M.splice(0,4),q.sigBytes-=16),_.create({ciphertext:q,salt:P})}},D=o.SerializableCipher=r.extend({cfg:r.extend({format:T}),encrypt:function(S,P,q,M){M=this.cfg.extend(M);var V=S.createEncryptor(q,M),H=V.finalize(P),G=V.cfg;return _.create({ciphertext:H,key:q,iv:G.iv,algorithm:S,mode:G.mode,padding:G.padding,blockSize:S.blockSize,formatter:M.format})},decrypt:function(S,P,q,M){M=this.cfg.extend(M),P=this._parse(P,M.format);var V=S.createDecryptor(q,M).finalize(P.ciphertext);return V},_parse:function(S,P){return typeof S=="string"?P.parse(S,this):S}}),B=t.kdf={},I=B.OpenSSL={execute:function(S,P,q,M,V){if(M||(M=l.random(64/8)),V)var H=h.create({keySize:P+q,hasher:V}).compute(S,M);else var H=h.create({keySize:P+q}).compute(S,M);var G=l.create(H.words.slice(P),q*4);return H.sigBytes=P*4,_.create({key:H,iv:G,salt:M})}},w=o.PasswordBasedCipher=D.extend({cfg:D.cfg.extend({kdf:I}),encrypt:function(S,P,q,M){M=this.cfg.extend(M);var V=M.kdf.execute(q,S.keySize,S.ivSize,M.salt,M.hasher);M.iv=V.iv;var H=D.encrypt.call(this,S,P,V.key,M);return H.mixIn(V),H},decrypt:function(S,P,q,M){M=this.cfg.extend(M),P=this._parse(P,M.format);var V=M.kdf.execute(q,S.keySize,S.ivSize,P.salt,M.hasher);M.iv=V.iv;var H=D.decrypt.call(this,S,P,V.key,M);return H}})})()})});var Ii=J((In,Si)=>{"use strict";(function(n,e,t){typeof In=="object"?Si.exports=In=e(W(),Q()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(In,function(n){return n.mode.CFB=(function(){var e=n.lib.BlockCipherMode.extend();e.Encryptor=e.extend({processBlock:function(o,r){var l=this._cipher,u=l.blockSize;t.call(this,o,r,u,l),this._prevBlock=o.slice(r,r+u)}}),e.Decryptor=e.extend({processBlock:function(o,r){var l=this._cipher,u=l.blockSize,a=o.slice(r,r+u);t.call(this,o,r,u,l),this._prevBlock=a}});function t(o,r,l,u){var a,f=this._iv;f?(a=f.slice(0),this._iv=void 0):a=this._prevBlock,u.encryptBlock(a,0);for(var d=0;d<l;d++)o[r+d]^=a[d]}return e})(),n.mode.CFB})});var Fi=J((Dn,Di)=>{"use strict";(function(n,e,t){typeof Dn=="object"?Di.exports=Dn=e(W(),Q()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(Dn,function(n){return n.mode.CTR=(function(){var e=n.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(o,r){var l=this._cipher,u=l.blockSize,a=this._iv,f=this._counter;a&&(f=this._counter=a.slice(0),this._iv=void 0);var d=f.slice(0);l.encryptBlock(d,0),f[u-1]=f[u-1]+1|0;for(var c=0;c<u;c++)o[r+c]^=d[c]}});return e.Decryptor=t,e})(),n.mode.CTR})});var Bi=J((Fn,Pi)=>{"use strict";(function(n,e,t){typeof Fn=="object"?Pi.exports=Fn=e(W(),Q()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(Fn,function(n){return n.mode.CTRGladman=(function(){var e=n.lib.BlockCipherMode.extend();function t(l){if((l>>24&255)===255){var u=l>>16&255,a=l>>8&255,f=l&255;u===255?(u=0,a===255?(a=0,f===255?f=0:++f):++a):++u,l=0,l+=u<<16,l+=a<<8,l+=f}else l+=1<<24;return l}function o(l){return(l[0]=t(l[0]))===0&&(l[1]=t(l[1])),l}var r=e.Encryptor=e.extend({processBlock:function(l,u){var a=this._cipher,f=a.blockSize,d=this._iv,c=this._counter;d&&(c=this._counter=d.slice(0),this._iv=void 0),o(c);var h=c.slice(0);a.encryptBlock(h,0);for(var p=0;p<f;p++)l[u+p]^=h[p]}});return e.Decryptor=r,e})(),n.mode.CTRGladman})});var Ni=J((Pn,Ri)=>{"use strict";(function(n,e,t){typeof Pn=="object"?Ri.exports=Pn=e(W(),Q()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(Pn,function(n){return n.mode.OFB=(function(){var e=n.lib.BlockCipherMode.extend(),t=e.Encryptor=e.extend({processBlock:function(o,r){var l=this._cipher,u=l.blockSize,a=this._iv,f=this._keystream;a&&(f=this._keystream=a.slice(0),this._iv=void 0),l.encryptBlock(f,0);for(var d=0;d<u;d++)o[r+d]^=f[d]}});return e.Decryptor=t,e})(),n.mode.OFB})});var wi=J((Bn,Mi)=>{"use strict";(function(n,e,t){typeof Bn=="object"?Mi.exports=Bn=e(W(),Q()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(Bn,function(n){return n.mode.ECB=(function(){var e=n.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(t,o){this._cipher.encryptBlock(t,o)}}),e.Decryptor=e.extend({processBlock:function(t,o){this._cipher.decryptBlock(t,o)}}),e})(),n.mode.ECB})});var Ui=J((Rn,ki)=>{"use strict";(function(n,e,t){typeof Rn=="object"?ki.exports=Rn=e(W(),Q()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(Rn,function(n){return n.pad.AnsiX923={pad:function(e,t){var o=e.sigBytes,r=t*4,l=r-o%r,u=o+l-1;e.clamp(),e.words[u>>>2]|=l<<24-u%4*8,e.sigBytes+=l},unpad:function(e){var t=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=t}},n.pad.Ansix923})});var Li=J((Nn,qi)=>{"use strict";(function(n,e,t){typeof Nn=="object"?qi.exports=Nn=e(W(),Q()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(Nn,function(n){return n.pad.Iso10126={pad:function(e,t){var o=t*4,r=o-e.sigBytes%o;e.concat(n.lib.WordArray.random(r-1)).concat(n.lib.WordArray.create([r<<24],1))},unpad:function(e){var t=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=t}},n.pad.Iso10126})});var Vi=J((Mn,Hi)=>{"use strict";(function(n,e,t){typeof Mn=="object"?Hi.exports=Mn=e(W(),Q()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(Mn,function(n){return n.pad.Iso97971={pad:function(e,t){e.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(e,t)},unpad:function(e){n.pad.ZeroPadding.unpad(e),e.sigBytes--}},n.pad.Iso97971})});var bi=J((wn,Gi)=>{"use strict";(function(n,e,t){typeof wn=="object"?Gi.exports=wn=e(W(),Q()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(wn,function(n){return n.pad.ZeroPadding={pad:function(e,t){var o=t*4;e.clamp(),e.sigBytes+=o-(e.sigBytes%o||o)},unpad:function(e){for(var t=e.words,o=e.sigBytes-1,o=e.sigBytes-1;o>=0;o--)if(t[o>>>2]>>>24-o%4*8&255){e.sigBytes=o+1;break}}},n.pad.ZeroPadding})});var Wi=J((kn,Ji)=>{"use strict";(function(n,e,t){typeof kn=="object"?Ji.exports=kn=e(W(),Q()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(kn,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})});var Yi=J((Un,zi)=>{"use strict";(function(n,e,t){typeof Un=="object"?zi.exports=Un=e(W(),Q()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],e):e(n.CryptoJS)})(Un,function(n){return(function(e){var t=n,o=t.lib,r=o.CipherParams,l=t.enc,u=l.Hex,a=t.format,f=a.Hex={stringify:function(d){return d.ciphertext.toString(u)},parse:function(d){var c=u.parse(d);return r.create({ciphertext:c})}}})(),n.format.Hex})});var $i=J((qn,Ki)=>{"use strict";(function(n,e,t){typeof qn=="object"?Ki.exports=qn=e(W(),he(),xe(),ue(),Q()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(n.CryptoJS)})(qn,function(n){return(function(){var e=n,t=e.lib,o=t.BlockCipher,r=e.algo,l=[],u=[],a=[],f=[],d=[],c=[],h=[],p=[],x=[],g=[];(function(){for(var m=[],E=0;E<256;E++)E<128?m[E]=E<<1:m[E]=E<<1^283;for(var y=0,_=0,E=0;E<256;E++){var A=_^_<<1^_<<2^_<<3^_<<4;A=A>>>8^A&255^99,l[y]=A,u[A]=y;var T=m[y],D=m[T],B=m[D],I=m[A]*257^A*16843008;a[y]=I<<24|I>>>8,f[y]=I<<16|I>>>16,d[y]=I<<8|I>>>24,c[y]=I;var I=B*16843009^D*65537^T*257^y*16843008;h[A]=I<<24|I>>>8,p[A]=I<<16|I>>>16,x[A]=I<<8|I>>>24,g[A]=I,y?(y=T^m[m[m[B^T]]],_^=m[m[_]]):y=_=1}})();var C=[0,1,2,4,8,16,32,64,128,27,54],v=r.AES=o.extend({_doReset:function(){var m;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var E=this._keyPriorReset=this._key,y=E.words,_=E.sigBytes/4,A=this._nRounds=_+6,T=(A+1)*4,D=this._keySchedule=[],B=0;B<T;B++)B<_?D[B]=y[B]:(m=D[B-1],B%_?_>6&&B%_==4&&(m=l[m>>>24]<<24|l[m>>>16&255]<<16|l[m>>>8&255]<<8|l[m&255]):(m=m<<8|m>>>24,m=l[m>>>24]<<24|l[m>>>16&255]<<16|l[m>>>8&255]<<8|l[m&255],m^=C[B/_|0]<<24),D[B]=D[B-_]^m);for(var I=this._invKeySchedule=[],w=0;w<T;w++){var B=T-w;if(w%4)var m=D[B];else var m=D[B-4];w<4||B<=4?I[w]=m:I[w]=h[l[m>>>24]]^p[l[m>>>16&255]]^x[l[m>>>8&255]]^g[l[m&255]]}}},encryptBlock:function(m,E){this._doCryptBlock(m,E,this._keySchedule,a,f,d,c,l)},decryptBlock:function(m,E){var y=m[E+1];m[E+1]=m[E+3],m[E+3]=y,this._doCryptBlock(m,E,this._invKeySchedule,h,p,x,g,u);var y=m[E+1];m[E+1]=m[E+3],m[E+3]=y},_doCryptBlock:function(m,E,y,_,A,T,D,B){for(var I=this._nRounds,w=m[E]^y[0],S=m[E+1]^y[1],P=m[E+2]^y[2],q=m[E+3]^y[3],M=4,V=1;V<I;V++){var H=_[w>>>24]^A[S>>>16&255]^T[P>>>8&255]^D[q&255]^y[M++],G=_[S>>>24]^A[P>>>16&255]^T[q>>>8&255]^D[w&255]^y[M++],z=_[P>>>24]^A[q>>>16&255]^T[w>>>8&255]^D[S&255]^y[M++],R=_[q>>>24]^A[w>>>16&255]^T[S>>>8&255]^D[P&255]^y[M++];w=H,S=G,P=z,q=R}var H=(B[w>>>24]<<24|B[S>>>16&255]<<16|B[P>>>8&255]<<8|B[q&255])^y[M++],G=(B[S>>>24]<<24|B[P>>>16&255]<<16|B[q>>>8&255]<<8|B[w&255])^y[M++],z=(B[P>>>24]<<24|B[q>>>16&255]<<16|B[w>>>8&255]<<8|B[S&255])^y[M++],R=(B[q>>>24]<<24|B[w>>>16&255]<<16|B[S>>>8&255]<<8|B[P&255])^y[M++];m[E]=H,m[E+1]=G,m[E+2]=z,m[E+3]=R},keySize:256/32});e.AES=o._createHelper(v)})(),n.AES})});var Qi=J((Ln,Xi)=>{"use strict";(function(n,e,t){typeof Ln=="object"?Xi.exports=Ln=e(W(),he(),xe(),ue(),Q()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(n.CryptoJS)})(Ln,function(n){return(function(){var e=n,t=e.lib,o=t.WordArray,r=t.BlockCipher,l=e.algo,u=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],f=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=l.DES=r.extend({_doReset:function(){for(var C=this._key,v=C.words,m=[],E=0;E<56;E++){var y=u[E]-1;m[E]=v[y>>>5]>>>31-y%32&1}for(var _=this._subKeys=[],A=0;A<16;A++){for(var T=_[A]=[],D=f[A],E=0;E<24;E++)T[E/6|0]|=m[(a[E]-1+D)%28]<<31-E%6,T[4+(E/6|0)]|=m[28+(a[E+24]-1+D)%28]<<31-E%6;T[0]=T[0]<<1|T[0]>>>31;for(var E=1;E<7;E++)T[E]=T[E]>>>(E-1)*4+3;T[7]=T[7]<<5|T[7]>>>27}for(var B=this._invSubKeys=[],E=0;E<16;E++)B[E]=_[15-E]},encryptBlock:function(C,v){this._doCryptBlock(C,v,this._subKeys)},decryptBlock:function(C,v){this._doCryptBlock(C,v,this._invSubKeys)},_doCryptBlock:function(C,v,m){this._lBlock=C[v],this._rBlock=C[v+1],p.call(this,4,252645135),p.call(this,16,65535),x.call(this,2,858993459),x.call(this,8,16711935),p.call(this,1,1431655765);for(var E=0;E<16;E++){for(var y=m[E],_=this._lBlock,A=this._rBlock,T=0,D=0;D<8;D++)T|=d[D][((A^y[D])&c[D])>>>0];this._lBlock=A,this._rBlock=_^T}var B=this._lBlock;this._lBlock=this._rBlock,this._rBlock=B,p.call(this,1,1431655765),x.call(this,8,16711935),x.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),C[v]=this._lBlock,C[v+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(C,v){var m=(this._lBlock>>>C^this._rBlock)&v;this._rBlock^=m,this._lBlock^=m<<C}function x(C,v){var m=(this._rBlock>>>C^this._lBlock)&v;this._lBlock^=m,this._rBlock^=m<<C}e.DES=r._createHelper(h);var g=l.TripleDES=r.extend({_doReset:function(){var C=this._key,v=C.words;if(v.length!==2&&v.length!==4&&v.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var m=v.slice(0,2),E=v.length<4?v.slice(0,2):v.slice(2,4),y=v.length<6?v.slice(0,2):v.slice(4,6);this._des1=h.createEncryptor(o.create(m)),this._des2=h.createEncryptor(o.create(E)),this._des3=h.createEncryptor(o.create(y))},encryptBlock:function(C,v){this._des1.encryptBlock(C,v),this._des2.decryptBlock(C,v),this._des3.encryptBlock(C,v)},decryptBlock:function(C,v){this._des3.decryptBlock(C,v),this._des2.encryptBlock(C,v),this._des1.decryptBlock(C,v)},keySize:192/32,ivSize:64/32,blockSize:64/32});e.TripleDES=r._createHelper(g)})(),n.TripleDES})});var Oi=J((Hn,Zi)=>{"use strict";(function(n,e,t){typeof Hn=="object"?Zi.exports=Hn=e(W(),he(),xe(),ue(),Q()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(n.CryptoJS)})(Hn,function(n){return(function(){var e=n,t=e.lib,o=t.StreamCipher,r=e.algo,l=r.RC4=o.extend({_doReset:function(){for(var f=this._key,d=f.words,c=f.sigBytes,h=this._S=[],p=0;p<256;p++)h[p]=p;for(var p=0,x=0;p<256;p++){var g=p%c,C=d[g>>>2]>>>24-g%4*8&255;x=(x+h[p]+C)%256;var v=h[p];h[p]=h[x],h[x]=v}this._i=this._j=0},_doProcessBlock:function(f,d){f[d]^=u.call(this)},keySize:256/32,ivSize:0});function u(){for(var f=this._S,d=this._i,c=this._j,h=0,p=0;p<4;p++){d=(d+1)%256,c=(c+f[d])%256;var x=f[d];f[d]=f[c],f[c]=x,h|=f[(f[d]+f[c])%256]<<24-p*8}return this._i=d,this._j=c,h}e.RC4=o._createHelper(l);var a=r.RC4Drop=l.extend({cfg:l.cfg.extend({drop:192}),_doReset:function(){l._doReset.call(this);for(var f=this.cfg.drop;f>0;f--)u.call(this)}});e.RC4Drop=o._createHelper(a)})(),n.RC4})});var er=J((Vn,ji)=>{"use strict";(function(n,e,t){typeof Vn=="object"?ji.exports=Vn=e(W(),he(),xe(),ue(),Q()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(n.CryptoJS)})(Vn,function(n){return(function(){var e=n,t=e.lib,o=t.StreamCipher,r=e.algo,l=[],u=[],a=[],f=r.Rabbit=o.extend({_doReset:function(){for(var c=this._key.words,h=this.cfg.iv,p=0;p<4;p++)c[p]=(c[p]<<8|c[p]>>>24)&16711935|(c[p]<<24|c[p]>>>8)&4278255360;var x=this._X=[c[0],c[3]<<16|c[2]>>>16,c[1],c[0]<<16|c[3]>>>16,c[2],c[1]<<16|c[0]>>>16,c[3],c[2]<<16|c[1]>>>16],g=this._C=[c[2]<<16|c[2]>>>16,c[0]&4294901760|c[1]&65535,c[3]<<16|c[3]>>>16,c[1]&4294901760|c[2]&65535,c[0]<<16|c[0]>>>16,c[2]&4294901760|c[3]&65535,c[1]<<16|c[1]>>>16,c[3]&4294901760|c[0]&65535];this._b=0;for(var p=0;p<4;p++)d.call(this);for(var p=0;p<8;p++)g[p]^=x[p+4&7];if(h){var C=h.words,v=C[0],m=C[1],E=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,y=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,_=E>>>16|y&4294901760,A=y<<16|E&65535;g[0]^=E,g[1]^=_,g[2]^=y,g[3]^=A,g[4]^=E,g[5]^=_,g[6]^=y,g[7]^=A;for(var p=0;p<4;p++)d.call(this)}},_doProcessBlock:function(c,h){var p=this._X;d.call(this),l[0]=p[0]^p[5]>>>16^p[3]<<16,l[1]=p[2]^p[7]>>>16^p[5]<<16,l[2]=p[4]^p[1]>>>16^p[7]<<16,l[3]=p[6]^p[3]>>>16^p[1]<<16;for(var x=0;x<4;x++)l[x]=(l[x]<<8|l[x]>>>24)&16711935|(l[x]<<24|l[x]>>>8)&4278255360,c[h+x]^=l[x]},blockSize:128/32,ivSize:64/32});function d(){for(var c=this._X,h=this._C,p=0;p<8;p++)u[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<u[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<u[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<u[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<u[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<u[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<u[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<u[6]>>>0?1:0)|0,this._b=h[7]>>>0<u[7]>>>0?1:0;for(var p=0;p<8;p++){var x=c[p]+h[p],g=x&65535,C=x>>>16,v=((g*g>>>17)+g*C>>>15)+C*C,m=((x&4294901760)*x|0)+((x&65535)*x|0);a[p]=v^m}c[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,c[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,c[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,c[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,c[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,c[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,c[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,c[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.Rabbit=o._createHelper(f)})(),n.Rabbit})});var tr=J((Gn,nr)=>{"use strict";(function(n,e,t){typeof Gn=="object"?nr.exports=Gn=e(W(),he(),xe(),ue(),Q()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(n.CryptoJS)})(Gn,function(n){return(function(){var e=n,t=e.lib,o=t.StreamCipher,r=e.algo,l=[],u=[],a=[],f=r.RabbitLegacy=o.extend({_doReset:function(){var c=this._key.words,h=this.cfg.iv,p=this._X=[c[0],c[3]<<16|c[2]>>>16,c[1],c[0]<<16|c[3]>>>16,c[2],c[1]<<16|c[0]>>>16,c[3],c[2]<<16|c[1]>>>16],x=this._C=[c[2]<<16|c[2]>>>16,c[0]&4294901760|c[1]&65535,c[3]<<16|c[3]>>>16,c[1]&4294901760|c[2]&65535,c[0]<<16|c[0]>>>16,c[2]&4294901760|c[3]&65535,c[1]<<16|c[1]>>>16,c[3]&4294901760|c[0]&65535];this._b=0;for(var g=0;g<4;g++)d.call(this);for(var g=0;g<8;g++)x[g]^=p[g+4&7];if(h){var C=h.words,v=C[0],m=C[1],E=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,y=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,_=E>>>16|y&4294901760,A=y<<16|E&65535;x[0]^=E,x[1]^=_,x[2]^=y,x[3]^=A,x[4]^=E,x[5]^=_,x[6]^=y,x[7]^=A;for(var g=0;g<4;g++)d.call(this)}},_doProcessBlock:function(c,h){var p=this._X;d.call(this),l[0]=p[0]^p[5]>>>16^p[3]<<16,l[1]=p[2]^p[7]>>>16^p[5]<<16,l[2]=p[4]^p[1]>>>16^p[7]<<16,l[3]=p[6]^p[3]>>>16^p[1]<<16;for(var x=0;x<4;x++)l[x]=(l[x]<<8|l[x]>>>24)&16711935|(l[x]<<24|l[x]>>>8)&4278255360,c[h+x]^=l[x]},blockSize:128/32,ivSize:64/32});function d(){for(var c=this._X,h=this._C,p=0;p<8;p++)u[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<u[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<u[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<u[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<u[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<u[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<u[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<u[6]>>>0?1:0)|0,this._b=h[7]>>>0<u[7]>>>0?1:0;for(var p=0;p<8;p++){var x=c[p]+h[p],g=x&65535,C=x>>>16,v=((g*g>>>17)+g*C>>>15)+C*C,m=((x&4294901760)*x|0)+((x&65535)*x|0);a[p]=v^m}c[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,c[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,c[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,c[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,c[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,c[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,c[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,c[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.RabbitLegacy=o._createHelper(f)})(),n.RabbitLegacy})});var ir=J((bn,or)=>{"use strict";(function(n,e,t){typeof bn=="object"?or.exports=bn=e(W(),he(),xe(),ue(),Q()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],e):e(n.CryptoJS)})(bn,function(n){return(function(){var e=n,t=e.lib,o=t.BlockCipher,r=e.algo;let l=16,u=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],a=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var f={pbox:[],sbox:[]};function d(g,C){let v=C>>24&255,m=C>>16&255,E=C>>8&255,y=C&255,_=g.sbox[0][v]+g.sbox[1][m];return _=_^g.sbox[2][E],_=_+g.sbox[3][y],_}function c(g,C,v){let m=C,E=v,y;for(let _=0;_<l;++_)m=m^g.pbox[_],E=d(g,m)^E,y=m,m=E,E=y;return y=m,m=E,E=y,E=E^g.pbox[l],m=m^g.pbox[l+1],{left:m,right:E}}function h(g,C,v){let m=C,E=v,y;for(let _=l+1;_>1;--_)m=m^g.pbox[_],E=d(g,m)^E,y=m,m=E,E=y;return y=m,m=E,E=y,E=E^g.pbox[1],m=m^g.pbox[0],{left:m,right:E}}function p(g,C,v){for(let A=0;A<4;A++){g.sbox[A]=[];for(let T=0;T<256;T++)g.sbox[A][T]=a[A][T]}let m=0;for(let A=0;A<l+2;A++)g.pbox[A]=u[A]^C[m],m++,m>=v&&(m=0);let E=0,y=0,_=0;for(let A=0;A<l+2;A+=2)_=c(g,E,y),E=_.left,y=_.right,g.pbox[A]=E,g.pbox[A+1]=y;for(let A=0;A<4;A++)for(let T=0;T<256;T+=2)_=c(g,E,y),E=_.left,y=_.right,g.sbox[A][T]=E,g.sbox[A][T+1]=y;return!0}var x=r.Blowfish=o.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,C=g.words,v=g.sigBytes/4;p(f,C,v)}},encryptBlock:function(g,C){var v=c(f,g[C],g[C+1]);g[C]=v.left,g[C+1]=v.right},decryptBlock:function(g,C){var v=h(f,g[C],g[C+1]);g[C]=v.left,g[C+1]=v.right},blockSize:64/32,keySize:128/32,ivSize:64/32});e.Blowfish=o._createHelper(x)})(),n.Blowfish})});var Ou=J((Jn,rr)=>{"use strict";(function(n,e,t){typeof Jn=="object"?rr.exports=Jn=e(W(),qe(),ti(),ii(),he(),li(),xe(),bt(),xn(),ci(),Jt(),xi(),gi(),Ci(),_n(),_i(),ue(),Q(),Ii(),Fi(),Bi(),Ni(),wi(),Ui(),Li(),Vi(),bi(),Wi(),Yi(),$i(),Qi(),Oi(),er(),tr(),ir()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],e):n.CryptoJS=e(n.CryptoJS)})(Jn,function(n){return n})});var Cr,vr;function yr(){return{geminiUrl:Cr,vertexUrl:vr}}function _r(n,e,t,o){var r,l;if(!n?.baseUrl){let u=yr();return e?(r=u.vertexUrl)!==null&&r!==void 0?r:t:(l=u.geminiUrl)!==null&&l!==void 0?l:o}return n.baseUrl}var re=class{};function L(n,e){let t=/\{([^}]+)\}/g;return n.replace(t,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){let l=e[r];return l!=null?String(l):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function s(n,e,t){for(let l=0;l<e.length-1;l++){let u=e[l];if(u.endsWith("[]")){let a=u.slice(0,-2);if(!(a in n))if(Array.isArray(t))n[a]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(n[a])){let f=n[a];if(Array.isArray(t))for(let d=0;d<f.length;d++){let c=f[d];s(c,e.slice(l+1),t[d])}else for(let d of f)s(d,e.slice(l+1),t)}return}else if(u.endsWith("[0]")){let a=u.slice(0,-3);a in n||(n[a]=[{}]);let f=n[a];s(f[0],e.slice(l+1),t);return}(!n[u]||typeof n[u]!="object")&&(n[u]={}),n=n[u]}let o=e[e.length-1],r=n[o];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[o]=t}function i(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let o=0;o<e.length;o++){if(typeof n!="object"||n===null)return t;let r=e[o];if(r.endsWith("[]")){let l=r.slice(0,-2);if(l in n){let u=n[l];return Array.isArray(u)?u.map(a=>i(a,e.slice(o+1),t)):t}else return t}else n=n[r]}return n}catch(o){if(o instanceof TypeError)return t;throw o}}function Ar(n,e){for(let[t,o]of Object.entries(e)){let r=t.split("."),l=o.split("."),u=new Set,a=-1;for(let f=0;f<r.length;f++)if(r[f]==="*"){a=f;break}if(a!==-1&&l.length>a)for(let f=a;f<l.length;f++){let d=l[f];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&u.add(d)}Yn(n,r,l,0,u)}}function Yn(n,e,t,o,r){if(o>=e.length||typeof n!="object"||n===null)return;let l=e[o];if(l.endsWith("[]")){let u=l.slice(0,-2),a=n;if(u in a&&Array.isArray(a[u]))for(let f of a[u])Yn(f,e,t,o+1,r)}else if(l==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){let u=n,a=Object.keys(u).filter(d=>!d.startsWith("_")&&!r.has(d)),f={};for(let d of a)f[d]=u[d];for(let[d,c]of Object.entries(f)){let h=[];for(let p of t.slice(o))p==="*"?h.push(d):h.push(p);s(u,h,c)}for(let d of a)delete u[d]}}else{let u=n;l in u&&Yn(u[l],e,t,o+1,r)}}function qt(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}function Tr(n){let e={},t=i(n,["operationName"]);t!=null&&s(e,["operationName"],t);let o=i(n,["resourceName"]);return o!=null&&s(e,["_url","resourceName"],o),e}function Sr(n){let e={},t=i(n,["name"]);t!=null&&s(e,["name"],t);let o=i(n,["metadata"]);o!=null&&s(e,["metadata"],o);let r=i(n,["done"]);r!=null&&s(e,["done"],r);let l=i(n,["error"]);l!=null&&s(e,["error"],l);let u=i(n,["response","generateVideoResponse"]);return u!=null&&s(e,["response"],Dr(u)),e}function Ir(n){let e={},t=i(n,["name"]);t!=null&&s(e,["name"],t);let o=i(n,["metadata"]);o!=null&&s(e,["metadata"],o);let r=i(n,["done"]);r!=null&&s(e,["done"],r);let l=i(n,["error"]);l!=null&&s(e,["error"],l);let u=i(n,["response"]);return u!=null&&s(e,["response"],Fr(u)),e}function Dr(n){let e={},t=i(n,["generatedSamples"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(u=>Pr(u))),s(e,["generatedVideos"],l)}let o=i(n,["raiMediaFilteredCount"]);o!=null&&s(e,["raiMediaFilteredCount"],o);let r=i(n,["raiMediaFilteredReasons"]);return r!=null&&s(e,["raiMediaFilteredReasons"],r),e}function Fr(n){let e={},t=i(n,["videos"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(u=>Br(u))),s(e,["generatedVideos"],l)}let o=i(n,["raiMediaFilteredCount"]);o!=null&&s(e,["raiMediaFilteredCount"],o);let r=i(n,["raiMediaFilteredReasons"]);return r!=null&&s(e,["raiMediaFilteredReasons"],r),e}function Pr(n){let e={},t=i(n,["video"]);return t!=null&&s(e,["video"],Ur(t)),e}function Br(n){let e={},t=i(n,["_self"]);return t!=null&&s(e,["video"],qr(t)),e}function Rr(n){let e={},t=i(n,["operationName"]);return t!=null&&s(e,["_url","operationName"],t),e}function Nr(n){let e={},t=i(n,["operationName"]);return t!=null&&s(e,["_url","operationName"],t),e}function Mr(n){let e={},t=i(n,["name"]);t!=null&&s(e,["name"],t);let o=i(n,["metadata"]);o!=null&&s(e,["metadata"],o);let r=i(n,["done"]);r!=null&&s(e,["done"],r);let l=i(n,["error"]);l!=null&&s(e,["error"],l);let u=i(n,["response"]);return u!=null&&s(e,["response"],wr(u)),e}function wr(n){let e={},t=i(n,["sdkHttpResponse"]);t!=null&&s(e,["sdkHttpResponse"],t);let o=i(n,["parent"]);o!=null&&s(e,["parent"],o);let r=i(n,["documentName"]);return r!=null&&s(e,["documentName"],r),e}function To(n){let e={},t=i(n,["name"]);t!=null&&s(e,["name"],t);let o=i(n,["metadata"]);o!=null&&s(e,["metadata"],o);let r=i(n,["done"]);r!=null&&s(e,["done"],r);let l=i(n,["error"]);l!=null&&s(e,["error"],l);let u=i(n,["response"]);return u!=null&&s(e,["response"],kr(u)),e}function kr(n){let e={},t=i(n,["sdkHttpResponse"]);t!=null&&s(e,["sdkHttpResponse"],t);let o=i(n,["parent"]);o!=null&&s(e,["parent"],o);let r=i(n,["documentName"]);return r!=null&&s(e,["documentName"],r),e}function Ur(n){let e={},t=i(n,["uri"]);t!=null&&s(e,["uri"],t);let o=i(n,["encodedVideo"]);o!=null&&s(e,["videoBytes"],qt(o));let r=i(n,["encoding"]);return r!=null&&s(e,["mimeType"],r),e}function qr(n){let e={},t=i(n,["gcsUri"]);t!=null&&s(e,["uri"],t);let o=i(n,["bytesBase64Encoded"]);o!=null&&s(e,["videoBytes"],qt(o));let r=i(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}var ge=(function(n){return n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL",n})(ge||{});var Kn=(function(n){return n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO",n})(Kn||{});var So=(function(n){return n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",n})(So||{});var we=(function(n){return n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT",n})(we||{});var Ue=class{constructor(e){let t={};for(let o of e.headers.entries())t[o[0]]=o[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}};var me=class{get text(){var e,t,o,r,l,u,a,f;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",c=!1,h=[];for(let p of(f=(a=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||a===void 0?void 0:a.parts)!==null&&f!==void 0?f:[]){for(let[x,g]of Object.entries(p))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(g!==null||g!==void 0)&&h.push(x);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;c=!0,d+=p.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?d:void 0}get data(){var e,t,o,r,l,u,a,f;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="",c=[];for(let h of(f=(a=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||a===void 0?void 0:a.parts)!==null&&f!==void 0?f:[]){for(let[p,x]of Object.entries(h))p!=="inlineData"&&(x!==null||x!==void 0)&&c.push(p);h.inlineData&&typeof h.inlineData.data=="string"&&(d+=atob(h.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,t,o,r,l,u,a,f;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");let d=(f=(a=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||a===void 0?void 0:a.parts)===null||f===void 0?void 0:f.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if(d?.length!==0)return d}get executableCode(){var e,t,o,r,l,u,a,f,d;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");let c=(f=(a=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||a===void 0?void 0:a.parts)===null||f===void 0?void 0:f.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if(c?.length!==0)return(d=c?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,t,o,r,l,u,a,f,d;if(((r=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");let c=(f=(a=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||a===void 0?void 0:a.parts)===null||f===void 0?void 0:f.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if(c?.length!==0)return(d=c?.[0])===null||d===void 0?void 0:d.output}},Je=class{},We=class{},$n=class{},Xn=class{},Qn=class{},Zn=class{},ze=class{},Ye=class{},Ke=class{},On=class{};var $e=class n{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){let o=new n,r,l=e;return t?r=Ir(l):r=Sr(l),Object.assign(o,r),o}},Xe=class{},Qe=class{},Ze=class{},jn=class{},et=class{},nt=class{};var tt=class n{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){let o=new n,l=Mr(e);return Object.assign(o,l),o}},ot=class{},it=class{},rt=class{};var Oe=class{};var st=class{get text(){var e,t,o;let r="",l=!1,u=[];for(let a of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(let[f,d]of Object.entries(a))f!=="text"&&f!=="thought"&&d!==null&&u.push(f);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;l=!0,r+=a.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?r:void 0}get data(){var e,t,o;let r="",l=[];for(let u of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(let[a,f]of Object.entries(u))a!=="inlineData"&&f!==null&&l.push(a);u.inlineData&&typeof u.inlineData.data=="string"&&(r+=atob(u.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}};var lt=class{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}};var at=class n{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){let o=new n,l=To(e);return Object.assign(o,l),o}};function Y(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){let t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Io(n,e){let t=Y(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function Do(n){return Array.isArray(n)?n.map(e=>je(e)):[je(n)]}function je(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Fo(n){let e=je(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Po(n){let e=je(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function oo(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Bo(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>oo(e)):[oo(n)]}function ut(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function io(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function ro(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Z(n){if(n==null)throw new Error("ContentUnion is required");return ut(n)?n:{role:"user",parts:Bo(n)}}function Lt(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{let o=Z(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){let t=Z(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Z(t)):[Z(e)]}function te(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(io(n)||ro(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Z(n)]}let e=[],t=[],o=ut(n[0]);for(let r of n){let l=ut(r);if(l!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(r);else{if(io(r)||ro(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(r)}}return o||e.push({role:"user",parts:Bo(t)}),e}function Lr(n,e){n.includes("null")&&(e.nullable=!0);let t=n.filter(o=>o!=="null");if(t.length===1)e.type=Object.values(ge).includes(t[0].toUpperCase())?t[0].toUpperCase():ge.TYPE_UNSPECIFIED;else{e.anyOf=[];for(let o of t)e.anyOf.push({type:Object.values(ge).includes(o.toUpperCase())?o.toUpperCase():ge.TYPE_UNSPECIFIED})}}function ye(n){let e={},t=["items"],o=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");let l=n.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,n=l[1]):l[1].type==="null"&&(e.nullable=!0,n=l[0])),n.type instanceof Array&&Lr(n.type,e);for(let[u,a]of Object.entries(n))if(a!=null)if(u=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(ge).includes(a.toUpperCase())?a.toUpperCase():ge.TYPE_UNSPECIFIED}else if(t.includes(u))e[u]=ye(a);else if(o.includes(u)){let f=[];for(let d of a){if(d.type=="null"){e.nullable=!0;continue}f.push(ye(d))}e[u]=f}else if(r.includes(u)){let f={};for(let[d,c]of Object.entries(a))f[d]=ye(c);e[u]=f}else{if(u==="additionalProperties")continue;e[u]=a}return e}function Ht(n){return ye(n)}function Vt(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Gt(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Te(n){if(n.functionDeclarations)for(let e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ye(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ye(e.response));return n}function Se(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");let e=[];for(let t of n)e.push(t);return e}function Hr(n,e,t,o=1){let r=!e.startsWith(`${t}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function ae(n,e){if(typeof e!="string")throw new Error("name must be a string");return Hr(n,e,"cachedContents")}function Ro(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function ce(n){return qt(n)}function Vr(n){return n!=null&&typeof n=="object"&&"name"in n}function Gr(n){return n!=null&&typeof n=="object"&&"video"in n}function br(n){return n!=null&&typeof n=="object"&&"uri"in n}function No(n){var e;let t;if(Vr(n)&&(t=n.name),!(br(n)&&(t=n.uri,t===void 0))&&!(Gr(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){let r=t.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${t}`);t=r[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function Mo(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function wo(n){for(let e of["models","tunedModels","publisherModels"])if(Jr(n,e))return n[e];return[]}function Jr(n,e){return n!==null&&typeof n=="object"&&e in n}function Wr(n,e={}){let t=n,o={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(o.responseJsonSchema=t.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function zr(n,e={}){let t=[],o=new Set;for(let r of n){let l=r.name;if(o.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);o.add(l);let u=Wr(r,e);u.functionDeclarations&&t.push(...u.functionDeclarations)}return{functionDeclarations:t}}function ko(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;let o=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,r=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function Yr(n){if(typeof n!="string")return n;let e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Uo(n){if(typeof n!="object"||n===null)return{};let e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;let r=t.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let l=!1;for(let u of r){if(typeof u!="object"||u===null)continue;let f=u.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Ie(n,e){let t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function qo(n){let e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function Kr(n){let e={},t=i(n,["responsesFile"]);t!=null&&s(e,["fileName"],t);let o=i(n,["inlinedResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Ts(u))),s(e,["inlinedResponses"],l)}let r=i(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>u)),s(e,["inlinedEmbedContentResponses"],l)}return e}function $r(n){let e={},t=i(n,["predictionsFormat"]);t!=null&&s(e,["format"],t);let o=i(n,["gcsDestination","outputUriPrefix"]);o!=null&&s(e,["gcsUri"],o);let r=i(n,["bigqueryDestination","outputUri"]);return r!=null&&s(e,["bigqueryUri"],r),e}function Xr(n){let e={},t=i(n,["format"]);t!=null&&s(e,["predictionsFormat"],t);let o=i(n,["gcsUri"]);o!=null&&s(e,["gcsDestination","outputUriPrefix"],o);let r=i(n,["bigqueryUri"]);if(r!=null&&s(e,["bigqueryDestination","outputUri"],r),i(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(i(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(i(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Ge(n){let e={},t=i(n,["name"]);t!=null&&s(e,["name"],t);let o=i(n,["metadata","displayName"]);o!=null&&s(e,["displayName"],o);let r=i(n,["metadata","state"]);r!=null&&s(e,["state"],qo(r));let l=i(n,["metadata","createTime"]);l!=null&&s(e,["createTime"],l);let u=i(n,["metadata","endTime"]);u!=null&&s(e,["endTime"],u);let a=i(n,["metadata","updateTime"]);a!=null&&s(e,["updateTime"],a);let f=i(n,["metadata","model"]);f!=null&&s(e,["model"],f);let d=i(n,["metadata","output"]);return d!=null&&s(e,["dest"],Kr(Uo(d))),e}function ft(n){let e={},t=i(n,["name"]);t!=null&&s(e,["name"],t);let o=i(n,["displayName"]);o!=null&&s(e,["displayName"],o);let r=i(n,["state"]);r!=null&&s(e,["state"],qo(r));let l=i(n,["error"]);l!=null&&s(e,["error"],l);let u=i(n,["createTime"]);u!=null&&s(e,["createTime"],u);let a=i(n,["startTime"]);a!=null&&s(e,["startTime"],a);let f=i(n,["endTime"]);f!=null&&s(e,["endTime"],f);let d=i(n,["updateTime"]);d!=null&&s(e,["updateTime"],d);let c=i(n,["model"]);c!=null&&s(e,["model"],c);let h=i(n,["inputConfig"]);h!=null&&s(e,["src"],Qr(h));let p=i(n,["outputConfig"]);p!=null&&s(e,["dest"],$r(Uo(p)));let x=i(n,["completionStats"]);return x!=null&&s(e,["completionStats"],x),e}function Qr(n){let e={},t=i(n,["instancesFormat"]);t!=null&&s(e,["format"],t);let o=i(n,["gcsSource","uris"]);o!=null&&s(e,["gcsUri"],o);let r=i(n,["bigquerySource","inputUri"]);return r!=null&&s(e,["bigqueryUri"],r),e}function Zr(n,e){let t={};if(i(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(i(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(i(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");let o=i(e,["fileName"]);o!=null&&s(t,["fileName"],o);let r=i(e,["inlinedRequests"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>As(n,u))),s(t,["requests","requests"],l)}return t}function Or(n){let e={},t=i(n,["format"]);t!=null&&s(e,["instancesFormat"],t);let o=i(n,["gcsUri"]);o!=null&&s(e,["gcsSource","uris"],o);let r=i(n,["bigqueryUri"]);if(r!=null&&s(e,["bigquerySource","inputUri"],r),i(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(i(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function jr(n){let e={},t=i(n,["data"]);if(t!=null&&s(e,["data"],t),i(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=i(n,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function es(n,e){let t={},o=i(e,["name"]);return o!=null&&s(t,["_url","name"],Ie(n,o)),t}function ns(n,e){let t={},o=i(e,["name"]);return o!=null&&s(t,["_url","name"],Ie(n,o)),t}function ts(n){let e={},t=i(n,["content"]);t!=null&&s(e,["content"],t);let o=i(n,["citationMetadata"]);o!=null&&s(e,["citationMetadata"],os(o));let r=i(n,["tokenCount"]);r!=null&&s(e,["tokenCount"],r);let l=i(n,["finishReason"]);l!=null&&s(e,["finishReason"],l);let u=i(n,["avgLogprobs"]);u!=null&&s(e,["avgLogprobs"],u);let a=i(n,["groundingMetadata"]);a!=null&&s(e,["groundingMetadata"],a);let f=i(n,["index"]);f!=null&&s(e,["index"],f);let d=i(n,["logprobsResult"]);d!=null&&s(e,["logprobsResult"],d);let c=i(n,["safetyRatings"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(x=>x)),s(e,["safetyRatings"],p)}let h=i(n,["urlContextMetadata"]);return h!=null&&s(e,["urlContextMetadata"],h),e}function os(n){let e={},t=i(n,["citationSources"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>r)),s(e,["citations"],o)}return e}function Lo(n){let e={},t=i(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(l=>Rs(l))),s(e,["parts"],r)}let o=i(n,["role"]);return o!=null&&s(e,["role"],o),e}function is(n,e){let t={},o=i(n,["displayName"]);if(e!==void 0&&o!=null&&s(e,["batch","displayName"],o),i(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function rs(n,e){let t={},o=i(n,["displayName"]);e!==void 0&&o!=null&&s(e,["displayName"],o);let r=i(n,["dest"]);return e!==void 0&&r!=null&&s(e,["outputConfig"],Xr(Yr(r))),t}function so(n,e){let t={},o=i(e,["model"]);o!=null&&s(t,["_url","model"],Y(n,o));let r=i(e,["src"]);r!=null&&s(t,["batch","inputConfig"],Zr(n,ko(n,r)));let l=i(e,["config"]);return l!=null&&is(l,t),t}function ss(n,e){let t={},o=i(e,["model"]);o!=null&&s(t,["model"],Y(n,o));let r=i(e,["src"]);r!=null&&s(t,["inputConfig"],Or(ko(n,r)));let l=i(e,["config"]);return l!=null&&rs(l,t),t}function ls(n,e){let t={},o=i(n,["displayName"]);return e!==void 0&&o!=null&&s(e,["batch","displayName"],o),t}function as(n,e){let t={},o=i(e,["model"]);o!=null&&s(t,["_url","model"],Y(n,o));let r=i(e,["src"]);r!=null&&s(t,["batch","inputConfig"],xs(n,r));let l=i(e,["config"]);return l!=null&&ls(l,t),t}function us(n,e){let t={},o=i(e,["name"]);return o!=null&&s(t,["_url","name"],Ie(n,o)),t}function fs(n,e){let t={},o=i(e,["name"]);return o!=null&&s(t,["_url","name"],Ie(n,o)),t}function ds(n){let e={},t=i(n,["sdkHttpResponse"]);t!=null&&s(e,["sdkHttpResponse"],t);let o=i(n,["name"]);o!=null&&s(e,["name"],o);let r=i(n,["done"]);r!=null&&s(e,["done"],r);let l=i(n,["error"]);return l!=null&&s(e,["error"],l),e}function cs(n){let e={},t=i(n,["sdkHttpResponse"]);t!=null&&s(e,["sdkHttpResponse"],t);let o=i(n,["name"]);o!=null&&s(e,["name"],o);let r=i(n,["done"]);r!=null&&s(e,["done"],r);let l=i(n,["error"]);return l!=null&&s(e,["error"],l),e}function ps(n,e){let t={},o=i(e,["contents"]);if(o!=null){let l=Lt(n,o);Array.isArray(l)&&(l=l.map(u=>u)),s(t,["requests[]","request","content"],l)}let r=i(e,["config"]);return r!=null&&(s(t,["_self"],hs(r,t)),Ar(t,{"requests[].*":"requests[].request.*"})),t}function hs(n,e){let t={},o=i(n,["taskType"]);e!==void 0&&o!=null&&s(e,["requests[]","taskType"],o);let r=i(n,["title"]);e!==void 0&&r!=null&&s(e,["requests[]","title"],r);let l=i(n,["outputDimensionality"]);if(e!==void 0&&l!=null&&s(e,["requests[]","outputDimensionality"],l),i(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(i(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function xs(n,e){let t={},o=i(e,["fileName"]);o!=null&&s(t,["file_name"],o);let r=i(e,["inlinedRequests"]);return r!=null&&s(t,["requests"],ps(n,r)),t}function ms(n){let e={};if(i(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let t=i(n,["fileUri"]);t!=null&&s(e,["fileUri"],t);let o=i(n,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function gs(n,e,t){let o={},r=i(e,["systemInstruction"]);t!==void 0&&r!=null&&s(t,["systemInstruction"],Lo(Z(r)));let l=i(e,["temperature"]);l!=null&&s(o,["temperature"],l);let u=i(e,["topP"]);u!=null&&s(o,["topP"],u);let a=i(e,["topK"]);a!=null&&s(o,["topK"],a);let f=i(e,["candidateCount"]);f!=null&&s(o,["candidateCount"],f);let d=i(e,["maxOutputTokens"]);d!=null&&s(o,["maxOutputTokens"],d);let c=i(e,["stopSequences"]);c!=null&&s(o,["stopSequences"],c);let h=i(e,["responseLogprobs"]);h!=null&&s(o,["responseLogprobs"],h);let p=i(e,["logprobs"]);p!=null&&s(o,["logprobs"],p);let x=i(e,["presencePenalty"]);x!=null&&s(o,["presencePenalty"],x);let g=i(e,["frequencyPenalty"]);g!=null&&s(o,["frequencyPenalty"],g);let C=i(e,["seed"]);C!=null&&s(o,["seed"],C);let v=i(e,["responseMimeType"]);v!=null&&s(o,["responseMimeType"],v);let m=i(e,["responseSchema"]);m!=null&&s(o,["responseSchema"],Ht(m));let E=i(e,["responseJsonSchema"]);if(E!=null&&s(o,["responseJsonSchema"],E),i(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(i(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let y=i(e,["safetySettings"]);if(t!==void 0&&y!=null){let P=y;Array.isArray(P)&&(P=P.map(q=>Ns(q))),s(t,["safetySettings"],P)}let _=i(e,["tools"]);if(t!==void 0&&_!=null){let P=Se(_);Array.isArray(P)&&(P=P.map(q=>Ms(Te(q)))),s(t,["tools"],P)}let A=i(e,["toolConfig"]);if(t!==void 0&&A!=null&&s(t,["toolConfig"],A),i(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let T=i(e,["cachedContent"]);t!==void 0&&T!=null&&s(t,["cachedContent"],ae(n,T));let D=i(e,["responseModalities"]);D!=null&&s(o,["responseModalities"],D);let B=i(e,["mediaResolution"]);B!=null&&s(o,["mediaResolution"],B);let I=i(e,["speechConfig"]);if(I!=null&&s(o,["speechConfig"],Vt(I)),i(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let w=i(e,["thinkingConfig"]);w!=null&&s(o,["thinkingConfig"],w);let S=i(e,["imageConfig"]);return S!=null&&s(o,["imageConfig"],S),o}function Es(n){let e={},t=i(n,["sdkHttpResponse"]);t!=null&&s(e,["sdkHttpResponse"],t);let o=i(n,["candidates"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(d=>ts(d))),s(e,["candidates"],f)}let r=i(n,["modelVersion"]);r!=null&&s(e,["modelVersion"],r);let l=i(n,["promptFeedback"]);l!=null&&s(e,["promptFeedback"],l);let u=i(n,["responseId"]);u!=null&&s(e,["responseId"],u);let a=i(n,["usageMetadata"]);return a!=null&&s(e,["usageMetadata"],a),e}function Cs(n,e){let t={},o=i(e,["name"]);return o!=null&&s(t,["_url","name"],Ie(n,o)),t}function vs(n,e){let t={},o=i(e,["name"]);return o!=null&&s(t,["_url","name"],Ie(n,o)),t}function ys(n){let e={};if(i(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let t=i(n,["enableWidget"]);return t!=null&&s(e,["enableWidget"],t),e}function _s(n){let e={};if(i(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(i(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let t=i(n,["timeRangeFilter"]);return t!=null&&s(e,["timeRangeFilter"],t),e}function As(n,e){let t={},o=i(e,["model"]);o!=null&&s(t,["request","model"],Y(n,o));let r=i(e,["contents"]);if(r!=null){let a=te(r);Array.isArray(a)&&(a=a.map(f=>Lo(f))),s(t,["request","contents"],a)}let l=i(e,["metadata"]);l!=null&&s(t,["metadata"],l);let u=i(e,["config"]);return u!=null&&s(t,["request","generationConfig"],gs(n,u,i(t,["request"],{}))),t}function Ts(n){let e={},t=i(n,["response"]);t!=null&&s(e,["response"],Es(t));let o=i(n,["error"]);return o!=null&&s(e,["error"],o),e}function Ss(n,e){let t={},o=i(n,["pageSize"]);e!==void 0&&o!=null&&s(e,["_query","pageSize"],o);let r=i(n,["pageToken"]);if(e!==void 0&&r!=null&&s(e,["_query","pageToken"],r),i(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function Is(n,e){let t={},o=i(n,["pageSize"]);e!==void 0&&o!=null&&s(e,["_query","pageSize"],o);let r=i(n,["pageToken"]);e!==void 0&&r!=null&&s(e,["_query","pageToken"],r);let l=i(n,["filter"]);return e!==void 0&&l!=null&&s(e,["_query","filter"],l),t}function Ds(n){let e={},t=i(n,["config"]);return t!=null&&Ss(t,e),e}function Fs(n){let e={},t=i(n,["config"]);return t!=null&&Is(t,e),e}function Ps(n){let e={},t=i(n,["sdkHttpResponse"]);t!=null&&s(e,["sdkHttpResponse"],t);let o=i(n,["nextPageToken"]);o!=null&&s(e,["nextPageToken"],o);let r=i(n,["operations"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Ge(u))),s(e,["batchJobs"],l)}return e}function Bs(n){let e={},t=i(n,["sdkHttpResponse"]);t!=null&&s(e,["sdkHttpResponse"],t);let o=i(n,["nextPageToken"]);o!=null&&s(e,["nextPageToken"],o);let r=i(n,["batchPredictionJobs"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>ft(u))),s(e,["batchJobs"],l)}return e}function Rs(n){let e={},t=i(n,["functionCall"]);t!=null&&s(e,["functionCall"],t);let o=i(n,["codeExecutionResult"]);o!=null&&s(e,["codeExecutionResult"],o);let r=i(n,["executableCode"]);r!=null&&s(e,["executableCode"],r);let l=i(n,["fileData"]);l!=null&&s(e,["fileData"],ms(l));let u=i(n,["functionResponse"]);u!=null&&s(e,["functionResponse"],u);let a=i(n,["inlineData"]);a!=null&&s(e,["inlineData"],jr(a));let f=i(n,["text"]);f!=null&&s(e,["text"],f);let d=i(n,["thought"]);d!=null&&s(e,["thought"],d);let c=i(n,["thoughtSignature"]);c!=null&&s(e,["thoughtSignature"],c);let h=i(n,["videoMetadata"]);return h!=null&&s(e,["videoMetadata"],h),e}function Ns(n){let e={},t=i(n,["category"]);if(t!=null&&s(e,["category"],t),i(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let o=i(n,["threshold"]);return o!=null&&s(e,["threshold"],o),e}function Ms(n){let e={},t=i(n,["functionDeclarations"]);if(t!=null){let c=t;Array.isArray(c)&&(c=c.map(h=>h)),s(e,["functionDeclarations"],c)}if(i(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=i(n,["googleSearchRetrieval"]);o!=null&&s(e,["googleSearchRetrieval"],o);let r=i(n,["computerUse"]);r!=null&&s(e,["computerUse"],r);let l=i(n,["fileSearch"]);l!=null&&s(e,["fileSearch"],l);let u=i(n,["codeExecution"]);if(u!=null&&s(e,["codeExecution"],u),i(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let a=i(n,["googleMaps"]);a!=null&&s(e,["googleMaps"],ys(a));let f=i(n,["googleSearch"]);f!=null&&s(e,["googleSearch"],_s(f));let d=i(n,["urlContext"]);return d!=null&&s(e,["urlContext"],d),e}var pe=(function(n){return n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents",n})(pe||{}),le=class{constructor(e,t,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,o,r)}init(e,t,o){var r,l;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t?.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!o||Object.keys(o).length===0?u={config:{}}:typeof o=="object"?u=Object.assign({},o):u=o,u.config&&(u.config.pageToken=t.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(l=(r=u.config)===null||r===void 0?void 0:r.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:()=>F(this,null,function*(){if(this.idxInternal>=this.pageLength)if(this.hasNextPage())yield this.nextPage();else return{value:void 0,done:!0};let e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}}),return:()=>F(this,null,function*(){return{value:void 0,done:!0}})}}nextPage(){return F(this,null,function*(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");let e=yield this.requestInternal(this.params);return this.initNextPage(e),this.page})}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}};var dt=class extends re{constructor(e){super(),this.apiClient=e,this.create=t=>F(this,null,function*(){return this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)}),this.createEmbeddings=t=>F(this,null,function*(){if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}),this.list=(...o)=>F(this,[...o],function*(t={}){return new le(pe.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),yield this.listInternal(t),t)})}createInlinedGenerateContentRequest(e){let t=so(this.apiClient,e),o=t._url,r=L("{model}:batchGenerateContent",o),a=t.batch.inputConfig.requests,f=a.requests,d=[];for(let c of f){let h=Object.assign({},c);if(h.systemInstruction){let p=h.systemInstruction;delete h.systemInstruction;let x=h.request;x.systemInstruction=p,h.request=x}d.push(h)}return a.requests=d,delete t.config,delete t._url,delete t._query,{path:r,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){let o=t?Object.assign({},t):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){let l=this.getGcsUri(e),u=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?o.dest=`${l.slice(0,-6)}/dest`:o.dest=`${l}_dest_${r}`;else if(u)o.dest=`${u}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}createInternal(e){return F(this,null,function*(){var t,o,r,l;let u,a="",f={};if(this.apiClient.isVertexAI()){let d=ss(this.apiClient,e);return a=L("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),u.then(c=>ft(c))}else{let d=so(this.apiClient,e);return a=L("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json()),u.then(c=>Ge(c))}})}createEmbeddingsInternal(e){return F(this,null,function*(){var t,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=as(this.apiClient,e);return l=L("{model}:asyncBatchEmbedContent",a._url),u=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>Ge(f))}})}get(e){return F(this,null,function*(){var t,o,r,l;let u,a="",f={};if(this.apiClient.isVertexAI()){let d=vs(this.apiClient,e);return a=L("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),u.then(c=>ft(c))}else{let d=Cs(this.apiClient,e);return a=L("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json()),u.then(c=>Ge(c))}})}cancel(e){return F(this,null,function*(){var t,o,r,l;let u="",a={};if(this.apiClient.isVertexAI()){let f=ns(this.apiClient,e);u=L("batchPredictionJobs/{name}:cancel",f._url),a=f._query,delete f._url,delete f._query,yield this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{let f=es(this.apiClient,e);u=L("batches/{name}:cancel",f._url),a=f._query,delete f._url,delete f._query,yield this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}})}listInternal(e){return F(this,null,function*(){var t,o,r,l;let u,a="",f={};if(this.apiClient.isVertexAI()){let d=Fs(e);return a=L("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{let p=h;return p.sdkHttpResponse={headers:c.headers},p})),u.then(c=>{let h=Bs(c),p=new Oe;return Object.assign(p,h),p})}else{let d=Ds(e);return a=L("batches",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json().then(h=>{let p=h;return p.sdkHttpResponse={headers:c.headers},p})),u.then(c=>{let h=Ps(c),p=new Oe;return Object.assign(p,h),p})}})}delete(e){return F(this,null,function*(){var t,o,r,l;let u,a="",f={};if(this.apiClient.isVertexAI()){let d=fs(this.apiClient,e);return a=L("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{let p=h;return p.sdkHttpResponse={headers:c.headers},p})),u.then(c=>cs(c))}else{let d=us(this.apiClient,e);return a=L("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json().then(h=>{let p=h;return p.sdkHttpResponse={headers:c.headers},p})),u.then(c=>ds(c))}})}};function ws(n){let e={},t=i(n,["data"]);if(t!=null&&s(e,["data"],t),i(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=i(n,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function lo(n){let e={},t=i(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(l=>n0(l))),s(e,["parts"],r)}let o=i(n,["role"]);return o!=null&&s(e,["role"],o),e}function ks(n,e){let t={},o=i(n,["ttl"]);e!==void 0&&o!=null&&s(e,["ttl"],o);let r=i(n,["expireTime"]);e!==void 0&&r!=null&&s(e,["expireTime"],r);let l=i(n,["displayName"]);e!==void 0&&l!=null&&s(e,["displayName"],l);let u=i(n,["contents"]);if(e!==void 0&&u!=null){let c=te(u);Array.isArray(c)&&(c=c.map(h=>lo(h))),s(e,["contents"],c)}let a=i(n,["systemInstruction"]);e!==void 0&&a!=null&&s(e,["systemInstruction"],lo(Z(a)));let f=i(n,["tools"]);if(e!==void 0&&f!=null){let c=f;Array.isArray(c)&&(c=c.map(h=>t0(h))),s(e,["tools"],c)}let d=i(n,["toolConfig"]);if(e!==void 0&&d!=null&&s(e,["toolConfig"],d),i(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function Us(n,e){let t={},o=i(n,["ttl"]);e!==void 0&&o!=null&&s(e,["ttl"],o);let r=i(n,["expireTime"]);e!==void 0&&r!=null&&s(e,["expireTime"],r);let l=i(n,["displayName"]);e!==void 0&&l!=null&&s(e,["displayName"],l);let u=i(n,["contents"]);if(e!==void 0&&u!=null){let h=te(u);Array.isArray(h)&&(h=h.map(p=>p)),s(e,["contents"],h)}let a=i(n,["systemInstruction"]);e!==void 0&&a!=null&&s(e,["systemInstruction"],Z(a));let f=i(n,["tools"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(p=>o0(p))),s(e,["tools"],h)}let d=i(n,["toolConfig"]);e!==void 0&&d!=null&&s(e,["toolConfig"],d);let c=i(n,["kmsKeyName"]);return e!==void 0&&c!=null&&s(e,["encryption_spec","kmsKeyName"],c),t}function qs(n,e){let t={},o=i(e,["model"]);o!=null&&s(t,["model"],Io(n,o));let r=i(e,["config"]);return r!=null&&ks(r,t),t}function Ls(n,e){let t={},o=i(e,["model"]);o!=null&&s(t,["model"],Io(n,o));let r=i(e,["config"]);return r!=null&&Us(r,t),t}function Hs(n,e){let t={},o=i(e,["name"]);return o!=null&&s(t,["_url","name"],ae(n,o)),t}function Vs(n,e){let t={},o=i(e,["name"]);return o!=null&&s(t,["_url","name"],ae(n,o)),t}function Gs(n){let e={},t=i(n,["sdkHttpResponse"]);return t!=null&&s(e,["sdkHttpResponse"],t),e}function bs(n){let e={},t=i(n,["sdkHttpResponse"]);return t!=null&&s(e,["sdkHttpResponse"],t),e}function Js(n){let e={};if(i(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let t=i(n,["fileUri"]);t!=null&&s(e,["fileUri"],t);let o=i(n,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function Ws(n){let e={};if(i(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let t=i(n,["description"]);t!=null&&s(e,["description"],t);let o=i(n,["name"]);o!=null&&s(e,["name"],o);let r=i(n,["parameters"]);r!=null&&s(e,["parameters"],r);let l=i(n,["parametersJsonSchema"]);l!=null&&s(e,["parametersJsonSchema"],l);let u=i(n,["response"]);u!=null&&s(e,["response"],u);let a=i(n,["responseJsonSchema"]);return a!=null&&s(e,["responseJsonSchema"],a),e}function zs(n,e){let t={},o=i(e,["name"]);return o!=null&&s(t,["_url","name"],ae(n,o)),t}function Ys(n,e){let t={},o=i(e,["name"]);return o!=null&&s(t,["_url","name"],ae(n,o)),t}function Ks(n){let e={};if(i(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let t=i(n,["enableWidget"]);return t!=null&&s(e,["enableWidget"],t),e}function $s(n){let e={};if(i(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(i(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let t=i(n,["timeRangeFilter"]);return t!=null&&s(e,["timeRangeFilter"],t),e}function Xs(n,e){let t={},o=i(n,["pageSize"]);e!==void 0&&o!=null&&s(e,["_query","pageSize"],o);let r=i(n,["pageToken"]);return e!==void 0&&r!=null&&s(e,["_query","pageToken"],r),t}function Qs(n,e){let t={},o=i(n,["pageSize"]);e!==void 0&&o!=null&&s(e,["_query","pageSize"],o);let r=i(n,["pageToken"]);return e!==void 0&&r!=null&&s(e,["_query","pageToken"],r),t}function Zs(n){let e={},t=i(n,["config"]);return t!=null&&Xs(t,e),e}function Os(n){let e={},t=i(n,["config"]);return t!=null&&Qs(t,e),e}function js(n){let e={},t=i(n,["sdkHttpResponse"]);t!=null&&s(e,["sdkHttpResponse"],t);let o=i(n,["nextPageToken"]);o!=null&&s(e,["nextPageToken"],o);let r=i(n,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>u)),s(e,["cachedContents"],l)}return e}function e0(n){let e={},t=i(n,["sdkHttpResponse"]);t!=null&&s(e,["sdkHttpResponse"],t);let o=i(n,["nextPageToken"]);o!=null&&s(e,["nextPageToken"],o);let r=i(n,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>u)),s(e,["cachedContents"],l)}return e}function n0(n){let e={},t=i(n,["functionCall"]);t!=null&&s(e,["functionCall"],t);let o=i(n,["codeExecutionResult"]);o!=null&&s(e,["codeExecutionResult"],o);let r=i(n,["executableCode"]);r!=null&&s(e,["executableCode"],r);let l=i(n,["fileData"]);l!=null&&s(e,["fileData"],Js(l));let u=i(n,["functionResponse"]);u!=null&&s(e,["functionResponse"],u);let a=i(n,["inlineData"]);a!=null&&s(e,["inlineData"],ws(a));let f=i(n,["text"]);f!=null&&s(e,["text"],f);let d=i(n,["thought"]);d!=null&&s(e,["thought"],d);let c=i(n,["thoughtSignature"]);c!=null&&s(e,["thoughtSignature"],c);let h=i(n,["videoMetadata"]);return h!=null&&s(e,["videoMetadata"],h),e}function t0(n){let e={},t=i(n,["functionDeclarations"]);if(t!=null){let c=t;Array.isArray(c)&&(c=c.map(h=>h)),s(e,["functionDeclarations"],c)}if(i(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=i(n,["googleSearchRetrieval"]);o!=null&&s(e,["googleSearchRetrieval"],o);let r=i(n,["computerUse"]);r!=null&&s(e,["computerUse"],r);let l=i(n,["fileSearch"]);l!=null&&s(e,["fileSearch"],l);let u=i(n,["codeExecution"]);if(u!=null&&s(e,["codeExecution"],u),i(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let a=i(n,["googleMaps"]);a!=null&&s(e,["googleMaps"],Ks(a));let f=i(n,["googleSearch"]);f!=null&&s(e,["googleSearch"],$s(f));let d=i(n,["urlContext"]);return d!=null&&s(e,["urlContext"],d),e}function o0(n){let e={},t=i(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(p=>Ws(p))),s(e,["functionDeclarations"],h)}let o=i(n,["retrieval"]);o!=null&&s(e,["retrieval"],o);let r=i(n,["googleSearchRetrieval"]);r!=null&&s(e,["googleSearchRetrieval"],r);let l=i(n,["computerUse"]);if(l!=null&&s(e,["computerUse"],l),i(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let u=i(n,["codeExecution"]);u!=null&&s(e,["codeExecution"],u);let a=i(n,["enterpriseWebSearch"]);a!=null&&s(e,["enterpriseWebSearch"],a);let f=i(n,["googleMaps"]);f!=null&&s(e,["googleMaps"],f);let d=i(n,["googleSearch"]);d!=null&&s(e,["googleSearch"],d);let c=i(n,["urlContext"]);return c!=null&&s(e,["urlContext"],c),e}function i0(n,e){let t={},o=i(n,["ttl"]);e!==void 0&&o!=null&&s(e,["ttl"],o);let r=i(n,["expireTime"]);return e!==void 0&&r!=null&&s(e,["expireTime"],r),t}function r0(n,e){let t={},o=i(n,["ttl"]);e!==void 0&&o!=null&&s(e,["ttl"],o);let r=i(n,["expireTime"]);return e!==void 0&&r!=null&&s(e,["expireTime"],r),t}function s0(n,e){let t={},o=i(e,["name"]);o!=null&&s(t,["_url","name"],ae(n,o));let r=i(e,["config"]);return r!=null&&i0(r,t),t}function l0(n,e){let t={},o=i(e,["name"]);o!=null&&s(t,["_url","name"],ae(n,o));let r=i(e,["config"]);return r!=null&&r0(r,t),t}var ct=class extends re{constructor(e){super(),this.apiClient=e,this.list=(...o)=>F(this,[...o],function*(t={}){return new le(pe.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),yield this.listInternal(t),t)})}create(e){return F(this,null,function*(){var t,o,r,l;let u,a="",f={};if(this.apiClient.isVertexAI()){let d=Ls(this.apiClient,e);return a=L("cachedContents",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),u.then(c=>c)}else{let d=qs(this.apiClient,e);return a=L("cachedContents",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json()),u.then(c=>c)}})}get(e){return F(this,null,function*(){var t,o,r,l;let u,a="",f={};if(this.apiClient.isVertexAI()){let d=Ys(this.apiClient,e);return a=L("{name}",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),u.then(c=>c)}else{let d=zs(this.apiClient,e);return a=L("{name}",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json()),u.then(c=>c)}})}delete(e){return F(this,null,function*(){var t,o,r,l;let u,a="",f={};if(this.apiClient.isVertexAI()){let d=Vs(this.apiClient,e);return a=L("{name}",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{let p=h;return p.sdkHttpResponse={headers:c.headers},p})),u.then(c=>{let h=bs(c),p=new Qe;return Object.assign(p,h),p})}else{let d=Hs(this.apiClient,e);return a=L("{name}",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json().then(h=>{let p=h;return p.sdkHttpResponse={headers:c.headers},p})),u.then(c=>{let h=Gs(c),p=new Qe;return Object.assign(p,h),p})}})}update(e){return F(this,null,function*(){var t,o,r,l;let u,a="",f={};if(this.apiClient.isVertexAI()){let d=l0(this.apiClient,e);return a=L("{name}",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),u.then(c=>c)}else{let d=s0(this.apiClient,e);return a=L("{name}",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json()),u.then(c=>c)}})}listInternal(e){return F(this,null,function*(){var t,o,r,l;let u,a="",f={};if(this.apiClient.isVertexAI()){let d=Os(e);return a=L("cachedContents",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{let p=h;return p.sdkHttpResponse={headers:c.headers},p})),u.then(c=>{let h=e0(c),p=new Ze;return Object.assign(p,h),p})}else{let d=Zs(e);return a=L("cachedContents",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json().then(h=>{let p=h;return p.sdkHttpResponse={headers:c.headers},p})),u.then(c=>{let h=js(c),p=new Ze;return Object.assign(p,h),p})}})}};function ao(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],o=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $(n){return this instanceof $?(this.v=n,this):new $(n)}function _e(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=t.apply(n,e||[]),r,l=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",u),r[Symbol.asyncIterator]=function(){return this},r;function u(x){return function(g){return Promise.resolve(g).then(x,h)}}function a(x,g){o[x]&&(r[x]=function(C){return new Promise(function(v,m){l.push([x,C,v,m])>1||f(x,C)})},g&&(r[x]=g(r[x])))}function f(x,g){try{d(o[x](g))}catch(C){p(l[0][3],C)}}function d(x){x.value instanceof $?Promise.resolve(x.value.v).then(c,h):p(l[0][2],x)}function c(x){f("next",x)}function h(x){f("throw",x)}function p(x,g){x(g),l.shift(),l.length&&f(l[0][0],l[0][1])}}function ke(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof ao=="function"?ao(n):n[Symbol.iterator](),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(l){t[l]=n[l]&&function(u){return new Promise(function(a,f){u=n[l](u),r(a,f,u.done,u.value)})}}function r(l,u,a,f){Promise.resolve(f).then(function(d){l({value:d,done:a})},u)}}function a0(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;let t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:Ho(t)}function Ho(n){if(n.parts===void 0||n.parts.length===0)return!1;for(let e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function u0(n){if(n.length!==0){for(let e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function uo(n){if(n===void 0||n.length===0)return[];let e=[],t=n.length,o=0;for(;o<t;)if(n[o].role==="user")e.push(n[o]),o++;else{let r=[],l=!0;for(;o<t&&n[o].role==="model";)r.push(n[o]),l&&!Ho(n[o])&&(l=!1),o++;l?e.push(...r):e.pop()}return e}var pt=class{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new ht(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}},ht=class{constructor(e,t,o,r={},l=[]){this.apiClient=e,this.modelsModule=t,this.model=o,this.config=r,this.history=l,this.sendPromise=Promise.resolve(),u0(l)}sendMessage(e){return F(this,null,function*(){var t;yield this.sendPromise;let o=Z(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=F(this,null,function*(){var l,u,a;let f=yield r,d=(u=(l=f.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content,c=f.automaticFunctionCallingHistory,h=this.getHistory(!0).length,p=[];c!=null&&(p=(a=c.slice(h))!==null&&a!==void 0?a:[]);let x=d?[d]:[];this.recordHistory(o,x,p)}),yield this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r})}sendMessageStream(e){return F(this,null,function*(){var t;yield this.sendPromise;let o=Z(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});let l=yield r;return this.processStreamResponse(l,o)})}getHistory(e=!1){let t=e?uo(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var o,r;return _e(this,arguments,function*(){var u,a,f,d;let c=[];try{for(var h=!0,p=ke(e),x;x=yield $(p.next()),u=x.done,!u;h=!0){d=x.value,h=!1;let g=d;if(a0(g)){let C=(r=(o=g.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content;C!==void 0&&c.push(C)}yield yield $(g)}}catch(g){a={error:g}}finally{try{!h&&!u&&(f=p.return)&&(yield $(f.call(p)))}finally{if(a)throw a.error}}this.recordHistory(t,c)})}recordHistory(e,t,o){let r=[];t.length>0&&t.every(l=>l.role!==void 0)?r=t:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...uo(o)):this.history.push(e),this.history.push(...r)}};var en=class n extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,n.prototype)}};function f0(n){let e={},t=i(n,["file"]);return t!=null&&s(e,["file"],t),e}function d0(n){let e={},t=i(n,["sdkHttpResponse"]);return t!=null&&s(e,["sdkHttpResponse"],t),e}function c0(n){let e={},t=i(n,["name"]);return t!=null&&s(e,["_url","file"],No(t)),e}function p0(n){let e={},t=i(n,["sdkHttpResponse"]);return t!=null&&s(e,["sdkHttpResponse"],t),e}function h0(n){let e={},t=i(n,["name"]);return t!=null&&s(e,["_url","file"],No(t)),e}function x0(n,e){let t={},o=i(n,["pageSize"]);e!==void 0&&o!=null&&s(e,["_query","pageSize"],o);let r=i(n,["pageToken"]);return e!==void 0&&r!=null&&s(e,["_query","pageToken"],r),t}function m0(n){let e={},t=i(n,["config"]);return t!=null&&x0(t,e),e}function g0(n){let e={},t=i(n,["sdkHttpResponse"]);t!=null&&s(e,["sdkHttpResponse"],t);let o=i(n,["nextPageToken"]);o!=null&&s(e,["nextPageToken"],o);let r=i(n,["files"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>u)),s(e,["files"],l)}return e}var xt=class extends re{constructor(e){super(),this.apiClient=e,this.list=(...o)=>F(this,[...o],function*(t={}){return new le(pe.PAGED_ITEM_FILES,r=>this.listInternal(r),yield this.listInternal(t),t)})}upload(e){return F(this,null,function*(){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)})}download(e){return F(this,null,function*(){yield this.apiClient.downloadFile(e)})}listInternal(e){return F(this,null,function*(){var t,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=m0(e);return l=L("files",a._url),u=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(d=>{let c=d;return c.sdkHttpResponse={headers:f.headers},c})),r.then(f=>{let d=g0(f),c=new ot;return Object.assign(c,d),c})}})}createInternal(e){return F(this,null,function*(){var t,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=f0(e);return l=L("upload/v1beta/files",a._url),u=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>{let d=d0(f),c=new it;return Object.assign(c,d),c})}})}get(e){return F(this,null,function*(){var t,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=h0(e);return l=L("files/{file}",a._url),u=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>f)}})}delete(e){return F(this,null,function*(){var t,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=c0(e);return l=L("files/{file}",a._url),u=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(d=>{let c=d;return c.sdkHttpResponse={headers:f.headers},c})),r.then(f=>{let d=p0(f),c=new rt;return Object.assign(c,d),c})}})}};function be(n){let e={},t=i(n,["data"]);if(t!=null&&s(e,["data"],t),i(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=i(n,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function E0(n){let e={},t=i(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(l=>M0(l))),s(e,["parts"],r)}let o=i(n,["role"]);return o!=null&&s(e,["role"],o),e}function C0(n){let e={};if(i(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let t=i(n,["fileUri"]);t!=null&&s(e,["fileUri"],t);let o=i(n,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function v0(n){let e={};if(i(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let t=i(n,["description"]);t!=null&&s(e,["description"],t);let o=i(n,["name"]);o!=null&&s(e,["name"],o);let r=i(n,["parameters"]);r!=null&&s(e,["parameters"],r);let l=i(n,["parametersJsonSchema"]);l!=null&&s(e,["parametersJsonSchema"],l);let u=i(n,["response"]);u!=null&&s(e,["response"],u);let a=i(n,["responseJsonSchema"]);return a!=null&&s(e,["responseJsonSchema"],a),e}function y0(n){let e={},t=i(n,["modelSelectionConfig"]);t!=null&&s(e,["modelConfig"],t);let o=i(n,["responseJsonSchema"]);o!=null&&s(e,["responseJsonSchema"],o);let r=i(n,["audioTimestamp"]);r!=null&&s(e,["audioTimestamp"],r);let l=i(n,["candidateCount"]);l!=null&&s(e,["candidateCount"],l);let u=i(n,["enableAffectiveDialog"]);u!=null&&s(e,["enableAffectiveDialog"],u);let a=i(n,["frequencyPenalty"]);a!=null&&s(e,["frequencyPenalty"],a);let f=i(n,["logprobs"]);f!=null&&s(e,["logprobs"],f);let d=i(n,["maxOutputTokens"]);d!=null&&s(e,["maxOutputTokens"],d);let c=i(n,["mediaResolution"]);c!=null&&s(e,["mediaResolution"],c);let h=i(n,["presencePenalty"]);h!=null&&s(e,["presencePenalty"],h);let p=i(n,["responseLogprobs"]);p!=null&&s(e,["responseLogprobs"],p);let x=i(n,["responseMimeType"]);x!=null&&s(e,["responseMimeType"],x);let g=i(n,["responseModalities"]);g!=null&&s(e,["responseModalities"],g);let C=i(n,["responseSchema"]);C!=null&&s(e,["responseSchema"],C);let v=i(n,["routingConfig"]);v!=null&&s(e,["routingConfig"],v);let m=i(n,["seed"]);m!=null&&s(e,["seed"],m);let E=i(n,["speechConfig"]);E!=null&&s(e,["speechConfig"],Vo(E));let y=i(n,["stopSequences"]);y!=null&&s(e,["stopSequences"],y);let _=i(n,["temperature"]);_!=null&&s(e,["temperature"],_);let A=i(n,["thinkingConfig"]);A!=null&&s(e,["thinkingConfig"],A);let T=i(n,["topK"]);T!=null&&s(e,["topK"],T);let D=i(n,["topP"]);if(D!=null&&s(e,["topP"],D),i(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function _0(n){let e={};if(i(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let t=i(n,["enableWidget"]);return t!=null&&s(e,["enableWidget"],t),e}function A0(n){let e={};if(i(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(i(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let t=i(n,["timeRangeFilter"]);return t!=null&&s(e,["timeRangeFilter"],t),e}function T0(n,e){let t={},o=i(n,["generationConfig"]);e!==void 0&&o!=null&&s(e,["setup","generationConfig"],o);let r=i(n,["responseModalities"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig","responseModalities"],r);let l=i(n,["temperature"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig","temperature"],l);let u=i(n,["topP"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topP"],u);let a=i(n,["topK"]);e!==void 0&&a!=null&&s(e,["setup","generationConfig","topK"],a);let f=i(n,["maxOutputTokens"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","maxOutputTokens"],f);let d=i(n,["mediaResolution"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","mediaResolution"],d);let c=i(n,["seed"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","seed"],c);let h=i(n,["speechConfig"]);e!==void 0&&h!=null&&s(e,["setup","generationConfig","speechConfig"],Gt(h));let p=i(n,["thinkingConfig"]);e!==void 0&&p!=null&&s(e,["setup","generationConfig","thinkingConfig"],p);let x=i(n,["enableAffectiveDialog"]);e!==void 0&&x!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],x);let g=i(n,["systemInstruction"]);e!==void 0&&g!=null&&s(e,["setup","systemInstruction"],E0(Z(g)));let C=i(n,["tools"]);if(e!==void 0&&C!=null){let T=Se(C);Array.isArray(T)&&(T=T.map(D=>k0(Te(D)))),s(e,["setup","tools"],T)}let v=i(n,["sessionResumption"]);e!==void 0&&v!=null&&s(e,["setup","sessionResumption"],w0(v));let m=i(n,["inputAudioTranscription"]);e!==void 0&&m!=null&&s(e,["setup","inputAudioTranscription"],m);let E=i(n,["outputAudioTranscription"]);e!==void 0&&E!=null&&s(e,["setup","outputAudioTranscription"],E);let y=i(n,["realtimeInputConfig"]);e!==void 0&&y!=null&&s(e,["setup","realtimeInputConfig"],y);let _=i(n,["contextWindowCompression"]);e!==void 0&&_!=null&&s(e,["setup","contextWindowCompression"],_);let A=i(n,["proactivity"]);return e!==void 0&&A!=null&&s(e,["setup","proactivity"],A),t}function S0(n,e){let t={},o=i(n,["generationConfig"]);e!==void 0&&o!=null&&s(e,["setup","generationConfig"],y0(o));let r=i(n,["responseModalities"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig","responseModalities"],r);let l=i(n,["temperature"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig","temperature"],l);let u=i(n,["topP"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topP"],u);let a=i(n,["topK"]);e!==void 0&&a!=null&&s(e,["setup","generationConfig","topK"],a);let f=i(n,["maxOutputTokens"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","maxOutputTokens"],f);let d=i(n,["mediaResolution"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","mediaResolution"],d);let c=i(n,["seed"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","seed"],c);let h=i(n,["speechConfig"]);e!==void 0&&h!=null&&s(e,["setup","generationConfig","speechConfig"],Vo(Gt(h)));let p=i(n,["thinkingConfig"]);e!==void 0&&p!=null&&s(e,["setup","generationConfig","thinkingConfig"],p);let x=i(n,["enableAffectiveDialog"]);e!==void 0&&x!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],x);let g=i(n,["systemInstruction"]);e!==void 0&&g!=null&&s(e,["setup","systemInstruction"],Z(g));let C=i(n,["tools"]);if(e!==void 0&&C!=null){let T=Se(C);Array.isArray(T)&&(T=T.map(D=>U0(Te(D)))),s(e,["setup","tools"],T)}let v=i(n,["sessionResumption"]);e!==void 0&&v!=null&&s(e,["setup","sessionResumption"],v);let m=i(n,["inputAudioTranscription"]);e!==void 0&&m!=null&&s(e,["setup","inputAudioTranscription"],m);let E=i(n,["outputAudioTranscription"]);e!==void 0&&E!=null&&s(e,["setup","outputAudioTranscription"],E);let y=i(n,["realtimeInputConfig"]);e!==void 0&&y!=null&&s(e,["setup","realtimeInputConfig"],y);let _=i(n,["contextWindowCompression"]);e!==void 0&&_!=null&&s(e,["setup","contextWindowCompression"],_);let A=i(n,["proactivity"]);return e!==void 0&&A!=null&&s(e,["setup","proactivity"],A),t}function I0(n,e){let t={},o=i(e,["model"]);o!=null&&s(t,["setup","model"],Y(n,o));let r=i(e,["config"]);return r!=null&&s(t,["config"],T0(r,t)),t}function D0(n,e){let t={},o=i(e,["model"]);o!=null&&s(t,["setup","model"],Y(n,o));let r=i(e,["config"]);return r!=null&&s(t,["config"],S0(r,t)),t}function F0(n){let e={},t=i(n,["musicGenerationConfig"]);return t!=null&&s(e,["musicGenerationConfig"],t),e}function P0(n){let e={},t=i(n,["weightedPrompts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>r)),s(e,["weightedPrompts"],o)}return e}function B0(n){let e={},t=i(n,["media"]);if(t!=null){let d=Do(t);Array.isArray(d)&&(d=d.map(c=>be(c))),s(e,["mediaChunks"],d)}let o=i(n,["audio"]);o!=null&&s(e,["audio"],be(Po(o)));let r=i(n,["audioStreamEnd"]);r!=null&&s(e,["audioStreamEnd"],r);let l=i(n,["video"]);l!=null&&s(e,["video"],be(Fo(l)));let u=i(n,["text"]);u!=null&&s(e,["text"],u);let a=i(n,["activityStart"]);a!=null&&s(e,["activityStart"],a);let f=i(n,["activityEnd"]);return f!=null&&s(e,["activityEnd"],f),e}function R0(n){let e={},t=i(n,["media"]);if(t!=null){let d=Do(t);Array.isArray(d)&&(d=d.map(c=>c)),s(e,["mediaChunks"],d)}let o=i(n,["audio"]);o!=null&&s(e,["audio"],Po(o));let r=i(n,["audioStreamEnd"]);r!=null&&s(e,["audioStreamEnd"],r);let l=i(n,["video"]);l!=null&&s(e,["video"],Fo(l));let u=i(n,["text"]);u!=null&&s(e,["text"],u);let a=i(n,["activityStart"]);a!=null&&s(e,["activityStart"],a);let f=i(n,["activityEnd"]);return f!=null&&s(e,["activityEnd"],f),e}function N0(n){let e={},t=i(n,["setupComplete"]);t!=null&&s(e,["setupComplete"],t);let o=i(n,["serverContent"]);o!=null&&s(e,["serverContent"],o);let r=i(n,["toolCall"]);r!=null&&s(e,["toolCall"],r);let l=i(n,["toolCallCancellation"]);l!=null&&s(e,["toolCallCancellation"],l);let u=i(n,["usageMetadata"]);u!=null&&s(e,["usageMetadata"],q0(u));let a=i(n,["goAway"]);a!=null&&s(e,["goAway"],a);let f=i(n,["sessionResumptionUpdate"]);return f!=null&&s(e,["sessionResumptionUpdate"],f),e}function M0(n){let e={},t=i(n,["functionCall"]);t!=null&&s(e,["functionCall"],t);let o=i(n,["codeExecutionResult"]);o!=null&&s(e,["codeExecutionResult"],o);let r=i(n,["executableCode"]);r!=null&&s(e,["executableCode"],r);let l=i(n,["fileData"]);l!=null&&s(e,["fileData"],C0(l));let u=i(n,["functionResponse"]);u!=null&&s(e,["functionResponse"],u);let a=i(n,["inlineData"]);a!=null&&s(e,["inlineData"],be(a));let f=i(n,["text"]);f!=null&&s(e,["text"],f);let d=i(n,["thought"]);d!=null&&s(e,["thought"],d);let c=i(n,["thoughtSignature"]);c!=null&&s(e,["thoughtSignature"],c);let h=i(n,["videoMetadata"]);return h!=null&&s(e,["videoMetadata"],h),e}function w0(n){let e={},t=i(n,["handle"]);if(t!=null&&s(e,["handle"],t),i(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Vo(n){let e={},t=i(n,["languageCode"]);t!=null&&s(e,["languageCode"],t);let o=i(n,["voiceConfig"]);if(o!=null&&s(e,["voiceConfig"],o),i(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function k0(n){let e={},t=i(n,["functionDeclarations"]);if(t!=null){let c=t;Array.isArray(c)&&(c=c.map(h=>h)),s(e,["functionDeclarations"],c)}if(i(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=i(n,["googleSearchRetrieval"]);o!=null&&s(e,["googleSearchRetrieval"],o);let r=i(n,["computerUse"]);r!=null&&s(e,["computerUse"],r);let l=i(n,["fileSearch"]);l!=null&&s(e,["fileSearch"],l);let u=i(n,["codeExecution"]);if(u!=null&&s(e,["codeExecution"],u),i(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let a=i(n,["googleMaps"]);a!=null&&s(e,["googleMaps"],_0(a));let f=i(n,["googleSearch"]);f!=null&&s(e,["googleSearch"],A0(f));let d=i(n,["urlContext"]);return d!=null&&s(e,["urlContext"],d),e}function U0(n){let e={},t=i(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(p=>v0(p))),s(e,["functionDeclarations"],h)}let o=i(n,["retrieval"]);o!=null&&s(e,["retrieval"],o);let r=i(n,["googleSearchRetrieval"]);r!=null&&s(e,["googleSearchRetrieval"],r);let l=i(n,["computerUse"]);if(l!=null&&s(e,["computerUse"],l),i(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let u=i(n,["codeExecution"]);u!=null&&s(e,["codeExecution"],u);let a=i(n,["enterpriseWebSearch"]);a!=null&&s(e,["enterpriseWebSearch"],a);let f=i(n,["googleMaps"]);f!=null&&s(e,["googleMaps"],f);let d=i(n,["googleSearch"]);d!=null&&s(e,["googleSearch"],d);let c=i(n,["urlContext"]);return c!=null&&s(e,["urlContext"],c),e}function q0(n){let e={},t=i(n,["promptTokenCount"]);t!=null&&s(e,["promptTokenCount"],t);let o=i(n,["cachedContentTokenCount"]);o!=null&&s(e,["cachedContentTokenCount"],o);let r=i(n,["candidatesTokenCount"]);r!=null&&s(e,["responseTokenCount"],r);let l=i(n,["toolUsePromptTokenCount"]);l!=null&&s(e,["toolUsePromptTokenCount"],l);let u=i(n,["thoughtsTokenCount"]);u!=null&&s(e,["thoughtsTokenCount"],u);let a=i(n,["totalTokenCount"]);a!=null&&s(e,["totalTokenCount"],a);let f=i(n,["promptTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(g=>g)),s(e,["promptTokensDetails"],x)}let d=i(n,["cacheTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(g=>g)),s(e,["cacheTokensDetails"],x)}let c=i(n,["candidatesTokensDetails"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(g=>g)),s(e,["responseTokensDetails"],x)}let h=i(n,["toolUsePromptTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(g=>g)),s(e,["toolUsePromptTokensDetails"],x)}let p=i(n,["trafficType"]);return p!=null&&s(e,["trafficType"],p),e}function L0(n){let e={},t=i(n,["data"]);if(t!=null&&s(e,["data"],t),i(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=i(n,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function H0(n){let e={},t=i(n,["content"]);t!=null&&s(e,["content"],t);let o=i(n,["citationMetadata"]);o!=null&&s(e,["citationMetadata"],V0(o));let r=i(n,["tokenCount"]);r!=null&&s(e,["tokenCount"],r);let l=i(n,["finishReason"]);l!=null&&s(e,["finishReason"],l);let u=i(n,["avgLogprobs"]);u!=null&&s(e,["avgLogprobs"],u);let a=i(n,["groundingMetadata"]);a!=null&&s(e,["groundingMetadata"],a);let f=i(n,["index"]);f!=null&&s(e,["index"],f);let d=i(n,["logprobsResult"]);d!=null&&s(e,["logprobsResult"],d);let c=i(n,["safetyRatings"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(x=>x)),s(e,["safetyRatings"],p)}let h=i(n,["urlContextMetadata"]);return h!=null&&s(e,["urlContextMetadata"],h),e}function V0(n){let e={},t=i(n,["citationSources"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>r)),s(e,["citations"],o)}return e}function G0(n,e){let t={},o=i(e,["model"]);o!=null&&s(t,["_url","model"],Y(n,o));let r=i(e,["contents"]);if(r!=null){let l=te(r);Array.isArray(l)&&(l=l.map(u=>u)),s(t,["contents"],l)}return t}function b0(n){let e={},t=i(n,["sdkHttpResponse"]);t!=null&&s(e,["sdkHttpResponse"],t);let o=i(n,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),s(e,["tokensInfo"],r)}return e}function J0(n){let e={},t=i(n,["values"]);t!=null&&s(e,["values"],t);let o=i(n,["statistics"]);return o!=null&&s(e,["statistics"],W0(o)),e}function W0(n){let e={},t=i(n,["truncated"]);t!=null&&s(e,["truncated"],t);let o=i(n,["token_count"]);return o!=null&&s(e,["tokenCount"],o),e}function tn(n){let e={},t=i(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(l=>Xl(l))),s(e,["parts"],r)}let o=i(n,["role"]);return o!=null&&s(e,["role"],o),e}function z0(n){let e={},t=i(n,["controlType"]);t!=null&&s(e,["controlType"],t);let o=i(n,["enableControlImageComputation"]);return o!=null&&s(e,["computeControl"],o),e}function Y0(n){let e={};if(i(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(i(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(i(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function K0(n,e){let t={},o=i(n,["systemInstruction"]);e!==void 0&&o!=null&&s(e,["systemInstruction"],Z(o));let r=i(n,["tools"]);if(e!==void 0&&r!=null){let u=r;Array.isArray(u)&&(u=u.map(a=>zo(a))),s(e,["tools"],u)}let l=i(n,["generationConfig"]);return e!==void 0&&l!=null&&s(e,["generationConfig"],Ul(l)),t}function $0(n,e){let t={},o=i(e,["model"]);o!=null&&s(t,["_url","model"],Y(n,o));let r=i(e,["contents"]);if(r!=null){let u=te(r);Array.isArray(u)&&(u=u.map(a=>tn(a))),s(t,["contents"],u)}let l=i(e,["config"]);return l!=null&&Y0(l),t}function X0(n,e){let t={},o=i(e,["model"]);o!=null&&s(t,["_url","model"],Y(n,o));let r=i(e,["contents"]);if(r!=null){let u=te(r);Array.isArray(u)&&(u=u.map(a=>a)),s(t,["contents"],u)}let l=i(e,["config"]);return l!=null&&K0(l,t),t}function Q0(n){let e={},t=i(n,["sdkHttpResponse"]);t!=null&&s(e,["sdkHttpResponse"],t);let o=i(n,["totalTokens"]);o!=null&&s(e,["totalTokens"],o);let r=i(n,["cachedContentTokenCount"]);return r!=null&&s(e,["cachedContentTokenCount"],r),e}function Z0(n){let e={},t=i(n,["sdkHttpResponse"]);t!=null&&s(e,["sdkHttpResponse"],t);let o=i(n,["totalTokens"]);return o!=null&&s(e,["totalTokens"],o),e}function O0(n,e){let t={},o=i(e,["model"]);return o!=null&&s(t,["_url","name"],Y(n,o)),t}function j0(n,e){let t={},o=i(e,["model"]);return o!=null&&s(t,["_url","name"],Y(n,o)),t}function el(n){let e={},t=i(n,["sdkHttpResponse"]);return t!=null&&s(e,["sdkHttpResponse"],t),e}function nl(n){let e={},t=i(n,["sdkHttpResponse"]);return t!=null&&s(e,["sdkHttpResponse"],t),e}function tl(n,e){let t={},o=i(n,["outputGcsUri"]);e!==void 0&&o!=null&&s(e,["parameters","storageUri"],o);let r=i(n,["negativePrompt"]);e!==void 0&&r!=null&&s(e,["parameters","negativePrompt"],r);let l=i(n,["numberOfImages"]);e!==void 0&&l!=null&&s(e,["parameters","sampleCount"],l);let u=i(n,["aspectRatio"]);e!==void 0&&u!=null&&s(e,["parameters","aspectRatio"],u);let a=i(n,["guidanceScale"]);e!==void 0&&a!=null&&s(e,["parameters","guidanceScale"],a);let f=i(n,["seed"]);e!==void 0&&f!=null&&s(e,["parameters","seed"],f);let d=i(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&s(e,["parameters","safetySetting"],d);let c=i(n,["personGeneration"]);e!==void 0&&c!=null&&s(e,["parameters","personGeneration"],c);let h=i(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&s(e,["parameters","includeSafetyAttributes"],h);let p=i(n,["includeRaiReason"]);e!==void 0&&p!=null&&s(e,["parameters","includeRaiReason"],p);let x=i(n,["language"]);e!==void 0&&x!=null&&s(e,["parameters","language"],x);let g=i(n,["outputMimeType"]);e!==void 0&&g!=null&&s(e,["parameters","outputOptions","mimeType"],g);let C=i(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&s(e,["parameters","outputOptions","compressionQuality"],C);let v=i(n,["addWatermark"]);e!==void 0&&v!=null&&s(e,["parameters","addWatermark"],v);let m=i(n,["labels"]);e!==void 0&&m!=null&&s(e,["labels"],m);let E=i(n,["editMode"]);e!==void 0&&E!=null&&s(e,["parameters","editMode"],E);let y=i(n,["baseSteps"]);return e!==void 0&&y!=null&&s(e,["parameters","editConfig","baseSteps"],y),t}function ol(n,e){let t={},o=i(e,["model"]);o!=null&&s(t,["_url","model"],Y(n,o));let r=i(e,["prompt"]);r!=null&&s(t,["instances[0]","prompt"],r);let l=i(e,["referenceImages"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(f=>na(f))),s(t,["instances[0]","referenceImages"],a)}let u=i(e,["config"]);return u!=null&&tl(u,t),t}function il(n){let e={},t=i(n,["sdkHttpResponse"]);t!=null&&s(e,["sdkHttpResponse"],t);let o=i(n,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>on(l))),s(e,["generatedImages"],r)}return e}function rl(n,e){let t={},o=i(n,["taskType"]);e!==void 0&&o!=null&&s(e,["requests[]","taskType"],o);let r=i(n,["title"]);e!==void 0&&r!=null&&s(e,["requests[]","title"],r);let l=i(n,["outputDimensionality"]);if(e!==void 0&&l!=null&&s(e,["requests[]","outputDimensionality"],l),i(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(i(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function sl(n,e){let t={},o=i(n,["taskType"]);e!==void 0&&o!=null&&s(e,["instances[]","task_type"],o);let r=i(n,["title"]);e!==void 0&&r!=null&&s(e,["instances[]","title"],r);let l=i(n,["outputDimensionality"]);e!==void 0&&l!=null&&s(e,["parameters","outputDimensionality"],l);let u=i(n,["mimeType"]);e!==void 0&&u!=null&&s(e,["instances[]","mimeType"],u);let a=i(n,["autoTruncate"]);return e!==void 0&&a!=null&&s(e,["parameters","autoTruncate"],a),t}function ll(n,e){let t={},o=i(e,["model"]);o!=null&&s(t,["_url","model"],Y(n,o));let r=i(e,["contents"]);if(r!=null){let a=Lt(n,r);Array.isArray(a)&&(a=a.map(f=>f)),s(t,["requests[]","content"],a)}let l=i(e,["config"]);l!=null&&rl(l,t);let u=i(e,["model"]);return u!==void 0&&s(t,["requests[]","model"],Y(n,u)),t}function al(n,e){let t={},o=i(e,["model"]);o!=null&&s(t,["_url","model"],Y(n,o));let r=i(e,["contents"]);if(r!=null){let u=Lt(n,r);Array.isArray(u)&&(u=u.map(a=>a)),s(t,["instances[]","content"],u)}let l=i(e,["config"]);return l!=null&&sl(l,t),t}function ul(n){let e={},t=i(n,["sdkHttpResponse"]);t!=null&&s(e,["sdkHttpResponse"],t);let o=i(n,["embeddings"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),s(e,["embeddings"],l)}let r=i(n,["metadata"]);return r!=null&&s(e,["metadata"],r),e}function fl(n){let e={},t=i(n,["sdkHttpResponse"]);t!=null&&s(e,["sdkHttpResponse"],t);let o=i(n,["predictions[]","embeddings"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>J0(u))),s(e,["embeddings"],l)}let r=i(n,["metadata"]);return r!=null&&s(e,["metadata"],r),e}function dl(n){let e={},t=i(n,["endpoint"]);t!=null&&s(e,["name"],t);let o=i(n,["deployedModelId"]);return o!=null&&s(e,["deployedModelId"],o),e}function cl(n){let e={};if(i(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let t=i(n,["fileUri"]);t!=null&&s(e,["fileUri"],t);let o=i(n,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function pl(n){let e={};if(i(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let t=i(n,["description"]);t!=null&&s(e,["description"],t);let o=i(n,["name"]);o!=null&&s(e,["name"],o);let r=i(n,["parameters"]);r!=null&&s(e,["parameters"],r);let l=i(n,["parametersJsonSchema"]);l!=null&&s(e,["parametersJsonSchema"],l);let u=i(n,["response"]);u!=null&&s(e,["response"],u);let a=i(n,["responseJsonSchema"]);return a!=null&&s(e,["responseJsonSchema"],a),e}function hl(n,e,t){let o={},r=i(e,["systemInstruction"]);t!==void 0&&r!=null&&s(t,["systemInstruction"],tn(Z(r)));let l=i(e,["temperature"]);l!=null&&s(o,["temperature"],l);let u=i(e,["topP"]);u!=null&&s(o,["topP"],u);let a=i(e,["topK"]);a!=null&&s(o,["topK"],a);let f=i(e,["candidateCount"]);f!=null&&s(o,["candidateCount"],f);let d=i(e,["maxOutputTokens"]);d!=null&&s(o,["maxOutputTokens"],d);let c=i(e,["stopSequences"]);c!=null&&s(o,["stopSequences"],c);let h=i(e,["responseLogprobs"]);h!=null&&s(o,["responseLogprobs"],h);let p=i(e,["logprobs"]);p!=null&&s(o,["logprobs"],p);let x=i(e,["presencePenalty"]);x!=null&&s(o,["presencePenalty"],x);let g=i(e,["frequencyPenalty"]);g!=null&&s(o,["frequencyPenalty"],g);let C=i(e,["seed"]);C!=null&&s(o,["seed"],C);let v=i(e,["responseMimeType"]);v!=null&&s(o,["responseMimeType"],v);let m=i(e,["responseSchema"]);m!=null&&s(o,["responseSchema"],Ht(m));let E=i(e,["responseJsonSchema"]);if(E!=null&&s(o,["responseJsonSchema"],E),i(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(i(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let y=i(e,["safetySettings"]);if(t!==void 0&&y!=null){let P=y;Array.isArray(P)&&(P=P.map(q=>ta(q))),s(t,["safetySettings"],P)}let _=i(e,["tools"]);if(t!==void 0&&_!=null){let P=Se(_);Array.isArray(P)&&(P=P.map(q=>aa(Te(q)))),s(t,["tools"],P)}let A=i(e,["toolConfig"]);if(t!==void 0&&A!=null&&s(t,["toolConfig"],A),i(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let T=i(e,["cachedContent"]);t!==void 0&&T!=null&&s(t,["cachedContent"],ae(n,T));let D=i(e,["responseModalities"]);D!=null&&s(o,["responseModalities"],D);let B=i(e,["mediaResolution"]);B!=null&&s(o,["mediaResolution"],B);let I=i(e,["speechConfig"]);if(I!=null&&s(o,["speechConfig"],Vt(I)),i(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let w=i(e,["thinkingConfig"]);w!=null&&s(o,["thinkingConfig"],w);let S=i(e,["imageConfig"]);return S!=null&&s(o,["imageConfig"],S),o}function xl(n,e,t){let o={},r=i(e,["systemInstruction"]);t!==void 0&&r!=null&&s(t,["systemInstruction"],Z(r));let l=i(e,["temperature"]);l!=null&&s(o,["temperature"],l);let u=i(e,["topP"]);u!=null&&s(o,["topP"],u);let a=i(e,["topK"]);a!=null&&s(o,["topK"],a);let f=i(e,["candidateCount"]);f!=null&&s(o,["candidateCount"],f);let d=i(e,["maxOutputTokens"]);d!=null&&s(o,["maxOutputTokens"],d);let c=i(e,["stopSequences"]);c!=null&&s(o,["stopSequences"],c);let h=i(e,["responseLogprobs"]);h!=null&&s(o,["responseLogprobs"],h);let p=i(e,["logprobs"]);p!=null&&s(o,["logprobs"],p);let x=i(e,["presencePenalty"]);x!=null&&s(o,["presencePenalty"],x);let g=i(e,["frequencyPenalty"]);g!=null&&s(o,["frequencyPenalty"],g);let C=i(e,["seed"]);C!=null&&s(o,["seed"],C);let v=i(e,["responseMimeType"]);v!=null&&s(o,["responseMimeType"],v);let m=i(e,["responseSchema"]);m!=null&&s(o,["responseSchema"],Ht(m));let E=i(e,["responseJsonSchema"]);E!=null&&s(o,["responseJsonSchema"],E);let y=i(e,["routingConfig"]);y!=null&&s(o,["routingConfig"],y);let _=i(e,["modelSelectionConfig"]);_!=null&&s(o,["modelConfig"],_);let A=i(e,["safetySettings"]);if(t!==void 0&&A!=null){let H=A;Array.isArray(H)&&(H=H.map(G=>G)),s(t,["safetySettings"],H)}let T=i(e,["tools"]);if(t!==void 0&&T!=null){let H=Se(T);Array.isArray(H)&&(H=H.map(G=>zo(Te(G)))),s(t,["tools"],H)}let D=i(e,["toolConfig"]);t!==void 0&&D!=null&&s(t,["toolConfig"],D);let B=i(e,["labels"]);t!==void 0&&B!=null&&s(t,["labels"],B);let I=i(e,["cachedContent"]);t!==void 0&&I!=null&&s(t,["cachedContent"],ae(n,I));let w=i(e,["responseModalities"]);w!=null&&s(o,["responseModalities"],w);let S=i(e,["mediaResolution"]);S!=null&&s(o,["mediaResolution"],S);let P=i(e,["speechConfig"]);P!=null&&s(o,["speechConfig"],Wo(Vt(P)));let q=i(e,["audioTimestamp"]);q!=null&&s(o,["audioTimestamp"],q);let M=i(e,["thinkingConfig"]);M!=null&&s(o,["thinkingConfig"],M);let V=i(e,["imageConfig"]);return V!=null&&s(o,["imageConfig"],V),o}function fo(n,e){let t={},o=i(e,["model"]);o!=null&&s(t,["_url","model"],Y(n,o));let r=i(e,["contents"]);if(r!=null){let u=te(r);Array.isArray(u)&&(u=u.map(a=>tn(a))),s(t,["contents"],u)}let l=i(e,["config"]);return l!=null&&s(t,["generationConfig"],hl(n,l,t)),t}function co(n,e){let t={},o=i(e,["model"]);o!=null&&s(t,["_url","model"],Y(n,o));let r=i(e,["contents"]);if(r!=null){let u=te(r);Array.isArray(u)&&(u=u.map(a=>a)),s(t,["contents"],u)}let l=i(e,["config"]);return l!=null&&s(t,["generationConfig"],xl(n,l,t)),t}function po(n){let e={},t=i(n,["sdkHttpResponse"]);t!=null&&s(e,["sdkHttpResponse"],t);let o=i(n,["candidates"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(d=>H0(d))),s(e,["candidates"],f)}let r=i(n,["modelVersion"]);r!=null&&s(e,["modelVersion"],r);let l=i(n,["promptFeedback"]);l!=null&&s(e,["promptFeedback"],l);let u=i(n,["responseId"]);u!=null&&s(e,["responseId"],u);let a=i(n,["usageMetadata"]);return a!=null&&s(e,["usageMetadata"],a),e}function ho(n){let e={},t=i(n,["sdkHttpResponse"]);t!=null&&s(e,["sdkHttpResponse"],t);let o=i(n,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(c=>c)),s(e,["candidates"],d)}let r=i(n,["createTime"]);r!=null&&s(e,["createTime"],r);let l=i(n,["modelVersion"]);l!=null&&s(e,["modelVersion"],l);let u=i(n,["promptFeedback"]);u!=null&&s(e,["promptFeedback"],u);let a=i(n,["responseId"]);a!=null&&s(e,["responseId"],a);let f=i(n,["usageMetadata"]);return f!=null&&s(e,["usageMetadata"],f),e}function ml(n,e){let t={};if(i(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(i(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");let o=i(n,["numberOfImages"]);e!==void 0&&o!=null&&s(e,["parameters","sampleCount"],o);let r=i(n,["aspectRatio"]);e!==void 0&&r!=null&&s(e,["parameters","aspectRatio"],r);let l=i(n,["guidanceScale"]);if(e!==void 0&&l!=null&&s(e,["parameters","guidanceScale"],l),i(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let u=i(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&s(e,["parameters","safetySetting"],u);let a=i(n,["personGeneration"]);e!==void 0&&a!=null&&s(e,["parameters","personGeneration"],a);let f=i(n,["includeSafetyAttributes"]);e!==void 0&&f!=null&&s(e,["parameters","includeSafetyAttributes"],f);let d=i(n,["includeRaiReason"]);e!==void 0&&d!=null&&s(e,["parameters","includeRaiReason"],d);let c=i(n,["language"]);e!==void 0&&c!=null&&s(e,["parameters","language"],c);let h=i(n,["outputMimeType"]);e!==void 0&&h!=null&&s(e,["parameters","outputOptions","mimeType"],h);let p=i(n,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&s(e,["parameters","outputOptions","compressionQuality"],p),i(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(i(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let x=i(n,["imageSize"]);if(e!==void 0&&x!=null&&s(e,["parameters","sampleImageSize"],x),i(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function gl(n,e){let t={},o=i(n,["outputGcsUri"]);e!==void 0&&o!=null&&s(e,["parameters","storageUri"],o);let r=i(n,["negativePrompt"]);e!==void 0&&r!=null&&s(e,["parameters","negativePrompt"],r);let l=i(n,["numberOfImages"]);e!==void 0&&l!=null&&s(e,["parameters","sampleCount"],l);let u=i(n,["aspectRatio"]);e!==void 0&&u!=null&&s(e,["parameters","aspectRatio"],u);let a=i(n,["guidanceScale"]);e!==void 0&&a!=null&&s(e,["parameters","guidanceScale"],a);let f=i(n,["seed"]);e!==void 0&&f!=null&&s(e,["parameters","seed"],f);let d=i(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&s(e,["parameters","safetySetting"],d);let c=i(n,["personGeneration"]);e!==void 0&&c!=null&&s(e,["parameters","personGeneration"],c);let h=i(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&s(e,["parameters","includeSafetyAttributes"],h);let p=i(n,["includeRaiReason"]);e!==void 0&&p!=null&&s(e,["parameters","includeRaiReason"],p);let x=i(n,["language"]);e!==void 0&&x!=null&&s(e,["parameters","language"],x);let g=i(n,["outputMimeType"]);e!==void 0&&g!=null&&s(e,["parameters","outputOptions","mimeType"],g);let C=i(n,["outputCompressionQuality"]);e!==void 0&&C!=null&&s(e,["parameters","outputOptions","compressionQuality"],C);let v=i(n,["addWatermark"]);e!==void 0&&v!=null&&s(e,["parameters","addWatermark"],v);let m=i(n,["labels"]);e!==void 0&&m!=null&&s(e,["labels"],m);let E=i(n,["imageSize"]);e!==void 0&&E!=null&&s(e,["parameters","sampleImageSize"],E);let y=i(n,["enhancePrompt"]);return e!==void 0&&y!=null&&s(e,["parameters","enhancePrompt"],y),t}function El(n,e){let t={},o=i(e,["model"]);o!=null&&s(t,["_url","model"],Y(n,o));let r=i(e,["prompt"]);r!=null&&s(t,["instances[0]","prompt"],r);let l=i(e,["config"]);return l!=null&&ml(l,t),t}function Cl(n,e){let t={},o=i(e,["model"]);o!=null&&s(t,["_url","model"],Y(n,o));let r=i(e,["prompt"]);r!=null&&s(t,["instances[0]","prompt"],r);let l=i(e,["config"]);return l!=null&&gl(l,t),t}function vl(n){let e={},t=i(n,["sdkHttpResponse"]);t!=null&&s(e,["sdkHttpResponse"],t);let o=i(n,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Nl(u))),s(e,["generatedImages"],l)}let r=i(n,["positivePromptSafetyAttributes"]);return r!=null&&s(e,["positivePromptSafetyAttributes"],bo(r)),e}function yl(n){let e={},t=i(n,["sdkHttpResponse"]);t!=null&&s(e,["sdkHttpResponse"],t);let o=i(n,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>on(u))),s(e,["generatedImages"],l)}let r=i(n,["positivePromptSafetyAttributes"]);return r!=null&&s(e,["positivePromptSafetyAttributes"],Jo(r)),e}function _l(n,e){let t={},o=i(n,["numberOfVideos"]);if(e!==void 0&&o!=null&&s(e,["parameters","sampleCount"],o),i(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(i(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");let r=i(n,["durationSeconds"]);if(e!==void 0&&r!=null&&s(e,["parameters","durationSeconds"],r),i(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let l=i(n,["aspectRatio"]);e!==void 0&&l!=null&&s(e,["parameters","aspectRatio"],l);let u=i(n,["resolution"]);e!==void 0&&u!=null&&s(e,["parameters","resolution"],u);let a=i(n,["personGeneration"]);if(e!==void 0&&a!=null&&s(e,["parameters","personGeneration"],a),i(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");let f=i(n,["negativePrompt"]);e!==void 0&&f!=null&&s(e,["parameters","negativePrompt"],f);let d=i(n,["enhancePrompt"]);if(e!==void 0&&d!=null&&s(e,["parameters","enhancePrompt"],d),i(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");let c=i(n,["lastFrame"]);e!==void 0&&c!=null&&s(e,["instances[0]","lastFrame"],rn(c));let h=i(n,["referenceImages"]);if(e!==void 0&&h!=null){let p=h;Array.isArray(p)&&(p=p.map(x=>ya(x))),s(e,["instances[0]","referenceImages"],p)}if(i(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(i(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function Al(n,e){let t={},o=i(n,["numberOfVideos"]);e!==void 0&&o!=null&&s(e,["parameters","sampleCount"],o);let r=i(n,["outputGcsUri"]);e!==void 0&&r!=null&&s(e,["parameters","storageUri"],r);let l=i(n,["fps"]);e!==void 0&&l!=null&&s(e,["parameters","fps"],l);let u=i(n,["durationSeconds"]);e!==void 0&&u!=null&&s(e,["parameters","durationSeconds"],u);let a=i(n,["seed"]);e!==void 0&&a!=null&&s(e,["parameters","seed"],a);let f=i(n,["aspectRatio"]);e!==void 0&&f!=null&&s(e,["parameters","aspectRatio"],f);let d=i(n,["resolution"]);e!==void 0&&d!=null&&s(e,["parameters","resolution"],d);let c=i(n,["personGeneration"]);e!==void 0&&c!=null&&s(e,["parameters","personGeneration"],c);let h=i(n,["pubsubTopic"]);e!==void 0&&h!=null&&s(e,["parameters","pubsubTopic"],h);let p=i(n,["negativePrompt"]);e!==void 0&&p!=null&&s(e,["parameters","negativePrompt"],p);let x=i(n,["enhancePrompt"]);e!==void 0&&x!=null&&s(e,["parameters","enhancePrompt"],x);let g=i(n,["generateAudio"]);e!==void 0&&g!=null&&s(e,["parameters","generateAudio"],g);let C=i(n,["lastFrame"]);e!==void 0&&C!=null&&s(e,["instances[0]","lastFrame"],se(C));let v=i(n,["referenceImages"]);if(e!==void 0&&v!=null){let y=v;Array.isArray(y)&&(y=y.map(_=>_a(_))),s(e,["instances[0]","referenceImages"],y)}let m=i(n,["mask"]);e!==void 0&&m!=null&&s(e,["instances[0]","mask"],va(m));let E=i(n,["compressionQuality"]);return e!==void 0&&E!=null&&s(e,["parameters","compressionQuality"],E),t}function Tl(n){let e={},t=i(n,["name"]);t!=null&&s(e,["name"],t);let o=i(n,["metadata"]);o!=null&&s(e,["metadata"],o);let r=i(n,["done"]);r!=null&&s(e,["done"],r);let l=i(n,["error"]);l!=null&&s(e,["error"],l);let u=i(n,["response","generateVideoResponse"]);return u!=null&&s(e,["response"],Fl(u)),e}function Sl(n){let e={},t=i(n,["name"]);t!=null&&s(e,["name"],t);let o=i(n,["metadata"]);o!=null&&s(e,["metadata"],o);let r=i(n,["done"]);r!=null&&s(e,["done"],r);let l=i(n,["error"]);l!=null&&s(e,["error"],l);let u=i(n,["response"]);return u!=null&&s(e,["response"],Pl(u)),e}function Il(n,e){let t={},o=i(e,["model"]);o!=null&&s(t,["_url","model"],Y(n,o));let r=i(e,["prompt"]);r!=null&&s(t,["instances[0]","prompt"],r);let l=i(e,["image"]);l!=null&&s(t,["instances[0]","image"],rn(l));let u=i(e,["video"]);u!=null&&s(t,["instances[0]","video"],Yo(u));let a=i(e,["source"]);a!=null&&Bl(a,t);let f=i(e,["config"]);return f!=null&&_l(f,t),t}function Dl(n,e){let t={},o=i(e,["model"]);o!=null&&s(t,["_url","model"],Y(n,o));let r=i(e,["prompt"]);r!=null&&s(t,["instances[0]","prompt"],r);let l=i(e,["image"]);l!=null&&s(t,["instances[0]","image"],se(l));let u=i(e,["video"]);u!=null&&s(t,["instances[0]","video"],Ko(u));let a=i(e,["source"]);a!=null&&Rl(a,t);let f=i(e,["config"]);return f!=null&&Al(f,t),t}function Fl(n){let e={},t=i(n,["generatedSamples"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(u=>wl(u))),s(e,["generatedVideos"],l)}let o=i(n,["raiMediaFilteredCount"]);o!=null&&s(e,["raiMediaFilteredCount"],o);let r=i(n,["raiMediaFilteredReasons"]);return r!=null&&s(e,["raiMediaFilteredReasons"],r),e}function Pl(n){let e={},t=i(n,["videos"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(u=>kl(u))),s(e,["generatedVideos"],l)}let o=i(n,["raiMediaFilteredCount"]);o!=null&&s(e,["raiMediaFilteredCount"],o);let r=i(n,["raiMediaFilteredReasons"]);return r!=null&&s(e,["raiMediaFilteredReasons"],r),e}function Bl(n,e){let t={},o=i(n,["prompt"]);e!==void 0&&o!=null&&s(e,["instances[0]","prompt"],o);let r=i(n,["image"]);e!==void 0&&r!=null&&s(e,["instances[0]","image"],rn(r));let l=i(n,["video"]);return e!==void 0&&l!=null&&s(e,["instances[0]","video"],Yo(l)),t}function Rl(n,e){let t={},o=i(n,["prompt"]);e!==void 0&&o!=null&&s(e,["instances[0]","prompt"],o);let r=i(n,["image"]);e!==void 0&&r!=null&&s(e,["instances[0]","image"],se(r));let l=i(n,["video"]);return e!==void 0&&l!=null&&s(e,["instances[0]","video"],Ko(l)),t}function Nl(n){let e={},t=i(n,["_self"]);t!=null&&s(e,["image"],Gl(t));let o=i(n,["raiFilteredReason"]);o!=null&&s(e,["raiFilteredReason"],o);let r=i(n,["_self"]);return r!=null&&s(e,["safetyAttributes"],bo(r)),e}function on(n){let e={},t=i(n,["_self"]);t!=null&&s(e,["image"],Go(t));let o=i(n,["raiFilteredReason"]);o!=null&&s(e,["raiFilteredReason"],o);let r=i(n,["_self"]);r!=null&&s(e,["safetyAttributes"],Jo(r));let l=i(n,["prompt"]);return l!=null&&s(e,["enhancedPrompt"],l),e}function Ml(n){let e={},t=i(n,["_self"]);t!=null&&s(e,["mask"],Go(t));let o=i(n,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),s(e,["labels"],r)}return e}function wl(n){let e={},t=i(n,["video"]);return t!=null&&s(e,["video"],Ea(t)),e}function kl(n){let e={},t=i(n,["_self"]);return t!=null&&s(e,["video"],Ca(t)),e}function Ul(n){let e={},t=i(n,["modelSelectionConfig"]);t!=null&&s(e,["modelConfig"],t);let o=i(n,["responseJsonSchema"]);o!=null&&s(e,["responseJsonSchema"],o);let r=i(n,["audioTimestamp"]);r!=null&&s(e,["audioTimestamp"],r);let l=i(n,["candidateCount"]);l!=null&&s(e,["candidateCount"],l);let u=i(n,["enableAffectiveDialog"]);u!=null&&s(e,["enableAffectiveDialog"],u);let a=i(n,["frequencyPenalty"]);a!=null&&s(e,["frequencyPenalty"],a);let f=i(n,["logprobs"]);f!=null&&s(e,["logprobs"],f);let d=i(n,["maxOutputTokens"]);d!=null&&s(e,["maxOutputTokens"],d);let c=i(n,["mediaResolution"]);c!=null&&s(e,["mediaResolution"],c);let h=i(n,["presencePenalty"]);h!=null&&s(e,["presencePenalty"],h);let p=i(n,["responseLogprobs"]);p!=null&&s(e,["responseLogprobs"],p);let x=i(n,["responseMimeType"]);x!=null&&s(e,["responseMimeType"],x);let g=i(n,["responseModalities"]);g!=null&&s(e,["responseModalities"],g);let C=i(n,["responseSchema"]);C!=null&&s(e,["responseSchema"],C);let v=i(n,["routingConfig"]);v!=null&&s(e,["routingConfig"],v);let m=i(n,["seed"]);m!=null&&s(e,["seed"],m);let E=i(n,["speechConfig"]);E!=null&&s(e,["speechConfig"],Wo(E));let y=i(n,["stopSequences"]);y!=null&&s(e,["stopSequences"],y);let _=i(n,["temperature"]);_!=null&&s(e,["temperature"],_);let A=i(n,["thinkingConfig"]);A!=null&&s(e,["thinkingConfig"],A);let T=i(n,["topK"]);T!=null&&s(e,["topK"],T);let D=i(n,["topP"]);if(D!=null&&s(e,["topP"],D),i(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function ql(n,e){let t={},o=i(e,["model"]);return o!=null&&s(t,["_url","name"],Y(n,o)),t}function Ll(n,e){let t={},o=i(e,["model"]);return o!=null&&s(t,["_url","name"],Y(n,o)),t}function Hl(n){let e={};if(i(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let t=i(n,["enableWidget"]);return t!=null&&s(e,["enableWidget"],t),e}function Vl(n){let e={};if(i(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(i(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let t=i(n,["timeRangeFilter"]);return t!=null&&s(e,["timeRangeFilter"],t),e}function Gl(n){let e={},t=i(n,["bytesBase64Encoded"]);t!=null&&s(e,["imageBytes"],ce(t));let o=i(n,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function Go(n){let e={},t=i(n,["gcsUri"]);t!=null&&s(e,["gcsUri"],t);let o=i(n,["bytesBase64Encoded"]);o!=null&&s(e,["imageBytes"],ce(o));let r=i(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function rn(n){let e={};if(i(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");let t=i(n,["imageBytes"]);t!=null&&s(e,["bytesBase64Encoded"],ce(t));let o=i(n,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function se(n){let e={},t=i(n,["gcsUri"]);t!=null&&s(e,["gcsUri"],t);let o=i(n,["imageBytes"]);o!=null&&s(e,["bytesBase64Encoded"],ce(o));let r=i(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function bl(n,e,t){let o={},r=i(e,["pageSize"]);t!==void 0&&r!=null&&s(t,["_query","pageSize"],r);let l=i(e,["pageToken"]);t!==void 0&&l!=null&&s(t,["_query","pageToken"],l);let u=i(e,["filter"]);t!==void 0&&u!=null&&s(t,["_query","filter"],u);let a=i(e,["queryBase"]);return t!==void 0&&a!=null&&s(t,["_url","models_url"],Mo(n,a)),o}function Jl(n,e,t){let o={},r=i(e,["pageSize"]);t!==void 0&&r!=null&&s(t,["_query","pageSize"],r);let l=i(e,["pageToken"]);t!==void 0&&l!=null&&s(t,["_query","pageToken"],l);let u=i(e,["filter"]);t!==void 0&&u!=null&&s(t,["_query","filter"],u);let a=i(e,["queryBase"]);return t!==void 0&&a!=null&&s(t,["_url","models_url"],Mo(n,a)),o}function Wl(n,e){let t={},o=i(e,["config"]);return o!=null&&bl(n,o,t),t}function zl(n,e){let t={},o=i(e,["config"]);return o!=null&&Jl(n,o,t),t}function Yl(n){let e={},t=i(n,["sdkHttpResponse"]);t!=null&&s(e,["sdkHttpResponse"],t);let o=i(n,["nextPageToken"]);o!=null&&s(e,["nextPageToken"],o);let r=i(n,["_self"]);if(r!=null){let l=wo(r);Array.isArray(l)&&(l=l.map(u=>mt(u))),s(e,["models"],l)}return e}function Kl(n){let e={},t=i(n,["sdkHttpResponse"]);t!=null&&s(e,["sdkHttpResponse"],t);let o=i(n,["nextPageToken"]);o!=null&&s(e,["nextPageToken"],o);let r=i(n,["_self"]);if(r!=null){let l=wo(r);Array.isArray(l)&&(l=l.map(u=>gt(u))),s(e,["models"],l)}return e}function $l(n){let e={},t=i(n,["maskMode"]);t!=null&&s(e,["maskMode"],t);let o=i(n,["segmentationClasses"]);o!=null&&s(e,["maskClasses"],o);let r=i(n,["maskDilation"]);return r!=null&&s(e,["dilation"],r),e}function mt(n){let e={},t=i(n,["name"]);t!=null&&s(e,["name"],t);let o=i(n,["displayName"]);o!=null&&s(e,["displayName"],o);let r=i(n,["description"]);r!=null&&s(e,["description"],r);let l=i(n,["version"]);l!=null&&s(e,["version"],l);let u=i(n,["_self"]);u!=null&&s(e,["tunedModelInfo"],ua(u));let a=i(n,["inputTokenLimit"]);a!=null&&s(e,["inputTokenLimit"],a);let f=i(n,["outputTokenLimit"]);f!=null&&s(e,["outputTokenLimit"],f);let d=i(n,["supportedGenerationMethods"]);d!=null&&s(e,["supportedActions"],d);let c=i(n,["temperature"]);c!=null&&s(e,["temperature"],c);let h=i(n,["maxTemperature"]);h!=null&&s(e,["maxTemperature"],h);let p=i(n,["topP"]);p!=null&&s(e,["topP"],p);let x=i(n,["topK"]);x!=null&&s(e,["topK"],x);let g=i(n,["thinking"]);return g!=null&&s(e,["thinking"],g),e}function gt(n){let e={},t=i(n,["name"]);t!=null&&s(e,["name"],t);let o=i(n,["displayName"]);o!=null&&s(e,["displayName"],o);let r=i(n,["description"]);r!=null&&s(e,["description"],r);let l=i(n,["versionId"]);l!=null&&s(e,["version"],l);let u=i(n,["deployedModels"]);if(u!=null){let h=u;Array.isArray(h)&&(h=h.map(p=>dl(p))),s(e,["endpoints"],h)}let a=i(n,["labels"]);a!=null&&s(e,["labels"],a);let f=i(n,["_self"]);f!=null&&s(e,["tunedModelInfo"],fa(f));let d=i(n,["defaultCheckpointId"]);d!=null&&s(e,["defaultCheckpointId"],d);let c=i(n,["checkpoints"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>p)),s(e,["checkpoints"],h)}return e}function Xl(n){let e={},t=i(n,["functionCall"]);t!=null&&s(e,["functionCall"],t);let o=i(n,["codeExecutionResult"]);o!=null&&s(e,["codeExecutionResult"],o);let r=i(n,["executableCode"]);r!=null&&s(e,["executableCode"],r);let l=i(n,["fileData"]);l!=null&&s(e,["fileData"],cl(l));let u=i(n,["functionResponse"]);u!=null&&s(e,["functionResponse"],u);let a=i(n,["inlineData"]);a!=null&&s(e,["inlineData"],L0(a));let f=i(n,["text"]);f!=null&&s(e,["text"],f);let d=i(n,["thought"]);d!=null&&s(e,["thought"],d);let c=i(n,["thoughtSignature"]);c!=null&&s(e,["thoughtSignature"],c);let h=i(n,["videoMetadata"]);return h!=null&&s(e,["videoMetadata"],h),e}function Ql(n){let e={},t=i(n,["productImage"]);return t!=null&&s(e,["image"],se(t)),e}function Zl(n,e){let t={},o=i(n,["numberOfImages"]);e!==void 0&&o!=null&&s(e,["parameters","sampleCount"],o);let r=i(n,["baseSteps"]);e!==void 0&&r!=null&&s(e,["parameters","baseSteps"],r);let l=i(n,["outputGcsUri"]);e!==void 0&&l!=null&&s(e,["parameters","storageUri"],l);let u=i(n,["seed"]);e!==void 0&&u!=null&&s(e,["parameters","seed"],u);let a=i(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&s(e,["parameters","safetySetting"],a);let f=i(n,["personGeneration"]);e!==void 0&&f!=null&&s(e,["parameters","personGeneration"],f);let d=i(n,["addWatermark"]);e!==void 0&&d!=null&&s(e,["parameters","addWatermark"],d);let c=i(n,["outputMimeType"]);e!==void 0&&c!=null&&s(e,["parameters","outputOptions","mimeType"],c);let h=i(n,["outputCompressionQuality"]);e!==void 0&&h!=null&&s(e,["parameters","outputOptions","compressionQuality"],h);let p=i(n,["enhancePrompt"]);e!==void 0&&p!=null&&s(e,["parameters","enhancePrompt"],p);let x=i(n,["labels"]);return e!==void 0&&x!=null&&s(e,["labels"],x),t}function Ol(n,e){let t={},o=i(e,["model"]);o!=null&&s(t,["_url","model"],Y(n,o));let r=i(e,["source"]);r!=null&&ea(r,t);let l=i(e,["config"]);return l!=null&&Zl(l,t),t}function jl(n){let e={},t=i(n,["predictions"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>on(r))),s(e,["generatedImages"],o)}return e}function ea(n,e){let t={},o=i(n,["prompt"]);e!==void 0&&o!=null&&s(e,["instances[0]","prompt"],o);let r=i(n,["personImage"]);e!==void 0&&r!=null&&s(e,["instances[0]","personImage","image"],se(r));let l=i(n,["productImages"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(a=>Ql(a))),s(e,["instances[0]","productImages"],u)}return t}function na(n){let e={},t=i(n,["referenceImage"]);t!=null&&s(e,["referenceImage"],se(t));let o=i(n,["referenceId"]);o!=null&&s(e,["referenceId"],o);let r=i(n,["referenceType"]);r!=null&&s(e,["referenceType"],r);let l=i(n,["maskImageConfig"]);l!=null&&s(e,["maskImageConfig"],$l(l));let u=i(n,["controlImageConfig"]);u!=null&&s(e,["controlImageConfig"],z0(u));let a=i(n,["styleImageConfig"]);a!=null&&s(e,["styleImageConfig"],a);let f=i(n,["subjectImageConfig"]);return f!=null&&s(e,["subjectImageConfig"],f),e}function bo(n){let e={},t=i(n,["safetyAttributes","categories"]);t!=null&&s(e,["categories"],t);let o=i(n,["safetyAttributes","scores"]);o!=null&&s(e,["scores"],o);let r=i(n,["contentType"]);return r!=null&&s(e,["contentType"],r),e}function Jo(n){let e={},t=i(n,["safetyAttributes","categories"]);t!=null&&s(e,["categories"],t);let o=i(n,["safetyAttributes","scores"]);o!=null&&s(e,["scores"],o);let r=i(n,["contentType"]);return r!=null&&s(e,["contentType"],r),e}function ta(n){let e={},t=i(n,["category"]);if(t!=null&&s(e,["category"],t),i(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let o=i(n,["threshold"]);return o!=null&&s(e,["threshold"],o),e}function oa(n){let e={},t=i(n,["image"]);return t!=null&&s(e,["image"],se(t)),e}function ia(n,e){let t={},o=i(n,["mode"]);e!==void 0&&o!=null&&s(e,["parameters","mode"],o);let r=i(n,["maxPredictions"]);e!==void 0&&r!=null&&s(e,["parameters","maxPredictions"],r);let l=i(n,["confidenceThreshold"]);e!==void 0&&l!=null&&s(e,["parameters","confidenceThreshold"],l);let u=i(n,["maskDilation"]);e!==void 0&&u!=null&&s(e,["parameters","maskDilation"],u);let a=i(n,["binaryColorThreshold"]);e!==void 0&&a!=null&&s(e,["parameters","binaryColorThreshold"],a);let f=i(n,["labels"]);return e!==void 0&&f!=null&&s(e,["labels"],f),t}function ra(n,e){let t={},o=i(e,["model"]);o!=null&&s(t,["_url","model"],Y(n,o));let r=i(e,["source"]);r!=null&&la(r,t);let l=i(e,["config"]);return l!=null&&ia(l,t),t}function sa(n){let e={},t=i(n,["predictions"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>Ml(r))),s(e,["generatedMasks"],o)}return e}function la(n,e){let t={},o=i(n,["prompt"]);e!==void 0&&o!=null&&s(e,["instances[0]","prompt"],o);let r=i(n,["image"]);e!==void 0&&r!=null&&s(e,["instances[0]","image"],se(r));let l=i(n,["scribbleImage"]);return e!==void 0&&l!=null&&s(e,["instances[0]","scribble"],oa(l)),t}function Wo(n){let e={},t=i(n,["languageCode"]);t!=null&&s(e,["languageCode"],t);let o=i(n,["voiceConfig"]);if(o!=null&&s(e,["voiceConfig"],o),i(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function aa(n){let e={},t=i(n,["functionDeclarations"]);if(t!=null){let c=t;Array.isArray(c)&&(c=c.map(h=>h)),s(e,["functionDeclarations"],c)}if(i(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=i(n,["googleSearchRetrieval"]);o!=null&&s(e,["googleSearchRetrieval"],o);let r=i(n,["computerUse"]);r!=null&&s(e,["computerUse"],r);let l=i(n,["fileSearch"]);l!=null&&s(e,["fileSearch"],l);let u=i(n,["codeExecution"]);if(u!=null&&s(e,["codeExecution"],u),i(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let a=i(n,["googleMaps"]);a!=null&&s(e,["googleMaps"],Hl(a));let f=i(n,["googleSearch"]);f!=null&&s(e,["googleSearch"],Vl(f));let d=i(n,["urlContext"]);return d!=null&&s(e,["urlContext"],d),e}function zo(n){let e={},t=i(n,["functionDeclarations"]);if(t!=null){let h=t;Array.isArray(h)&&(h=h.map(p=>pl(p))),s(e,["functionDeclarations"],h)}let o=i(n,["retrieval"]);o!=null&&s(e,["retrieval"],o);let r=i(n,["googleSearchRetrieval"]);r!=null&&s(e,["googleSearchRetrieval"],r);let l=i(n,["computerUse"]);if(l!=null&&s(e,["computerUse"],l),i(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let u=i(n,["codeExecution"]);u!=null&&s(e,["codeExecution"],u);let a=i(n,["enterpriseWebSearch"]);a!=null&&s(e,["enterpriseWebSearch"],a);let f=i(n,["googleMaps"]);f!=null&&s(e,["googleMaps"],f);let d=i(n,["googleSearch"]);d!=null&&s(e,["googleSearch"],d);let c=i(n,["urlContext"]);return c!=null&&s(e,["urlContext"],c),e}function ua(n){let e={},t=i(n,["baseModel"]);t!=null&&s(e,["baseModel"],t);let o=i(n,["createTime"]);o!=null&&s(e,["createTime"],o);let r=i(n,["updateTime"]);return r!=null&&s(e,["updateTime"],r),e}function fa(n){let e={},t=i(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&s(e,["baseModel"],t);let o=i(n,["createTime"]);o!=null&&s(e,["createTime"],o);let r=i(n,["updateTime"]);return r!=null&&s(e,["updateTime"],r),e}function da(n,e){let t={},o=i(n,["displayName"]);e!==void 0&&o!=null&&s(e,["displayName"],o);let r=i(n,["description"]);e!==void 0&&r!=null&&s(e,["description"],r);let l=i(n,["defaultCheckpointId"]);return e!==void 0&&l!=null&&s(e,["defaultCheckpointId"],l),t}function ca(n,e){let t={},o=i(n,["displayName"]);e!==void 0&&o!=null&&s(e,["displayName"],o);let r=i(n,["description"]);e!==void 0&&r!=null&&s(e,["description"],r);let l=i(n,["defaultCheckpointId"]);return e!==void 0&&l!=null&&s(e,["defaultCheckpointId"],l),t}function pa(n,e){let t={},o=i(e,["model"]);o!=null&&s(t,["_url","name"],Y(n,o));let r=i(e,["config"]);return r!=null&&da(r,t),t}function ha(n,e){let t={},o=i(e,["model"]);o!=null&&s(t,["_url","model"],Y(n,o));let r=i(e,["config"]);return r!=null&&ca(r,t),t}function xa(n,e){let t={},o=i(n,["outputGcsUri"]);e!==void 0&&o!=null&&s(e,["parameters","storageUri"],o);let r=i(n,["safetyFilterLevel"]);e!==void 0&&r!=null&&s(e,["parameters","safetySetting"],r);let l=i(n,["personGeneration"]);e!==void 0&&l!=null&&s(e,["parameters","personGeneration"],l);let u=i(n,["includeRaiReason"]);e!==void 0&&u!=null&&s(e,["parameters","includeRaiReason"],u);let a=i(n,["outputMimeType"]);e!==void 0&&a!=null&&s(e,["parameters","outputOptions","mimeType"],a);let f=i(n,["outputCompressionQuality"]);e!==void 0&&f!=null&&s(e,["parameters","outputOptions","compressionQuality"],f);let d=i(n,["enhanceInputImage"]);e!==void 0&&d!=null&&s(e,["parameters","upscaleConfig","enhanceInputImage"],d);let c=i(n,["imagePreservationFactor"]);e!==void 0&&c!=null&&s(e,["parameters","upscaleConfig","imagePreservationFactor"],c);let h=i(n,["labels"]);e!==void 0&&h!=null&&s(e,["labels"],h);let p=i(n,["numberOfImages"]);e!==void 0&&p!=null&&s(e,["parameters","sampleCount"],p);let x=i(n,["mode"]);return e!==void 0&&x!=null&&s(e,["parameters","mode"],x),t}function ma(n,e){let t={},o=i(e,["model"]);o!=null&&s(t,["_url","model"],Y(n,o));let r=i(e,["image"]);r!=null&&s(t,["instances[0]","image"],se(r));let l=i(e,["upscaleFactor"]);l!=null&&s(t,["parameters","upscaleConfig","upscaleFactor"],l);let u=i(e,["config"]);return u!=null&&xa(u,t),t}function ga(n){let e={},t=i(n,["sdkHttpResponse"]);t!=null&&s(e,["sdkHttpResponse"],t);let o=i(n,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>on(l))),s(e,["generatedImages"],r)}return e}function Ea(n){let e={},t=i(n,["uri"]);t!=null&&s(e,["uri"],t);let o=i(n,["encodedVideo"]);o!=null&&s(e,["videoBytes"],ce(o));let r=i(n,["encoding"]);return r!=null&&s(e,["mimeType"],r),e}function Ca(n){let e={},t=i(n,["gcsUri"]);t!=null&&s(e,["uri"],t);let o=i(n,["bytesBase64Encoded"]);o!=null&&s(e,["videoBytes"],ce(o));let r=i(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}function va(n){let e={},t=i(n,["image"]);t!=null&&s(e,["_self"],se(t));let o=i(n,["maskMode"]);return o!=null&&s(e,["maskMode"],o),e}function ya(n){let e={},t=i(n,["image"]);t!=null&&s(e,["image"],rn(t));let o=i(n,["referenceType"]);return o!=null&&s(e,["referenceType"],o),e}function _a(n){let e={},t=i(n,["image"]);t!=null&&s(e,["image"],se(t));let o=i(n,["referenceType"]);return o!=null&&s(e,["referenceType"],o),e}function Yo(n){let e={},t=i(n,["uri"]);t!=null&&s(e,["uri"],t);let o=i(n,["videoBytes"]);o!=null&&s(e,["encodedVideo"],ce(o));let r=i(n,["mimeType"]);return r!=null&&s(e,["encoding"],r),e}function Ko(n){let e={},t=i(n,["uri"]);t!=null&&s(e,["gcsUri"],t);let o=i(n,["videoBytes"]);o!=null&&s(e,["bytesBase64Encoded"],ce(o));let r=i(n,["mimeType"]);return r!=null&&s(e,["mimeType"],r),e}var Aa="Content-Type",Ta="X-Server-Timeout",Sa="User-Agent",Et="x-goog-api-client",Ia="1.29.1",Da=`google-genai-sdk/${Ia}`,Fa="v1beta1",Pa="v1beta",xo=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/,Ct=class{constructor(e){var t,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});let r={};this.clientOptions.vertexai?(r.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:Fa,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:Pa,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");let o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){let e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,o){let r=[this.getRequestUrlInternal(t)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}request(e){return F(this,null,function*(){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,o);if(e.queryParams)for(let[u,a]of Object.entries(e.queryParams))r.searchParams.append(u,String(a));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=yield this.includeExtraHttpOptionsToRequestInit(l,t,r.toString(),e.abortSignal),this.unaryApiCall(r,l,e.httpMethod)})}patchHttpOptions(e,t){let o=JSON.parse(JSON.stringify(e));for(let[r,l]of Object.entries(t))typeof l=="object"?o[r]=Object.assign(Object.assign({},o[r]),l):l!==void 0&&(o[r]=l);return o}requestStream(e){return F(this,null,function*(){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let l={};return l.body=e.body,l=yield this.includeExtraHttpOptionsToRequestInit(l,t,r.toString(),e.abortSignal),this.streamApiCall(r,l,e.httpMethod)})}includeExtraHttpOptionsToRequestInit(e,t,o,r){return F(this,null,function*(){if(t&&t.timeout||r){let l=new AbortController,u=l.signal;if(t.timeout&&t?.timeout>0){let a=setTimeout(()=>l.abort(),t.timeout);a&&typeof a.unref=="function"&&a.unref()}r&&r.addEventListener("abort",()=>{l.abort()}),e.signal=u}return t&&t.extraBody!==null&&Ba(e,t.extraBody),e.headers=yield this.getHeadersInternal(t,o),e})}unaryApiCall(e,t,o){return F(this,null,function*(){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(r=>F(this,null,function*(){return yield mo(r),new Ue(r)})).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})})}streamApiCall(e,t,o){return F(this,null,function*(){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(r=>F(this,null,function*(){return yield mo(r),this.processStreamResponse(r)})).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})})}processStreamResponse(e){var t;return _e(this,arguments,function*(){let r=(t=e?.body)===null||t===void 0?void 0:t.getReader(),l=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let u="";for(;;){let{done:a,value:f}=yield $(r.read());if(a){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}let d=l.decode(f,{stream:!0});try{let h=JSON.parse(d);if("error"in h){let p=JSON.parse(JSON.stringify(h.error)),x=p.status,g=p.code,C=`got status: ${x}. ${JSON.stringify(h)}`;if(g>=400&&g<600)throw new en({message:C,status:g})}}catch(h){if(h.name==="ApiError")throw h}u+=d;let c=u.match(xo);for(;c;){let h=c[1];try{let p=new Response(h,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield $(new Ue(p)),u=u.slice(c[0].length),c=u.match(xo)}catch(p){throw new Error(`exception parsing stream chunk ${h}. ${p}`)}}}}finally{r.releaseLock()}})}apiCall(e,t){return F(this,null,function*(){return fetch(e,t).catch(o=>{throw new Error(`exception ${o} sending request`)})})}getDefaultHeaders(){let e={},t=Da+" "+this.clientOptions.userAgentExtra;return e[Sa]=t,e[Et]=t,e[Aa]="application/json",e}getHeadersInternal(e,t){return F(this,null,function*(){let o=new Headers;if(e&&e.headers){for(let[r,l]of Object.entries(e.headers))o.append(r,l);e.timeout&&e.timeout>0&&o.append(Ta,String(Math.ceil(e.timeout/1e3)))}return yield this.clientOptions.auth.addAuthHeaders(o,t),o})}getFileName(e){var t;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(t=o.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),o}uploadFile(e,t){return F(this,null,function*(){var o;let r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);let l=this.clientOptions.uploader,u=yield l.stat(e);r.sizeBytes=String(u.size);let a=(o=t?.mimeType)!==null&&o!==void 0?o:u.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=a;let f={file:r},d=this.getFileName(e),c=L("upload/v1beta/files",f._url),h=yield this.fetchUploadUrl(c,r.sizeBytes,r.mimeType,d,f,t?.httpOptions);return l.upload(e,h,this)})}uploadFileToFileSearchStore(e,t,o){return F(this,null,function*(){var r;let l=this.clientOptions.uploader,u=yield l.stat(t),a=String(u.size),f=(r=o?.mimeType)!==null&&r!==void 0?r:u.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");let d=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(t),h={};o?.customMetadata&&(h.customMetadata=o.customMetadata),o?.chunkingConfig&&(h.chunkingConfig=o.chunkingConfig);let p=yield this.fetchUploadUrl(d,a,f,c,h,o?.httpOptions);return l.uploadToFileSearchStore(t,p,this)})}downloadFile(e){return F(this,null,function*(){yield this.clientOptions.downloader.download(e,this)})}fetchUploadUrl(e,t,o,r,l,u){return F(this,null,function*(){var a;let f={};u?f=u:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};let d=yield this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:f});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");let c=(a=d?.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c})}};function mo(n){return F(this,null,function*(){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){let t=n.status,o;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=yield n.json():o={error:{message:yield n.text(),code:n.status,status:n.statusText}};let r=JSON.stringify(o);throw t>=400&&t<600?new en({message:r,status:t}):new Error(r)}})}function Ba(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{let l=JSON.parse(n.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))t=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(l,u){let a=Object.assign({},l);for(let f in u)if(Object.prototype.hasOwnProperty.call(u,f)){let d=u[f],c=a[f];d&&typeof d=="object"&&!Array.isArray(d)&&c&&typeof c=="object"&&!Array.isArray(c)?a[f]=o(c,d):(c&&d&&typeof c!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof c}, New type: ${typeof d}. Overwriting.`),a[f]=d)}return a}let r=o(t,e);n.body=JSON.stringify(r)}var Ra="mcp_used/unknown",Na=!1;function $o(n){for(let e of n)if(Ma(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Na}function Xo(n){var e;let t=(e=n[Et])!==null&&e!==void 0?e:"";n[Et]=(t+` ${Ra}`).trimStart()}function Ma(n){return n!==null&&typeof n=="object"&&n instanceof vt}function wa(n,e=100){return _e(this,arguments,function*(){let o,r=0;for(;r<e;){let l=yield $(n.listTools({cursor:o}));for(let u of l.tools)yield yield $(u),r++;if(!l.nextCursor)break;o=l.nextCursor}})}var vt=class n{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new n(e,t)}initialize(){return F(this,null,function*(){var e,t,o,r;if(this.mcpTools.length>0)return;let l={},u=[];for(let c of this.mcpClients)try{for(var a=!0,f=(t=void 0,ke(wa(c))),d;d=yield f.next(),e=d.done,!e;a=!0){r=d.value,a=!1;let h=r;u.push(h);let p=h.name;if(l[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);l[p]=c}}catch(h){t={error:h}}finally{try{!a&&!e&&(o=f.return)&&(yield o.call(f))}finally{if(t)throw t.error}}this.mcpTools=u,this.functionNameToMcpClient=l})}tool(){return F(this,null,function*(){return yield this.initialize(),zr(this.mcpTools,this.config)})}callTool(e){return F(this,null,function*(){yield this.initialize();let t=[];for(let o of e)if(o.name in this.functionNameToMcpClient){let r=this.functionNameToMcpClient[o.name],l;this.config.timeout&&(l={timeout:this.config.timeout});let u=yield r.callTool({name:o.name,arguments:o.args},void 0,l);t.push({functionResponse:{name:o.name,response:u.isError?{error:u}:u}})}return t})}};function ka(n,e,t){return F(this,null,function*(){let o=new lt,r;t.data instanceof Blob?r=JSON.parse(yield t.data.text()):r=JSON.parse(t.data),Object.assign(o,r),e(o)})}var yt=class{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o}connect(e){return F(this,null,function*(){var t,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");let r=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),u=qa(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),f=`${r}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${a}`,d=()=>{},c=new Promise(y=>{d=y}),h=e.callbacks,p=function(){d({})},x=this.apiClient,g={onopen:p,onmessage:y=>{ka(x,h.onmessage,y)},onerror:(t=h?.onerror)!==null&&t!==void 0?t:function(y){},onclose:(o=h?.onclose)!==null&&o!==void 0?o:function(y){}},C=this.webSocketFactory.create(f,Ua(u),g);C.connect(),yield c;let E={setup:{model:Y(this.apiClient,e.model)}};return C.send(JSON.stringify(E)),new _t(C,this.apiClient)})}},_t=class{constructor(e,t){this.conn=e,this.apiClient=t}setWeightedPrompts(e){return F(this,null,function*(){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");let t=P0(e);this.conn.send(JSON.stringify({clientContent:t}))})}setMusicGenerationConfig(e){return F(this,null,function*(){e.musicGenerationConfig||(e.musicGenerationConfig={});let t=F0(e);this.conn.send(JSON.stringify(t))})}sendPlaybackControl(e){let t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(we.PLAY)}pause(){this.sendPlaybackControl(we.PAUSE)}stop(){this.sendPlaybackControl(we.STOP)}resetContext(){this.sendPlaybackControl(we.RESET_CONTEXT)}close(){this.conn.close()}};function Ua(n){let e={};return n.forEach((t,o)=>{e[o]=t}),e}function qa(n){let e=new Headers;for(let[t,o]of Object.entries(n))e.append(t,o);return e}var La="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";function Ha(n,e,t){return F(this,null,function*(){let o=new st,r;t.data instanceof Blob?r=yield t.data.text():t.data instanceof ArrayBuffer?r=new TextDecoder().decode(t.data):r=t.data;let l=JSON.parse(r);if(n.isVertexAI()){let u=N0(l);Object.assign(o,u)}else Object.assign(o,l);e(o)})}var At=class{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o,this.music=new yt(this.apiClient,this.auth,this.webSocketFactory)}connect(e){return F(this,null,function*(){var t,o,r,l,u,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");let f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),c,h=this.apiClient.getHeaders();e.config&&e.config.tools&&$o(e.config.tools)&&Xo(h);let p=ba(h);if(this.apiClient.isVertexAI())c=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,yield this.auth.addAuthHeaders(p,c);else{let I=this.apiClient.getApiKey(),w="BidiGenerateContent",S="key";I?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),w="BidiGenerateContentConstrained",S="access_token"),c=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${w}?${S}=${I}`}let x=()=>{},g=new Promise(I=>{x=I}),C=e.callbacks,v=function(){var I;(I=C?.onopen)===null||I===void 0||I.call(C),x({})},m=this.apiClient,E={onopen:v,onmessage:I=>{Ha(m,C.onmessage,I)},onerror:(t=C?.onerror)!==null&&t!==void 0?t:function(I){},onclose:(o=C?.onclose)!==null&&o!==void 0?o:function(I){}},y=this.webSocketFactory.create(c,Ga(p),E);y.connect(),yield g;let _=Y(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&_.startsWith("publishers/")){let I=this.apiClient.getProject(),w=this.apiClient.getLocation();_=`projects/${I}/locations/${w}/`+_}let A={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Kn.AUDIO]}:e.config.responseModalities=[Kn.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");let T=(a=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&a!==void 0?a:[],D=[];for(let I of T)if(this.isCallableTool(I)){let w=I;D.push(yield w.tool())}else D.push(I);D.length>0&&(e.config.tools=D);let B={model:_,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?A=D0(this.apiClient,B):A=I0(this.apiClient,B),delete A.config,y.send(JSON.stringify(A)),new Tt(y,this.apiClient)})}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}},Va={turnComplete:!0},Tt=class{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let o=[];try{o=te(t.turns),e.isVertexAI()||(o=o.map(r=>tn(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:o,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let o=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?o=t.functionResponses:o=[t.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(let l of o){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(La)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},Va),e);let t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:R0(e)}:t={realtimeInput:B0(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");let t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}};function Ga(n){let e={};return n.forEach((t,o)=>{e[o]=t}),e}function ba(n){let e=new Headers;for(let[t,o]of Object.entries(n))e.append(t,o);return e}var go=10;function Eo(n){var e,t,o;if(!((e=n?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(let u of(t=n?.tools)!==null&&t!==void 0?t:[])if(Ae(u)){r=!0;break}if(!r)return!0;let l=(o=n?.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function Ae(n){return"callTool"in n&&typeof n.callTool=="function"}function Ja(n){var e,t,o;return(o=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>Ae(r)))!==null&&o!==void 0?o:!1}function Co(n){var e;let t=[];return!((e=n?.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((o,r)=>{if(Ae(o))return;let l=o;l.functionDeclarations&&l.functionDeclarations.length>0&&t.push(r)}),t}function vo(n){var e;return!(!((e=n?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}var St=class extends re{constructor(e){super(),this.apiClient=e,this.generateContent=t=>F(this,null,function*(){var o,r,l,u,a;let f=yield this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!Ja(t)||Eo(t.config))return yield this.generateContentInternal(f);let d=Co(t);if(d.length>0){let C=d.map(v=>`tools[${v}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let c,h,p=te(f.contents),x=(l=(r=(o=f.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&l!==void 0?l:go,g=0;for(;g<x&&(c=yield this.generateContentInternal(f),!(!c.functionCalls||c.functionCalls.length===0));){let C=c.candidates[0].content,v=[];for(let m of(a=(u=t.config)===null||u===void 0?void 0:u.tools)!==null&&a!==void 0?a:[])if(Ae(m)){let y=yield m.callTool(c.functionCalls);v.push(...y)}g++,h={role:"user",parts:v},f.contents=te(f.contents),f.contents.push(C),f.contents.push(h),vo(f.config)&&(p.push(C),p.push(h))}return vo(f.config)&&(c.automaticFunctionCallingHistory=p),c}),this.generateContentStream=t=>F(this,null,function*(){if(this.maybeMoveToResponseJsonSchem(t),Eo(t.config)){let r=yield this.processParamsMaybeAddMcpUsage(t);return yield this.generateContentStreamInternal(r)}let o=Co(t);if(o.length>0){let r=o.map(l=>`tools[${l}]`).join(", ");throw new Error(`Incompatible tools found at ${r}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}return yield this.processAfcStream(t)}),this.generateImages=t=>F(this,null,function*(){return yield this.generateImagesInternal(t).then(o=>{var r;let l,u=[];if(o?.generatedImages)for(let f of o.generatedImages)f&&f?.safetyAttributes&&((r=f?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?l=f?.safetyAttributes:u.push(f);let a;return l?a={generatedImages:u,positivePromptSafetyAttributes:l,sdkHttpResponse:o.sdkHttpResponse}:a={generatedImages:u,sdkHttpResponse:o.sdkHttpResponse},a})}),this.list=t=>F(this,null,function*(){var o;let u={config:Object.assign(Object.assign({},{queryBase:!0}),t?.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((o=u.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new le(pe.PAGED_ITEM_MODELS,a=>this.listInternal(a),yield this.listInternal(u),u)}),this.editImage=t=>F(this,null,function*(){let o={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(o.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),yield this.editImageInternal(o)}),this.upscaleImage=t=>F(this,null,function*(){let o={numberOfImages:1,mode:"upscale"};t.config&&(o=Object.assign(Object.assign({},o),t.config));let r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:o};return yield this.upscaleImageInternal(r)}),this.generateVideos=t=>F(this,null,function*(){var o,r,l,u,a,f;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=t.video)===null||o===void 0)&&o.uri&&(!((r=t.video)===null||r===void 0)&&r.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((u=(l=t.source)===null||l===void 0?void 0:l.video)===null||u===void 0)&&u.uri&&(!((f=(a=t.source)===null||a===void 0?void 0:a.video)===null||f===void 0)&&f.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),yield this.generateVideosInternal(t)})}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}processParamsMaybeAddMcpUsage(e){return F(this,null,function*(){var t,o,r;let l=(t=e.config)===null||t===void 0?void 0:t.tools;if(!l)return e;let u=yield Promise.all(l.map(f=>F(null,null,function*(){return Ae(f)?yield f.tool():f}))),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(a.config.tools=u,e.config&&e.config.tools&&$o(e.config.tools)){let f=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{},d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),Xo(d),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return a})}initAfcToolsMap(e){return F(this,null,function*(){var t,o,r;let l=new Map;for(let u of(o=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&o!==void 0?o:[])if(Ae(u)){let a=u,f=yield a.tool();for(let d of(r=f.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(l.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);l.set(d.name,a)}}return l})}processAfcStream(e){return F(this,null,function*(){var t,o,r;let l=(r=(o=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:go,u=!1,a=0,f=yield this.initAfcToolsMap(e);return(function(d,c,h){var p,x;return _e(this,arguments,function*(){for(var g,C,v,m;a<l;){u&&(a++,u=!1);let A=yield $(d.processParamsMaybeAddMcpUsage(h)),T=yield $(d.generateContentStreamInternal(A)),D=[],B=[];try{for(var E=!0,y=(C=void 0,ke(T)),_;_=yield $(y.next()),g=_.done,!g;E=!0){m=_.value,E=!1;let I=m;if(yield yield $(I),I.candidates&&(!((p=I.candidates[0])===null||p===void 0)&&p.content)){B.push(I.candidates[0].content);for(let w of(x=I.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(a<l&&w.functionCall){if(!w.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(w.functionCall.name)){let S=yield $(c.get(w.functionCall.name).callTool([w.functionCall]));D.push(...S)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${w.functionCall.name}`)}}}}catch(I){C={error:I}}finally{try{!E&&!g&&(v=y.return)&&(yield $(v.call(y)))}finally{if(C)throw C.error}}if(D.length>0){u=!0;let I=new me;I.candidates=[{content:{role:"user",parts:D}}],yield yield $(I);let w=[];w.push(...B),w.push({role:"user",parts:D});let S=te(h.contents).concat(w);h.contents=S}else break}})})(this,f,e)})}generateContentInternal(e){return F(this,null,function*(){var t,o,r,l;let u,a="",f={};if(this.apiClient.isVertexAI()){let d=co(this.apiClient,e);return a=L("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{let p=h;return p.sdkHttpResponse={headers:c.headers},p})),u.then(c=>{let h=ho(c),p=new me;return Object.assign(p,h),p})}else{let d=fo(this.apiClient,e);return a=L("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json().then(h=>{let p=h;return p.sdkHttpResponse={headers:c.headers},p})),u.then(c=>{let h=po(c),p=new me;return Object.assign(p,h),p})}})}generateContentStreamInternal(e){return F(this,null,function*(){var t,o,r,l;let u,a="",f={};if(this.apiClient.isVertexAI()){let d=co(this.apiClient,e);return a=L("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.requestStream({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),u.then(function(h){return _e(this,arguments,function*(){var p,x,g,C;try{for(var v=!0,m=ke(h),E;E=yield $(m.next()),p=E.done,!p;v=!0){C=E.value,v=!1;let y=C,_=ho(yield $(y.json()));_.sdkHttpResponse={headers:y.headers};let A=new me;Object.assign(A,_),yield yield $(A)}}catch(y){x={error:y}}finally{try{!v&&!p&&(g=m.return)&&(yield $(g.call(m)))}finally{if(x)throw x.error}}})})}else{let d=fo(this.apiClient,e);return a=L("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.requestStream({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),u.then(function(h){return _e(this,arguments,function*(){var p,x,g,C;try{for(var v=!0,m=ke(h),E;E=yield $(m.next()),p=E.done,!p;v=!0){C=E.value,v=!1;let y=C,_=po(yield $(y.json()));_.sdkHttpResponse={headers:y.headers};let A=new me;Object.assign(A,_),yield yield $(A)}}catch(y){x={error:y}}finally{try{!v&&!p&&(g=m.return)&&(yield $(g.call(m)))}finally{if(x)throw x.error}}})})}})}embedContent(e){return F(this,null,function*(){var t,o,r,l;let u,a="",f={};if(this.apiClient.isVertexAI()){let d=al(this.apiClient,e);return a=L("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{let p=h;return p.sdkHttpResponse={headers:c.headers},p})),u.then(c=>{let h=fl(c),p=new Je;return Object.assign(p,h),p})}else{let d=ll(this.apiClient,e);return a=L("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json().then(h=>{let p=h;return p.sdkHttpResponse={headers:c.headers},p})),u.then(c=>{let h=ul(c),p=new Je;return Object.assign(p,h),p})}})}generateImagesInternal(e){return F(this,null,function*(){var t,o,r,l;let u,a="",f={};if(this.apiClient.isVertexAI()){let d=Cl(this.apiClient,e);return a=L("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{let p=h;return p.sdkHttpResponse={headers:c.headers},p})),u.then(c=>{let h=yl(c),p=new We;return Object.assign(p,h),p})}else{let d=El(this.apiClient,e);return a=L("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json().then(h=>{let p=h;return p.sdkHttpResponse={headers:c.headers},p})),u.then(c=>{let h=vl(c),p=new We;return Object.assign(p,h),p})}})}editImageInternal(e){return F(this,null,function*(){var t,o;let r,l="",u={};if(this.apiClient.isVertexAI()){let a=ol(this.apiClient,e);return l=L("{model}:predict",a._url),u=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(d=>{let c=d;return c.sdkHttpResponse={headers:f.headers},c})),r.then(f=>{let d=il(f),c=new $n;return Object.assign(c,d),c})}else throw new Error("This method is only supported by the Vertex AI.")})}upscaleImageInternal(e){return F(this,null,function*(){var t,o;let r,l="",u={};if(this.apiClient.isVertexAI()){let a=ma(this.apiClient,e);return l=L("{model}:predict",a._url),u=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(d=>{let c=d;return c.sdkHttpResponse={headers:f.headers},c})),r.then(f=>{let d=ga(f),c=new Xn;return Object.assign(c,d),c})}else throw new Error("This method is only supported by the Vertex AI.")})}recontextImage(e){return F(this,null,function*(){var t,o;let r,l="",u={};if(this.apiClient.isVertexAI()){let a=Ol(this.apiClient,e);return l=L("{model}:predict",a._url),u=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>{let d=jl(f),c=new Qn;return Object.assign(c,d),c})}else throw new Error("This method is only supported by the Vertex AI.")})}segmentImage(e){return F(this,null,function*(){var t,o;let r,l="",u={};if(this.apiClient.isVertexAI()){let a=ra(this.apiClient,e);return l=L("{model}:predict",a._url),u=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>{let d=sa(f),c=new Zn;return Object.assign(c,d),c})}else throw new Error("This method is only supported by the Vertex AI.")})}get(e){return F(this,null,function*(){var t,o,r,l;let u,a="",f={};if(this.apiClient.isVertexAI()){let d=Ll(this.apiClient,e);return a=L("{name}",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),u.then(c=>gt(c))}else{let d=ql(this.apiClient,e);return a=L("{name}",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json()),u.then(c=>mt(c))}})}listInternal(e){return F(this,null,function*(){var t,o,r,l;let u,a="",f={};if(this.apiClient.isVertexAI()){let d=zl(this.apiClient,e);return a=L("{models_url}",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{let p=h;return p.sdkHttpResponse={headers:c.headers},p})),u.then(c=>{let h=Kl(c),p=new ze;return Object.assign(p,h),p})}else{let d=Wl(this.apiClient,e);return a=L("{models_url}",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json().then(h=>{let p=h;return p.sdkHttpResponse={headers:c.headers},p})),u.then(c=>{let h=Yl(c),p=new ze;return Object.assign(p,h),p})}})}update(e){return F(this,null,function*(){var t,o,r,l;let u,a="",f={};if(this.apiClient.isVertexAI()){let d=ha(this.apiClient,e);return a=L("{model}",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),u.then(c=>gt(c))}else{let d=pa(this.apiClient,e);return a=L("{name}",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json()),u.then(c=>mt(c))}})}delete(e){return F(this,null,function*(){var t,o,r,l;let u,a="",f={};if(this.apiClient.isVertexAI()){let d=j0(this.apiClient,e);return a=L("{name}",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{let p=h;return p.sdkHttpResponse={headers:c.headers},p})),u.then(c=>{let h=nl(c),p=new Ye;return Object.assign(p,h),p})}else{let d=O0(this.apiClient,e);return a=L("{name}",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json().then(h=>{let p=h;return p.sdkHttpResponse={headers:c.headers},p})),u.then(c=>{let h=el(c),p=new Ye;return Object.assign(p,h),p})}})}countTokens(e){return F(this,null,function*(){var t,o,r,l;let u,a="",f={};if(this.apiClient.isVertexAI()){let d=X0(this.apiClient,e);return a=L("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{let p=h;return p.sdkHttpResponse={headers:c.headers},p})),u.then(c=>{let h=Z0(c),p=new Ke;return Object.assign(p,h),p})}else{let d=$0(this.apiClient,e);return a=L("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json().then(h=>{let p=h;return p.sdkHttpResponse={headers:c.headers},p})),u.then(c=>{let h=Q0(c),p=new Ke;return Object.assign(p,h),p})}})}computeTokens(e){return F(this,null,function*(){var t,o;let r,l="",u={};if(this.apiClient.isVertexAI()){let a=G0(this.apiClient,e);return l=L("{model}:computeTokens",a._url),u=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(d=>{let c=d;return c.sdkHttpResponse={headers:f.headers},c})),r.then(f=>{let d=b0(f),c=new On;return Object.assign(c,d),c})}else throw new Error("This method is only supported by the Vertex AI.")})}generateVideosInternal(e){return F(this,null,function*(){var t,o,r,l;let u,a="",f={};if(this.apiClient.isVertexAI()){let d=Dl(this.apiClient,e);return a=L("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),u.then(c=>{let h=Sl(c),p=new $e;return Object.assign(p,h),p})}else{let d=Il(this.apiClient,e);return a=L("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json()),u.then(c=>{let h=Tl(c),p=new $e;return Object.assign(p,h),p})}})}};var It=class extends re{constructor(e){super(),this.apiClient=e}getVideosOperation(e){return F(this,null,function*(){let t=e.operation,o=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let r=t.name.split("/operations/")[0],l;o&&"httpOptions"in o&&(l=o.httpOptions);let u=yield this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:l}});return t._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{let r=yield this.getVideosOperationInternal({operationName:t.name,config:o});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}})}get(e){return F(this,null,function*(){let t=e.operation,o=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let r=t.name.split("/operations/")[0],l;o&&"httpOptions"in o&&(l=o.httpOptions);let u=yield this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:l}});return t._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{let r=yield this.getVideosOperationInternal({operationName:t.name,config:o});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}})}getVideosOperationInternal(e){return F(this,null,function*(){var t,o,r,l;let u,a="",f={};if(this.apiClient.isVertexAI()){let d=Nr(e);return a=L("{operationName}",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),u}else{let d=Rr(e);return a=L("{operationName}",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json()),u}})}fetchPredictVideosOperationInternal(e){return F(this,null,function*(){var t,o;let r,l="",u={};if(this.apiClient.isVertexAI()){let a=Tr(e);return l=L("{resourceName}:fetchPredictOperation",a._url),u=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r}else throw new Error("This method is only supported by the Vertex AI.")})}};function Wa(n){let e={},t=i(n,["data"]);if(t!=null&&s(e,["data"],t),i(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let o=i(n,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function za(n){let e={},t=i(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(l=>ja(l))),s(e,["parts"],r)}let o=i(n,["role"]);return o!=null&&s(e,["role"],o),e}function Ya(n,e,t){let o={},r=i(e,["expireTime"]);t!==void 0&&r!=null&&s(t,["expireTime"],r);let l=i(e,["newSessionExpireTime"]);t!==void 0&&l!=null&&s(t,["newSessionExpireTime"],l);let u=i(e,["uses"]);t!==void 0&&u!=null&&s(t,["uses"],u);let a=i(e,["liveConnectConstraints"]);t!==void 0&&a!=null&&s(t,["bidiGenerateContentSetup"],Oa(n,a));let f=i(e,["lockAdditionalFields"]);return t!==void 0&&f!=null&&s(t,["fieldMask"],f),o}function Ka(n,e){let t={},o=i(e,["config"]);return o!=null&&s(t,["config"],Ya(n,o,t)),t}function $a(n){let e={};if(i(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let t=i(n,["fileUri"]);t!=null&&s(e,["fileUri"],t);let o=i(n,["mimeType"]);return o!=null&&s(e,["mimeType"],o),e}function Xa(n){let e={};if(i(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let t=i(n,["enableWidget"]);return t!=null&&s(e,["enableWidget"],t),e}function Qa(n){let e={};if(i(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(i(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let t=i(n,["timeRangeFilter"]);return t!=null&&s(e,["timeRangeFilter"],t),e}function Za(n,e){let t={},o=i(n,["generationConfig"]);e!==void 0&&o!=null&&s(e,["setup","generationConfig"],o);let r=i(n,["responseModalities"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig","responseModalities"],r);let l=i(n,["temperature"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig","temperature"],l);let u=i(n,["topP"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topP"],u);let a=i(n,["topK"]);e!==void 0&&a!=null&&s(e,["setup","generationConfig","topK"],a);let f=i(n,["maxOutputTokens"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","maxOutputTokens"],f);let d=i(n,["mediaResolution"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","mediaResolution"],d);let c=i(n,["seed"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","seed"],c);let h=i(n,["speechConfig"]);e!==void 0&&h!=null&&s(e,["setup","generationConfig","speechConfig"],Gt(h));let p=i(n,["thinkingConfig"]);e!==void 0&&p!=null&&s(e,["setup","generationConfig","thinkingConfig"],p);let x=i(n,["enableAffectiveDialog"]);e!==void 0&&x!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],x);let g=i(n,["systemInstruction"]);e!==void 0&&g!=null&&s(e,["setup","systemInstruction"],za(Z(g)));let C=i(n,["tools"]);if(e!==void 0&&C!=null){let T=Se(C);Array.isArray(T)&&(T=T.map(D=>nu(Te(D)))),s(e,["setup","tools"],T)}let v=i(n,["sessionResumption"]);e!==void 0&&v!=null&&s(e,["setup","sessionResumption"],eu(v));let m=i(n,["inputAudioTranscription"]);e!==void 0&&m!=null&&s(e,["setup","inputAudioTranscription"],m);let E=i(n,["outputAudioTranscription"]);e!==void 0&&E!=null&&s(e,["setup","outputAudioTranscription"],E);let y=i(n,["realtimeInputConfig"]);e!==void 0&&y!=null&&s(e,["setup","realtimeInputConfig"],y);let _=i(n,["contextWindowCompression"]);e!==void 0&&_!=null&&s(e,["setup","contextWindowCompression"],_);let A=i(n,["proactivity"]);return e!==void 0&&A!=null&&s(e,["setup","proactivity"],A),t}function Oa(n,e){let t={},o=i(e,["model"]);o!=null&&s(t,["setup","model"],Y(n,o));let r=i(e,["config"]);return r!=null&&s(t,["config"],Za(r,t)),t}function ja(n){let e={},t=i(n,["functionCall"]);t!=null&&s(e,["functionCall"],t);let o=i(n,["codeExecutionResult"]);o!=null&&s(e,["codeExecutionResult"],o);let r=i(n,["executableCode"]);r!=null&&s(e,["executableCode"],r);let l=i(n,["fileData"]);l!=null&&s(e,["fileData"],$a(l));let u=i(n,["functionResponse"]);u!=null&&s(e,["functionResponse"],u);let a=i(n,["inlineData"]);a!=null&&s(e,["inlineData"],Wa(a));let f=i(n,["text"]);f!=null&&s(e,["text"],f);let d=i(n,["thought"]);d!=null&&s(e,["thought"],d);let c=i(n,["thoughtSignature"]);c!=null&&s(e,["thoughtSignature"],c);let h=i(n,["videoMetadata"]);return h!=null&&s(e,["videoMetadata"],h),e}function eu(n){let e={},t=i(n,["handle"]);if(t!=null&&s(e,["handle"],t),i(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function nu(n){let e={},t=i(n,["functionDeclarations"]);if(t!=null){let c=t;Array.isArray(c)&&(c=c.map(h=>h)),s(e,["functionDeclarations"],c)}if(i(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let o=i(n,["googleSearchRetrieval"]);o!=null&&s(e,["googleSearchRetrieval"],o);let r=i(n,["computerUse"]);r!=null&&s(e,["computerUse"],r);let l=i(n,["fileSearch"]);l!=null&&s(e,["fileSearch"],l);let u=i(n,["codeExecution"]);if(u!=null&&s(e,["codeExecution"],u),i(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let a=i(n,["googleMaps"]);a!=null&&s(e,["googleMaps"],Xa(a));let f=i(n,["googleSearch"]);f!=null&&s(e,["googleSearch"],Qa(f));let d=i(n,["urlContext"]);return d!=null&&s(e,["urlContext"],d),e}function tu(n){let e=[];for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t)){let o=n[t];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){let r=Object.keys(o).map(l=>`${t}.${l}`);e.push(...r)}else e.push(t)}return e.join(",")}function ou(n,e){let t=null,o=n.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){let l=o.setup;typeof l=="object"&&l!==null?(n.bidiGenerateContentSetup=l,t=l):delete n.bidiGenerateContentSetup}else o!==void 0&&delete n.bidiGenerateContentSetup;let r=n.fieldMask;if(t){let l=tu(t);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)l?n.fieldMask=l:delete n.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){let u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"],a=[];r.length>0&&(a=r.map(d=>u.includes(d)?`generationConfig.${d}`:d));let f=[];l&&f.push(l),a.length>0&&f.push(...a),f.length>0?n.fieldMask=f.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}var Dt=class extends re{constructor(e){super(),this.apiClient=e}create(e){return F(this,null,function*(){var t,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{let a=Ka(this.apiClient,e);l=L("auth_tokens",a._url),u=a._query,delete a.config,delete a._url,delete a._query;let f=ou(a,e.config);return r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}})}};function iu(n,e){let t={},o=i(n,["displayName"]);return e!==void 0&&o!=null&&s(e,["displayName"],o),t}function ru(n){let e={},t=i(n,["config"]);return t!=null&&iu(t,e),e}function su(n,e){let t={},o=i(n,["force"]);return e!==void 0&&o!=null&&s(e,["_query","force"],o),t}function lu(n){let e={},t=i(n,["name"]);t!=null&&s(e,["_url","name"],t);let o=i(n,["config"]);return o!=null&&su(o,e),e}function au(n){let e={},t=i(n,["name"]);return t!=null&&s(e,["_url","name"],t),e}function uu(n,e){let t={},o=i(n,["customMetadata"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),s(e,["customMetadata"],l)}let r=i(n,["chunkingConfig"]);return e!==void 0&&r!=null&&s(e,["chunkingConfig"],r),t}function fu(n){let e={},t=i(n,["name"]);t!=null&&s(e,["name"],t);let o=i(n,["metadata"]);o!=null&&s(e,["metadata"],o);let r=i(n,["done"]);r!=null&&s(e,["done"],r);let l=i(n,["error"]);l!=null&&s(e,["error"],l);let u=i(n,["response"]);return u!=null&&s(e,["response"],cu(u)),e}function du(n){let e={},t=i(n,["fileSearchStoreName"]);t!=null&&s(e,["_url","file_search_store_name"],t);let o=i(n,["fileName"]);o!=null&&s(e,["fileName"],o);let r=i(n,["config"]);return r!=null&&uu(r,e),e}function cu(n){let e={},t=i(n,["sdkHttpResponse"]);t!=null&&s(e,["sdkHttpResponse"],t);let o=i(n,["parent"]);o!=null&&s(e,["parent"],o);let r=i(n,["documentName"]);return r!=null&&s(e,["documentName"],r),e}function pu(n,e){let t={},o=i(n,["pageSize"]);e!==void 0&&o!=null&&s(e,["_query","pageSize"],o);let r=i(n,["pageToken"]);return e!==void 0&&r!=null&&s(e,["_query","pageToken"],r),t}function hu(n){let e={},t=i(n,["config"]);return t!=null&&pu(t,e),e}function xu(n){let e={},t=i(n,["sdkHttpResponse"]);t!=null&&s(e,["sdkHttpResponse"],t);let o=i(n,["nextPageToken"]);o!=null&&s(e,["nextPageToken"],o);let r=i(n,["fileSearchStores"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>u)),s(e,["fileSearchStores"],l)}return e}function mu(n,e){let t={},o=i(n,["mimeType"]);e!==void 0&&o!=null&&s(e,["mimeType"],o);let r=i(n,["displayName"]);e!==void 0&&r!=null&&s(e,["displayName"],r);let l=i(n,["customMetadata"]);if(e!==void 0&&l!=null){let a=l;Array.isArray(a)&&(a=a.map(f=>f)),s(e,["customMetadata"],a)}let u=i(n,["chunkingConfig"]);return e!==void 0&&u!=null&&s(e,["chunkingConfig"],u),t}function gu(n){let e={},t=i(n,["fileSearchStoreName"]);t!=null&&s(e,["_url","file_search_store_name"],t);let o=i(n,["config"]);return o!=null&&mu(o,e),e}function Eu(n){let e={},t=i(n,["sdkHttpResponse"]);return t!=null&&s(e,["sdkHttpResponse"],t),e}function Cu(n,e){let t={},o=i(n,["force"]);return e!==void 0&&o!=null&&s(e,["_query","force"],o),t}function vu(n){let e={},t=i(n,["name"]);t!=null&&s(e,["_url","name"],t);let o=i(n,["config"]);return o!=null&&Cu(o,e),e}function yu(n){let e={},t=i(n,["name"]);return t!=null&&s(e,["_url","name"],t),e}function _u(n,e){let t={},o=i(n,["pageSize"]);e!==void 0&&o!=null&&s(e,["_query","pageSize"],o);let r=i(n,["pageToken"]);return e!==void 0&&r!=null&&s(e,["_query","pageToken"],r),t}function Au(n){let e={},t=i(n,["parent"]);t!=null&&s(e,["_url","parent"],t);let o=i(n,["config"]);return o!=null&&_u(o,e),e}function Tu(n){let e={},t=i(n,["sdkHttpResponse"]);t!=null&&s(e,["sdkHttpResponse"],t);let o=i(n,["nextPageToken"]);o!=null&&s(e,["nextPageToken"],o);let r=i(n,["documents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>u)),s(e,["documents"],l)}return e}var Ft=class extends re{constructor(e){super(),this.apiClient=e,this.list=t=>F(this,null,function*(){return new le(pe.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:t.parent,config:o.config}),yield this.listInternal(t),t)})}get(e){return F(this,null,function*(){var t,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=yu(e);return l=L("{name}",a._url),u=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>f)}})}delete(e){return F(this,null,function*(){var t,o;let r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=vu(e);r=L("{name}",u._url),l=u._query,delete u._url,delete u._query,yield this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}})}listInternal(e){return F(this,null,function*(){var t,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=Au(e);return l=L("{parent}/documents",a._url),u=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>{let d=Tu(f),c=new jn;return Object.assign(c,d),c})}})}};var Pt=class extends re{constructor(e,t=new Ft(e)){super(),this.apiClient=e,this.documents=t,this.list=(...r)=>F(this,[...r],function*(o={}){return new le(pe.PAGED_ITEM_FILE_SEARCH_STORES,l=>this.listInternal(l),yield this.listInternal(o),o)})}uploadToFileSearchStore(e){return F(this,null,function*(){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)})}create(e){return F(this,null,function*(){var t,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=ru(e);return l=L("fileSearchStores",a._url),u=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>f)}})}get(e){return F(this,null,function*(){var t,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=au(e);return l=L("{name}",a._url),u=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>f)}})}delete(e){return F(this,null,function*(){var t,o;let r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let u=lu(e);r=L("{name}",u._url),l=u._query,delete u._url,delete u._query,yield this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}})}listInternal(e){return F(this,null,function*(){var t,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=hu(e);return l=L("fileSearchStores",a._url),u=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>{let d=xu(f),c=new et;return Object.assign(c,d),c})}})}uploadToFileSearchStoreInternal(e){return F(this,null,function*(){var t,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=gu(e);return l=L("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),u=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>{let d=Eu(f),c=new nt;return Object.assign(c,d),c})}})}importFile(e){return F(this,null,function*(){var t,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=du(e);return l=L("{file_search_store_name}:importFile",a._url),u=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>{let d=fu(f),c=new tt;return Object.assign(c,d),c})}})}};function Su(n,e){let t={},o=i(n,["name"]);return o!=null&&s(t,["_url","name"],o),t}function Iu(n,e){let t={},o=i(n,["name"]);return o!=null&&s(t,["_url","name"],o),t}function Du(n,e,t){let o={};if(i(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");let r=i(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&s(e,["displayName"],r),i(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");let l=i(n,["epochCount"]);e!==void 0&&l!=null&&s(e,["tuningTask","hyperparameters","epochCount"],l);let u=i(n,["learningRateMultiplier"]);if(u!=null&&s(o,["tuningTask","hyperparameters","learningRateMultiplier"],u),i(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(i(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(i(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");let a=i(n,["batchSize"]);e!==void 0&&a!=null&&s(e,["tuningTask","hyperparameters","batchSize"],a);let f=i(n,["learningRate"]);if(e!==void 0&&f!=null&&s(e,["tuningTask","hyperparameters","learningRate"],f),i(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(i(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function Fu(n,e,t){let o={},r=i(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){let x=i(n,["validationDataset"]);e!==void 0&&x!=null&&s(e,["supervisedTuningSpec"],yo(x))}else if(r==="PREFERENCE_TUNING"){let x=i(n,["validationDataset"]);e!==void 0&&x!=null&&s(e,["preferenceOptimizationSpec"],yo(x))}let l=i(n,["tunedModelDisplayName"]);e!==void 0&&l!=null&&s(e,["tunedModelDisplayName"],l);let u=i(n,["description"]);e!==void 0&&u!=null&&s(e,["description"],u);let a=i(t,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){let x=i(n,["epochCount"]);e!==void 0&&x!=null&&s(e,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(a==="PREFERENCE_TUNING"){let x=i(n,["epochCount"]);e!==void 0&&x!=null&&s(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let f=i(t,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){let x=i(n,["learningRateMultiplier"]);e!==void 0&&x!=null&&s(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(f==="PREFERENCE_TUNING"){let x=i(n,["learningRateMultiplier"]);e!==void 0&&x!=null&&s(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let d=i(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){let x=i(n,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&s(e,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(d==="PREFERENCE_TUNING"){let x=i(n,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&s(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let c=i(t,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){let x=i(n,["adapterSize"]);e!==void 0&&x!=null&&s(e,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(c==="PREFERENCE_TUNING"){let x=i(n,["adapterSize"]);e!==void 0&&x!=null&&s(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(i(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(i(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");let h=i(n,["labels"]);e!==void 0&&h!=null&&s(e,["labels"],h);let p=i(n,["beta"]);return e!==void 0&&p!=null&&s(e,["preferenceOptimizationSpec","hyperParameters","beta"],p),o}function Pu(n,e){let t={},o=i(n,["baseModel"]);o!=null&&s(t,["baseModel"],o);let r=i(n,["preTunedModel"]);r!=null&&s(t,["preTunedModel"],r);let l=i(n,["trainingDataset"]);l!=null&&Vu(l);let u=i(n,["config"]);return u!=null&&Du(u,t),t}function Bu(n,e){let t={},o=i(n,["baseModel"]);o!=null&&s(t,["baseModel"],o);let r=i(n,["preTunedModel"]);r!=null&&s(t,["preTunedModel"],r);let l=i(n,["trainingDataset"]);l!=null&&Gu(l,t,e);let u=i(n,["config"]);return u!=null&&Fu(u,t,e),t}function Ru(n,e){let t={},o=i(n,["name"]);return o!=null&&s(t,["_url","name"],o),t}function Nu(n,e){let t={},o=i(n,["name"]);return o!=null&&s(t,["_url","name"],o),t}function Mu(n,e,t){let o={},r=i(n,["pageSize"]);e!==void 0&&r!=null&&s(e,["_query","pageSize"],r);let l=i(n,["pageToken"]);e!==void 0&&l!=null&&s(e,["_query","pageToken"],l);let u=i(n,["filter"]);return e!==void 0&&u!=null&&s(e,["_query","filter"],u),o}function wu(n,e,t){let o={},r=i(n,["pageSize"]);e!==void 0&&r!=null&&s(e,["_query","pageSize"],r);let l=i(n,["pageToken"]);e!==void 0&&l!=null&&s(e,["_query","pageToken"],l);let u=i(n,["filter"]);return e!==void 0&&u!=null&&s(e,["_query","filter"],u),o}function ku(n,e){let t={},o=i(n,["config"]);return o!=null&&Mu(o,t),t}function Uu(n,e){let t={},o=i(n,["config"]);return o!=null&&wu(o,t),t}function qu(n,e){let t={},o=i(n,["sdkHttpResponse"]);o!=null&&s(t,["sdkHttpResponse"],o);let r=i(n,["nextPageToken"]);r!=null&&s(t,["nextPageToken"],r);let l=i(n,["tunedModels"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(a=>Qo(a))),s(t,["tuningJobs"],u)}return t}function Lu(n,e){let t={},o=i(n,["sdkHttpResponse"]);o!=null&&s(t,["sdkHttpResponse"],o);let r=i(n,["nextPageToken"]);r!=null&&s(t,["nextPageToken"],r);let l=i(n,["tuningJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(a=>Bt(a))),s(t,["tuningJobs"],u)}return t}function Hu(n,e){let t={},o=i(n,["name"]);o!=null&&s(t,["model"],o);let r=i(n,["name"]);return r!=null&&s(t,["endpoint"],r),t}function Vu(n,e){let t={};if(i(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(i(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");let o=i(n,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),s(t,["examples","examples"],r)}return t}function Gu(n,e,t){let o={},r=i(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){let u=i(n,["gcsUri"]);e!==void 0&&u!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(r==="PREFERENCE_TUNING"){let u=i(n,["gcsUri"]);e!==void 0&&u!=null&&s(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let l=i(t,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){let u=i(n,["vertexDatasetResource"]);e!==void 0&&u!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(l==="PREFERENCE_TUNING"){let u=i(n,["vertexDatasetResource"]);e!==void 0&&u!=null&&s(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(i(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Qo(n,e){let t={},o=i(n,["sdkHttpResponse"]);o!=null&&s(t,["sdkHttpResponse"],o);let r=i(n,["name"]);r!=null&&s(t,["name"],r);let l=i(n,["state"]);l!=null&&s(t,["state"],Ro(l));let u=i(n,["createTime"]);u!=null&&s(t,["createTime"],u);let a=i(n,["tuningTask","startTime"]);a!=null&&s(t,["startTime"],a);let f=i(n,["tuningTask","completeTime"]);f!=null&&s(t,["endTime"],f);let d=i(n,["updateTime"]);d!=null&&s(t,["updateTime"],d);let c=i(n,["description"]);c!=null&&s(t,["description"],c);let h=i(n,["baseModel"]);h!=null&&s(t,["baseModel"],h);let p=i(n,["_self"]);return p!=null&&s(t,["tunedModel"],Hu(p)),t}function Bt(n,e){let t={},o=i(n,["sdkHttpResponse"]);o!=null&&s(t,["sdkHttpResponse"],o);let r=i(n,["name"]);r!=null&&s(t,["name"],r);let l=i(n,["state"]);l!=null&&s(t,["state"],Ro(l));let u=i(n,["createTime"]);u!=null&&s(t,["createTime"],u);let a=i(n,["startTime"]);a!=null&&s(t,["startTime"],a);let f=i(n,["endTime"]);f!=null&&s(t,["endTime"],f);let d=i(n,["updateTime"]);d!=null&&s(t,["updateTime"],d);let c=i(n,["error"]);c!=null&&s(t,["error"],c);let h=i(n,["description"]);h!=null&&s(t,["description"],h);let p=i(n,["baseModel"]);p!=null&&s(t,["baseModel"],p);let x=i(n,["tunedModel"]);x!=null&&s(t,["tunedModel"],x);let g=i(n,["preTunedModel"]);g!=null&&s(t,["preTunedModel"],g);let C=i(n,["supervisedTuningSpec"]);C!=null&&s(t,["supervisedTuningSpec"],C);let v=i(n,["preferenceOptimizationSpec"]);v!=null&&s(t,["preferenceOptimizationSpec"],v);let m=i(n,["tuningDataStats"]);m!=null&&s(t,["tuningDataStats"],m);let E=i(n,["encryptionSpec"]);E!=null&&s(t,["encryptionSpec"],E);let y=i(n,["partnerModelTuningSpec"]);y!=null&&s(t,["partnerModelTuningSpec"],y);let _=i(n,["customBaseModel"]);_!=null&&s(t,["customBaseModel"],_);let A=i(n,["experiment"]);A!=null&&s(t,["experiment"],A);let T=i(n,["labels"]);T!=null&&s(t,["labels"],T);let D=i(n,["outputUri"]);D!=null&&s(t,["outputUri"],D);let B=i(n,["pipelineJob"]);B!=null&&s(t,["pipelineJob"],B);let I=i(n,["serviceAccount"]);I!=null&&s(t,["serviceAccount"],I);let w=i(n,["tunedModelDisplayName"]);w!=null&&s(t,["tunedModelDisplayName"],w);let S=i(n,["veoTuningSpec"]);return S!=null&&s(t,["veoTuningSpec"],S),t}function bu(n,e){let t={},o=i(n,["sdkHttpResponse"]);o!=null&&s(t,["sdkHttpResponse"],o);let r=i(n,["name"]);r!=null&&s(t,["name"],r);let l=i(n,["metadata"]);l!=null&&s(t,["metadata"],l);let u=i(n,["done"]);u!=null&&s(t,["done"],u);let a=i(n,["error"]);return a!=null&&s(t,["error"],a),t}function yo(n,e){let t={},o=i(n,["gcsUri"]);o!=null&&s(t,["validationDatasetUri"],o);let r=i(n,["vertexDatasetResource"]);return r!=null&&s(t,["validationDatasetUri"],r),t}var Rt=class extends re{constructor(e){super(),this.apiClient=e,this.get=t=>F(this,null,function*(){return yield this.getInternal(t)}),this.list=(...o)=>F(this,[...o],function*(t={}){return new le(pe.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),yield this.listInternal(t),t)}),this.tune=t=>F(this,null,function*(){var o;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){let r={tunedModelName:t.baseModel};!((o=t.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=t.config.preTunedModelCheckpointId);let l=Object.assign(Object.assign({},t),{preTunedModel:r});return l.baseModel=void 0,yield this.tuneInternal(l)}else{let r=Object.assign({},t);return yield this.tuneInternal(r)}else{let r=Object.assign({},t),l=yield this.tuneMldevInternal(r),u="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?u=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(u=l.name.split("/operations/")[0]),{name:u,state:So.JOB_STATE_QUEUED}}})}getInternal(e){return F(this,null,function*(){var t,o,r,l;let u,a="",f={};if(this.apiClient.isVertexAI()){let d=Nu(e);return a=L("{name}",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{let p=h;return p.sdkHttpResponse={headers:c.headers},p})),u.then(c=>Bt(c))}else{let d=Ru(e);return a=L("{name}",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json().then(h=>{let p=h;return p.sdkHttpResponse={headers:c.headers},p})),u.then(c=>Qo(c))}})}listInternal(e){return F(this,null,function*(){var t,o,r,l;let u,a="",f={};if(this.apiClient.isVertexAI()){let d=Uu(e);return a=L("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(h=>{let p=h;return p.sdkHttpResponse={headers:c.headers},p})),u.then(c=>{let h=Lu(c),p=new Xe;return Object.assign(p,h),p})}else{let d=ku(e);return a=L("tunedModels",d._url),f=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:a,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(c=>c.json().then(h=>{let p=h;return p.sdkHttpResponse={headers:c.headers},p})),u.then(c=>{let h=qu(c),p=new Xe;return Object.assign(p,h),p})}})}cancel(e){return F(this,null,function*(){var t,o,r,l;let u="",a={};if(this.apiClient.isVertexAI()){let f=Iu(e);u=L("{name}:cancel",f._url),a=f._query,delete f._url,delete f._query,yield this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{let f=Su(e);u=L("{name}:cancel",f._url),a=f._query,delete f._url,delete f._query,yield this.apiClient.request({path:u,queryParams:a,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}})}tuneInternal(e){return F(this,null,function*(){var t,o;let r,l="",u={};if(this.apiClient.isVertexAI()){let a=Bu(e,e);return l=L("tuningJobs",a._url),u=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(d=>{let c=d;return c.sdkHttpResponse={headers:f.headers},c})),r.then(f=>Bt(f))}else throw new Error("This method is only supported by the Vertex AI.")})}tuneMldevInternal(e){return F(this,null,function*(){var t,o;let r,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let a=Pu(e);return l=L("tunedModels",a._url),u=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(d=>{let c=d;return c.sdkHttpResponse={headers:f.headers},c})),r.then(f=>bu(f))}})}};var Nt=class{download(e,t){return F(this,null,function*(){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")})}},Ju=1024*1024*8,Wu=3,zu=1e3,Yu=2,nn="x-goog-upload-status";function Ku(n,e,t){return F(this,null,function*(){var o;let r=yield Zo(n,e,t),l=yield r?.json();if(((o=r?.headers)===null||o===void 0?void 0:o[nn])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file})}function $u(n,e,t){return F(this,null,function*(){var o;let r=yield Zo(n,e,t),l=yield r?.json();if(((o=r?.headers)===null||o===void 0?void 0:o[nn])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");let u=To(l),a=new at;return Object.assign(a,u),a})}function Zo(n,e,t){return F(this,null,function*(){var o,r;let l=0,u=0,a=new Ue(new Response),f="upload";for(l=n.size;u<l;){let d=Math.min(Ju,l-u),c=n.slice(u,u+d);u+d>=l&&(f+=", finalize");let h=0,p=zu;for(;h<Wu&&(a=yield t.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(d)}}}),!(!((o=a?.headers)===null||o===void 0)&&o[nn]));)h++,yield Qu(p),p=p*Yu;if(u+=d,((r=a?.headers)===null||r===void 0?void 0:r[nn])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a})}function Xu(n){return F(this,null,function*(){return{size:n.size,type:n.type}})}function Qu(n){return new Promise(e=>setTimeout(e,n))}var Mt=class{upload(e,t,o){return F(this,null,function*(){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return yield Ku(e,t,o)})}uploadToFileSearchStore(e,t,o){return F(this,null,function*(){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return yield $u(e,t,o)})}stat(e){return F(this,null,function*(){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return yield Xu(e)})}};var wt=class{create(e,t,o){return new kt(e,t,o)}},kt=class{constructor(e,t,o){this.url=e,this.headers=t,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}};var _o="x-goog-api-key",Ut=class{constructor(e){this.apiKey=e}addAuthHeaders(e,t){return F(this,null,function*(){if(e.get(_o)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(_o,this.apiKey)}})}};var Zu="gl-node/",Ao=class{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;let o=_r(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;let r=new Ut(this.apiKey);this.apiClient=new Ct({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Zu+"web",uploader:new Mt,downloader:new Nt}),this.models=new St(this.apiClient),this.live=new At(this.apiClient,r,new wt),this.batches=new dt(this.apiClient),this.chats=new pt(this.models,this.apiClient),this.caches=new ct(this.apiClient),this.files=new xt(this.apiClient),this.operations=new It(this.apiClient),this.authTokens=new Dt(this.apiClient),this.tunings=new Rt(this.apiClient),this.fileSearchStores=new Pt(this.apiClient)}};export{Ao as a,Ou as b};
