import{a as l}from"./chunk-DMDQ36CM.js";import{ba as d,ga as m,ua as n,xc as c}from"./chunk-5TLQJ6AI.js";import{a as s,b as i}from"./chunk-WWX6BADO.js";var g=class a{themeManager=m(l);customCategories=n([]);categories=c(()=>{let e=this.themeManager.currentCalendarTheme(),t=e.categoryColors||[e.colors.primary,e.colors.secondary,e.colors.accent,e.colors.neutral];return[...[{name:"\uC5C5\uBB34",color:t[0]},{name:"\uAC1C\uC778",color:t[1]},{name:"\uAC00\uC871",color:t[2]},{name:"\uAE30\uD0C0",color:t[3]}],...this.customCategories()]});tasks=n([{id:"1",dateStr:this.formatDate(new Date),title:"\uC8FC\uAC04 \uC5C5\uBB34 \uBCF4\uACE0",completed:!1,color:"#4f46e5",time:"10:00",category:"\uC5C5\uBB34",memo:"\uC774\uBC88 \uC8FC \uC8FC\uC694 \uC774\uC288 \uC815\uB9AC"},{id:"2",dateStr:this.formatDate(new Date),title:"\uC810\uC2EC \uC57D\uC18D",completed:!1,color:"#10b981",time:"12:30",category:"\uAC1C\uC778",memo:"\uAC15\uB0A8\uC5ED 11\uBC88 \uCD9C\uAD6C"},{id:"3",dateStr:this.formatDate(new Date(new Date().setDate(new Date().getDate()+2))),title:"\uB514\uC790\uC778 \uB9AC\uBDF0",completed:!1,color:"#4f46e5",time:"14:00",category:"\uC5C5\uBB34"}]);constructor(){}formatDate(e){let t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${o}`}getTasksByDate(e){return this.tasks().filter(t=>t.dateStr===e)}getTasksByDateSorted(e){return this.tasks().filter(t=>t.dateStr===e).sort((t,r)=>!t.time&&!r.time?0:t.time?r.time?t.time.localeCompare(r.time):1:-1)}addTask(e,t,r){if(!t.trim())return;let o={id:crypto.randomUUID(),dateStr:e,title:t.trim(),completed:!1,color:r};this.tasks.update(u=>[...u,o])}addTaskDetailed(e){let t=e.title;if(!t.trim())return;let r=i(s({},e),{id:crypto.randomUUID(),title:t.trim()});this.tasks.update(o=>[...o,r])}toggleTask(e){this.tasks.update(t=>t.map(r=>r.id===e?i(s({},r),{completed:!r.completed}):r))}deleteTask(e){this.tasks.update(t=>t.filter(r=>r.id!==e))}addCategory(e,t){if(!e.trim())return;let r={name:e.trim(),color:t};this.customCategories.update(o=>[...o,r])}searchTasks(e){let t=e.toLowerCase().trim();return t?this.tasks().filter(r=>r.title.toLowerCase().includes(t)).sort((r,o)=>r.dateStr.localeCompare(o.dateStr)):[]}static \u0275fac=function(t){return new(t||a)};static \u0275prov=d({token:a,factory:a.\u0275fac,providedIn:"root"})};export{g as a};
