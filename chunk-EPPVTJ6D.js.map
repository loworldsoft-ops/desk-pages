{
  "version": 3,
  "sources": ["src/app/modules/novel/components/confirm-dialog/confirm-dialog.component.ts", "src/app/modules/novel/models/diablo-item.model.ts", "src/app/modules/novel/data/diablo-items.data.ts", "src/app/modules/novel/services/state/inventory.state.service.ts", "src/app/modules/novel/managers/inventory.manager.ts", "src/app/modules/novel/services/state/battle.state.service.ts", "src/app/modules/novel/services/battle.service.ts", "src/app/modules/novel/services/battle-log.service.ts", "src/app/modules/novel/managers/battle.manager.ts", "src/app/modules/novel/services/wuxia-data.service.ts", "src/app/modules/novel/managers/wuxia.manager.ts", "src/app/modules/novel/services/dungeon.manager.ts", "src/app/modules/novel/services/item-db.service.ts", "src/app/modules/novel/components/novel-generator/helpers/item-generation.helper.ts", "src/app/modules/novel/components/novel-generator/helpers/story-flow.helper.ts", "src/app/modules/novel/services/scenario-db.service.ts", "src/app/modules/novel/services/character-db.service.ts", "src/app/modules/novel/services/story-db.service.ts", "src/app/modules/novel/components/novel-generator/helpers/content-management.helper.ts", "src/app/modules/novel/components/novel-generator/helpers/diablo-item.helper.ts", "src/app/modules/novel/components/novel-generator/helpers/random-item.helper.ts", "src/app/modules/novel/components/novel-generator/helpers/dungeon-flow.helper.ts", "src/app/modules/novel/constants/equipment-slots.constant.ts", "src/app/modules/novel/services/state/novel.state.service.ts", "src/app/modules/novel/services/state/player-state.service.ts", "src/app/modules/novel/services/state/item.state.service.ts", "src/app/modules/novel/services/novel-auth.service.ts", "src/app/modules/novel/services/game-storage.service.ts", "src/app/modules/novel/services/dungeon-generator.service.ts", "src/app/modules/novel/services/dungeon.service.ts", "src/app/modules/novel/services/inventory.service.ts", "src/app/modules/novel/services/equipment.service.ts", "src/app/modules/novel/services/shop.service.ts", "src/app/modules/novel/services/item-generator.service.ts", "src/app/modules/novel/helpers/story-element-generator.helper.ts", "src/app/modules/novel/services/responsive.service.ts", "src/app/modules/novel/services/game-modal.service.ts", "src/app/modules/novel/components/dungeon-explorer/dungeon-explorer.ts", "src/app/modules/novel/components/dungeon-explorer/dungeon-explorer.html", "src/app/modules/novel/components/novel-generator/novel-generator.component.ts", "src/app/modules/novel/components/novel-generator/novel-generator.component.html", "src/app/modules/novel/components/novel-login/novel-login.ts", "src/app/modules/novel/components/novel-top-menu/novel-top-menu.component.ts", "src/app/modules/novel/components/novel-top-menu/novel-top-menu.component.html", "src/app/modules/novel/components/novel-header/novel-header.component.ts", "src/app/modules/novel/components/novel-header/novel-header.component.html", "src/app/modules/novel/components/novel-left-menu/novel-left-menu.component.ts", "src/app/modules/novel/components/novel-left-menu/novel-left-menu.component.html", "src/app/modules/novel/components/battle-modal/battle-modal.component.ts", "src/app/modules/novel/components/battle-modal/battle-modal.component.html", "src/app/modules/novel/components/novel-right-sidebar/novel-right-sidebar.component.ts", "src/app/modules/novel/components/novel-right-sidebar/novel-right-sidebar.component.html", "src/app/modules/novel/components/novel-sidebar/novel-sidebar.component.ts", "src/app/modules/novel/components/novel-sidebar/novel-sidebar.component.html", "src/app/modules/novel/components/novel-vertical-menu/novel-vertical-menu.component.ts", "src/app/modules/novel/components/novel-vertical-menu/novel-vertical-menu.component.html", "src/app/modules/novel/services/wuxia-scene.service.ts", "src/app/modules/novel/services/wuxia-situation.service.ts", "src/app/modules/novel/services/wuxia-battle.adapter.ts", "src/app/modules/novel/data/chapter1-scenes.data.ts", "src/app/modules/novel/data/chapter1-npcs.data.ts", "src/app/modules/novel/data/situation-templates.data.ts", "src/app/modules/novel/data/equipment-items.data.ts", "src/app/modules/novel/components/game-modal/game-modal.component.ts", "src/app/modules/novel/components/game-modal/game-modal.component.html", "src/app/modules/novel/components/wuxia-game/wuxia-game.component.ts", "src/app/modules/novel/components/wuxia-game/wuxia-game.component.html", "src/app/modules/novel/guards/novel-auth.guard.ts", "src/app/modules/novel/novel-routing.module.ts", "src/app/modules/novel/novel.module.ts"],
  "sourcesContent": ["import { Component, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA, MatDialogModule } from '@angular/material/dialog';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { CommonModule } from '@angular/common';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\n\nexport interface ConfirmDialogData {\n  title?: string;\n  message: string;\n  confirmText?: string;\n  cancelText?: string;\n  verdict?: string;\n}\n\n@Component({\n  selector: 'app-confirm-dialog',\n  standalone: true,\n  imports: [CommonModule, MatDialogModule, MatButtonModule, MatIconModule],\n  template: `\n    <div class=\"confirm-dialog\" [class.comparison-dialog]=\"isComparisonDialog\">\n      <div class=\"dialog-header\">\n        <div class=\"icon-wrapper\" [class.comparison-icon]=\"isComparisonDialog\">\n          <mat-icon>{{ isComparisonDialog ? 'compare_arrows' : 'help_outline' }}</mat-icon>\n        </div>\n        <button mat-icon-button class=\"close-btn\" (click)=\"onCancel()\">\n          <mat-icon>close</mat-icon>\n        </button>\n      </div>\n      \n      <div class=\"dialog-content\">\n        <h2>{{ data.title || '확인' }}</h2>\n        <div class=\"message-content\" [innerHTML]=\"sanitizedMessage\"></div>\n        <p class=\"verdict\" *ngIf=\"data.verdict\">{{ data.verdict }}</p>\n      </div>\n      \n      <div class=\"dialog-actions\">\n        <button mat-button class=\"cancel-btn\" (click)=\"onCancel()\">\n          {{ data.cancelText || '취소' }}\n        </button>\n        <button mat-raised-button class=\"confirm-btn\" (click)=\"onConfirm()\">\n          {{ data.confirmText || '확인' }}\n        </button>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .confirm-dialog {\n      padding: 0;\n      background: var(--bg-primary, #ffffff);\n      border-radius: 16px;\n      min-width: 400px;\n      max-width: 500px;\n      overflow: hidden;\n      \n      &.comparison-dialog {\n        min-width: 700px;\n        max-width: 900px;\n      }\n    }\n\n    .dialog-header {\n      position: relative;\n      padding: 24px 24px 0;\n      display: flex;\n      justify-content: space-between;\n      align-items: flex-start;\n    }\n\n    .icon-wrapper {\n      width: 48px;\n      height: 48px;\n      border-radius: 12px;\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);\n      \n      &.comparison-icon {\n        background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);\n        box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);\n      }\n      \n      mat-icon {\n        color: white;\n        font-size: 28px;\n        width: 28px;\n        height: 28px;\n      }\n    }\n\n    .close-btn {\n      color: var(--text-secondary, #666);\n      width: 32px;\n      height: 32px;\n      \n      mat-icon {\n        font-size: 20px;\n        width: 20px;\n        height: 20px;\n      }\n\n      &:hover {\n        background: var(--bg-hover, #f5f5f5);\n      }\n    }\n\n    .dialog-content {\n      padding: 20px 24px 24px;\n      \n      h2 {\n        margin: 0 0 12px 0;\n        font-size: 24px;\n        font-weight: 700;\n        color: var(--text-primary, #212529);\n        line-height: 1.3;\n      }\n      \n      .message-content {\n        font-size: 16px;\n        line-height: 1.6;\n        color: var(--text-secondary, #666);\n      }\n      \n      p {\n        margin: 0;\n        font-size: 16px;\n        line-height: 1.6;\n        color: var(--text-secondary, #666);\n      }\n      \n      .verdict {\n        margin-top: 16px;\n        padding: 12px 16px;\n        background: var(--bg-secondary, #f8f9fa);\n        border-radius: 8px;\n        font-weight: 600;\n        font-size: 15px;\n        color: var(--accent-primary, #667eea);\n        text-align: center;\n      }\n    }\n\n    .dialog-actions {\n      padding: 16px 24px 24px;\n      display: flex;\n      gap: 12px;\n      justify-content: flex-end;\n    }\n\n    .cancel-btn {\n      min-width: 100px;\n      height: 44px;\n      border-radius: 8px;\n      font-weight: 600;\n      font-size: 15px;\n      color: var(--text-secondary, #666);\n      background: transparent;\n      border: 1px solid var(--border-color, #e0e0e0);\n      transition: all 0.2s ease;\n\n      &:hover {\n        background: var(--bg-hover, #f5f5f5);\n        border-color: var(--text-secondary, #666);\n      }\n    }\n\n    .confirm-btn {\n      min-width: 100px;\n      height: 44px;\n      border-radius: 8px;\n      font-weight: 600;\n      font-size: 15px;\n      color: white;\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);\n      transition: all 0.2s ease;\n\n      &:hover {\n        box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);\n        transform: translateY(-1px);\n      }\n\n      &:active {\n        transform: translateY(0);\n      }\n    }\n\n    /* 다크 모드 */\n    :host-context(body.dark-theme),\n    :host-context(body.dark-mode),\n    :host-context([data-theme=\"dark\"]) {\n      .confirm-dialog {\n        background: #1a1a2e !important;\n      }\n\n      .dialog-content {\n        h2 {\n          color: #f5f5f7 !important;\n        }\n\n        .message-content,\n        p {\n          color: #8e8e93 !important;\n        }\n        \n        .verdict {\n          background: #2d2d44 !important;\n          color: #3b82f6 !important;\n        }\n      }\n\n      .cancel-btn {\n        color: #8e8e93 !important;\n        border-color: #2d2d44 !important;\n        \n        &:hover {\n          background: #2d2d44 !important;\n          border-color: #8e8e93 !important;\n        }\n      }\n\n      .close-btn {\n        color: #8e8e93 !important;\n\n        &:hover {\n          background: #2d2d44 !important;\n        }\n      }\n    }\n\n    /* 애니메이션 */\n    @keyframes fadeIn {\n      from {\n        opacity: 0;\n        transform: scale(0.95);\n      }\n      to {\n        opacity: 1;\n        transform: scale(1);\n      }\n    }\n\n    .confirm-dialog {\n      animation: fadeIn 0.2s ease-out;\n    }\n  `]\n})\nexport class ConfirmDialogComponent {\n  sanitizedMessage: SafeHtml;\n  isComparisonDialog: boolean;\n\n  constructor(\n    public dialogRef: MatDialogRef<ConfirmDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: ConfirmDialogData,\n    private sanitizer: DomSanitizer\n  ) {\n    this.sanitizedMessage = this.sanitizer.bypassSecurityTrustHtml(data.message);\n    this.isComparisonDialog = data.title?.includes('비교') || false;\n  }\n\n  onCancel(): void {\n    this.dialogRef.close(false);\n  }\n\n  onConfirm(): void {\n    this.dialogRef.close(true);\n  }\n}\n", "/**\n * 디아블로 4 아이템 데이터 모델\n * 실제 디아블로 4 인벤 DB 구조와 동일\n */\n\nexport enum ItemRarity {\n  COMMON = 'common',\n  UNCOMMON = 'uncommon',\n  RARE = 'rare',\n  EPIC = 'epic',\n  LEGENDARY = 'legendary',\n  UNIQUE = 'unique',\n  MYTHIC = 'mythic'\n}\n\nexport enum ItemType {\n  WEAPON = 'weapon',\n  ARMOR = 'armor',\n  ACCESSORY = 'accessory'\n}\n\nexport enum WeaponCategory {\n  AXE = '도끼',\n  SWORD = '검',\n  DAGGER = '단검',\n  MACE = '철퇴',\n  BOW = '활',\n  CROSSBOW = '쇠뇌',\n  STAFF = '지팡이',\n  WAND = '마법봉',\n  SCYTHE = '낫',\n  POLEARM = '육척봉',\n  GLAIVE = '글레이브',\n  TOTEM = '토템',\n  FOCUS = '중심점'\n}\n\nexport enum ArmorSlot {\n  HEAD = '투구',\n  CHEST = '가슴 방어구',\n  HANDS = '장갑',\n  LEGS = '바지',\n  FEET = '장화'\n}\n\nexport interface ItemStat {\n  name: string;\n  value: string;\n  type?: 'damage' | 'defense' | 'vital' | 'critical' | 'lifesteal' | 'manasteal' | 'resist' | 'special';\n  icon?: string;\n}\n\nexport interface DiabloItem {\n  id: number;\n  name: string;\n  nameKo: string;\n  rarity: ItemRarity;\n  type: ItemType;\n  category: WeaponCategory | ArmorSlot | string;\n  \n  // 기본 정보\n  attackSpeed?: string;\n  attacksPerSecond?: number;\n  damage?: string;\n  defense?: number;\n  \n  // 통계\n  stats: ItemStat[];\n  \n  // 고유 효과\n  uniqueEffect?: string;\n  \n  // 태그\n  tags?: string[];\n  chaosArmor?: boolean; // 혼돈의 방어구\n  \n  // 메타 정보\n  favorites?: number;\n  icon?: string;\n  image?: string;\n  \n  // 게임 정보\n  classRestriction?: string[];\n  levelRequirement?: number;\n}\n", "/**\n * 디아블로 4 실제 아이템 데이터\n * 출처: https://diablo4.inven.co.kr/db/item\n */\n\nimport { DiabloItem, ItemRarity, ItemType, WeaponCategory, ArmorSlot } from '../models/diablo-item.model';\n\nexport const DIABLO_ITEMS: DiabloItem[] = [\n  // ID 1: 차오르는 철월 (고유 도끼)\n  {\n    id: 1,\n    name: 'Waxing Gibbous',\n    nameKo: '차오르는 철월',\n    rarity: ItemRarity.UNIQUE,\n    type: ItemType.WEAPON,\n    category: WeaponCategory.AXE,\n    attackSpeed: '빠름',\n    attacksPerSecond: 1.10,\n    favorites: 7,\n    tags: ['고유', '도끼'],\n    stats: [\n      {\n        name: '초당 공격 횟수',\n        value: '1.10 (빠름)',\n        type: 'special'\n      },\n      {\n        name: '칼날 발톱이 두 배의 피해를 줄 확률',\n        value: '+50.0%',\n        type: 'damage'\n      },\n      {\n        name: '극대화 피해',\n        value: '+[88.0-115.0]%',\n        type: 'critical'\n      },\n      {\n        name: '피의 울부짖음이 부여하는 은폐',\n        value: '+[2.2-3.0]초',\n        type: 'special'\n      },\n      {\n        name: '칼날 발톱',\n        value: '+[2-4]',\n        type: 'special'\n      },\n      {\n        name: '독성 발톱',\n        value: '+[1-2]',\n        type: 'special'\n      }\n    ],\n    uniqueEffect: '칼날 발톱으로 적을 처치하면 2초 동안 은폐를 얻습니다. 공격해 은폐가 종료되면 1.0-4.0초 동안 확정적으로 극대화 공격합니다.',\n    classRestriction: ['드루이드']\n  },\n\n  // ID 2: 도살자의 식칼 (고유 도끼)\n  {\n    id: 2,\n    name: 'Butcher\\'s Cleaver',\n    nameKo: '도살자의 식칼',\n    rarity: ItemRarity.UNIQUE,\n    type: ItemType.WEAPON,\n    category: WeaponCategory.AXE,\n    attackSpeed: '빠름',\n    attacksPerSecond: 1.10,\n    favorites: 10,\n    tags: ['고유', '도끼'],\n    stats: [\n      {\n        name: '초당 공격 횟수',\n        value: '1.10 (빠름)',\n        type: 'special'\n      },\n      {\n        name: '부상당한 적에게 주는 피해',\n        value: '+175.0%',\n        type: 'damage'\n      },\n      {\n        name: '공포 적에 대한 극대화 확률',\n        value: '+[16.0-25.0]%',\n        type: 'critical'\n      },\n      {\n        name: '이동 속도',\n        value: '+[17.5-23.0]%',\n        type: 'special'\n      },\n      {\n        name: '공격 속도',\n        value: '+[8.3-10.0]%',\n        type: 'special'\n      },\n      {\n        name: '물리 피해',\n        value: '+[62.5-85.0]%',\n        type: 'damage'\n      }\n    ],\n    uniqueEffect: '행운의 적중: 적에게 공격이 극대화로 적중하면 최대 100% 확률로 해당 적이 4초 동안 공포에 질리고 61 – 90% 감속됩니다.'\n  },\n\n  // ID 3: 규탄 (고유 단검) - 혼돈의 방어구\n  {\n    id: 3,\n    name: 'Condemnation',\n    nameKo: '규탄',\n    rarity: ItemRarity.UNIQUE,\n    type: ItemType.WEAPON,\n    category: WeaponCategory.DAGGER,\n    attackSpeed: '매우 빠름',\n    attacksPerSecond: 1.20,\n    favorites: 13,\n    tags: ['고유', '단검', '혼돈의 방어구'],\n    chaosArmor: true,\n    stats: [\n      {\n        name: '초당 공격 횟수',\n        value: '1.20 (매우 빠름)',\n        type: 'special'\n      },\n      {\n        name: '공격력',\n        value: '+50.0%',\n        type: 'damage'\n      },\n      {\n        name: '기본 공격 속도',\n        value: '+[16.0-25.0]%',\n        type: 'special'\n      },\n      {\n        name: '행운의 적중: 적을 2초 동안 취약하게 만들 확률 최대',\n        value: '+[43.3-47.3]%',\n        type: 'special'\n      },\n      {\n        name: '소모한 연계 점수당 피해',\n        value: '+[47.0-65.0]%',\n        type: 'damage'\n      },\n      {\n        name: '민첩',\n        value: '+[80-94]',\n        type: 'special'\n      }\n    ],\n    uniqueEffect: '연계 점수 3점을 소모하면 핵심 기술의 피해가 50–70% 증가합니다. 기본 기술이 항상 연계 점수 3점을 생성합니다.',\n    classRestriction: ['도적']\n  },\n\n  // ID 7: 궤멸자 (신화 고유 도검)\n  {\n    id: 7,\n    name: 'The Grandfather',\n    nameKo: '궤멸자',\n    rarity: ItemRarity.MYTHIC,\n    type: ItemType.WEAPON,\n    category: WeaponCategory.SWORD,\n    attackSpeed: '빠름',\n    attacksPerSecond: 1.10,\n    favorites: 40,\n    tags: ['신화 고유', '도검'],\n    stats: [\n      {\n        name: '초당 공격 횟수',\n        value: '1.10 (빠름)',\n        type: 'special'\n      },\n      {\n        name: '공격력',\n        value: '+100.0%',\n        type: 'damage'\n      },\n      {\n        name: '모든 능력치',\n        value: '+160',\n        type: 'special'\n      },\n      {\n        name: '최대 생명력',\n        value: '35.0%',\n        type: 'vital'\n      },\n      {\n        name: '피해 감소',\n        value: '10.0%',\n        type: 'defense'\n      },\n      {\n        name: '행운의 적중: 최대 15% 확률로 생명력',\n        value: '+530 회복',\n        type: 'lifesteal'\n      },\n      {\n        name: '행운의 적중: 최대 25% 확률로 주위 적에게',\n        value: '900의 암흑 피해',\n        type: 'damage'\n      }\n    ],\n    uniqueEffect: '행운의 적중: 최대 25% 확률로 주위 적에게 900의 암흑 피해를 주고, 적이 주는 피해를 5초 동안 20% 감소시킵니다.'\n  },\n\n  // ID 19: 한아비 (신화 고유 양손 검)\n  {\n    id: 19,\n    name: 'Doombringer',\n    nameKo: '한아비',\n    rarity: ItemRarity.MYTHIC,\n    type: ItemType.WEAPON,\n    category: '양손 검',\n    attackSpeed: '느림',\n    attacksPerSecond: 1.00,\n    favorites: 54,\n    tags: ['신화 고유', '양손 검'],\n    stats: [\n      {\n        name: '초당 공격 횟수',\n        value: '1.00 (느림)',\n        type: 'special'\n      },\n      {\n        name: '공격력',\n        value: '+150.0%',\n        type: 'damage'\n      },\n      {\n        name: '내구도 감소 무시',\n        value: '',\n        type: 'special'\n      },\n      {\n        name: '모든 능력치',\n        value: '+200',\n        type: 'special'\n      },\n      {\n        name: '공격력',\n        value: '+300.0%',\n        type: 'damage'\n      },\n      {\n        name: '최대 생명력',\n        value: '+1,800',\n        type: 'vital'\n      },\n      {\n        name: '최대 자원',\n        value: '+20',\n        type: 'special'\n      }\n    ],\n    uniqueEffect: '플레이어의 극대화 피해가 100% 증가합니다. 이 무기에 붙는 나머지 속성이 일반적인 수준보다 높게 붙을 수 있습니다.'\n  },\n\n  // ID 21: 셀리그의 녹은 심장 (신화 고유 목걸이)\n  {\n    id: 21,\n    name: 'Melted Heart of Selig',\n    nameKo: '셀리그의 녹은 심장',\n    rarity: ItemRarity.MYTHIC,\n    type: ItemType.ACCESSORY,\n    category: '목걸이',\n    favorites: 48,\n    tags: ['신화 고유', '목걸이'],\n    stats: [\n      {\n        name: '모든 원소에 대한 최대 저항',\n        value: '+3.0%',\n        type: 'resist'\n      },\n      {\n        name: '모든 원소 저항',\n        value: '+30.0%',\n        type: 'resist'\n      },\n      {\n        name: '건강 상태에서 피해 감소',\n        value: '15.0%',\n        type: 'defense'\n      },\n      {\n        name: '행운의 적중 확률',\n        value: '+15.0%',\n        type: 'special'\n      },\n      {\n        name: '이동 속도',\n        value: '+25.0%',\n        type: 'special'\n      },\n      {\n        name: '자원 생성량',\n        value: '15.0%',\n        type: 'special'\n      }\n    ],\n    uniqueEffect: '60의 최대 자원을 얻습니다. 피해를 받으면 최대 생명력의 1%을 잃을 때마다 75%만큼의 피해를 2 자원으로 대신 잃습니다.'\n  },\n\n  // ID 43: 안다리엘의 두개골 (신화 고유 투구)\n  {\n    id: 43,\n    name: 'Andariel\\'s Visage',\n    nameKo: '안다리엘의 두개골',\n    rarity: ItemRarity.MYTHIC,\n    type: ItemType.ARMOR,\n    category: ArmorSlot.HEAD,\n    favorites: 10,\n    tags: ['신화 고유', '투구'],\n    stats: [\n      {\n        name: '독 저항',\n        value: '+666.0%',\n        type: 'resist'\n      },\n      {\n        name: '공격 속도',\n        value: '+30.0%',\n        type: 'special'\n      },\n      {\n        name: '모든 능력치',\n        value: '+110',\n        type: 'special'\n      },\n      {\n        name: '적중 시 생명력 회복',\n        value: '+86',\n        type: 'lifesteal'\n      },\n      {\n        name: '최대 독 저항',\n        value: '+10%',\n        type: 'resist'\n      }\n    ],\n    uniqueEffect: '행운의 적중: 최대 20% 확률로 독발을 발동하여 범위 내의 적들에게 5초에 걸쳐 6,000의 중독 피해를 줍니다.'\n  },\n\n  // ID 44: 할리퀸 관모 (신화 고유 투구)\n  {\n    id: 44,\n    name: 'Harlequin Crest',\n    nameKo: '할리퀸 관모',\n    rarity: ItemRarity.MYTHIC,\n    type: ItemType.ARMOR,\n    category: ArmorSlot.HEAD,\n    favorites: 88,\n    tags: ['신화 고유', '투구'],\n    stats: [\n      {\n        name: '재사용 대기시간 감소',\n        value: '20.0%',\n        type: 'special'\n      },\n      {\n        name: '최대 생명력',\n        value: '800',\n        type: 'vital'\n      },\n      {\n        name: '최대 자원',\n        value: '+18',\n        type: 'special'\n      },\n      {\n        name: '방어도',\n        value: '+350',\n        type: 'defense'\n      }\n    ],\n    uniqueEffect: '20%의 피해 감소를 얻습니다. 또한 모든 기술 등급이 +4 상승합니다.'\n  },\n\n  // ID 53: 별 없는 하늘의 반지 (신화 고유 반지)\n  {\n    id: 53,\n    name: 'Ring of Starless Skies',\n    nameKo: '별 없는 하늘의 반지',\n    rarity: ItemRarity.MYTHIC,\n    type: ItemType.ACCESSORY,\n    category: '반지',\n    favorites: 21,\n    tags: ['신화 고유', '반지'],\n    stats: [\n      {\n        name: '모든 원소 저항',\n        value: '+12.5%',\n        type: 'resist'\n      },\n      {\n        name: '모든 원소 저항',\n        value: '+12.5%',\n        type: 'resist'\n      },\n      {\n        name: '공격 속도',\n        value: '+17.5%',\n        type: 'special'\n      },\n      {\n        name: '극대화 확률',\n        value: '+12.5%',\n        type: 'critical'\n      },\n      {\n        name: '행운의 적중 확률',\n        value: '+12.5%',\n        type: 'special'\n      },\n      {\n        name: '핵심 기술',\n        value: '+2',\n        type: 'special'\n      }\n    ],\n    uniqueEffect: '주 자원을 소모하면 3초 동안 10%만큼, 최대 50%까지 기술의 자원 소모량이 감소하고 주는 피해가 증가합니다.'\n  },\n\n  // 추가 아이템들...\n  {\n    id: 100,\n    name: 'Common Sword',\n    nameKo: '일반 검',\n    rarity: ItemRarity.COMMON,\n    type: ItemType.WEAPON,\n    category: WeaponCategory.SWORD,\n    attackSpeed: '보통',\n    attacksPerSecond: 1.0,\n    stats: [\n      {\n        name: '공격력',\n        value: '+10',\n        type: 'damage'\n      },\n      {\n        name: '힘',\n        value: '+5',\n        type: 'special'\n      }\n    ]\n  },\n\n  {\n    id: 101,\n    name: 'Uncommon Axe',\n    nameKo: '희귀하지 않은 도끼',\n    rarity: ItemRarity.UNCOMMON,\n    type: ItemType.WEAPON,\n    category: WeaponCategory.AXE,\n    attackSpeed: '빠름',\n    attacksPerSecond: 1.1,\n    stats: [\n      {\n        name: '공격력',\n        value: '+25',\n        type: 'damage'\n      },\n      {\n        name: '극대화 확률',\n        value: '+5%',\n        type: 'critical'\n      },\n      {\n        name: '힘',\n        value: '+10',\n        type: 'special'\n      }\n    ]\n  },\n\n  {\n    id: 102,\n    name: 'Rare Dagger',\n    nameKo: '희귀한 단검',\n    rarity: ItemRarity.RARE,\n    type: ItemType.WEAPON,\n    category: WeaponCategory.DAGGER,\n    attackSpeed: '매우 빠름',\n    attacksPerSecond: 1.3,\n    stats: [\n      {\n        name: '공격력',\n        value: '+45',\n        type: 'damage'\n      },\n      {\n        name: '극대화 피해',\n        value: '+50%',\n        type: 'critical'\n      },\n      {\n        name: '민첩',\n        value: '+25',\n        type: 'special'\n      },\n      {\n        name: '생명력 흡수',\n        value: '+3%',\n        type: 'lifesteal'\n      }\n    ]\n  },\n\n  {\n    id: 103,\n    name: 'Epic Staff',\n    nameKo: '서사시 지팡이',\n    rarity: ItemRarity.EPIC,\n    type: ItemType.WEAPON,\n    category: WeaponCategory.STAFF,\n    attackSpeed: '느림',\n    attacksPerSecond: 0.9,\n    stats: [\n      {\n        name: '공격력',\n        value: '+80',\n        type: 'damage'\n      },\n      {\n        name: '극대화 피해',\n        value: '+100%',\n        type: 'critical'\n      },\n      {\n        name: '지능',\n        value: '+50',\n        type: 'special'\n      },\n      {\n        name: '모든 원소 저항',\n        value: '+15%',\n        type: 'resist'\n      },\n      {\n        name: '마나 재생',\n        value: '+5/초',\n        type: 'manasteal'\n      }\n    ]\n  }\n];\n", "import { Injectable, signal, computed } from '@angular/core';\nimport { InventoryItem, PlayerEquipment, ShopItem, EquipmentItem } from '../../models/inventory.model';\n\n/**\n * 인벤토리 & 장비 상태 관리 서비스 (Signal 기반)\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class InventoryStateService {\n  // ===== 인벤토리 =====\n  private readonly _inventory = signal<InventoryItem[]>([]);\n  readonly inventory = this._inventory.asReadonly();\n  \n  // ===== 화폐 =====\n  private readonly _gold = signal(0);\n  private readonly _gem = signal(0);\n  private readonly _crystal = signal(0);\n  private readonly _ticket = signal(0);\n  \n  readonly gold = this._gold.asReadonly();\n  readonly gem = this._gem.asReadonly();\n  readonly crystal = this._crystal.asReadonly();\n  readonly ticket = this._ticket.asReadonly();\n  \n  // ===== 장비 =====\n  private readonly _equipment = signal<PlayerEquipment>({});\n  readonly equipment = this._equipment.asReadonly();\n  \n  // ===== 상점 =====\n  private readonly _shopItems = signal<ShopItem[]>([]);\n  readonly shopItems = this._shopItems.asReadonly();\n  \n  // ===== 필터/정렬 =====\n  private readonly _inventoryFilter = signal<'all' | 'weapon' | 'armor' | 'accessory' | 'consumable' | 'material'>('all');\n  private readonly _inventorySortBy = signal<'name' | 'rarity' | 'type'>('name');\n  \n  readonly inventoryFilter = this._inventoryFilter.asReadonly();\n  readonly inventorySortBy = this._inventorySortBy.asReadonly();\n  \n  // ===== Computed Signals (Derived State) =====\n  readonly filteredInventory = computed(() => {\n    const items = this.inventory();\n    const filter = this.inventoryFilter();\n    \n    if (filter === 'all') return items;\n    \n    return items.filter(item => {\n      if (filter === 'weapon') return item.type === 'weapon';\n      if (filter === 'armor') return ['armor', 'helmet', 'gloves', 'boots'].includes(item.type);\n      if (filter === 'accessory') return ['belt', 'amulet', 'ring', 'accessory'].includes(item.type);\n      if (filter === 'consumable') return item.type === 'consumable';\n      if (filter === 'material') return item.type === 'material';\n      return true;\n    });\n  });\n  \n  readonly sortedInventory = computed(() => {\n    const items = this.filteredInventory();\n    const sortBy = this.inventorySortBy();\n    \n    return [...items].sort((a, b) => {\n      if (sortBy === 'name') {\n        return a.name.localeCompare(b.name);\n      }\n      if (sortBy === 'rarity') {\n        const rarityOrder = { common: 0, uncommon: 1, rare: 2, epic: 3, legendary: 4, unique: 5, mythic: 6 };\n        return rarityOrder[b.rarity] - rarityOrder[a.rarity];\n      }\n      if (sortBy === 'type') {\n        return a.type.localeCompare(b.type);\n      }\n      return 0;\n    });\n  });\n  \n  readonly inventoryCount = computed(() => this.inventory().length);\n  \n  readonly equipmentSlotsFilled = computed(() => {\n    const eq = this.equipment();\n    return Object.values(eq).filter(item => item !== undefined).length;\n  });\n  \n  readonly totalCurrency = computed(() =>\n    this.gold() + this.gem() + this.crystal() + this.ticket()\n  );\n  \n  readonly hasWeaponEquipped = computed(() => !!this.equipment().weapon);\n  readonly hasArmorEquipped = computed(() => !!this.equipment().armor);\n  \n  readonly inventoryValue = computed(() => {\n    return this.inventory().reduce((sum, item) => {\n      return sum + (item.sellPrice || 0) * item.quantity;\n    }, 0);\n  });\n  \n  // ===== 인벤토리 관리 =====\n  setInventory(items: InventoryItem[]): void {\n    this._inventory.set(items);\n  }\n  \n  addItem(item: InventoryItem): void {\n    this._inventory.update(inv => {\n      const existing = inv.find(i => i.id === item.id);\n      if (existing) {\n        return inv.map(i => \n          i.id === item.id \n            ? { ...i, quantity: i.quantity + item.quantity }\n            : i\n        );\n      }\n      return [...inv, item];\n    });\n  }\n  \n  removeItem(itemId: string, quantity: number = 1): void {\n    this._inventory.update(inv =>\n      inv.map(item => \n        item.id === itemId\n          ? { ...item, quantity: item.quantity - quantity }\n          : item\n      ).filter(item => item.quantity > 0)\n    );\n  }\n  \n  clearInventory(): void {\n    this._inventory.set([]);\n  }\n  \n  updateItemQuantity(itemId: string, quantity: number): void {\n    this._inventory.update(inv =>\n      inv.map(item =>\n        item.id === itemId\n          ? { ...item, quantity }\n          : item\n      )\n    );\n  }\n  \n  // ===== 화폐 관리 =====\n  setGold(amount: number): void {\n    this._gold.set(Math.max(0, amount));\n  }\n  \n  addGold(amount: number): void {\n    this._gold.update(g => Math.max(0, g + amount));\n  }\n  \n  spendGold(amount: number): boolean {\n    if (this.gold() < amount) return false;\n    this._gold.update(g => g - amount);\n    return true;\n  }\n  \n  setGem(amount: number): void {\n    this._gem.set(Math.max(0, amount));\n  }\n  \n  addGem(amount: number): void {\n    this._gem.update(g => Math.max(0, g + amount));\n  }\n  \n  spendGem(amount: number): boolean {\n    if (this.gem() < amount) return false;\n    this._gem.update(g => g - amount);\n    return true;\n  }\n  \n  setCrystal(amount: number): void {\n    this._crystal.set(Math.max(0, amount));\n  }\n  \n  addCrystal(amount: number): void {\n    this._crystal.update(c => Math.max(0, c + amount));\n  }\n  \n  setTicket(amount: number): void {\n    this._ticket.set(Math.max(0, amount));\n  }\n  \n  addTicket(amount: number): void {\n    this._ticket.update(t => Math.max(0, t + amount));\n  }\n  \n  // ===== 장비 관리 =====\n  setEquipment(equipment: PlayerEquipment): void {\n    this._equipment.set(equipment);\n  }\n  \n  equipItem(slot: keyof PlayerEquipment, item: InventoryItem | EquipmentItem): void {\n    this._equipment.update(eq => ({\n      ...eq,\n      [slot]: item as EquipmentItem\n    }));\n  }\n  \n  unequipItem(slot: keyof PlayerEquipment): void {\n    this._equipment.update(eq => {\n      const newEq = { ...eq };\n      delete newEq[slot];\n      return newEq;\n    });\n  }\n  \n  getEquippedItem(slot: keyof PlayerEquipment): EquipmentItem | undefined {\n    return this.equipment()[slot];\n  }\n  \n  // ===== 필터/정렬 =====\n  setFilter(filter: 'all' | 'weapon' | 'armor' | 'accessory' | 'consumable' | 'material'): void {\n    this._inventoryFilter.set(filter);\n  }\n  \n  setSortBy(sortBy: 'name' | 'rarity' | 'type'): void {\n    this._inventorySortBy.set(sortBy);\n  }\n  \n  // ===== 상점 =====\n  setShopItems(items: ShopItem[]): void {\n    this._shopItems.set(items);\n  }\n  \n  buyShopItem(item: ShopItem): boolean {\n    if (!this.spendGold(item.price)) return false;\n    \n    const inventoryItem: InventoryItem = {\n      id: item.id,\n      name: item.name,\n      description: item.description,\n      type: item.type,\n      quantity: 1,\n      rarity: item.rarity,\n      buyPrice: item.price,\n      stats: item.stats\n    };\n    \n    this.addItem(inventoryItem);\n    \n    // 상점 재고 감소\n    this._shopItems.update(items =>\n      items.map(i =>\n        i.id === item.id\n          ? { ...i, stock: i.stock - 1 }\n          : i\n      ).filter(i => i.stock > 0)\n    );\n    \n    return true;\n  }\n  \n  // ===== 리셋 =====\n  reset(): void {\n    this._inventory.set([]);\n    this._gold.set(0);\n    this._gem.set(0);\n    this._crystal.set(0);\n    this._ticket.set(0);\n    this._equipment.set({});\n    this._inventoryFilter.set('all');\n    this._inventorySortBy.set('name');\n  }\n}\n", "import { inject } from '@angular/core';\nimport { InventoryItem, PlayerEquipment, EquipmentItem } from '../models/inventory.model';\nimport { PlayerCharacter } from '../models/player.model';\nimport { InventoryStateService } from '../services/state/inventory.state.service';\n\n/**\n * 인벤토리 시스템 매니저\n * - 아이템 추가/제거\n * - 장비 착용/해제\n * - 아이템 정렬/필터링\n * - 아이템 상세 정보\n * \n * Note: 이제 InventoryStateService를 통해 상태를 관리합니다.\n */\nexport class InventoryManager {\n  private readonly inventoryStateService = inject(InventoryStateService);\n  \n  // 인벤토리 상태는 InventoryStateService에서 가져옵니다\n  get inventory() { return this.inventoryStateService.inventory(); }\n  get gold() { return this.inventoryStateService.gold(); }\n  get gem() { return this.inventoryStateService.gem(); }\n  get crystal() { return this.inventoryStateService.crystal(); }\n  get ticket() { return this.inventoryStateService.ticket(); }\n  get equipment() { return this.inventoryStateService.equipment(); }\n  \n  constructor(private component: any) {}\n\n  /**\n   * 인벤토리에 아이템 추가\n   */\n  addToInventory(itemId: string, quantity: number): void {\n    const comp = this.component;\n    \n    // 기존 아이템 찾기\n    const existingItem = this.inventory.find((item: InventoryItem) => item.id === itemId);\n    \n    if (existingItem) {\n      // 기존 아이템의 수량 증가\n      this.inventoryStateService.updateItemQuantity(itemId, existingItem.quantity + quantity);\n    } else {\n      // 새로운 아이템 추가\n      const newItem: InventoryItem = {\n        id: itemId,\n        name: itemId,\n        type: 'misc',\n        rarity: 'common',\n        quantity: quantity\n      };\n      this.inventoryStateService.addItem(newItem);\n    }\n    \n    // 인벤토리 저장\n    this.saveInventory();\n  }\n\n  /**\n   * 인벤토리에서 아이템 제거\n   */\n  removeFromInventory(itemId: string, quantity: number): boolean {\n    const comp = this.component;\n    const item = this.inventory.find((i: InventoryItem) => i.id === itemId);\n    \n    if (!item) {\n      return false;\n    }\n    \n    if (item.quantity && item.quantity > quantity) {\n      item.quantity -= quantity;\n    } else {\n      const index = this.inventory.indexOf(item);\n      this.inventory.splice(index, 1);\n    }\n    \n    this.saveInventory();\n    return true;\n  }\n\n  /**\n   * 아이템 사용\n   */\n  useItem(item: InventoryItem): void {\n    const comp = this.component;\n    \n    if (item.type === 'consumable') {\n      // 소비 아이템 사용\n      this.applyItemEffect(item);\n      \n      // 수량 감소\n      if (item.quantity && item.quantity > 1) {\n        item.quantity--;\n      } else {\n        const index = this.inventory.indexOf(item);\n        this.inventory.splice(index, 1);\n      }\n      \n      this.saveInventory();\n    }\n  }\n\n  /**\n   * 아이템 효과 적용\n   */\n  private applyItemEffect(item: InventoryItem): void {\n    const comp = this.component;\n    \n    // HP 회복\n    if (item.stats?.hp) {\n      comp.playerCharacter.hp = Math.min(\n        comp.playerCharacter.hp + item.stats.hp,\n        comp.playerCharacter.maxHp\n      );\n      comp.notification.show(`HP가 ${item.stats.hp} 회복되었습니다.`);\n    }\n    \n    // MP 회복\n    if (item.stats?.mp) {\n      comp.playerCharacter.mp = Math.min(\n        comp.playerCharacter.mp + item.stats.mp,\n        comp.playerCharacter.maxMp\n      );\n      comp.notification.show(`MP가 ${item.stats.mp} 회복되었습니다.`);\n    }\n    \n    // 공격력/방어력 스탯 적용\n    if (item.stats?.attack) {\n      comp.playerCharacter.attack += item.stats.attack;\n    }\n    if (item.stats?.defense) {\n      comp.playerCharacter.defense += item.stats.defense;\n    }\n  }\n\n  /**\n   * 장비 착용\n   */\n  equipItem(index: number): void {\n    const comp = this.component;\n    const item = this.inventory[index];\n    \n    if (!item || !this.canEquipItem(item)) {\n      return;\n    }\n    \n    // 장비 슬롯 결정\n    const slot = this.getEquipmentSlot(item.type);\n    if (!slot) {\n      comp.notification.show('착용할 수 없는 아이템입니다.');\n      return;\n    }\n    \n    // 기존 장비 해제\n    if (this.equipment[slot]) {\n      this.unequipItem(slot);\n    }\n    \n    // 새 장비 착용 (InventoryStateService 사용)\n    this.inventoryStateService.equipItem(slot, item as unknown as EquipmentItem);\n    \n    // 인벤토리에서 제거\n    this.inventoryStateService.removeItem(item.id, 1);\n    \n    // 스탯 적용\n    this.applyEquipmentStats(item as unknown as EquipmentItem, true);\n    \n    comp.notification.show(`${item.name}을(를) 착용했습니다.`);\n    this.saveInventory();\n  }\n\n  /**\n   * 장비 해제\n   */\n  unequipItem(slotKey: keyof PlayerEquipment): void {\n    const comp = this.component;\n    const equipment = this.equipment[slotKey];\n    \n    if (!equipment) {\n      return;\n    }\n    \n    // 스탯 제거\n    this.applyEquipmentStats(equipment, false);\n    \n    // 인벤토리로 이동 (EquipmentItem을 InventoryItem으로 변환)\n    const inventoryItem = equipment as unknown as InventoryItem;\n    this.inventoryStateService.addItem(inventoryItem);\n    \n    // 장비 슬롯 해제\n    this.inventoryStateService.unequipItem(slotKey);\n    \n    comp.notification.show(`${equipment.name}을(를) 해제했습니다.`);\n    this.saveInventory();\n  }\n\n  /**\n   * 장비 착용 가능 여부 확인\n   */\n  canEquipItem(item: InventoryItem): boolean {\n    const equipmentTypes = ['weapon', 'armor', 'helmet', 'gloves', 'boots', 'belt', 'amulet', 'ring'];\n    return equipmentTypes.includes(item.type);\n  }\n\n  /**\n   * 아이템 타입에 따른 장비 슬롯 반환\n   */\n  private getEquipmentSlot(itemType: string): keyof PlayerEquipment | null {\n    const slotMap: { [key: string]: keyof PlayerEquipment } = {\n      'weapon': 'weapon',\n      'armor': 'armor',\n      'helmet': 'helmet',\n      'gloves': 'gloves',\n      'boots': 'boots',\n      'belt': 'belt',\n      'amulet': 'amulet',\n      'ring': 'ring1' // 기본 반지 슬롯은 ring1\n    };\n    \n    return slotMap[itemType] || null;\n  }\n\n  /**\n   * 장비 스탯 적용/제거\n   */\n  private applyEquipmentStats(equipment: EquipmentItem, apply: boolean): void {\n    const comp = this.component;\n    const multiplier = apply ? 1 : -1;\n    \n    if (equipment.baseStats) {\n      // 공격력\n      if (equipment.baseStats.attack) {\n        comp.playerCharacter.attack = (comp.playerCharacter.attack || 0) + \n          equipment.baseStats.attack * multiplier;\n      }\n      \n      // 방어력\n      if (equipment.baseStats.defense) {\n        comp.playerCharacter.defense = (comp.playerCharacter.defense || 0) + \n          equipment.baseStats.defense * multiplier;\n      }\n      \n      // HP\n      if (equipment.baseStats.hp) {\n        comp.playerCharacter.maxHp = (comp.playerCharacter.maxHp || 0) + \n          equipment.baseStats.hp * multiplier;\n      }\n      \n      // MP\n      if (equipment.baseStats.mp) {\n        comp.playerCharacter.maxMp = (comp.playerCharacter.maxMp || 0) + \n          equipment.baseStats.mp * multiplier;\n      }\n    }\n  }\n\n  /**\n   * 아이템 상세 정보 표시\n   */\n  showItemDetails(item: InventoryItem): void {\n    const comp = this.component;\n    comp.selectedItem = item;\n    comp.showItemDetailModal = true;\n  }\n\n  /**\n   * 현재 착용 중인 아이템과 비교\n   */\n  compareItemWithEquipped(item: InventoryItem): void {\n    const comp = this.component;\n    const slot = this.getEquipmentSlot(item.type);\n    \n    if (!slot) {\n      comp.notification.show('장비 아이템이 아닙니다.');\n      return;\n    }\n    \n    const equipped = this.equipment[slot];\n    comp.comparisonItem = item;\n    comp.comparisonEquipped = equipped;\n    comp.showComparisonModal = true;\n  }\n\n  /**\n   * 아이템 정렬\n   */\n  sortInventory(sortBy: 'name' | 'type' | 'rarity' | 'level' = 'type'): void {\n    const comp = this.component;\n    \n    this.inventory.sort((a: InventoryItem, b: InventoryItem) => {\n      switch (sortBy) {\n        case 'name':\n          return a.name.localeCompare(b.name);\n        case 'type':\n          return a.type.localeCompare(b.type);\n        case 'rarity':\n          const rarityOrder = ['common', 'uncommon', 'rare', 'epic', 'legendary', 'unique', 'mythic'];\n          return rarityOrder.indexOf(b.rarity) - rarityOrder.indexOf(a.rarity);\n        case 'level':\n          // InventoryItem에 level이 없으므로 itemLevel 사용 시도\n          const aLevel = (a as any).itemLevel || (a as any).requiredLevel || 0;\n          const bLevel = (b as any).itemLevel || (b as any).requiredLevel || 0;\n          return bLevel - aLevel;\n        default:\n          return 0;\n      }\n    });\n  }\n\n  /**\n   * 아이템 필터링\n   */\n  filterInventory(filterType: string): InventoryItem[] {\n    const comp = this.component;\n    \n    if (filterType === 'all') {\n      return this.inventory;\n    }\n    \n    return this.inventory.filter((item: InventoryItem) => item.type === filterType);\n  }\n\n  /**\n   * 타입별 아이템 가져오기\n   */\n  getItemsByType(type: string): InventoryItem[] {\n    return this.filterInventory(type);\n  }\n\n  /**\n   * 필터링 & 정렬된 인벤토리 반환\n   */\n  getFilteredAndSortedInventory(): InventoryItem[] {\n    const comp = this.component;\n    let filtered = this.inventory;\n    \n    // 필터 적용\n    if (comp.inventoryFilter !== 'all') {\n      filtered = filtered.filter((item: InventoryItem) => item.type === comp.inventoryFilter);\n    }\n    \n    // 정렬 적용\n    this.sortInventory(comp.inventorySortBy);\n    \n    return filtered;\n  }\n\n  /**\n   * 인벤토리 저장\n   */\n  private saveInventory(): void {\n    const comp = this.component;\n    \n    if (comp.selectedNovel?.id) {\n      const inventoryKey = `novel_${comp.selectedNovel.id}_inventory`;\n      localStorage.setItem(inventoryKey, JSON.stringify(this.inventory));\n    }\n  }\n\n  /**\n   * 인벤토리 디버그 정보\n   */\n  debugInventory(): void {\n    const comp = this.component;\n    \n  }\n\n  /**\n   * 상점에서 아이템 구매\n   */\n  async buyItemFromShop(item: any, event?: Event): Promise<void> {\n    const comp = this.component;\n    \n    if (event) {\n      event.stopPropagation();\n    }\n    \n    // 골드 확인\n    if (this.gold < item.price) {\n      comp.notification.show('골드가 부족합니다.');\n      return;\n    }\n    \n    // 재고 확인\n    if (item.stock !== undefined && item.stock <= 0) {\n      comp.notification.show('재고가 부족합니다.');\n      return;\n    }\n    \n    // 골드 차감 (spendGold 사용)\n    if (!this.inventoryStateService.spendGold(item.price)) {\n      comp.notification.show('골드가 부족합니다.');\n      return;\n    }\n    \n    // 재고 감소\n    if (item.stock !== undefined) {\n      item.stock--;\n    }\n    \n    // 상점 아이템 정보를 인벤토리 아이템으로 변환\n    const inventoryItem: InventoryItem = {\n      id: `${item.id}_${Date.now()}`,\n      name: item.name,\n      description: item.description,\n      type: item.type,\n      quantity: 1,\n      buyPrice: item.price,\n      sellPrice: Math.floor(item.price * 0.5),\n      rarity: item.rarity,\n      stats: item.stats || {}\n    };\n    \n    // InventoryStateService를 통해 아이템 추가\n    this.inventoryStateService.addItem(inventoryItem);\n    \n    comp.notification.show(`${item.name}을(를) 구매했습니다.`);\n    this.saveInventory();\n    \n    // 게임 상태 저장 (금액 변경 및 인벤토리 업데이트 반영)\n    if (comp.gameStarted && comp.currentGameId) {\n      comp.saveGame('autosave');\n    }\n  }\n\n  /**\n   * 상점에 아이템 판매\n   */\n  sellItem(item: InventoryItem): void {\n    const comp = this.component;\n    \n    const sellPrice = Math.floor((item.sellPrice || item.buyPrice || 0) * 0.5);\n    \n    // 골드 획득\n    this.inventoryStateService.addGold(sellPrice);\n    \n    // 인벤토리에서 제거\n    this.removeFromInventory(item.id, 1);\n    \n    comp.notification.show(`${item.name}을(를) ${sellPrice} 골드에 판매했습니다.`);\n  }\n\n  /**\n   * 장비 슬롯에 아이템 착용\n   */\n  equipItemToSlot(item: InventoryItem, targetSlot: string): void {\n    const comp = this.component;\n    \n    // 현재 착용 중인 아이템 해제\n    const currentEquipment = this.equipment[targetSlot as keyof PlayerEquipment];\n    if (currentEquipment) {\n      this.unequipItem(targetSlot as keyof PlayerEquipment);\n    }\n    \n    // 새 아이템 착용 (InventoryItem을 EquipmentItem으로 변환)\n    this.equipment[targetSlot as keyof PlayerEquipment] = item as unknown as EquipmentItem;\n    \n    // 인벤토리에서 제거\n    const itemIndex = this.inventory.indexOf(item);\n    if (itemIndex >= 0) {\n      this.inventory.splice(itemIndex, 1);\n    }\n    \n    // 스탯 적용\n    this.applyEquipmentStats(item as unknown as EquipmentItem, true);\n    \n    comp.notification.show(`${item.name}을(를) ${targetSlot}에 착용했습니다.`);\n    this.saveInventory();\n  }\n\n  /**\n   * 자동 정렬\n   */\n  autoSortInventory(): void {\n    this.sortInventory('type');\n  }\n\n  /**\n   * 착용 중인 아이템 가져오기\n   */\n  getEquippedItem(slot: keyof PlayerEquipment): EquipmentItem | null {\n    const comp = this.component;\n    return this.equipment[slot] || null;\n  }\n}\n", "import { Injectable, signal, computed } from '@angular/core';\nimport { BattleState, BattleSkill, BattleItem, StatusEffect } from '../../models/battle.model';\nimport { MartialBattleState } from '../../models/wuxia.model';\n\n/**\n * 전투 시스템 상태 관리 서비스 (Signal 기반)\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class BattleStateService {\n  // ===== 전투 기본 상태 =====\n  private readonly _inBattle = signal(false);\n  private readonly _battleEnded = signal(false);\n  private readonly _battleVictory = signal(false);\n  private readonly _battleTurn = signal<'player' | 'enemy'>('player');\n  \n  readonly inBattle = this._inBattle.asReadonly();\n  readonly battleEnded = this._battleEnded.asReadonly();\n  readonly battleVictory = this._battleVictory.asReadonly();\n  readonly battleTurn = this._battleTurn.asReadonly();\n  \n  // ===== 전투 참여자 =====\n  private readonly _battleEnemy = signal<{\n    name: string;\n    hp: number;\n    maxHp: number;\n    mp?: number;\n    maxMp?: number;\n    internalPower?: number;\n    maxInternalPower?: number;\n    attack: number;\n    defense: number;\n  } | null>(null);\n  \n  private readonly _playerBattleStats = signal<{\n    hp: number;\n    maxHp: number;\n    mp: number;\n    maxMp: number;\n    attack: number;\n    defense: number;\n  } | null>(null);\n  \n  readonly battleEnemy = this._battleEnemy.asReadonly();\n  readonly playerBattleStats = this._playerBattleStats.asReadonly();\n  \n  // ===== 전투 로그 =====\n  private readonly _battleLog = signal<string[]>([]);\n  readonly battleLog = this._battleLog.asReadonly();\n  \n  // ===== 전투 스킬 & 아이템 =====\n  private readonly _battleSkills = signal<BattleSkill[]>([]);\n  private readonly _battleItems = signal<BattleItem[]>([]);\n  \n  readonly battleSkills = this._battleSkills.asReadonly();\n  readonly battleItems = this._battleItems.asReadonly();\n  \n  // ===== 상태 효과 =====\n  private readonly _playerStatusEffects = signal<StatusEffect[]>([]);\n  private readonly _enemyStatusEffects = signal<StatusEffect[]>([]);\n  \n  readonly playerStatusEffects = this._playerStatusEffects.asReadonly();\n  readonly enemyStatusEffects = this._enemyStatusEffects.asReadonly();\n  \n  // ===== 전투 상태 객체 (복합 상태) =====\n  private readonly _currentBattleState = signal<BattleState | null>(null);\n  readonly currentBattleState = this._currentBattleState.asReadonly();\n  \n  // ===== 무협 전투 =====\n  private readonly _martialBattleState = signal<MartialBattleState | null>(null);\n  readonly martialBattleState = this._martialBattleState.asReadonly();\n  \n  // ===== UI 상태 =====\n  private readonly _playerTakingDamage = signal(false);\n  private readonly _enemyTakingDamage = signal(false);\n  \n  readonly playerTakingDamage = this._playerTakingDamage.asReadonly();\n  readonly enemyTakingDamage = this._enemyTakingDamage.asReadonly();\n  \n  // ===== Computed Signals (Derived State) =====\n  readonly playerHpPercentage = computed(() => {\n    const stats = this.playerBattleStats();\n    if (!stats) return 0;\n    return (stats.hp / stats.maxHp) * 100;\n  });\n  \n  readonly playerMpPercentage = computed(() => {\n    const stats = this.playerBattleStats();\n    if (!stats) return 0;\n    return (stats.mp / stats.maxMp) * 100;\n  });\n  \n  readonly enemyHpPercentage = computed(() => {\n    const enemy = this.battleEnemy();\n    if (!enemy) return 0;\n    return (enemy.hp / enemy.maxHp) * 100;\n  });\n  \n  readonly isPlayerTurn = computed(() => this.battleTurn() === 'player');\n  readonly isEnemyTurn = computed(() => this.battleTurn() === 'enemy');\n  \n  readonly canUseBattleSkills = computed(() => \n    this.inBattle() && \n    this.isPlayerTurn() && \n    !this.battleEnded() &&\n    this.battleSkills().length > 0\n  );\n  \n  readonly canUseBattleItems = computed(() =>\n    this.inBattle() &&\n    this.isPlayerTurn() &&\n    !this.battleEnded() &&\n    this.battleItems().length > 0\n  );\n  \n  readonly hasActiveStatusEffects = computed(() =>\n    this.playerStatusEffects().length > 0 ||\n    this.enemyStatusEffects().length > 0\n  );\n  \n  readonly isBattleActive = computed(() =>\n    this.inBattle() && !this.battleEnded()\n  );\n  \n  // ===== 전투 시작/종료 =====\n  startBattle(enemy: { name: string; hp: number; maxHp: number; attack: number; defense: number }): void {\n    this._inBattle.set(true);\n    this._battleEnded.set(false);\n    this._battleVictory.set(false);\n    this._battleTurn.set('player');\n    this._battleEnemy.set(enemy);\n    this._battleLog.set([`전투 시작: ${enemy.name}와(과) 조우했습니다!`]);\n    this._playerStatusEffects.set([]);\n    this._enemyStatusEffects.set([]);\n  }\n  \n  endBattle(victory: boolean): void {\n    this._battleEnded.set(true);\n    this._battleVictory.set(victory);\n    this.addBattleLog(victory ? '⭐ 승리!' : '💀 패배...');\n  }\n  \n  resetBattle(): void {\n    this._inBattle.set(false);\n    this._battleEnded.set(false);\n    this._battleVictory.set(false);\n    this._battleTurn.set('player');\n    this._battleEnemy.set(null);\n    this._battleLog.set([]);\n    this._battleSkills.set([]);\n    this._battleItems.set([]);\n    this._playerStatusEffects.set([]);\n    this._enemyStatusEffects.set([]);\n    this._currentBattleState.set(null);\n    this._martialBattleState.set(null);\n    this._playerTakingDamage.set(false);\n    this._enemyTakingDamage.set(false);\n  }\n  \n  // ===== 턴 관리 =====\n  switchTurn(): void {\n    this._battleTurn.update(turn => turn === 'player' ? 'enemy' : 'player');\n  }\n  \n  setPlayerTurn(): void {\n    this._battleTurn.set('player');\n  }\n  \n  setEnemyTurn(): void {\n    this._battleTurn.set('enemy');\n  }\n  \n  // ===== 전투 로그 =====\n  addBattleLog(message: string): void {\n    this._battleLog.update(logs => [...logs, message]);\n  }\n  \n  clearBattleLog(): void {\n    this._battleLog.set([]);\n  }\n  \n  // ===== 플레이어 상태 업데이트 =====\n  updatePlayerStats(stats: Partial<{ hp: number; maxHp: number; mp: number; maxMp: number; attack: number; defense: number }>): void {\n    this._playerBattleStats.update(current => {\n      if (!current) return null;\n      return { ...current, ...stats };\n    });\n  }\n  \n  setPlayerStats(stats: { hp: number; maxHp: number; mp: number; maxMp: number; attack: number; defense: number }): void {\n    this._playerBattleStats.set(stats);\n  }\n  \n  damagePlayer(damage: number): void {\n    this._playerBattleStats.update(stats => {\n      if (!stats) return null;\n      return { ...stats, hp: Math.max(0, stats.hp - damage) };\n    });\n    this._playerTakingDamage.set(true);\n    setTimeout(() => this._playerTakingDamage.set(false), 500);\n  }\n  \n  healPlayer(amount: number): void {\n    this._playerBattleStats.update(stats => {\n      if (!stats) return null;\n      return { ...stats, hp: Math.min(stats.maxHp, stats.hp + amount) };\n    });\n  }\n  \n  restoreMp(amount: number): void {\n    this._playerBattleStats.update(stats => {\n      if (!stats) return null;\n      return { ...stats, mp: Math.min(stats.maxMp, stats.mp + amount) };\n    });\n  }\n  \n  // ===== 적 상태 업데이트 =====\n  damageEnemy(damage: number): void {\n    this._battleEnemy.update(enemy => {\n      if (!enemy) return null;\n      return { ...enemy, hp: Math.max(0, enemy.hp - damage) };\n    });\n    this._enemyTakingDamage.set(true);\n    setTimeout(() => this._enemyTakingDamage.set(false), 500);\n  }\n  \n  // ===== 스킬 & 아이템 =====\n  setBattleSkills(skills: BattleSkill[]): void {\n    this._battleSkills.set(skills);\n  }\n  \n  addBattleSkill(skill: BattleSkill): void {\n    this._battleSkills.update(skills => [...skills, skill]);\n  }\n  \n  setBattleItems(items: BattleItem[]): void {\n    this._battleItems.set(items);\n  }\n  \n  useBattleItem(itemId: string): void {\n    this._battleItems.update(items => \n      items.map(item => \n        item.id === itemId \n          ? { ...item, quantity: item.quantity - 1 }\n          : item\n      ).filter(item => item.quantity > 0)\n    );\n  }\n  \n  // ===== 상태 효과 =====\n  addPlayerStatusEffect(effect: StatusEffect): void {\n    this._playerStatusEffects.update(effects => [...effects, effect]);\n  }\n  \n  addEnemyStatusEffect(effect: StatusEffect): void {\n    this._enemyStatusEffects.update(effects => [...effects, effect]);\n  }\n  \n  removePlayerStatusEffect(effectType: string): void {\n    this._playerStatusEffects.update(effects => \n      effects.filter(e => e.type !== effectType)\n    );\n  }\n  \n  removeEnemyStatusEffect(effectType: string): void {\n    this._enemyStatusEffects.update(effects => \n      effects.filter(e => e.type !== effectType)\n    );\n  }\n  \n  updateStatusEffectDuration(): void {\n    this._playerStatusEffects.update(effects =>\n      effects.map(e => ({ ...e, duration: e.duration - 1 }))\n        .filter(e => e.duration > 0)\n    );\n    this._enemyStatusEffects.update(effects =>\n      effects.map(e => ({ ...e, duration: e.duration - 1 }))\n        .filter(e => e.duration > 0)\n    );\n  }\n  \n  // ===== 전투 상태 객체 =====\n  setBattleState(state: BattleState): void {\n    this._currentBattleState.set(state);\n  }\n  \n  setMartialBattleState(state: MartialBattleState): void {\n    this._martialBattleState.set(state);\n  }\n  \n  // ===== 전투 Callbacks (from BattleSetupHelper) =====\n  private battleCallbacks?: {\n    onBattleWin?: (expGain: number, goldGain: number) => void;\n    onBattleLose?: () => void;\n    onBattleEnd?: (victory: boolean) => void;\n    onLogUpdate?: () => void;\n    onEnemyDamage?: () => void;\n    onPlayerDamage?: () => void;\n  };\n  \n  setBattleCallbacks(callbacks: {\n    onBattleWin?: (expGain: number, goldGain: number) => void;\n    onBattleLose?: () => void;\n    onBattleEnd?: (victory: boolean) => void;\n    onLogUpdate?: () => void;\n    onEnemyDamage?: () => void;\n    onPlayerDamage?: () => void;\n  }): void {\n    this.battleCallbacks = callbacks;\n  }\n  \n  // 콜백 트리거 메서드들\n  triggerBattleWin(expGain: number, goldGain: number): void {\n    this.battleCallbacks?.onBattleWin?.(expGain, goldGain);\n  }\n  \n  triggerBattleLose(): void {\n    this.battleCallbacks?.onBattleLose?.();\n  }\n  \n  triggerBattleEnd(victory: boolean): void {\n    this.battleCallbacks?.onBattleEnd?.(victory);\n  }\n  \n  triggerLogUpdate(): void {\n    this.battleCallbacks?.onLogUpdate?.();\n  }\n  \n  triggerEnemyDamage(): void {\n    this.battleCallbacks?.onEnemyDamage?.();\n  }\n  \n  triggerPlayerDamage(): void {\n    this.battleCallbacks?.onPlayerDamage?.();\n  }\n}\n", "import { Injectable } from '@angular/core';\nimport { BattleSkill, StatusEffect, BattleState, CombatLogEntry } from '../models/battle.model';\nimport { PlayerCharacter } from '../models/player.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BattleService {\n  \n  /**\n   * 공격 스킬 실행\n   */\n  executeAttackSkill(\n    skill: BattleSkill,\n    playerCharacter: PlayerCharacter,\n    enemyHp: number,\n    enemyDefense: number\n  ): {\n    damage: number;\n    isCritical: boolean;\n    isMiss: boolean;\n    remainingEnemyHp: number;\n    statusEffect?: StatusEffect;\n  } {\n    const baseDamage = playerCharacter.attack * (skill.damageMultiplier || 1.0);\n    const hitRoll = Math.random();\n    \n    // 명중 체크\n    if (hitRoll > (skill.hitRate || 0.9)) {\n      return {\n        damage: 0,\n        isCritical: false,\n        isMiss: true,\n        remainingEnemyHp: enemyHp\n      };\n    }\n    \n    // 크리티컬 체크\n    const critRoll = Math.random();\n    const isCritical = critRoll < (skill.criticalRate || 0);\n    \n    // 최종 데미지 계산 (방어력 적용)\n    const defenseReduction = Math.max(0, 1 - (enemyDefense * 0.01));\n    const finalDamage = Math.floor(baseDamage * (isCritical ? 1.5 : 1.0) * defenseReduction);\n    \n    const remainingHp = Math.max(0, enemyHp - finalDamage);\n    \n    return {\n      damage: finalDamage,\n      isCritical,\n      isMiss: false,\n      remainingEnemyHp: remainingHp,\n      statusEffect: skill.statusEffect\n    };\n  }\n  \n  /**\n   * 방어 스킬 실행\n   */\n  executeDefenseSkill(skill: BattleSkill): {\n    defenseBoost: number;\n    duration: number;\n  } {\n    return {\n      defenseBoost: skill.defenseBoost || 0.5,\n      duration: skill.duration || 1\n    };\n  }\n  \n  /**\n   * 치유 스킬 실행\n   */\n  executeHealSkill(\n    skill: BattleSkill,\n    currentHp: number,\n    maxHp: number\n  ): {\n    healAmount: number;\n    newHp: number;\n  } {\n    const healAmount = Math.floor(maxHp * (skill.healAmount || 0.3));\n    const actualHeal = Math.min(healAmount, maxHp - currentHp);\n    \n    return {\n      healAmount: actualHeal,\n      newHp: currentHp + actualHeal\n    };\n  }\n  \n  /**\n   * 버프 스킬 실행\n   */\n  executeBuffSkill(skill: BattleSkill): {\n    statusEffect?: StatusEffect;\n  } {\n    return {\n      statusEffect: skill.statusEffect\n    };\n  }\n  \n  /**\n   * 디버프 스킬 실행\n   */\n  executeDebuffSkill(skill: BattleSkill): {\n    statusEffect?: StatusEffect;\n  } {\n    return {\n      statusEffect: skill.statusEffect\n    };\n  }\n  \n  /**\n   * 일반 공격 실행\n   */\n  executeNormalAttack(\n    attackPower: number,\n    enemyHp: number,\n    enemyDefense: number\n  ): {\n    damage: number;\n    remainingEnemyHp: number;\n  } {\n    const defenseReduction = Math.max(0, 1 - (enemyDefense * 0.01));\n    const damage = Math.floor(attackPower * defenseReduction);\n    const remainingHp = Math.max(0, enemyHp - damage);\n    \n    return {\n      damage,\n      remainingEnemyHp: remainingHp\n    };\n  }\n  \n  /**\n   * 상태 효과 적용\n   */\n  applyStatusEffect(\n    statusEffects: StatusEffect[],\n    newEffect: StatusEffect\n  ): StatusEffect[] {\n    // 기존 같은 타입의 효과 제거\n    const filteredEffects = statusEffects.filter(e => e.type !== newEffect.type);\n    \n    // 새 효과 추가\n    return [...filteredEffects, { ...newEffect }];\n  }\n  \n  /**\n   * 상태 효과 지속 시간 감소\n   */\n  decreaseStatusEffectDurations(statusEffects: StatusEffect[]): StatusEffect[] {\n    return statusEffects\n      .map(effect => ({\n        ...effect,\n        duration: effect.duration - 1\n      }))\n      .filter(effect => effect.duration > 0);\n  }\n  \n  /**\n   * 상태 효과 데미지 계산 (독, 화상 등)\n   */\n  calculateStatusEffectDamage(statusEffects: StatusEffect[]): number {\n    return statusEffects.reduce((total, effect) => {\n      if (effect.type === 'poison' || effect.type === 'burn') {\n        return total + effect.value;\n      }\n      return total;\n    }, 0);\n  }\n  \n  /**\n   * 상태 효과에 의한 스탯 변화 계산\n   */\n  calculateStatusEffectModifiers(statusEffects: StatusEffect[]): {\n    attackModifier: number;\n    defenseModifier: number;\n    speedModifier: number;\n  } {\n    let attackModifier = 1.0;\n    let defenseModifier = 1.0;\n    let speedModifier = 1.0;\n    \n    statusEffects.forEach(effect => {\n      switch (effect.type) {\n        case 'strengthen':\n          attackModifier += effect.value;\n          break;\n        case 'weaken':\n          attackModifier -= effect.value;\n          break;\n        case 'shield':\n          defenseModifier += effect.value;\n          break;\n        case 'speed':\n          speedModifier += effect.value;\n          break;\n        case 'slow':\n        case 'stun':\n          speedModifier -= effect.value;\n          break;\n      }\n    });\n    \n    return {\n      attackModifier: Math.max(0.1, attackModifier),\n      defenseModifier: Math.max(0.1, defenseModifier),\n      speedModifier: Math.max(0.1, speedModifier)\n    };\n  }\n  \n  /**\n   * 스킬 쿨다운 확인\n   */\n  canUseSkill(skill: BattleSkill, currentMp: number): {\n    canUse: boolean;\n    reason?: string;\n  } {\n    if (skill.currentCooldown && skill.currentCooldown > 0) {\n      return {\n        canUse: false,\n        reason: `스킬이 쿨다운 중입니다. (${skill.currentCooldown}턴 남음)`\n      };\n    }\n    \n    if (currentMp < skill.mpCost) {\n      return {\n        canUse: false,\n        reason: `MP가 부족합니다. (필요: ${skill.mpCost}, 현재: ${currentMp})`\n      };\n    }\n    \n    return { canUse: true };\n  }\n  \n  /**\n   * 스킬 쿨다운 시작\n   */\n  startSkillCooldown(skill: BattleSkill): BattleSkill {\n    return {\n      ...skill,\n      currentCooldown: skill.cooldown\n    };\n  }\n  \n  /**\n   * 모든 스킬의 쿨다운 감소\n   */\n  decreaseAllCooldowns(skills: BattleSkill[]): BattleSkill[] {\n    return skills.map(skill => ({\n      ...skill,\n      currentCooldown: skill.currentCooldown \n        ? Math.max(0, skill.currentCooldown - 1)\n        : 0\n    }));\n  }\n  \n  /**\n   * 전투 종료 여부 확인\n   */\n  isBattleEnded(playerHp: number, enemyHp: number): {\n    isEnded: boolean;\n    result?: 'victory' | 'defeat' | 'draw';\n  } {\n    if (playerHp <= 0 && enemyHp <= 0) {\n      return { isEnded: true, result: 'draw' };\n    }\n    \n    if (playerHp <= 0) {\n      return { isEnded: true, result: 'defeat' };\n    }\n    \n    if (enemyHp <= 0) {\n      return { isEnded: true, result: 'victory' };\n    }\n    \n    return { isEnded: false };\n  }\n  \n  /**\n   * 경험치 및 보상 계산\n   */\n  calculateRewards(\n    enemyLevel: number,\n    playerLevel: number,\n    isBoss: boolean = false\n  ): {\n    exp: number;\n    gold: number;\n  } {\n    const levelDiff = enemyLevel - playerLevel;\n    const baseExp = 50 + (enemyLevel * 10);\n    const baseGold = 20 + (enemyLevel * 5);\n    \n    // 레벨 차이에 따른 보정\n    const expMultiplier = levelDiff > 0 ? 1 + (levelDiff * 0.1) : 1;\n    const bossMultiplier = isBoss ? 3 : 1;\n    \n    return {\n      exp: Math.floor(baseExp * expMultiplier * bossMultiplier),\n      gold: Math.floor(baseGold * bossMultiplier)\n    };\n  }\n}\n", "import { Injectable } from '@angular/core';\nimport { CombatLogEntry } from '../models/battle.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BattleLogService {\n  \n  /**\n   * 전투 로그 엔트리 생성\n   */\n  createLogEntry(\n    turn: number,\n    actor: 'player' | 'enemy',\n    action: string,\n    details?: Partial<CombatLogEntry>\n  ): CombatLogEntry {\n    return {\n      turn,\n      actor,\n      action,\n      timestamp: new Date(),\n      ...details\n    };\n  }\n  \n  /**\n   * 전투 로그 포맷팅\n   */\n  formatBattleLog(entry: CombatLogEntry): string {\n    const prefix = entry.actor === 'player' ? '👤' : '👹';\n    let message = `${prefix} ${entry.action}`;\n    \n    if (entry.isCritical) {\n      message += ' ⚡크리티컬!⚡';\n    }\n    \n    if (entry.isMiss) {\n      message += ' 💨Miss!';\n    }\n    \n    return message;\n  }\n  \n  /**\n   * 전투 로그를 HTML 형식으로 포맷팅\n   */\n  formatBattleLogHTML(entry: CombatLogEntry): string {\n    const actorClass = entry.actor === 'player' ? 'player-action' : 'enemy-action';\n    let html = `<div class=\"battle-log-entry ${actorClass}\">`;\n    \n    const icon = entry.actor === 'player' ? '👤' : '👹';\n    html += `<span class=\"actor-icon\">${icon}</span>`;\n    html += `<span class=\"action-text\">${entry.action}</span>`;\n    \n    if (entry.damage) {\n      html += `<span class=\"damage-text\">-${entry.damage}</span>`;\n    }\n    \n    if (entry.heal) {\n      html += `<span class=\"heal-text\">+${entry.heal}</span>`;\n    }\n    \n    if (entry.isCritical) {\n      html += `<span class=\"critical-badge\">⚡크리티컬⚡</span>`;\n    }\n    \n    if (entry.isMiss) {\n      html += `<span class=\"miss-badge\">💨Miss</span>`;\n    }\n    \n    html += '</div>';\n    return html;\n  }\n  \n  /**\n   * 공격 로그 생성\n   */\n  createAttackLog(\n    actor: 'player' | 'enemy',\n    skillName: string,\n    damage: number,\n    isCritical: boolean,\n    isMiss: boolean,\n    turn: number\n  ): CombatLogEntry {\n    let action = '';\n    \n    if (isMiss) {\n      action = `${skillName}이(가) 빗나갔다!`;\n    } else if (isCritical) {\n      action = `${skillName}! ${damage} 크리티컬 데미지!`;\n    } else {\n      action = `${skillName}! ${damage} 데미지!`;\n    }\n    \n    return this.createLogEntry(turn, actor, action, {\n      damage: isMiss ? 0 : damage,\n      isCritical,\n      isMiss\n    });\n  }\n  \n  /**\n   * 치유 로그 생성\n   */\n  createHealLog(\n    actor: 'player' | 'enemy',\n    skillName: string,\n    healAmount: number,\n    turn: number\n  ): CombatLogEntry {\n    return this.createLogEntry(\n      turn,\n      actor,\n      `${skillName}! HP ${healAmount} 회복!`,\n      { heal: healAmount }\n    );\n  }\n  \n  /**\n   * 버프/디버프 로그 생성\n   */\n  createStatusEffectLog(\n    actor: 'player' | 'enemy',\n    effectName: string,\n    isPositive: boolean,\n    turn: number\n  ): CombatLogEntry {\n    const prefix = isPositive ? '✨' : '🔻';\n    return this.createLogEntry(\n      turn,\n      actor,\n      `${prefix} ${effectName} 효과 발동!`,\n      { effect: effectName }\n    );\n  }\n  \n  /**\n   * 상태 효과 데미지 로그 생성\n   */\n  createStatusDamageLog(\n    actor: 'player' | 'enemy',\n    effectType: string,\n    damage: number,\n    turn: number\n  ): CombatLogEntry {\n    const effectIcons: { [key: string]: string } = {\n      poison: '☠️',\n      burn: '🔥',\n      bleeding: '🩸'\n    };\n    \n    const icon = effectIcons[effectType] || '💢';\n    return this.createLogEntry(\n      turn,\n      actor,\n      `${icon} ${effectType}로 ${damage} 데미지 받음!`,\n      { damage, effect: effectType }\n    );\n  }\n  \n  /**\n   * 방어 로그 생성\n   */\n  createDefenseLog(\n    actor: 'player' | 'enemy',\n    skillName: string,\n    defenseBoost: number,\n    turn: number\n  ): CombatLogEntry {\n    return this.createLogEntry(\n      turn,\n      actor,\n      `🛡️ ${skillName}! 방어력 ${(defenseBoost * 100)}% 증가!`\n    );\n  }\n  \n  /**\n   * 아이템 사용 로그 생성\n   */\n  createItemUseLog(\n    itemName: string,\n    effect: string,\n    turn: number\n  ): CombatLogEntry {\n    return this.createLogEntry(\n      turn,\n      'player',\n      `💊 ${itemName} 사용! ${effect}`\n    );\n  }\n  \n  /**\n   * 턴 시작 로그 생성\n   */\n  createTurnStartLog(turn: number): CombatLogEntry {\n    return this.createLogEntry(\n      turn,\n      'player',\n      `━━━ 턴 ${turn} 시작 ━━━`\n    );\n  }\n  \n  /**\n   * 전투 종료 로그 생성\n   */\n  createBattleEndLog(\n    result: 'victory' | 'defeat' | 'draw',\n    turn: number\n  ): CombatLogEntry {\n    const messages = {\n      victory: '🎉 승리! 적을 처치했습니다!',\n      defeat: '💀 패배... 전투에서 쓰러졌습니다.',\n      draw: '🤝 무승부! 양측 모두 쓰러졌습니다.'\n    };\n    \n    return this.createLogEntry(\n      turn,\n      'player',\n      messages[result]\n    );\n  }\n  \n  /**\n   * 로그 필터링 (특정 액터만)\n   */\n  filterLogsByActor(\n    logs: CombatLogEntry[],\n    actor: 'player' | 'enemy'\n  ): CombatLogEntry[] {\n    return logs.filter(log => log.actor === actor);\n  }\n  \n  /**\n   * 로그 필터링 (특정 턴만)\n   */\n  filterLogsByTurn(\n    logs: CombatLogEntry[],\n    turn: number\n  ): CombatLogEntry[] {\n    return logs.filter(log => log.turn === turn);\n  }\n  \n  /**\n   * 전투 통계 생성\n   */\n  generateBattleStats(logs: CombatLogEntry[]): {\n    totalDamageDealt: number;\n    totalDamageTaken: number;\n    totalHealing: number;\n    criticalHits: number;\n    missedAttacks: number;\n    totalTurns: number;\n  } {\n    const playerLogs = logs.filter(log => log.actor === 'player');\n    const enemyLogs = logs.filter(log => log.actor === 'enemy');\n    \n    return {\n      totalDamageDealt: playerLogs.reduce((sum, log) => sum + (log.damage || 0), 0),\n      totalDamageTaken: enemyLogs.reduce((sum, log) => sum + (log.damage || 0), 0),\n      totalHealing: playerLogs.reduce((sum, log) => sum + (log.heal || 0), 0),\n      criticalHits: playerLogs.filter(log => log.isCritical).length,\n      missedAttacks: playerLogs.filter(log => log.isMiss).length,\n      totalTurns: Math.max(...logs.map(log => log.turn))\n    };\n  }\n  \n  /**\n   * 로그를 텍스트 파일 형식으로 변환\n   */\n  exportLogsAsText(logs: CombatLogEntry[]): string {\n    return logs.map(log => {\n      const timestamp = log.timestamp.toLocaleTimeString();\n      const actor = log.actor === 'player' ? 'Player' : 'Enemy';\n      return `[Turn ${log.turn}] [${timestamp}] ${actor}: ${log.action}`;\n    }).join('\\n');\n  }\n}\n", "import { Injectable, inject } from '@angular/core';\nimport { NotificationService } from '../../../services/notification.service';\nimport { BattleService } from '../services/battle.service';\nimport { BattleLogService } from '../services/battle-log.service';\nimport { \n  StatusEffect, BattleSkill, CombatLogEntry, BattleItem, \n  BattleAction, BattleState \n} from '../models/battle.model';\nimport { MartialArtsSkill, MartialBattleState } from '../models/wuxia.model';\nimport { BattleStateService } from '../services/state/battle.state.service';\n\n/**\n * 전투 시스템을 관리하는 매니저 클래스\n * Signal 기반 BattleStateService 사용\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class BattleManager {\n  // ===== Signal-based State Service =====\n  private readonly battleStateService = inject(BattleStateService);\n  \n  // ===== State Getters (BattleStateService로 delegation) =====\n  get inBattle(): boolean { return this.battleStateService.inBattle(); }\n  get battleEnded(): boolean { return this.battleStateService.battleEnded(); }\n  get battleVictory(): boolean { return this.battleStateService.battleVictory(); }\n  get battleTurn(): 'player' | 'enemy' { return this.battleStateService.battleTurn(); }\n  get battleLog(): string[] { return this.battleStateService.battleLog(); }\n  get battleEnemy() { return this.battleStateService.battleEnemy(); }\n  \n  // 전투 참여자 (playerCharacter는 여전히 로컬 관리)\n  playerCharacter: any = null;\n  \n  // 전투 관련 데이터\n  battleSkills: BattleSkill[] = [];\n  battleItems: BattleItem[] = [];\n  defaultBattleSkills: BattleSkill[] = [];\n  \n  // 상태 효과\n  playerDefenseBonus = 0;\n  playerTakingDamage = false;\n  enemyTakingDamage = false;\n  \n  // 전투 상태\n  currentBattleState: BattleState | null = null;\n  \n  // 무협 전투\n  martialBattleState: MartialBattleState | null = null;\n  learnedMartialSkills: MartialArtsSkill[] = [];\n  playerInternalPower: any = null;\n  \n  // 인벤토리\n  inventory: any[] = [];\n  gold = 0;\n  \n  // 콜백 함수들\n  private onBattleWin?: (expGain: number, goldGain: number) => void;\n  private onBattleLose?: () => void;\n  private onBattleEnd?: (victory: boolean) => void;\n  private onLogUpdate?: () => void;\n  private onEnemyDamage?: () => void;\n  private onPlayerDamage?: () => void;\n\n  constructor(\n    private notification: NotificationService,\n    private battleService: BattleService,\n    private battleLogService: BattleLogService\n  ) {}\n\n  /**\n   * 플레이어 캐릭터 설정\n   */\n  setPlayerCharacter(character: any): void {\n    this.playerCharacter = character;\n  }\n\n  /**\n   * 콜백 함수 설정\n   */\n  setCallbacks(callbacks: {\n    onBattleWin?: (expGain: number, goldGain: number) => void;\n    onBattleLose?: () => void;\n    onBattleEnd?: (victory: boolean) => void;\n    onLogUpdate?: () => void;\n    onEnemyDamage?: () => void;\n    onPlayerDamage?: () => void;\n  }): void {\n    this.onBattleWin = callbacks.onBattleWin;\n    this.onBattleLose = callbacks.onBattleLose;\n    this.onBattleEnd = callbacks.onBattleEnd;\n    this.onLogUpdate = callbacks.onLogUpdate;\n    this.onEnemyDamage = callbacks.onEnemyDamage;\n    this.onPlayerDamage = callbacks.onPlayerDamage;\n  }\n\n  /**\n   * 전투 시작\n   */\n  startBattle(): void {\n    // 적 생성 (startBattle 호출 전에 설정)\n    const enemy = {\n      name: '산적',\n      maxHp: 80,\n      hp: 80,\n      mp: 40,\n      maxMp: 40,\n      internalPower: 30,\n      maxInternalPower: 30,\n      attack: 15,\n      defense: 8\n    };\n    \n    this.battleStateService.startBattle(enemy);\n    this.battleStateService.addBattleLog('⚔️ 전투가 시작되었습니다!');\n    this.battleStateService.addBattleLog(`적: ${enemy.name} (HP: ${enemy.hp}/${enemy.maxHp})`);\n    \n    this.notifyLogUpdate();\n  }\n\n  /**\n   * 선택지에서 전투 시작\n   */\n  startBattleFromChoice(addStoryBlockCallback: (blocks: string[]) => void, scrollCallback: () => void): void {\n    addStoryBlockCallback([\n      '⚔️ 전투가 시작됩니다!',\n      '적이 당신을 발견하고 공격 자세를 취했습니다.'\n    ]);\n    \n    this.initializeBattle();\n    \n    this.battleStateService.startBattle(this.battleEnemy || { name: \"\", hp: 0, maxHp: 0, attack: 0, defense: 0 });\n    // battleEnded set by startBattle;\n    // battleVictory set by startBattle;\n    this.battleStateService.setPlayerTurn();\n    this.battleStateService.clearBattleLog(); this.battleStateService.addBattleLog(\"⚔️ 전투 시작!\");\n    this.playerDefenseBonus = 0;\n    \n    this.generateRandomEnemy();\n    \n    scrollCallback();\n    \n    // 자동 전투 시작 (1초 후)\n    setTimeout(() => this.autoBattle(), 1000);\n  }\n\n  /**\n   * 랜덤 적 생성\n   */\n  generateRandomEnemy(): void {\n    const enemies = [\n      { name: '고블린', hp: 50, mp: 20, internalPower: 15, attack: 8, defense: 3 },\n      { name: '오크', hp: 80, mp: 35, internalPower: 30, attack: 12, defense: 5 },\n      { name: '늑대', hp: 60, mp: 15, internalPower: 10, attack: 10, defense: 2 },\n      { name: '해골 전사', hp: 70, mp: 25, internalPower: 20, attack: 11, defense: 4 },\n      { name: '마법사', hp: 45, mp: 50, internalPower: 40, attack: 15, defense: 2 },\n      { name: '드래곤', hp: 150, mp: 80, internalPower: 100, attack: 20, defense: 10 }\n    ];\n    \n    const randomEnemy = enemies[Math.floor(Math.random() * enemies.length)];\n    const enemy = {\n      name: randomEnemy.name,\n      hp: randomEnemy.hp,\n      maxHp: randomEnemy.hp,\n      mp: randomEnemy.mp,\n      maxMp: randomEnemy.mp,\n      internalPower: randomEnemy.internalPower,\n      maxInternalPower: randomEnemy.internalPower,\n      attack: randomEnemy.attack,\n      defense: randomEnemy.defense\n    };\n    \n    // BattleStateService에 enemy 설정 (startBattle이 이미 호출된 경우에만)\n    if (this.inBattle) {\n      this.battleStateService.startBattle(enemy);\n    }\n    \n    this.battleStateService.addBattleLog(`${enemy.name}이(가) 나타났다!`);\n    this.notifyLogUpdate();\n  }\n\n  /**\n   * 전투 초기화\n   */\n  initializeBattle(): void {\n    this.playerDefenseBonus = 0;\n    \n    if (this.learnedMartialSkills.length > 0 && this.battleEnemy) {\n      this.martialBattleState = {\n        turn: 1,\n        playerHp: this.playerCharacter?.hp || 100,\n        playerMp: this.playerCharacter?.mp || 100,\n        enemyHp: this.battleEnemy.hp,\n        playerStatusEffects: [],\n        enemyStatusEffects: [],\n        playerDefending: false,\n        combatLog: [],\n        isPlayerTurn: true,\n        playerInternalPower: this.playerInternalPower?.current || 0,\n        playerMaxInternalPower: this.playerInternalPower?.max || 100,\n        enemyInternalPower: 100,\n        enemyMaxInternalPower: 100,\n        skillCooldowns: {},\n        lastSkillUsed: undefined,\n        comboCounter: 0,\n        playerRealm: this.playerInternalPower?.realm || '초류',\n        enemyRealm: '초류'\n      };\n    }\n  }\n\n  /**\n   * 자동 전투\n   */\n  autoBattle(): void {\n    if (this.battleEnded) return;\n    \n    if (this.battleTurn === 'player') {\n      this.playerAutoAction();\n    }\n  }\n\n  /**\n   * 플레이어 자동 행동\n   */\n  playerAutoAction(): void {\n    if (this.battleEnded || !this.playerCharacter) return;\n    \n    const hpPercent = (this.playerCharacter.hp / this.playerCharacter.maxHp) * 100;\n    if (hpPercent <= 30 && this.hasPotion()) {\n      this.usePotion();\n      return;\n    }\n    \n    if (this.playerCharacter.mp >= 10 && Math.random() < 0.3) {\n      this.playerSkill();\n      return;\n    }\n    \n    if (Math.random() < 0.2) {\n      this.playerDefend();\n      return;\n    }\n    \n    this.playerAttack();\n  }\n\n  /**\n   * 포션 보유 여부 확인\n   */\n  hasPotion(): boolean {\n    return this.inventory.some(item => \n      item.id === 'potion' || item.name?.includes('포션')\n    );\n  }\n\n  /**\n   * 포션 사용\n   */\n  usePotion(): void {\n    if (!this.playerCharacter) return;\n    \n    const potionIndex = this.inventory.findIndex(item => \n      item.id === 'potion' || item.name?.includes('포션')\n    );\n    \n    if (potionIndex === -1) return;\n    \n    const healAmount = 30;\n    this.playerCharacter.hp = Math.min(\n      this.playerCharacter.maxHp,\n      this.playerCharacter.hp + healAmount\n    );\n    \n    this.inventory.splice(potionIndex, 1);\n    this.battleStateService.addBattleLog(`💊 포션 사용! HP ${healAmount} 회복!`);\n    this.notifyLogUpdate();\n    \n    this.battleStateService.setEnemyTurn();\n    setTimeout(() => this.enemyTurn(), 500);\n  }\n\n  /**\n   * 플레이어 방어\n   */\n  playerDefend(): void {\n    if (this.battleTurn !== 'player' || this.battleEnded) return;\n    \n    this.playerDefenseBonus = 0.5;\n    this.battleStateService.addBattleLog('🛡️ 방어 자세를 취했다!');\n    this.notifyLogUpdate();\n    \n    this.battleStateService.setEnemyTurn();\n    setTimeout(() => this.enemyTurn(), 500);\n  }\n\n  /**\n   * 플레이어 공격\n   */\n  playerAttack(): void {\n    if (this.battleTurn !== 'player' || this.battleEnded || !this.playerCharacter || !this.battleEnemy) return;\n    \n    const damage = Math.max(1, this.playerCharacter.attack - this.battleEnemy.defense);\n    \n    this.triggerEnemyDamage();\n    \n    this.battleStateService.damageEnemy(damage);\n    \n    this.battleStateService.addBattleLog(`당신은 ${this.battleEnemy.name}에게 ${damage} 피해를 입혔다!`);\n    this.notifyLogUpdate();\n    \n    if (this.battleEnemy.hp <= 0) {\n      this.winBattle();\n    } else {\n      this.battleStateService.setEnemyTurn();\n      setTimeout(() => this.enemyTurn(), 500);\n    }\n  }\n\n  /**\n   * 플레이어 스킬\n   */\n  playerSkill(): void {\n    if (this.battleTurn !== 'player' || this.battleEnded || !this.playerCharacter || !this.battleEnemy || this.playerCharacter.mp < 10) return;\n    \n    this.playerCharacter.mp -= 10;\n    const damage = Math.max(1, Math.floor(this.playerCharacter.attack * 1.5) - this.battleEnemy.defense);\n    \n    this.triggerEnemyDamage();\n    \n    this.battleStateService.damageEnemy(damage);\n    \n    this.battleStateService.addBattleLog(`✨ 강력한 스킬 공격! ${this.battleEnemy.name}에게 ${damage} 피해를 입혔다!`);\n    this.notifyLogUpdate();\n    \n    if (this.battleEnemy.hp <= 0) {\n      this.winBattle();\n    } else {\n      this.battleStateService.setEnemyTurn();\n      setTimeout(() => this.enemyTurn(), 500);\n    }\n  }\n\n  /**\n   * 적 턴\n   */\n  enemyTurn(): void {\n    if (this.battleEnded || !this.playerCharacter || !this.battleEnemy) return;\n    \n    const baseDamage = Math.max(1, this.battleEnemy.attack - Math.floor(this.playerCharacter.defense * (1 + this.playerDefenseBonus)));\n    const damage = Math.max(1, baseDamage);\n    \n    this.triggerPlayerDamage();\n    \n    this.playerCharacter.hp = Math.max(0, this.playerCharacter.hp - damage);\n    \n    this.battleStateService.addBattleLog(`${this.battleEnemy.name}의 공격! ${damage} 피해를 입었다!`);\n    this.notifyLogUpdate();\n    \n    this.playerDefenseBonus = 0;\n    \n    if (this.playerCharacter.hp <= 0) {\n      this.loseBattle();\n    } else {\n      this.battleStateService.setPlayerTurn();\n      setTimeout(() => this.autoBattle(), 800);\n    }\n  }\n\n  /**\n   * 무협 스킬 전투 사용\n   */\n  useMartialSkillInBattle(skill: MartialArtsSkill): void {\n    if (this.battleTurn !== 'player' || this.battleEnded || !this.playerCharacter || !this.battleEnemy) return;\n    \n    const mpCost = (skill as any).mpCost || 20;\n    const baseDamage = (skill as any).baseDamage || 50;\n    \n    if (this.playerCharacter.mp < mpCost) {\n      this.notification.show('MP가 부족합니다!');\n      return;\n    }\n    \n    if (this.playerInternalPower.current < skill.requiredInternalPower) {\n      this.notification.show('내력이 부족합니다!');\n      return;\n    }\n    \n    this.playerCharacter.mp -= mpCost;\n    this.playerInternalPower.current -= skill.requiredInternalPower;\n    \n    const damage = Math.floor(baseDamage * (1 + this.playerInternalPower.current / 100));\n    this.battleStateService.damageEnemy(damage);\n    \n    this.battleStateService.addBattleLog(`⚡ ${skill.name}(${skill.chineseName})! ${damage} 피해!`);\n    this.notifyLogUpdate();\n    \n    if (this.battleEnemy.hp <= 0) {\n      this.winBattle();\n    } else {\n      this.battleStateService.setEnemyTurn();\n      setTimeout(() => this.enemyTurn(), 500);\n    }\n  }\n\n  /**\n   * 전투 승리\n   */\n  winBattle(): void {\n    if (!this.battleEnemy) return;\n    \n    this.battleStateService.endBattle(this.battleVictory);\n    // battleVictory set by endBattle;\n    \n    const expGain = Math.floor(this.battleEnemy.maxHp * 0.8);\n    const goldGain = Math.floor(this.battleEnemy.maxHp * 0.6);\n    \n    this.gold += goldGain;\n    \n    this.battleStateService.addBattleLog('');\n    this.battleStateService.addBattleLog('🏆 승리!');\n    this.battleStateService.addBattleLog(`💫 경험치 ${expGain} 획득!`);\n    this.battleStateService.addBattleLog(`💰 골드 ${goldGain} 획득!`);\n    this.notifyLogUpdate();\n    \n    if (this.onBattleWin) {\n      this.onBattleWin(expGain, goldGain);\n    }\n    \n    setTimeout(() => this.endBattle(), 2000);\n  }\n\n  /**\n   * 전투 패배\n   */\n  loseBattle(): void {\n    this.battleStateService.endBattle(this.battleVictory);\n    // battleVictory set by startBattle;\n    \n    if (this.playerCharacter) {\n      this.playerCharacter.hp = Math.floor(this.playerCharacter.maxHp / 2);\n    }\n    \n    this.battleStateService.addBattleLog('');\n    this.battleStateService.addBattleLog('💀 패배...');\n    this.battleStateService.addBattleLog('마을로 돌아가 재정비가 필요하다.');\n    this.notifyLogUpdate();\n    \n    if (this.onBattleLose) {\n      this.onBattleLose();\n    }\n    \n    setTimeout(() => this.endBattle(), 2000);\n  }\n\n  /**\n   * 전투 종료\n   */\n  endBattle(): void {\n    // // this.inBattle = false (handled by resetBattle) (handled by resetBattle);\n    \n    if (this.onBattleEnd) {\n      this.onBattleEnd(this.battleVictory);\n    }\n  }\n\n  /**\n   * 무협 전투 시작\n   */\n  startMartialBattle(enemyName: string): void {\n    this.startBattle();\n  }\n\n  /**\n   * 전투 스킬 초기화\n   */\n  initializeBattleSkills(): void {\n    this.battleSkills = [...this.defaultBattleSkills];\n    \n    if (this.playerCharacter && this.playerCharacter.level >= 5) {\n      this.battleSkills.push({\n        id: 'lightning-strike',\n        name: '번개 일격',\n        description: '번개로 적을 공격하고 스턴시킵니다',\n        type: 'attack',\n        mpCost: 30,\n        cooldown: 3,\n        damageMultiplier: 2.2,\n        hitRate: 0.9,\n        statusEffect: {\n          type: 'stun',\n          duration: 1,\n          value: 1,\n          name: '스턴',\n          icon: '⚡'\n        },\n        icon: '⚡'\n      });\n    }\n  }\n\n  /**\n   * 전투 아이템 초기화\n   */\n  initializeBattleItems(): void {\n    this.battleItems = this.inventory\n      .filter(item => item.type === 'consumable')\n      .map(item => ({\n        id: item.id,\n        name: item.name,\n        description: item.description,\n        type: this.getBattleItemType(item.id) as 'potion' | 'buff' | 'throwable' | 'scroll',\n        effect: this.getBattleItemEffect(item.id),\n        quantity: item.quantity,\n        usableInBattle: true,\n        icon: this.getItemIcon(item.id)\n      }));\n  }\n\n  /**\n   * 전투 스킬 사용\n   */\n  useBattleSkill(skillId: string): boolean {\n    const skill = this.battleSkills.find(s => s.id === skillId);\n    if (!skill || !this.playerCharacter) return false;\n    \n    if (this.playerCharacter.mp < skill.mpCost) {\n      this.addBattleLog('player', `MP가 부족합니다! (필요: ${skill.mpCost})`);\n      return false;\n    }\n    \n    if (skill.currentCooldown && skill.currentCooldown > 0) {\n      this.addBattleLog('player', `${skill.name}은(는) 아직 사용할 수 없습니다. (${skill.currentCooldown}턴 남음)`);\n      return false;\n    }\n    \n    this.playerCharacter.mp -= skill.mpCost;\n    \n    switch (skill.type) {\n      case 'attack':\n        this.executeAttackSkill(skill);\n        break;\n      case 'defense':\n        this.executeDefenseSkill(skill);\n        break;\n      case 'heal':\n        this.executeHealSkill(skill);\n        break;\n      case 'buff':\n        this.executeBuffSkill(skill);\n        break;\n      case 'debuff':\n        this.executeDebuffSkill(skill);\n        break;\n    }\n    \n    if (skill.cooldown > 0) {\n      skill.currentCooldown = skill.cooldown;\n    }\n    \n    return true;\n  }\n\n  /**\n   * 전투 아이템 사용\n   */\n  useBattleItem(itemId: string): boolean {\n    const item = this.battleItems.find(i => i.id === itemId);\n    if (!item || item.quantity <= 0 || !this.playerCharacter) return false;\n    \n    if (item.effect.heal) {\n      const actualHeal = Math.min(item.effect.heal, this.playerCharacter.maxHp - this.playerCharacter.hp);\n      this.playerCharacter.hp += actualHeal;\n      this.addBattleLog('player', `${item.name} 사용! HP ${actualHeal} 회복!`, { heal: actualHeal });\n      this.triggerSkillEffect(item.icon || '❤️', 'heal');\n    }\n    \n    if (item.effect.mpRestore) {\n      const actualRestore = Math.min(item.effect.mpRestore, this.playerCharacter.maxMp - this.playerCharacter.mp);\n      this.playerCharacter.mp += actualRestore;\n      this.addBattleLog('player', `${item.name} 사용! MP ${actualRestore} 회복!`);\n      this.triggerSkillEffect(item.icon || '💙', 'heal');\n    }\n    \n    if (item.effect.damage && this.battleEnemy) {\n      this.battleEnemy.hp = Math.max(0, this.battleEnemy.hp - item.effect.damage);\n      this.addBattleLog('player', `${item.name} 사용! ${item.effect.damage} 데미지!`, { damage: item.effect.damage });\n      this.triggerSkillEffect(item.icon || '💣', 'hit');\n      this.triggerEnemyDamage();\n    }\n    \n    if (item.effect.buff) {\n      this.applyStatusEffect('player', item.effect.buff);\n      this.addBattleLog('player', `${item.name} 사용! ${item.effect.buff.name} 효과!`);\n      this.triggerSkillEffect(item.icon || '✨', 'buff');\n    }\n    \n    item.quantity--;\n    const inventoryItem = this.inventory.find(i => i.id === itemId);\n    if (inventoryItem) {\n      inventoryItem.quantity--;\n      if (inventoryItem.quantity <= 0) {\n        this.inventory = this.inventory.filter(i => i.id !== itemId);\n      }\n    }\n    \n    return true;\n  }\n\n  /**\n   * 스킬 쿨다운 업데이트\n   */\n  updateSkillCooldowns(): void {\n    this.battleSkills = this.battleService.decreaseAllCooldowns(this.battleSkills);\n  }\n\n  /**\n   * 공격 스킬 실행\n   */\n  private executeAttackSkill(skill: BattleSkill): void {\n    if (!this.battleEnemy) return;\n    \n    const result = this.battleService.executeAttackSkill(\n      skill,\n      this.playerCharacter,\n      this.battleEnemy.hp,\n      this.battleEnemy.defense\n    );\n    \n    if (result.isMiss) {\n      this.addBattleLog('player', `${skill.name}이(가) 빗나갔다!`, { isMiss: true });\n      this.triggerSkillEffect(skill.icon || '💨', 'miss');\n      return;\n    }\n    \n    this.battleEnemy.hp = result.remainingEnemyHp;\n    \n    this.addBattleLog(\n      'player',\n      `${skill.name}! ${result.damage} 데미지!`,\n      { damage: result.damage, isCritical: result.isCritical }\n    );\n    \n    this.triggerSkillEffect(skill.icon || '💥', result.isCritical ? 'critical' : 'hit');\n    this.triggerEnemyDamage();\n    \n    if (result.statusEffect) {\n      this.applyStatusEffect('enemy', result.statusEffect);\n    }\n  }\n\n  /**\n   * 방어 스킬 실행\n   */\n  private executeDefenseSkill(skill: BattleSkill): void {\n    const result = this.battleService.executeDefenseSkill(skill);\n    this.playerDefenseBonus = result.defenseBoost;\n    this.addBattleLog('player', `${skill.name}! 방어력이 ${(result.defenseBoost * 100)}% 증가했다!`);\n    this.triggerSkillEffect(skill.icon || '🛡️', 'buff');\n  }\n\n  /**\n   * 치유 스킬 실행\n   */\n  private executeHealSkill(skill: BattleSkill): void {\n    if (!this.playerCharacter) return;\n    \n    const result = this.battleService.executeHealSkill(\n      skill,\n      this.playerCharacter.hp,\n      this.playerCharacter.maxHp\n    );\n    \n    this.playerCharacter.hp = result.newHp;\n    this.addBattleLog('player', `${skill.name}! HP ${result.healAmount} 회복!`, { heal: result.healAmount });\n    this.triggerSkillEffect(skill.icon || '💚', 'heal');\n  }\n\n  /**\n   * 버프 스킬 실행\n   */\n  private executeBuffSkill(skill: BattleSkill): void {\n    const result = this.battleService.executeBuffSkill(skill);\n    if (result.statusEffect) {\n      this.applyStatusEffect('player', result.statusEffect);\n      this.addBattleLog('player', `${skill.name}! ${result.statusEffect.name} 효과 발동!`);\n      this.triggerSkillEffect(skill.icon || '✨', 'buff');\n    }\n  }\n\n  /**\n   * 디버프 스킬 실행\n   */\n  private executeDebuffSkill(skill: BattleSkill): void {\n    const result = this.battleService.executeDebuffSkill(skill);\n    if (result.statusEffect) {\n      this.applyStatusEffect('enemy', result.statusEffect);\n      this.addBattleLog('player', `${skill.name}! 적에게 ${result.statusEffect.name} 효과!`);\n      this.triggerSkillEffect(skill.icon || '🔻', 'debuff');\n    }\n  }\n\n  /**\n   * 상태 효과 적용\n   */\n  private applyStatusEffect(target: 'player' | 'enemy', effect: StatusEffect): void {\n    if (!this.currentBattleState) return;\n    \n    if (target === 'player') {\n      this.currentBattleState.playerStatusEffects = this.battleService.applyStatusEffect(\n        this.currentBattleState.playerStatusEffects,\n        effect\n      );\n    } else {\n      this.currentBattleState.enemyStatusEffects = this.battleService.applyStatusEffect(\n        this.currentBattleState.enemyStatusEffects,\n        effect\n      );\n    }\n  }\n\n  /**\n   * 스킬 이펙트 트리거\n   */\n  private triggerSkillEffect(icon: string, type: 'hit' | 'critical' | 'miss' | 'heal' | 'buff' | 'debuff'): void {\n    // UI에서 구현\n  }\n\n  /**\n   * 전투 로그 추가\n   */\n  private addBattleLog(actor: 'player' | 'enemy', action: string, details?: Partial<CombatLogEntry>): void {\n    if (!this.currentBattleState) return;\n    \n    const logEntry = this.battleLogService.createLogEntry(\n      this.currentBattleState.turn,\n      actor,\n      action,\n      details\n    );\n    \n    this.currentBattleState.combatLog.push(logEntry);\n    this.battleStateService.addBattleLog(this.battleLogService.formatBattleLog(logEntry));\n    this.notifyLogUpdate();\n  }\n\n  /**\n   * 데미지 애니메이션 트리거\n   */\n  triggerPlayerDamage(): void {\n    this.playerTakingDamage = true;\n    if (this.onPlayerDamage) {\n      this.onPlayerDamage();\n    }\n    setTimeout(() => {\n      this.playerTakingDamage = false;\n    }, 500);\n  }\n\n  triggerEnemyDamage(): void {\n    this.enemyTakingDamage = true;\n    if (this.onEnemyDamage) {\n      this.onEnemyDamage();\n    }\n    setTimeout(() => {\n      this.enemyTakingDamage = false;\n    }, 500);\n  }\n\n  /**\n   * 로그 업데이트 알림\n   */\n  private notifyLogUpdate(): void {\n    if (this.onLogUpdate) {\n      this.onLogUpdate();\n    }\n  }\n\n  /**\n   * 헬퍼 메서드들\n   */\n  private getBattleItemType(itemId: string): 'potion' | 'buff' | 'throwable' | 'scroll' {\n    if (itemId.includes('potion')) return 'potion';\n    if (itemId.includes('bomb')) return 'throwable';\n    if (itemId.includes('scroll')) return 'scroll';\n    return 'buff';\n  }\n\n  private getBattleItemEffect(itemId: string): any {\n    if (itemId.includes('potion')) {\n      return { heal: 50 };\n    }\n    if (itemId.includes('bomb')) {\n      return { damage: 30 };\n    }\n    return {};\n  }\n\n  private getItemIcon(itemId: string): string {\n    if (itemId.includes('potion')) return '🧪';\n    if (itemId.includes('bomb')) return '💣';\n    if (itemId.includes('scroll')) return '📜';\n    return '📦';\n  }\n}\n", "import { Injectable } from '@angular/core';\nimport { MartialArtsSkill, Elixir, Faction } from '../models/wuxia.model';\n\n/**\n * 무협 데이터 서비스\n * - 무공 데이터 관리\n * - 문파별 무공 조회\n * - 등급별 무공 필터링\n * - 단약 데이터 관리\n * - 문파 데이터 관리\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class WuxiaDataService {\n\n  /**\n   * 모든 무공 목록 가져오기\n   */\n  getAllMartialSkills(): MartialArtsSkill[] {\n    return [\n      // 소림파 무공\n      {\n        id: 'luohan_quan',\n        name: '나한권',\n        chineseName: '羅漢拳',\n        type: 'choShik',\n        grade: '중승',\n        requiredInternalPower: 50,\n        internalPowerCost: 15,\n        requiredLevel: 1,\n        damageMultiplier: 1.2,\n        hitRate: 0.85,\n        criticalRate: 0.1,\n        description: '소림사의 기본 권법. 강직하고 정확한 공격이 특징이다.',\n        skillEffect: '공격력 120%, 방어력 일시 10% 증가',\n        learningDifficulty: 3,\n        factionId: 'shaolin',\n        isSecret: false\n      },\n      {\n        id: 'vajra_palm',\n        name: '금강장',\n        chineseName: '金剛掌',\n        type: 'choShik',\n        grade: '중승',\n        requiredInternalPower: 80,\n        internalPowerCost: 25,\n        requiredLevel: 3,\n        damageMultiplier: 1.5,\n        hitRate: 0.8,\n        criticalRate: 0.15,\n        element: 'fire',\n        description: '강력한 장력을 담은 소림 장법',\n        skillEffect: '강력한 일격, 15% 확률로 기절',\n        learningDifficulty: 5,\n        factionId: 'shaolin',\n        isSecret: false,\n        statusEffect: {\n          type: 'stun',\n          duration: 1,\n          damagePerTurn: 0,\n          name: '기절',\n          icon: '💫',\n          description: '1턴 동안 행동 불가',\n          statModifier: {}\n        }\n      },\n      {\n        id: 'yijin_jing',\n        name: '역근경',\n        chineseName: '易筋經',\n        type: 'shimBeop',\n        grade: '절학',\n        requiredInternalPower: 200,\n        internalPowerCost: 0,\n        requiredLevel: 10,\n        damageMultiplier: 0,\n        hitRate: 1.0,\n        criticalRate: 0,\n        description: '소림 최고의 내공심법. 수련 시 내력 회복 속도와 최대치가 크게 증가한다.',\n        skillEffect: '내력 회복 속도 +50%, 최대 내력 +100, 전투 중 턴마다 HP 5% 회복',\n        learningDifficulty: 10,\n        factionId: 'shaolin',\n        isSecret: true\n      },\n      // 무당파 무공\n      {\n        id: 'taiji_quan',\n        name: '태극권',\n        chineseName: '太極拳',\n        type: 'choShik',\n        grade: '상승',\n        requiredInternalPower: 100,\n        internalPowerCost: 30,\n        requiredLevel: 5,\n        damageMultiplier: 1.3,\n        hitRate: 0.9,\n        criticalRate: 0.2,\n        description: '유연함 속의 강함. 상대의 공격을 흘려보내며 반격한다.',\n        skillEffect: '공격력 130%, 상대 공격의 30%를 반사',\n        learningDifficulty: 7,\n        factionId: 'wudang',\n        isSecret: false,\n        specialEffect: 'counter'\n      },\n      {\n        id: 'taiji_sword',\n        name: '태극검',\n        chineseName: '太極劍',\n        type: 'choShik',\n        grade: '절학',\n        requiredInternalPower: 150,\n        internalPowerCost: 50,\n        requiredLevel: 8,\n        damageMultiplier: 2.0,\n        hitRate: 0.95,\n        criticalRate: 0.25,\n        description: '무당파 최고의 검법. 검기를 발동하여 원거리 공격이 가능하다.',\n        skillEffect: '검기 발동, 강력한 일격, 태극권과 연계 시 추가 피해',\n        learningDifficulty: 9,\n        factionId: 'wudang',\n        isSecret: true,\n        comboSkills: ['taiji_quan']\n      },\n      // 마교 무공\n      {\n        id: 'absorb_power',\n        name: '흡성대법',\n        chineseName: '吸星大法',\n        type: 'shimBeop',\n        grade: '절학',\n        requiredInternalPower: 180,\n        internalPowerCost: 100,\n        requiredLevel: 12,\n        damageMultiplier: 0.8,\n        hitRate: 0.75,\n        criticalRate: 0.1,\n        description: '상대의 내력을 흡수하는 마교의 사악한 무공',\n        skillEffect: '피해의 50%만큼 내력 회복, 10% 확률로 주화입마',\n        learningDifficulty: 10,\n        factionId: 'demon_sect',\n        isSecret: true,\n        specialEffect: 'absorb'\n      },\n      {\n        id: 'demon_palm',\n        name: '천마장',\n        chineseName: '天魔掌',\n        type: 'choShik',\n        grade: '상승',\n        requiredInternalPower: 120,\n        internalPowerCost: 40,\n        requiredLevel: 6,\n        damageMultiplier: 1.8,\n        hitRate: 0.85,\n        criticalRate: 0.2,\n        element: 'poison',\n        description: '독기를 품은 마교의 장법',\n        skillEffect: '강력한 피해, 중독 효과',\n        learningDifficulty: 7,\n        factionId: 'demon_sect',\n        isSecret: false,\n        statusEffect: {\n          type: 'poison',\n          duration: 3,\n          damagePerTurn: 10,\n          name: '중독',\n          chineseName: '中毒',\n          icon: '☠️',\n          description: '3턴 동안 턴마다 10 피해',\n          statModifier: {}\n        }\n      },\n      // 화산파 무공\n      {\n        id: 'huashan_sword',\n        name: '화산검법',\n        chineseName: '華山劍法',\n        type: 'choShik',\n        grade: '중승',\n        requiredInternalPower: 70,\n        internalPowerCost: 20,\n        requiredLevel: 2,\n        damageMultiplier: 1.4,\n        hitRate: 0.9,\n        criticalRate: 0.2,\n        description: '빠르고 정확한 화산파의 검법',\n        skillEffect: '신속한 검격, 높은 명중률',\n        learningDifficulty: 4,\n        factionId: 'huashan',\n        isSecret: false\n      },\n      {\n        id: 'dugu_nine_swords',\n        name: '독고구검',\n        chineseName: '獨孤九劍',\n        type: 'choShik',\n        grade: '절학',\n        requiredInternalPower: 0,\n        internalPowerCost: 60,\n        requiredLevel: 15,\n        damageMultiplier: 2.5,\n        hitRate: 0.99,\n        criticalRate: 0.4,\n        description: '검마 독고구패가 창안한 절세검법. 내력이 아닌 검리로 승부한다.',\n        skillEffect: '모든 무공을 파훼, 초고 치명타율, 내력 불필요',\n        learningDifficulty: 10,\n        factionId: 'huashan',\n        isSecret: true,\n        specialEffect: 'pierce'\n      },\n      // 아미파 무공\n      {\n        id: 'emei_sword',\n        name: '아미검법',\n        chineseName: '峨嵋劍法',\n        type: 'choShik',\n        grade: '중승',\n        requiredInternalPower: 60,\n        internalPowerCost: 18,\n        requiredLevel: 2,\n        damageMultiplier: 1.3,\n        hitRate: 0.88,\n        criticalRate: 0.15,\n        description: '우아하면서도 치명적인 아미파의 검법',\n        skillEffect: '빠른 연격, 민첩성 보너스',\n        learningDifficulty: 4,\n        factionId: 'emei',\n        isSecret: false\n      },\n      // 공통 기본 무공\n      {\n        id: 'basic_punch',\n        name: '기본권법',\n        chineseName: '基本拳法',\n        type: 'choShik',\n        grade: '하승',\n        requiredInternalPower: 10,\n        internalPowerCost: 5,\n        requiredLevel: 1,\n        damageMultiplier: 1.0,\n        hitRate: 0.85,\n        criticalRate: 0.05,\n        description: '가장 기본적인 권법',\n        skillEffect: '기본 공격',\n        learningDifficulty: 1,\n        isSecret: false\n      },\n      {\n        id: 'basic_palm',\n        name: '기본장법',\n        chineseName: '基本掌法',\n        type: 'choShik',\n        grade: '하승',\n        requiredInternalPower: 15,\n        internalPowerCost: 8,\n        requiredLevel: 1,\n        damageMultiplier: 1.1,\n        hitRate: 0.82,\n        criticalRate: 0.08,\n        description: '기본적인 장법',\n        skillEffect: '장력을 담은 공격',\n        learningDifficulty: 2,\n        isSecret: false\n      },\n      {\n        id: 'lightness_skill',\n        name: '경신술',\n        chineseName: '輕身術',\n        type: 'gyeongGong',\n        grade: '하승',\n        requiredInternalPower: 20,\n        internalPowerCost: 10,\n        requiredLevel: 1,\n        damageMultiplier: 0,\n        hitRate: 1.0,\n        criticalRate: 0,\n        description: '기본 경공. 회피율을 높인다.',\n        skillEffect: '3턴 동안 회피율 +30%',\n        learningDifficulty: 3,\n        isSecret: false\n      }\n    ];\n  }\n\n  /**\n   * 기본 무공 목록 (시작 시 배우는 무공)\n   */\n  getStartingSkills(): MartialArtsSkill[] {\n    const allSkills = this.getAllMartialSkills();\n    return allSkills.filter(skill => \n      skill.id === 'basic_punch' || \n      skill.id === 'basic_palm' || \n      skill.id === 'lightness_skill'\n    );\n  }\n\n  /**\n   * 문파별 무공 조회\n   */\n  getSkillsByFaction(factionId: string): MartialArtsSkill[] {\n    return this.getAllMartialSkills().filter(skill => skill.factionId === factionId);\n  }\n\n  /**\n   * 등급별 무공 조회\n   */\n  getSkillsByGrade(grade: string): MartialArtsSkill[] {\n    return this.getAllMartialSkills().filter(skill => skill.grade === grade);\n  }\n\n  /**\n   * 비급 무공만 조회\n   */\n  getSecretSkills(): MartialArtsSkill[] {\n    return this.getAllMartialSkills().filter(skill => skill.isSecret);\n  }\n\n  /**\n   * ID로 무공 조회\n   */\n  getSkillById(id: string): MartialArtsSkill | undefined {\n    return this.getAllMartialSkills().find(skill => skill.id === id);\n  }\n\n  /**\n   * 레벨 요구사항에 맞는 무공 조회\n   */\n  getAvailableSkills(playerLevel: number, playerInternalPower: number): MartialArtsSkill[] {\n    return this.getAllMartialSkills().filter(skill => \n      skill.requiredLevel <= playerLevel && \n      skill.requiredInternalPower <= playerInternalPower\n    );\n  }\n\n  /**\n   * 모든 단약 목록 가져오기\n   */\n  getAllElixirs(): Elixir[] {\n    return [\n      {\n        id: 'small_return_pill',\n        name: '소환단',\n        chineseName: '小還丹',\n        type: 'healing',\n        grade: '중품',\n        effects: [\n          {\n            type: 'hp_recovery',\n            value: 50,\n            description: 'HP 50 회복'\n          },\n          {\n            type: 'cure_injury',\n            value: 1,\n            description: '경미한 내상 치료'\n          }\n        ],\n        description: '경미한 내상을 치료하는 단약',\n        rarity: 3,\n        price: 100\n      },\n      {\n        id: 'great_return_pill',\n        name: '대환단',\n        chineseName: '大還丹',\n        type: 'healing',\n        grade: '상품',\n        effects: [\n          {\n            type: 'hp_recovery',\n            value: 150,\n            description: 'HP 150 회복'\n          },\n          {\n            type: 'mp_recovery',\n            value: 50,\n            description: 'MP 50 회복'\n          },\n          {\n            type: 'cure_injury',\n            value: 3,\n            description: '중상 치료'\n          }\n        ],\n        description: '중상을 치료하는 귀중한 단약',\n        rarity: 7,\n        price: 500\n      },\n      {\n        id: 'thousand_year_ginseng',\n        name: '천년하수오',\n        chineseName: '千年何首烏',\n        type: 'cultivation',\n        grade: '극품',\n        effects: [\n          {\n            type: 'internal_power_boost',\n            value: 10,\n            description: '최대 내력 +10년 공력'\n          }\n        ],\n        description: '천년 묵은 영약. 10년 공력을 증진시킨다.',\n        rarity: 9,\n        price: 2000\n      },\n      {\n        id: 'snow_lotus',\n        name: '천산설련',\n        chineseName: '天山雪蓮',\n        type: 'cultivation',\n        grade: '극품',\n        effects: [\n          {\n            type: 'internal_power_boost',\n            value: 20,\n            description: '최대 내력 +20년 공력'\n          },\n          {\n            type: 'cure_poison',\n            value: 100,\n            description: '모든 독 제거'\n          }\n        ],\n        description: '천산에서만 자라는 신비의 영약',\n        rarity: 10,\n        price: 5000\n      },\n      {\n        id: 'demon_blood_ginseng',\n        name: '천마혈삼',\n        chineseName: '天魔血蔘',\n        type: 'cultivation',\n        grade: '극품',\n        effects: [\n          {\n            type: 'internal_power_boost',\n            value: 50,\n            description: '최대 내력 +50년 공력'\n          },\n          {\n            type: 'stat_boost',\n            value: 10,\n            duration: 0,\n            description: '공격력 +10'\n          }\n        ],\n        description: '마교의 비전 영약. 강력하지만 주화입마의 위험이 있다.',\n        rarity: 10,\n        price: 10000,\n        sideEffect: '30% 확률로 주화입마',\n        sideEffectChance: 0.3\n      },\n      {\n        id: 'fasting_pill',\n        name: '벽곡단',\n        chineseName: '辟穀丹',\n        type: 'special',\n        grade: '하품',\n        effects: [\n          {\n            type: 'hp_recovery',\n            value: 20,\n            description: 'HP 20 회복'\n          }\n        ],\n        description: '공복을 면하게 해주는 단약',\n        rarity: 1,\n        price: 10\n      },\n      {\n        id: 'antidote_pill',\n        name: '해독단',\n        chineseName: '解毒丹',\n        type: 'detox',\n        grade: '중품',\n        effects: [\n          {\n            type: 'cure_poison',\n            value: 50,\n            description: '중독 상태 치료'\n          }\n        ],\n        description: '일반적인 독을 해독하는 단약',\n        rarity: 4,\n        price: 150\n      }\n    ];\n  }\n\n  /**\n   * 모든 문파 목록 가져오기\n   */\n  getAllFactions(): Faction[] {\n    return [\n      {\n        id: 'shaolin',\n        name: '소림파',\n        chineseName: '少林派',\n        type: 'righteous',\n        description: '천하무림의 태산북두. 불가의 자비와 강력한 권법으로 유명하다.',\n        headquarters: '숭산 소림사',\n        founder: '달마조사',\n        reputation: 0,\n        relationship: 'neutral',\n        basicSkills: ['luohan_quan', 'vajra_palm'],\n        advancedSkills: ['prajna_palm', 'dragon_claw_hand'],\n        secretSkills: ['yijin_jing', 'marrow_washing_classic'],\n        specialties: ['권법', '장법', '내공'],\n        philosophy: '불가의 자비와 무학의 조화'\n      },\n      {\n        id: 'wudang',\n        name: '무당파',\n        chineseName: '武當派',\n        type: 'righteous',\n        description: '도가의 무학을 집대성한 명문정파. 태극권과 검술의 대가들이 모여있다.',\n        headquarters: '무당산',\n        founder: '장삼봉',\n        reputation: 0,\n        relationship: 'neutral',\n        basicSkills: ['taiji_quan', 'wudang_sword'],\n        advancedSkills: ['taiji_sword', 'pure_yang_palm'],\n        secretSkills: ['taiji_mystical_skill', 'tai_chi_divine_technique'],\n        specialties: ['검술', '권법', '도법'],\n        philosophy: '무위자연, 이유제강'\n      },\n      {\n        id: 'demon_sect',\n        name: '마교',\n        chineseName: '魔敎',\n        type: 'evil',\n        description: '무림의 공적. 강력하고 사악한 무공을 사용한다.',\n        headquarters: '광명정',\n        founder: '천마',\n        reputation: 0,\n        relationship: 'neutral',\n        basicSkills: ['demon_palm', 'blood_claw'],\n        advancedSkills: ['soul_absorbing_palm', 'ten_directions_annihilation'],\n        secretSkills: ['absorb_power', 'heaven_demon_technique'],\n        specialties: ['흡공', '독공', '암기'],\n        philosophy: '힘이 곧 정의'\n      },\n      {\n        id: 'huashan',\n        name: '화산파',\n        chineseName: '華山派',\n        type: 'righteous',\n        description: '검술의 명가. 화산검법은 무림에서 가장 빠르고 날카롭기로 유명하다.',\n        headquarters: '화산',\n        founder: '화산검성',\n        reputation: 0,\n        relationship: 'neutral',\n        basicSkills: ['huashan_sword', 'yangwu_sword'],\n        advancedSkills: ['dugu_nine_swords', 'swift_sword'],\n        secretSkills: ['purple_mist_divine_art', 'lone_sword_technique'],\n        specialties: ['검술', '경공'],\n        philosophy: '검으로 도를 통한다'\n      },\n      {\n        id: 'emei',\n        name: '아미파',\n        chineseName: '峨嵋派',\n        type: 'righteous',\n        description: '여협들의 성지. 우아하면서도 치명적인 무공을 사용한다.',\n        headquarters: '아미산',\n        founder: '곽양',\n        reputation: 0,\n        relationship: 'neutral',\n        basicSkills: ['emei_sword', 'jade_maiden_skill'],\n        advancedSkills: ['buddha_palm', 'nine_yin_divine_claw'],\n        secretSkills: ['emei_ultimate_skill', 'jade_maiden_heart_sutra'],\n        specialties: ['검술', '장법', '암기'],\n        philosophy: '강유병제, 유중대강'\n      }\n    ];\n  }\n\n  /**\n   * ID로 문파 조회\n   */\n  getFactionById(id: string): Faction | undefined {\n    return this.getAllFactions().find(faction => faction.id === id);\n  }\n\n  /**\n   * 정파/사파 필터링\n   */\n  getFactionsByType(type: 'righteous' | 'evil' | 'neutral'): Faction[] {\n    return this.getAllFactions().filter(faction => faction.type === type);\n  }\n}\n", "import { Injectable } from '@angular/core';\nimport { NotificationService } from '../../../services/notification.service';\nimport { WuxiaDataService } from '../services/wuxia-data.service';\nimport { \n  MartialArtsSkill, Meridian, MeridianSystem, InternalPowerState, \n  Faction, WulinRelationship, ElixirEffect, Elixir, MartialArtsManual, \n  MartialBattleState \n} from '../models/wuxia.model';\n\n/**\n * 무협 시스템을 관리하는 매니저 클래스\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class WuxiaManager {\n  // 무협 데이터\n  martialArtsSkills: MartialArtsSkill[] = [];\n  learnedMartialSkills: MartialArtsSkill[] = [];\n  availableFactions: Faction[] = [];\n  playerFaction: Faction | null = null;\n  wulinRelationships: WulinRelationship[] = [];\n  elixirs: Elixir[] = [];\n  martialManuals: MartialArtsManual[] = [];\n  \n  // 내공/경지 시스템\n  playerInternalPower: InternalPowerState = {\n    current: 0,\n    max: 100,\n    purity: 50,\n    stability: 100,\n    realm: '초류',\n    realmProgress: 0,\n    trainingLevel: 0,\n    recoveryRate: 1,\n    meridians: {\n      meridians: [],\n      opened: 0,\n      total: 12\n    }\n  };\n  \n  // 무협 전투 상태\n  martialBattleState: MartialBattleState | null = null;\n  \n  // 플레이어 캐릭터 참조\n  private playerCharacter: any = null;\n  private inventory: any[] = [];\n\n  constructor(\n    private notification: NotificationService,\n    private wuxiaDataService: WuxiaDataService\n  ) {}\n\n  /**\n   * 플레이어 캐릭터 설정\n   */\n  setPlayerCharacter(character: any): void {\n    this.playerCharacter = character;\n  }\n\n  /**\n   * 인벤토리 설정\n   */\n  setInventory(inventory: any[]): void {\n    this.inventory = inventory;\n  }\n\n  /**\n   * 인벤토리 가져오기\n   */\n  getInventory(): any[] {\n    return this.inventory;\n  }\n\n  /**\n   * 무협 시스템 초기화\n   */\n  initializeWuxiaSystem(): void {\n    this.initializeMeridians();\n    this.initializeFactions();\n    this.initializeMartialSkills();\n    this.initializeElixirs();\n    this.initializeMartialManuals();\n  }\n  \n  /**\n   * 혈도(경맥) 시스템 초기화\n   */\n  private initializeMeridians(): void {\n    const meridianNames: Array<{\n      id: string;\n      name: string;\n      chinese: string;\n      bonus: { [key: string]: number };\n    }> = [\n      { id: 'lung', name: '수태음폐경', chinese: '手太陰肺經', bonus: { hp: 10, defense: 2 } },\n      { id: 'large_intestine', name: '수양명대장경', chinese: '手陽明大腸經', bonus: { strength: 2 } },\n      { id: 'stomach', name: '족양명위경', chinese: '足陽明胃經', bonus: { maxHp: 20 } },\n      { id: 'spleen', name: '족태음비경', chinese: '足太陰脾經', bonus: { hp: 15 } },\n      { id: 'heart', name: '수소음심경', chinese: '手少陰心經', bonus: { mp: 10, intelligence: 2 } },\n      { id: 'small_intestine', name: '수태양소장경', chinese: '手太陽小腸經', bonus: { agility: 2 } },\n      { id: 'bladder', name: '족태양방광경', chinese: '足太陽膀胱經', bonus: { maxMp: 20 } },\n      { id: 'kidney', name: '족소음신경', chinese: '足少陰腎經', bonus: { maxHp: 25, maxMp: 25 } },\n      { id: 'pericardium', name: '수궐음심포경', chinese: '手厥陰心包經', bonus: { defense: 3 } },\n      { id: 'triple_burner', name: '수소양삼초경', chinese: '手少陽三焦經', bonus: { mp: 15 } },\n      { id: 'gallbladder', name: '족소양담경', chinese: '足少陽膽經', bonus: { attack: 3 } },\n      { id: 'liver', name: '족궐음간경', chinese: '足厥陰肝經', bonus: { attack: 5, strength: 3 } }\n    ];\n    \n    this.playerInternalPower.meridians.meridians = meridianNames.map(m => ({\n      id: m.id,\n      name: m.name,\n      chineseName: m.chinese,\n      isOpened: false,\n      openProgress: 0,\n      bonus: m.bonus\n    }));\n  }\n  \n  /**\n   * 문파 시스템 초기화\n   */\n  private initializeFactions(): void {\n    this.availableFactions = this.wuxiaDataService.getAllFactions();\n  }\n  \n  /**\n   * 무공 초식 데이터 초기화\n   */\n  private initializeMartialSkills(): void {\n    this.martialArtsSkills = this.wuxiaDataService.getAllMartialSkills();\n    this.learnedMartialSkills = this.wuxiaDataService.getStartingSkills();\n  }\n  \n  /**\n   * 단약 시스템 초기화\n   */\n  private initializeElixirs(): void {\n    this.elixirs = this.wuxiaDataService.getAllElixirs();\n  }\n  \n  /**\n   * 무공 비급 초기화\n   */\n  private initializeMartialManuals(): void {\n    this.martialManuals = [\n      {\n        id: 'manual_luohan_quan',\n        name: '나한권보',\n        chineseName: '羅漢拳譜',\n        skillId: 'luohan_quan',\n        requiredLevel: 1,\n        requiredInternalPower: 30,\n        learningTime: 7,\n        learningDifficulty: 3,\n        deviationRisk: 5,\n        description: '소림사 나한권을 기록한 무공 비급',\n        isObtained: false,\n        isLearned: false\n      },\n      {\n        id: 'manual_taiji_sword',\n        name: '태극검보',\n        chineseName: '太極劍譜',\n        skillId: 'taiji_sword',\n        requiredLevel: 8,\n        requiredInternalPower: 150,\n        requiredFaction: 'wudang',\n        learningTime: 30,\n        learningDifficulty: 9,\n        deviationRisk: 20,\n        description: '무당파의 절학 태극검을 기록한 비급',\n        isObtained: false,\n        isLearned: false\n      },\n      {\n        id: 'manual_dugu_nine_swords',\n        name: '독고구검보',\n        chineseName: '獨孤九劍譜',\n        skillId: 'dugu_nine_swords',\n        requiredLevel: 15,\n        requiredInternalPower: 0,\n        learningTime: 90,\n        learningDifficulty: 10,\n        deviationRisk: 0,\n        description: '검마 독고구패의 절세검법. 내력이 필요없는 검리의 극치',\n        location: '화산 사고',\n        isObtained: false,\n        isLearned: false\n      },\n      {\n        id: 'manual_absorb_power',\n        name: '흡성대법비급',\n        chineseName: '吸星大法秘笈',\n        skillId: 'absorb_power',\n        requiredLevel: 12,\n        requiredInternalPower: 180,\n        learningTime: 60,\n        learningDifficulty: 10,\n        deviationRisk: 50,\n        description: '마교의 금단의 무공. 습득 시 주화입마의 위험이 매우 높다',\n        isObtained: false,\n        isLearned: false\n      }\n    ];\n  }\n  \n  /**\n   * 문파 가입\n   */\n  joinFaction(factionId: string): void {\n    const faction = this.availableFactions.find(f => f.id === factionId);\n    if (!faction) return;\n    \n    this.playerFaction = faction;\n    this.playerFaction.relationship = 'ally';\n    this.playerFaction.reputation = 100;\n    \n    // 문파 관계 추가\n    const relationship: WulinRelationship = {\n      playerId: 'player',\n      factionId: factionId,\n      rank: '속가제자',\n      contribution: 0,\n      trustLevel: 50,\n      joinDate: new Date()\n    };\n    this.wulinRelationships.push(relationship);\n    \n    // 기본 무공 습득\n    const basicSkills = this.martialArtsSkills.filter(skill => \n      faction.basicSkills.includes(skill.id)\n    );\n    \n    basicSkills.forEach(skill => {\n      if (!this.learnedMartialSkills.find(s => s.id === skill.id)) {\n        this.learnedMartialSkills.push(skill);\n      }\n    });\n    \n    this.notification.show(`${faction.name}에 입문하였습니다!`);\n  }\n  \n  /**\n   * 무공 습득\n   */\n  learnMartialSkill(skillId: string): boolean {\n    const skill = this.martialArtsSkills.find(s => s.id === skillId);\n    if (!skill || !this.playerCharacter) return false;\n    \n    // 이미 습득했는지 확인\n    if (this.learnedMartialSkills.find(s => s.id === skillId)) {\n      this.notification.show('이미 습득한 무공입니다.');\n      return false;\n    }\n    \n    // 조건 확인\n    if (this.playerCharacter.level < skill.requiredLevel) {\n      this.notification.show(`레벨 ${skill.requiredLevel} 이상 필요합니다.`);\n      return false;\n    }\n    \n    if (this.playerInternalPower.max < skill.requiredInternalPower) {\n      this.notification.show(`내력 ${skill.requiredInternalPower} 이상 필요합니다.`);\n      return false;\n    }\n    \n    // 문파 무공인 경우 문파 확인\n    if (skill.factionId && (!this.playerFaction || this.playerFaction.id !== skill.factionId)) {\n      this.notification.show(`${skill.factionId} 문파 소속이어야 합니다.`);\n      return false;\n    }\n    \n    // 습득 성공\n    this.learnedMartialSkills.push(skill);\n    this.notification.show(`${skill.name}(${skill.chineseName})을(를) 습득하였습니다!`);\n    return true;\n  }\n  \n  /**\n   * 혈도 개통\n   */\n  openMeridian(meridianId: string): boolean {\n    const meridian = this.playerInternalPower.meridians.meridians.find(m => m.id === meridianId);\n    if (!meridian || !this.playerCharacter) return false;\n    \n    if (meridian.isOpened) {\n      this.notification.show('이미 개통된 혈도입니다.');\n      return false;\n    }\n    \n    // 혈도 개통에 필요한 내력 (순차적으로 더 많은 내력 필요)\n    const requiredPower = (this.playerInternalPower.meridians.opened + 1) * 50;\n    \n    if (this.playerInternalPower.max < requiredPower) {\n      this.notification.show(`내력 ${requiredPower} 이상 필요합니다.`);\n      return false;\n    }\n    \n    // 개통 성공\n    meridian.isOpened = true;\n    meridian.openProgress = 100;\n    this.playerInternalPower.meridians.opened++;\n    \n    // 보너스 적용\n    Object.keys(meridian.bonus).forEach(stat => {\n      const value = meridian.bonus[stat];\n      switch(stat) {\n        case 'hp':\n          this.playerCharacter.hp += value;\n          break;\n        case 'maxHp':\n          this.playerCharacter.maxHp += value;\n          this.playerCharacter.hp += value;\n          break;\n        case 'mp':\n          this.playerCharacter.mp += value;\n          break;\n        case 'maxMp':\n          this.playerCharacter.maxMp += value;\n          this.playerCharacter.mp += value;\n          break;\n        case 'attack':\n          this.playerCharacter.attack += value;\n          break;\n        case 'defense':\n          this.playerCharacter.defense += value;\n          break;\n        case 'strength':\n          this.playerCharacter.strength += value;\n          break;\n        case 'agility':\n          this.playerCharacter.agility += value;\n          break;\n        case 'intelligence':\n          this.playerCharacter.intelligence += value;\n          break;\n      }\n    });\n    \n    this.notification.show(\n      `${meridian.name}(${meridian.chineseName}) 개통 성공!`\n    );\n    \n    return true;\n  }\n  \n  /**\n   * 내공 수련\n   */\n  cultivateInternalPower(hours: number, onExpGain?: (exp: number) => void, onSaveGame?: (saveType: string) => void): void {\n    // 수련도에 따라 내력 증가\n    const baseGain = hours * (1 + this.playerInternalPower.trainingLevel / 100);\n    const purityBonus = this.playerInternalPower.purity / 100;\n    const totalGain = Math.floor(baseGain * (1 + purityBonus));\n    \n    this.playerInternalPower.current = Math.min(\n      this.playerInternalPower.max,\n      this.playerInternalPower.current + totalGain\n    );\n    \n    // 수련도 증가\n    this.playerInternalPower.trainingLevel = Math.min(\n      100,\n      this.playerInternalPower.trainingLevel + hours * 0.5\n    );\n    \n    // 경지 진행도 증가\n    this.playerInternalPower.realmProgress += hours * 0.2;\n    \n    // 경지 돌파 체크\n    this.checkRealmBreakthrough();\n    \n    // 경험치 획득 (수련 시간에 비례)\n    const expGain = Math.floor(hours * 10 * (1 + this.playerInternalPower.trainingLevel / 200));\n    if (onExpGain) {\n      onExpGain(expGain);\n    }\n    \n    this.notification.show(\n      `${hours}시간 수련 완료. 내력 +${totalGain}, 경험치 +${expGain}`\n    );\n    \n    // 자동 저장\n    if (onSaveGame) {\n      onSaveGame('autosave');\n    }\n  }\n  \n  /**\n   * 경지 돌파 체크\n   */\n  private checkRealmBreakthrough(): void {\n    if (this.playerInternalPower.realmProgress < 100) return;\n    \n    const realms = ['초류', '일류', '절정', '화경', '천인합일'];\n    const currentIndex = realms.indexOf(this.playerInternalPower.realm);\n    \n    if (currentIndex >= realms.length - 1) {\n      this.notification.show('이미 최고 경지에 도달하였습니다.');\n      return;\n    }\n    \n    const nextRealm = realms[currentIndex + 1];\n    const requiredPower = (currentIndex + 2) * 200;\n    \n    if (this.playerInternalPower.max < requiredPower) {\n      this.notification.show(\n        `경지 돌파에는 내력 ${requiredPower} 이상이 필요합니다.`\n      );\n      return;\n    }\n    \n    // 경지 돌파 성공\n    this.playerInternalPower.realm = nextRealm as any;\n    this.playerInternalPower.realmProgress = 0;\n    this.playerInternalPower.max += 100;\n    this.playerInternalPower.recoveryRate += 2;\n    \n    this.notification.show(\n      `⭐ 경지 돌파! ${nextRealm} 경지에 도달하였습니다!`\n    );\n  }\n  \n  /**\n   * 단약 사용\n   */\n  useElixir(elixirId: string): void {\n    const elixir = this.elixirs.find(e => e.id === elixirId);\n    if (!elixir || !this.playerCharacter) return;\n    \n    // 인벤토리에서 확인 및 제거\n    const inventoryItem = this.inventory.find(item => item.id === elixirId);\n    if (!inventoryItem || inventoryItem.quantity <= 0) {\n      this.notification.show('단약이 부족합니다.');\n      return;\n    }\n    \n    inventoryItem.quantity--;\n    if (inventoryItem.quantity === 0) {\n      this.inventory = this.inventory.filter(item => item.id !== elixirId);\n    }\n    \n    // 부작용 체크\n    if (elixir.sideEffect && elixir.sideEffectChance) {\n      if (Math.random() < elixir.sideEffectChance) {\n        this.notification.show(\n          `⚠️ ${elixir.sideEffect}!`\n        );\n        // 주화입마 처리\n        this.playerInternalPower.stability -= 30;\n        this.playerCharacter.hp = Math.floor(this.playerCharacter.hp * 0.5);\n        return;\n      }\n    }\n    \n    // 효과 적용\n    elixir.effects.forEach(effect => {\n      switch(effect.type) {\n        case 'hp_recovery':\n          this.playerCharacter.hp = Math.min(\n            this.playerCharacter.maxHp,\n            this.playerCharacter.hp + effect.value\n          );\n          break;\n        case 'mp_recovery':\n          this.playerCharacter.mp = Math.min(\n            this.playerCharacter.maxMp,\n            this.playerCharacter.mp + effect.value\n          );\n          break;\n        case 'internal_power_boost':\n          this.playerInternalPower.max += effect.value;\n          this.playerInternalPower.current += effect.value;\n          break;\n        case 'cure_poison':\n          // 상태 효과 제거 로직\n          break;\n        case 'stat_boost':\n          this.playerCharacter.attack += effect.value;\n          break;\n      }\n    });\n    \n    this.notification.show(\n      `${elixir.name}(${elixir.chineseName})을(를) 사용하였습니다.`\n    );\n  }\n  \n  /**\n   * 경지에 따른 보너스 계산\n   */\n  getRealmBonus(realm: string): number {\n    switch(realm) {\n      case '초류': return 0;\n      case '일류': return 0.05;\n      case '절정': return 0.1;\n      case '화경': return 0.2;\n      case '천인합일': return 0.3;\n      default: return 0;\n    }\n  }\n  \n  /**\n   * 무협 전투 시작\n   */\n  startMartialBattle(enemyName: string, currentBattleState: any): void {\n    // 무협 전투 상태 초기화\n    this.martialBattleState = {\n      ...currentBattleState,\n      playerInternalPower: this.playerInternalPower.current,\n      playerMaxInternalPower: this.playerInternalPower.max,\n      enemyInternalPower: 100,\n      enemyMaxInternalPower: 100,\n      skillCooldowns: {},\n      comboCounter: 0,\n      playerRealm: this.playerInternalPower.realm,\n      enemyRealm: '초류'\n    };\n  }\n  \n  /**\n   * 무공 사용\n   */\n  useMartialSkill(skillId: string): { success: boolean; damage: number; message: string; specialEffect?: string } {\n    if (!this.martialBattleState || !this.playerCharacter) {\n      return { success: false, damage: 0, message: '전투 중이 아닙니다!' };\n    }\n    \n    const skill = this.learnedMartialSkills.find(s => s.id === skillId);\n    if (!skill) {\n      return { success: false, damage: 0, message: '해당 무공을 찾을 수 없습니다!' };\n    }\n    \n    // 내력 체크\n    if (this.martialBattleState.playerInternalPower < skill.internalPowerCost) {\n      return { success: false, damage: 0, message: '내력이 부족합니다!' };\n    }\n    \n    // 쿨다운 체크\n    if (this.martialBattleState.skillCooldowns[skillId] && \n        this.martialBattleState.skillCooldowns[skillId] > 0) {\n      return { success: false, damage: 0, message: '아직 사용할 수 없습니다!' };\n    }\n    \n    // 내력 소모\n    this.martialBattleState.playerInternalPower -= skill.internalPowerCost;\n    \n    // 명중 판정\n    const realmBonus = this.getRealmBonus(this.martialBattleState.playerRealm);\n    const hitRate = skill.hitRate + realmBonus;\n    \n    if (Math.random() > hitRate) {\n      return { success: false, damage: 0, message: `${skill.name}(${skill.chineseName})이(가) 빗나갔다! 💨` };\n    }\n    \n    // 데미지 계산\n    const baseDamage = this.playerCharacter.attack * skill.damageMultiplier;\n    const internalBonus = Math.floor(this.martialBattleState.playerInternalPower / 50);\n    const totalDamage = Math.floor(baseDamage + internalBonus);\n    \n    // 치명타 판정\n    const critChance = skill.criticalRate + realmBonus;\n    const isCritical = Math.random() < critChance;\n    const finalDamage = isCritical ? Math.floor(totalDamage * 1.5) : totalDamage;\n    \n    let specialEffect = '';\n    \n    // 연계 보너스\n    if (skill.comboSkills && this.martialBattleState.lastSkillUsed && \n        skill.comboSkills.includes(this.martialBattleState.lastSkillUsed)) {\n      this.martialBattleState.comboCounter++;\n      const comboBonus = Math.floor(finalDamage * 0.3);\n      const comboDamage = finalDamage + comboBonus;\n      specialEffect = `🔥 연계 성공! 콤보 ${this.martialBattleState.comboCounter}`;\n      \n      // 마지막 사용 초식 기록\n      this.martialBattleState.lastSkillUsed = skillId;\n      \n      return {\n        success: true,\n        damage: comboDamage,\n        message: isCritical ? '⚡회심의 일격!⚡' : '',\n        specialEffect\n      };\n    } else {\n      this.martialBattleState.comboCounter = 0;\n      const critMark = isCritical ? '⚡회심의 일격!⚡' : '';\n      \n      // 특수 효과 처리\n      if (skill.specialEffect === 'absorb') {\n        const absorbed = Math.floor(finalDamage * 0.5);\n        this.martialBattleState.playerInternalPower = Math.min(\n          this.martialBattleState.playerMaxInternalPower,\n          this.martialBattleState.playerInternalPower + absorbed\n        );\n        specialEffect = `🌀 내력 ${absorbed} 흡수!`;\n      }\n      \n      // 마지막 사용 초식 기록\n      this.martialBattleState.lastSkillUsed = skillId;\n      \n      return {\n        success: true,\n        damage: finalDamage,\n        message: critMark,\n        specialEffect\n      };\n    }\n  }\n}", "import { Injectable } from '@angular/core';\nimport { \n  DungeonType, \n  DifficultyLevel, \n  DungeonInstance, \n  DungeonRoom, \n  DungeonMonster, \n  DungeonInteractable,\n  RoomType\n} from '../models/dungeon.model';\n\nexport interface DungeonCallbacks {\n  addStoryBlock: (story: string[]) => void;\n  gainExp: (exp: number) => void;\n  saveGame: (saveKey: string) => Promise<any>;\n  notification: { show: (message: string) => void };\n  debugLogger: {\n    info: (category: string, message: string) => void;\n    success: (category: string, message: string) => void;\n    warn: (category: string, message: string) => void;\n    error: (category: string, message: string) => void;\n  };\n  getPlayerCharacter: () => any;\n  getDungeonService: () => any;\n  getDungeonGenerator: () => any;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DungeonManager {\n  private callbacks!: DungeonCallbacks;\n  \n  // 던전 상태\n  private _currentDungeon: DungeonInstance | null = null;\n  private _currentDungeonRoom: DungeonRoom | null = null;\n  private _showDungeonPanel = false;\n  private _showDungeonTestDialog = false;\n  private _showDungeonEntryDialog = false;\n  private _selectedDungeonType: DungeonType | null = null;\n  private _selectedDifficulty: DifficultyLevel | null = null;\n  \n  // 던전 테스트 옵션\n  private _dungeonTestOptions = {\n    godMode: false,\n    oneHitKill: false,\n    skipCombat: false,\n    showAllRooms: false,\n    unlockAllRooms: false\n  };\n  \n  // 던전 진행 상태\n  private _dungeonProgress: any = {\n    inDungeon: false,\n    currentDungeonId: null,\n    clearedDungeons: {},\n    totalStats: {\n      dungeonsCleared: 0,\n      monstersKilled: 0,\n      elitesKilled: 0,\n      bossesKilled: 0,\n      totalGoldEarned: 0,\n      totalExpEarned: 0\n    }\n  };\n  \n  // 던전 타입 목록\n  private _dungeonTypes: DungeonType[] = [];\n  \n  constructor() {}\n  \n  // ==================== Getters ====================\n  \n  get currentDungeon(): DungeonInstance | null {\n    return this._currentDungeon;\n  }\n  \n  get currentDungeonRoom(): DungeonRoom | null {\n    return this._currentDungeonRoom;\n  }\n  \n  get showDungeonPanel(): boolean {\n    return this._showDungeonPanel;\n  }\n  \n  get showDungeonTestDialog(): boolean {\n    return this._showDungeonTestDialog;\n  }\n  \n  get showDungeonEntryDialog(): boolean {\n    return this._showDungeonEntryDialog;\n  }\n  \n  get selectedDungeonType(): DungeonType | null {\n    return this._selectedDungeonType;\n  }\n  \n  get selectedDifficulty(): DifficultyLevel | null {\n    return this._selectedDifficulty;\n  }\n  \n  get dungeonTestOptions() {\n    return this._dungeonTestOptions;\n  }\n  \n  get dungeonProgress() {\n    return this._dungeonProgress;\n  }\n  \n  get dungeonTypes(): DungeonType[] {\n    return this._dungeonTypes;\n  }\n  \n  // ==================== Setters ====================\n  \n  set currentDungeon(dungeon: DungeonInstance | null) {\n    this._currentDungeon = dungeon;\n  }\n  \n  set currentDungeonRoom(room: DungeonRoom | null) {\n    this._currentDungeonRoom = room;\n  }\n  \n  set showDungeonPanel(show: boolean) {\n    this._showDungeonPanel = show;\n  }\n  \n  set showDungeonTestDialog(show: boolean) {\n    this._showDungeonTestDialog = show;\n  }\n  \n  set showDungeonEntryDialog(show: boolean) {\n    this._showDungeonEntryDialog = show;\n  }\n  \n  set selectedDungeonType(type: DungeonType | null) {\n    this._selectedDungeonType = type;\n  }\n  \n  set selectedDifficulty(difficulty: DifficultyLevel | null) {\n    this._selectedDifficulty = difficulty;\n  }\n  \n  set dungeonProgress(progress: any) {\n    this._dungeonProgress = progress;\n  }\n  \n  set dungeonTypes(types: DungeonType[]) {\n    this._dungeonTypes = types;\n  }\n  \n  // ==================== 초기화 ====================\n  \n  initialize(callbacks: DungeonCallbacks): void {\n    this.callbacks = callbacks;\n  }\n  \n  initializeDungeonSystem(): void {\n    // 던전 서비스에서 기본 던전 타입 가져오기\n    this._dungeonTypes = this.callbacks.getDungeonService().getDefaultDungeonTypes();\n    \n    this.callbacks.debugLogger.success('던전', `✅ 던전 시스템 초기화 완료: ${this._dungeonTypes.length}개 던전 타입`);\n  }\n  \n  // ==================== 던전 다이얼로그 관리 ====================\n  \n  openDungeonEntryDialog(dungeonType: DungeonType): void {\n    this._selectedDungeonType = dungeonType;\n    this._showDungeonEntryDialog = true;\n    \n    this.callbacks.debugLogger.info('던전', `🚪 던전 입장 다이얼로그 열림: ${dungeonType.koreanName}`);\n  }\n  \n  closeDungeonEntryDialog(): void {\n    this._showDungeonEntryDialog = false;\n    this._selectedDungeonType = null;\n  }\n  \n  openDungeonDialog(): void {\n    this._showDungeonTestDialog = true;\n    this.callbacks.debugLogger.info('던전', '🏰 던전 메뉴 열림');\n  }\n  \n  closeDungeonDialog(): void {\n    this._showDungeonTestDialog = false;\n    this._selectedDungeonType = null;\n    this._selectedDifficulty = null;\n  }\n  \n  // ==================== 던전 선택 ====================\n  \n  selectDungeonType(dungeonType: DungeonType): void {\n    this._selectedDungeonType = dungeonType;\n    this.callbacks.debugLogger.info('던전', `던전 선택: ${dungeonType.koreanName}`);\n  }\n  \n  selectDifficulty(difficulty: DifficultyLevel): void {\n    this._selectedDifficulty = difficulty;\n    this.callbacks.debugLogger.info('던전', `난이도 선택: ${this.getDifficultyKorean(difficulty)}`);\n  }\n  \n  // ==================== 던전 시작 및 입장 ====================\n  \n  startDungeon(): void {\n    if (!this._selectedDungeonType || !this._selectedDifficulty) {\n      this.callbacks.notification.show('⚠️ 던전과 난이도를 선택하세요!');\n      return;\n    }\n    \n    this.callbacks.debugLogger.info('던전', '🏰 던전 시작');\n    this.callbacks.debugLogger.info('던전', `선택: ${this._selectedDungeonType.koreanName} - ${this._selectedDifficulty}`);\n    this.callbacks.debugLogger.info('던전', `테스트 옵션: ${JSON.stringify(this._dungeonTestOptions)}`);\n    \n    // 테스트 옵션 적용\n    if (this._dungeonTestOptions.godMode) {\n      const player = this.callbacks.getPlayerCharacter();\n      player.hp = player.maxHp;\n      player.mp = player.maxMp;\n      this.callbacks.debugLogger.success('던전', '🛡️ 무적 모드 활성화');\n    }\n    \n    // 던전 입장\n    this.enterDungeon(this._selectedDungeonType, this._selectedDifficulty);\n    \n    // 던전 상태 확인 (디버깅)\n    if (this._currentDungeon) {\n    }\n    if (this._currentDungeonRoom) {\n    }\n    \n    // 테스트 옵션 적용\n    if (this._currentDungeon) {\n      if (this._dungeonTestOptions.showAllRooms) {\n        this.revealAllRooms();\n      }\n      \n      if (this._dungeonTestOptions.unlockAllRooms) {\n        this.unlockAllRooms();\n      }\n    } else {\n    }\n    \n    if (!this._currentDungeonRoom) {\n    }\n  }\n  \n  enterDungeon(dungeonType: DungeonType, difficulty: DifficultyLevel): void {\n    \n    const player = this.callbacks.getPlayerCharacter();\n    \n    // 던전 서비스를 통해 입장 가능 여부 확인\n    const canEnter = this.callbacks.getDungeonService().canEnterDungeon(dungeonType, player);\n    if (!canEnter.canEnter) {\n      this.callbacks.notification.show(`⚠️ ${canEnter.reason}`);\n      return;\n    }\n    \n    this.callbacks.debugLogger.info('던전', `🚪 던전 입장: ${dungeonType.koreanName} (${difficulty})`);\n    \n    // 던전 생성\n    const dungeon = this.generateDungeon(dungeonType, difficulty);\n    \n    this._currentDungeon = dungeon;\n    this._dungeonProgress.inDungeon = true;\n    this._dungeonProgress.currentDungeonId = dungeon.id;\n    \n    \n    // 다이얼로그 닫기\n    this.closeDungeonEntryDialog();\n    \n    // 던전 패널 열기\n    this._showDungeonPanel = true;\n    \n    // 스토리에 던전 입장 기록\n    this.callbacks.addStoryBlock([\n      '═══════════════════════════════════',\n      `      ${dungeonType.icon} ${dungeonType.koreanName}`,\n      `      난이도: ${this.callbacks.getDungeonService().getDifficultyKorean(difficulty)}`,\n      '═══════════════════════════════════',\n      '',\n      dungeonType.storyDescription,\n      '',\n      '당신은 던전에 발을 들여놓았습니다...'\n    ]);\n    \n    // 첫 번째 층으로 이동\n    console.log('🚪 enterFloor(1) 호출...');\n    this.enterFloor(1);\n    \n    \n    // 저장\n    this.callbacks.saveGame('autosave');\n  }\n  \n  // ==================== 던전 생성 ====================\n  \n  private generateDungeon(dungeonType: DungeonType, difficulty: DifficultyLevel): DungeonInstance {\n    const player = this.callbacks.getPlayerCharacter();\n    \n    // 던전 생성 서비스 사용\n    const dungeon = this.callbacks.getDungeonGenerator().generateDungeon(\n      dungeonType,\n      difficulty,\n      player.level\n    ) as DungeonInstance;\n    \n    // 플레이어 스냅샷 업데이트\n    dungeon.playerSnapshot = {\n      hp: player.hp,\n      mp: player.mp,\n      level: player.level\n    };\n    \n    this.callbacks.debugLogger.success('던전', `✅ 던전 생성 완료: ${dungeon.totalFloors}층, ${dungeon.floors.reduce((sum: number, f: any) => sum + f.rooms.length, 0)}개 방`);\n    \n    return dungeon;\n  }\n  \n  // ==================== 층 및 방 관리 ====================\n  \n  enterFloor(floorNumber: number): void {\n    \n    if (!this._currentDungeon) {\n      return;\n    }\n    \n    const floor = this._currentDungeon.floors[floorNumber - 1];\n    if (!floor) {\n      return;\n    }\n    \n    \n    this._currentDungeon.currentFloor = floorNumber;\n    \n    // 입구 방으로 이동\n    const entranceRoom = floor.rooms.find((r: any) => r.id === floor.entranceRoomId);\n    \n    if (!entranceRoom) {\n      console.warn('🔍 floor.rooms:', floor.rooms.map((r: any) => ({ id: r.id, type: r.type })));\n      return;\n    }\n    \n    this.enterRoom(entranceRoom);\n    \n    this.callbacks.addStoryBlock([\n      '',\n      `─── ${floorNumber}층 ───`,\n      entranceRoom?.description || '새로운 층에 도착했습니다.',\n      ''\n    ]);\n    \n    this.callbacks.debugLogger.info('던전', `🚪 ${floorNumber}층 진입`);\n  }\n  \n  enterRoom(room: DungeonRoom): void {\n    \n    if (!this._currentDungeon) {\n      return;\n    }\n    \n    // 현재 방 업데이트\n    if (this._currentDungeonRoom) {\n      this._currentDungeonRoom.isCurrentRoom = false;\n    }\n    \n    // 중요: 새 객체로 할당하여 Angular 변경 감지 트리거\n    this._currentDungeonRoom = { ...room };\n    \n    room.isCurrentRoom = true;\n    room.isExplored = true;\n    \n    // 통계 업데이트\n    this._currentDungeon.stats.roomsExplored++;\n    \n    // 방 설명\n    this.callbacks.addStoryBlock([\n      '',\n      `📍 ${this.getRoomTypeKorean(room.type)}`,\n      room.description,\n      ''\n    ]);\n    \n    // 몬스터가 있으면 전투 시작\n    if (room.monsters.length > 0 && !room.isCleared) {\n      this.startDungeonCombat(room);\n    } else {\n      console.log('✅ 전투 없음 (몬스터:', room.monsters.length, ', 클리어:', room.isCleared, ')');\n    }\n    \n    this.callbacks.debugLogger.info('던전', `🚪 방 진입: ${room.type}`);\n  }\n  \n  moveToNextRoom(): void {\n    if (!this._currentDungeon || !this._currentDungeonRoom) return;\n    \n    const connectedRoomIds = this._currentDungeonRoom.connectedRoomIds;\n    if (connectedRoomIds.length === 0) return;\n    \n    // 다음 방 찾기 (아직 탐험하지 않은 방 우선)\n    const currentFloor = this._currentDungeon.floors[this._currentDungeon.currentFloor - 1];\n    const nextRoom = currentFloor.rooms.find((r: any) => \n      connectedRoomIds.includes(r.id) && !r.isExplored\n    ) || currentFloor.rooms.find((r: any) => \n      connectedRoomIds.includes(r.id)\n    );\n    \n    if (nextRoom) {\n      this.enterRoom(nextRoom);\n    }\n  }\n  \n  // ==================== 전투 시스템 ====================\n  \n  private startDungeonCombat(room: DungeonRoom): void {\n    \n    // 전투 스킵 옵션이 켜져 있으면 즉시 승리\n    if (this._dungeonTestOptions.skipCombat) {\n      this.callbacks.debugLogger.info('던전', '⏭️ 전투 스킵 활성화 - 자동 승리');\n      \n      const player = this.callbacks.getPlayerCharacter();\n      \n      // 모든 몬스터 즉시 처치\n      room.monsters.forEach((monster: any) => {\n        monster.hp = 0;\n        monster.isDead = true;\n        \n        // 보상 계산\n        const goldReward = Math.floor(Math.random() * (monster.dropTable.goldMax - monster.dropTable.goldMin + 1)) + monster.dropTable.goldMin;\n        const expReward = Math.floor(monster.maxHp * 0.8);\n        \n        // 보상 적용\n        player.gold += goldReward;\n        this.callbacks.gainExp(expReward);\n        \n        // 던전 누적 보상\n        if (this._currentDungeon) {\n          this._currentDungeon.accumulatedRewards.gold += goldReward;\n          this._currentDungeon.accumulatedRewards.experience += expReward;\n          \n          // 통계 업데이트\n          this._currentDungeon.stats.monstersKilled++;\n          if (monster.type === 'elite') {\n            this._currentDungeon.stats.elitesKilled++;\n          } else if (monster.type === 'boss') {\n            this._currentDungeon.stats.bossKilled = true;\n            this._currentDungeon.stats.elitesKilled++;\n          }\n        }\n      });\n      \n      // 방 클리어\n      room.isCleared = true;\n      \n      this.callbacks.addStoryBlock([\n        '⏭️ 전투 자동 승리!',\n        `💀 ${room.monsters.length}마리 처치`,\n        '방이 클리어되었습니다.',\n        ''\n      ]);\n      \n      // 전투 스킵 후 자동 저장 (경험치 및 레벨 반영)\n      this.callbacks.debugLogger.info('던전', `💾 전투 스킵 후 자동 저장 (경험치: ${player.exp}/${player.maxExp}, 레벨: ${player.level})`);\n      this.callbacks.saveGame(`auto_dungeon_skip_combat`).then(() => {\n      });\n      \n      return;\n    }\n    \n    // 일반 전투\n    const monster = room.monsters[0]; // 첫 번째 몬스터와 전투\n    \n    this.callbacks.addStoryBlock([\n      `⚔️ ${monster.name}이(가) 나타났다!`,\n      `레벨: ${monster.level} | HP: ${monster.hp}`,\n      monster.eliteAffixes ? `특성: ${monster.eliteAffixes.join(', ')}` : '',\n      ''\n    ]);\n    \n    // 일반 전투는 수동으로 진행 (공격 버튼 클릭)\n  }\n  \n  async winDungeonCombat(room: DungeonRoom, monster: DungeonMonster): Promise<void> {\n    if (!this._currentDungeon) return;\n    \n    monster.isDead = true;\n    \n    const player = this.callbacks.getPlayerCharacter();\n    \n    // 보상 계산\n    const goldReward = Math.floor(Math.random() * (monster.dropTable.goldMax - monster.dropTable.goldMin + 1)) + monster.dropTable.goldMin;\n    const expReward = Math.floor(monster.maxHp * 0.8);\n    \n    // 보상 적용\n    player.gold += goldReward;\n    this.callbacks.gainExp(expReward);\n    \n    // 던전 누적 보상\n    this._currentDungeon.accumulatedRewards.gold += goldReward;\n    this._currentDungeon.accumulatedRewards.experience += expReward;\n    \n    // 통계 업데이트\n    this._currentDungeon.stats.monstersKilled++;\n    if (monster.type === 'elite') {\n      this._currentDungeon.stats.elitesKilled++;\n    } else if (monster.type === 'boss') {\n      this._currentDungeon.stats.bossKilled = true;\n      this._currentDungeon.stats.elitesKilled++;\n    }\n    \n    this.callbacks.addStoryBlock([\n      `✅ ${monster.name}을(를) 물리쳤다!`,\n      `💰 골드 +${goldReward}`,\n      `💫 경험치 +${expReward}`,\n      ''\n    ]);\n    \n    \n    // 몬스터 처치 시 자동 저장 (던전 테스트 중에도 저장됨)\n    this.callbacks.debugLogger.info('던전', `💾 몬스터 처치 후 자동 저장 (경험치: ${player.exp}/${player.maxExp})`);\n    await this.callbacks.saveGame(`auto_dungeon_${this._currentDungeon.dungeonTypeId}`);\n    \n    // 모든 몬스터 처치 시 방 클리어\n    if (room.monsters.every((m: any) => m.isDead)) {\n      room.isCleared = true;\n      \n      this.callbacks.addStoryBlock([\n        '✅ 방을 클리어했습니다!',\n        '다음 방으로 이동하세요.',\n        ''\n      ]);\n      \n      // 방 클리어 시 자동 저장\n      this.callbacks.debugLogger.info('던전', `💾 방 클리어 후 자동 저장`);\n      await this.callbacks.saveGame(`auto_dungeon_room_clear`);\n      \n      // 보스 처치 시 던전 클리어\n      if (monster.type === 'boss') {\n        this.completeDungeon();\n      }\n    } else {\n      console.log('⚔️ 남은 몬스터:', room.monsters.filter((m: any) => !m.isDead).length, '마리');\n    }\n    \n    this.callbacks.debugLogger.success('던전', `✅ 전투 승리: ${monster.name}`);\n  }\n  \n  // ==================== 던전 완료 및 탈출 ====================\n  \n  private async completeDungeon(): Promise<void> {\n    if (!this._currentDungeon) return;\n    \n    this._currentDungeon.status = 'completed';\n    this._dungeonProgress.inDungeon = false;\n    \n    const dungeonType = this._dungeonTypes.find(dt => dt.id === this._currentDungeon!.dungeonTypeId)!;\n    \n    // 클리어 기록 업데이트\n    if (!this._dungeonProgress.clearedDungeons[dungeonType.id]) {\n      this._dungeonProgress.clearedDungeons[dungeonType.id] = {\n        count: 0,\n        bestTime: Infinity,\n        highestDifficulty: 'easy',\n        lastClearDate: new Date()\n      };\n    }\n    \n    const record = this._dungeonProgress.clearedDungeons[dungeonType.id];\n    record.count++;\n    record.bestTime = Math.min(record.bestTime, this._currentDungeon.elapsedTime);\n    record.lastClearDate = new Date();\n    \n    // 전체 통계 업데이트\n    this._dungeonProgress.totalStats.dungeonsCleared++;\n    this._dungeonProgress.totalStats.monstersKilled += this._currentDungeon.stats.monstersKilled;\n    this._dungeonProgress.totalStats.elitesKilled += this._currentDungeon.stats.elitesKilled;\n    this._dungeonProgress.totalStats.bossesKilled += this._currentDungeon.stats.bossKilled ? 1 : 0;\n    this._dungeonProgress.totalStats.totalGoldEarned += this._currentDungeon.accumulatedRewards.gold;\n    this._dungeonProgress.totalStats.totalExpEarned += this._currentDungeon.accumulatedRewards.experience;\n    \n    // 클리어 화면\n    this.callbacks.addStoryBlock([\n      '',\n      '╔═══════════════════════════════════╗',\n      '║      🏆 던전 클리어! 🏆          ║',\n      `║   ${dungeonType.koreanName} 정복 완료   ║`,\n      '╚═══════════════════════════════════╝',\n      '',\n      '📊 통계:',\n      `  • 처치한 몬스터: ${this._currentDungeon.stats.monstersKilled}마리`,\n      `  • 처치한 엘리트: ${this._currentDungeon.stats.elitesKilled}마리`,\n      `  • 탐험한 방: ${this._currentDungeon.stats.roomsExplored}개`,\n      '',\n      '💰 획득 보상:',\n      `  • 골드: ${this._currentDungeon.accumulatedRewards.gold}G`,\n      `  • 경험치: ${this._currentDungeon.accumulatedRewards.experience} EXP`,\n      '',\n      '당신은 던전을 무사히 빠져나왔습니다.'\n    ]);\n    \n    // 던전 패널 닫기\n    this._showDungeonPanel = false;\n    this._currentDungeon = null;\n    this._currentDungeonRoom = null;\n    \n    // 던전 클리어 시 자동 저장 (중요한 진행 상황)\n    this.callbacks.debugLogger.success('던전', `🏆 던전 클리어: ${dungeonType.koreanName} - 자동 저장 중...`);\n    const player = this.callbacks.getPlayerCharacter();\n    this.callbacks.debugLogger.info('던전', `💾 최종 레벨: ${player.level}, 경험치: ${player.exp}/${player.maxExp}`);\n    await this.callbacks.saveGame(`dungeon_clear_${dungeonType.id}`);\n  }\n  \n  escapeDungeon(): void {\n    if (!this._currentDungeon) return;\n    \n    // ✅ confirm은 자식 컴포넌트에서 이미 처리됨\n    \n    this._currentDungeon.status = 'failed';\n    this._dungeonProgress.inDungeon = false;\n    \n    this.callbacks.addStoryBlock([\n      '',\n      '🚪 당신은 던전에서 탈출했습니다.',\n      '💰 획득한 보상은 유지됩니다.',\n      ''\n    ]);\n    \n    this._showDungeonPanel = false;\n    this._currentDungeon = null;\n    this._currentDungeonRoom = null;\n    \n    // 던전 다이얼로그도 닫기\n    this.closeDungeonDialog();\n    \n    this.callbacks.saveGame('autosave');\n    \n    this.callbacks.debugLogger.warn('던전', '⚠️ 던전 탈출');\n  }\n  \n  // ==================== 던전 이벤트 핸들러 ====================\n  \n  onDungeonRoomMove(roomId: string): void {\n    if (!this._currentDungeon) return;\n    \n    const currentFloor = this._currentDungeon.floors[this._currentDungeon.currentFloor - 1];\n    if (!currentFloor) return;\n    \n    const targetRoom = currentFloor.rooms.find((r: any) => r.id === roomId);\n    if (!targetRoom) return;\n    \n    this.enterRoom(targetRoom);\n  }\n  \n  onDungeonMonsterAttack(monster: DungeonMonster): void {\n    if (!this._currentDungeon || !this._currentDungeonRoom) return;\n    \n    this.callbacks.debugLogger.info('던전', `⚔️ ${monster.name} 공격!`);\n    \n    const player = this.callbacks.getPlayerCharacter();\n    \n    // 테스트 옵션: 원킬\n    if (this._dungeonTestOptions.oneHitKill) {\n      monster.hp = 0;\n      monster.isDead = true;\n      this.callbacks.debugLogger.success('던전', `💀 ${monster.name} 즉사!`);\n    } else {\n      // 강화된 전투 데미지 계산\n      const baseAttack = player.attack;\n      const strengthBonus = player.strength * 0.5; // 힘 스탯 보너스\n      const randomFactor = 0.9 + Math.random() * 0.4; // 90%~130% 변동\n      \n      // 크리티컬 히트 (30% 확률로 3배!)\n      const isCritical = Math.random() < 0.3;\n      const criticalMultiplier = isCritical ? 3.0 : 1.0;\n      \n      // 최종 데미지 = (기본 공격력 + 힘 보너스) * 랜덤 * 크리티컬 * 던전 보너스\n      let damage = Math.floor((baseAttack + strengthBonus) * randomFactor * criticalMultiplier * 1.8); // 1.8배 던전 보너스!\n      \n      monster.hp = Math.max(0, monster.hp - damage);\n      \n      if (monster.hp === 0) {\n        monster.isDead = true;\n      }\n      \n      if (isCritical) {\n        this.callbacks.debugLogger.success('던전', `💥 크리티컬! 피해: ${damage}, 남은 HP: ${monster.hp}`);\n        this.callbacks.addStoryBlock([`💥 크리티컬 히트! ${damage}의 강력한 피해!`]);\n      } else {\n        this.callbacks.debugLogger.info('던전', `피해: ${damage}, 남은 HP: ${monster.hp}`);\n      }\n    }\n    \n    // 몬스터 처치 확인\n    if (monster.isDead) {\n      this.winDungeonCombat(this._currentDungeonRoom, monster);\n    }\n    \n    // 무적 모드: HP 회복\n    if (this._dungeonTestOptions.godMode) {\n      player.hp = player.maxHp;\n    }\n  }\n  \n  onDungeonInteractableUse(interactable: DungeonInteractable): void {\n    if (!this._currentDungeon) return;\n    \n    this.callbacks.debugLogger.info('던전', `✨ ${interactable.name} 사용`);\n    \n    const player = this.callbacks.getPlayerCharacter();\n    \n    if (interactable.type === 'chest') {\n      // 보물 상자\n      const goldReward = Math.floor(100 + Math.random() * 200);\n      player.gold += goldReward;\n      \n      this.callbacks.addStoryBlock([\n        `💎 ${interactable.name}을(를) 열었습니다!`,\n        `💰 골드 +${goldReward}`,\n        ''\n      ]);\n      \n      this._currentDungeon.stats.treasuresFound++;\n      interactable.isUsed = true;\n      \n    } else if (interactable.type === 'shrine') {\n      // 성소\n      if (interactable.shrineEffect) {\n        const effect = interactable.shrineEffect;\n        \n        this.callbacks.addStoryBlock([\n          `✨ ${interactable.name}의 축복을 받았습니다!`,\n          `효과: ${effect.type} +${effect.value}% (${effect.duration}턴)`,\n          ''\n        ]);\n        \n        interactable.isUsed = true;\n      }\n    }\n    \n    this.callbacks.debugLogger.success('던전', `✅ ${interactable.name} 사용 완료`);\n  }\n  \n  onDungeonEscape(): void {\n    this.escapeDungeon();\n  }\n  \n  onDungeonFloorMove(floorNumber: number): void {\n    this.enterFloor(floorNumber);\n  }\n  \n  onDungeonRewardsClaimed(rewards: any, inventory: any[]): void {\n    \n    const player = this.callbacks.getPlayerCharacter();\n    \n    // 경험치 획득\n    if (rewards.exp > 0) {\n      player.exp += rewards.exp;\n      \n      // 레벨업 체크 (간단한 계산: 레벨 * 100)\n      const requiredExp = player.level * 100;\n      if (player.exp >= requiredExp) {\n        // levelUp 메서드는 컴포넌트에서 호출해야 함\n      }\n      \n      this.callbacks.notification.show(`⭐ ${rewards.exp} 경험치 획득!`);\n    }\n    \n    // 골드 획득\n    if (rewards.gold > 0) {\n      player.gold += rewards.gold;\n      this.callbacks.notification.show(`💰 ${rewards.gold} 골드 획득!`);\n    }\n    \n    // 아이템 획득 - 실제 인벤토리에 추가\n    if (rewards.items && rewards.items.length > 0) {\n      rewards.items.forEach((rewardItem: any) => {\n        // 던전 아이템을 실제 게임 아이템으로 변환\n        const newItem = this.createDungeonRewardItem(rewardItem);\n        \n        // 인벤토리에 추가\n        inventory.push(newItem);\n        \n        this.callbacks.notification.show(`🎁 ${newItem.name} 획득!`);\n        this.callbacks.debugLogger.success('아이템', `획득: ${newItem.name} (${newItem.rarity})`);\n      });\n    }\n    \n    // 저장\n    this.callbacks.saveGame('autosave');\n    \n    this.callbacks.debugLogger.success('던전', `🎁 보상 획득: EXP ${rewards.exp}, 골드 ${rewards.gold}, 아이템 ${rewards.items.length}개`);\n  }\n  \n  createDungeonRewardItem(rewardItem: any): any {\n    // 아이템 타입별 기본 속성 설정\n    const itemTypes = ['weapon', 'armor', 'accessory', 'consumable'];\n    const randomType = itemTypes[Math.floor(Math.random() * itemTypes.length)];\n    \n    // 등급별 스탯 배율\n    const rarityMultipliers: any = {\n      common: 1.0,\n      uncommon: 1.3,\n      rare: 1.7,\n      epic: 2.2,\n      legendary: 3.0\n    };\n    \n    const multiplier = rarityMultipliers[rewardItem.rarity] || 1.0;\n    const itemLevel = rewardItem.level || 1;\n    \n    // 기본 아이템 생성\n    const newItem: any = {\n      id: `dungeon_${Date.now()}_${Math.random()}`,\n      name: rewardItem.name,\n      type: randomType,\n      rarity: rewardItem.rarity,\n      level: itemLevel,\n      requiredLevel: Math.max(1, itemLevel - 2),\n      description: `던전에서 획득한 ${rewardItem.rarity} 등급 아이템`,\n      stats: {},\n      price: Math.floor(itemLevel * 50 * multiplier),\n      sellPrice: Math.floor(itemLevel * 25 * multiplier),\n      obtainedFrom: 'dungeon',\n      obtainedAt: new Date().toISOString()\n    };\n    \n    // 타입별 스탯 추가\n    if (randomType === 'weapon') {\n      newItem.stats = {\n        attack: Math.floor((5 + itemLevel * 3) * multiplier),\n        criticalChance: Math.floor(Math.random() * 10 * multiplier)\n      };\n      newItem.slot = 'weapon';\n    } else if (randomType === 'armor') {\n      const armorSlots = ['helmet', 'chest', 'legs', 'boots', 'gloves'];\n      newItem.slot = armorSlots[Math.floor(Math.random() * armorSlots.length)];\n      newItem.stats = {\n        defense: Math.floor((3 + itemLevel * 2) * multiplier),\n        hp: Math.floor((10 + itemLevel * 5) * multiplier)\n      };\n    } else if (randomType === 'accessory') {\n      const accessorySlots = ['ring', 'necklace', 'belt'];\n      newItem.slot = accessorySlots[Math.floor(Math.random() * accessorySlots.length)];\n      newItem.stats = {\n        attack: Math.floor((2 + itemLevel) * multiplier),\n        defense: Math.floor((2 + itemLevel) * multiplier),\n        hp: Math.floor((5 + itemLevel * 2) * multiplier)\n      };\n    } else if (randomType === 'consumable') {\n      newItem.consumable = true;\n      newItem.stackable = true;\n      newItem.maxStack = 99;\n      newItem.quantity = 1;\n      newItem.effect = {\n        type: Math.random() > 0.5 ? 'heal' : 'buff',\n        value: Math.floor(50 * multiplier)\n      };\n    }\n    \n    // 등급별 아이템 이름 접두사 추가\n    const rarityPrefixes: any = {\n      common: '평범한',\n      uncommon: '고급',\n      rare: '희귀한',\n      epic: '영웅의',\n      legendary: '전설의'\n    };\n    \n    newItem.name = `${rarityPrefixes[rewardItem.rarity] || ''} ${newItem.name}`;\n    \n    return newItem;\n  }\n  \n  // ==================== 테스트 옵션 ====================\n  \n  toggleDungeonTestOption(option: keyof typeof this._dungeonTestOptions): void {\n    this._dungeonTestOptions[option] = !this._dungeonTestOptions[option];\n    this.callbacks.debugLogger.info('던전', `테스트 옵션 변경: ${option} = ${this._dungeonTestOptions[option]}`);\n  }\n  \n  private revealAllRooms(): void {\n    if (!this._currentDungeon) return;\n    \n    this._currentDungeon.floors.forEach((floor: any) => {\n      floor.rooms.forEach((room: any) => {\n        room.isExplored = true;\n      });\n    });\n    \n    this.callbacks.debugLogger.success('던전', '🗺️ 모든 방 공개 완료');\n  }\n  \n  private unlockAllRooms(): void {\n    if (!this._currentDungeon) return;\n    \n    this._currentDungeon.floors.forEach((floor: any) => {\n      floor.rooms.forEach((room: any) => {\n        room.interactables.forEach((interactable: any) => {\n          if (interactable.isLocked) {\n            interactable.isLocked = false;\n          }\n        });\n      });\n    });\n    \n    this.callbacks.debugLogger.success('던전', '🔓 모든 방 잠금 해제 완료');\n  }\n  \n  // ==================== 유틸리티 메서드 ====================\n  \n  private getDifficultyKorean(difficulty: DifficultyLevel): string {\n    const map: Record<DifficultyLevel, string> = {\n      easy: '쉬움',\n      normal: '보통',\n      hard: '어려움',\n      hell: '지옥'\n    };\n    return map[difficulty];\n  }\n  \n  private getRoomTypeKorean(type: RoomType): string {\n    const map: { [key: string]: string } = {\n      entrance: '입구',\n      normal: '일반 방',\n      elite: '엘리트 방',\n      boss: '보스 방',\n      treasure: '보물 방',\n      shrine: '성소',\n      shop: '상점',\n      safe: '안전 지대',\n      event: '이벤트 방',\n      exit: '출구'\n    };\n    return map[type] || '알 수 없는 방';\n  }\n  \n  getPlayerEquipment(): any {\n    const player = this.callbacks.getPlayerCharacter();\n    \n    return {\n      weapon: player.equippedItems?.weapon || null,\n      armor: {\n        helmet: player.equippedItems?.helmet || null,\n        chest: player.equippedItems?.chest || null,\n        legs: player.equippedItems?.legs || null,\n        boots: player.equippedItems?.boots || null,\n        gloves: player.equippedItems?.gloves || null\n      },\n      accessories: {\n        ring: player.equippedItems?.ring || null,\n        necklace: player.equippedItems?.necklace || null,\n        belt: player.equippedItems?.belt || null\n      }\n    };\n  }\n}", "import { Injectable } from '@angular/core';\n\nexport interface GeneratedItem {\n  id?: number;\n  name: string;\n  description: string;\n  type: string; // '무기', '방어구', '소비품', '특수'\n  grade: string; // '일반', '고급', '희귀', '전설', '신화'\n  effects: string[];\n  stats?: {\n    attack?: number;\n    defense?: number;\n    hp?: number;\n    mp?: number;\n  };\n  requirements?: string;\n  lore?: string;\n  tags: string[];\n  price?: number; // 상점 판매 가격\n  createdAt: Date;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ItemDbService {\n  private dbName = 'NovelItemDB';\n  private storeName = 'items';\n  private db: IDBDatabase | null = null;\n\n  constructor() {\n    this.initDB();\n  }\n\n  private async initDB(): Promise<void> {\n    return new Promise((resolve, reject) => {\n      const request = indexedDB.open(this.dbName, 1);\n\n      request.onerror = () => {\n        reject(request.error);\n      };\n\n      request.onsuccess = () => {\n        this.db = request.result;\n        resolve();\n      };\n\n      request.onupgradeneeded = (event: any) => {\n        const db = event.target.result;\n        \n        if (!db.objectStoreNames.contains(this.storeName)) {\n          const objectStore = db.createObjectStore(this.storeName, { \n            keyPath: 'id', \n            autoIncrement: true \n          });\n          \n          // 인덱스 생성\n          objectStore.createIndex('name', 'name', { unique: false });\n          objectStore.createIndex('type', 'type', { unique: false });\n          objectStore.createIndex('grade', 'grade', { unique: false });\n          objectStore.createIndex('createdAt', 'createdAt', { unique: false });\n          \n        }\n      };\n    });\n  }\n\n  async saveItem(item: GeneratedItem): Promise<number> {\n    if (!this.db) {\n      await this.initDB();\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction([this.storeName], 'readwrite');\n      const objectStore = transaction.objectStore(this.storeName);\n      const request = objectStore.add(item);\n\n      request.onsuccess = () => {\n        resolve(request.result as number);\n      };\n\n      request.onerror = () => {\n        reject(request.error);\n      };\n    });\n  }\n\n  async getAllItems(): Promise<GeneratedItem[]> {\n    if (!this.db) {\n      await this.initDB();\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction([this.storeName], 'readonly');\n      const objectStore = transaction.objectStore(this.storeName);\n      const request = objectStore.getAll();\n\n      request.onsuccess = () => {\n        const items = request.result;\n        // 최신순으로 정렬\n        items.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\n        resolve(items);\n      };\n\n      request.onerror = () => {\n        reject(request.error);\n      };\n    });\n  }\n\n  async getItem(id: number): Promise<GeneratedItem | undefined> {\n    if (!this.db) {\n      await this.initDB();\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction([this.storeName], 'readonly');\n      const objectStore = transaction.objectStore(this.storeName);\n      const request = objectStore.get(id);\n\n      request.onsuccess = () => {\n        resolve(request.result);\n      };\n\n      request.onerror = () => {\n        reject(request.error);\n      };\n    });\n  }\n\n  async deleteItem(id: number): Promise<void> {\n    if (!this.db) {\n      await this.initDB();\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction([this.storeName], 'readwrite');\n      const objectStore = transaction.objectStore(this.storeName);\n      const request = objectStore.delete(id);\n\n      request.onsuccess = () => {\n        resolve();\n      };\n\n      request.onerror = () => {\n        reject(request.error);\n      };\n    });\n  }\n\n  async getItemsByType(type: string): Promise<GeneratedItem[]> {\n    if (!this.db) {\n      await this.initDB();\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction([this.storeName], 'readonly');\n      const objectStore = transaction.objectStore(this.storeName);\n      const index = objectStore.index('type');\n      const request = index.getAll(type);\n\n      request.onsuccess = () => {\n        resolve(request.result);\n      };\n\n      request.onerror = () => {\n        reject(request.error);\n      };\n    });\n  }\n\n  async getItemsByGrade(grade: string): Promise<GeneratedItem[]> {\n    if (!this.db) {\n      await this.initDB();\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction([this.storeName], 'readonly');\n      const objectStore = transaction.objectStore(this.storeName);\n      const index = objectStore.index('grade');\n      const request = index.getAll(grade);\n\n      request.onsuccess = () => {\n        resolve(request.result);\n      };\n\n      request.onerror = () => {\n        reject(request.error);\n      };\n    });\n  }\n\n  async clearAllItems(): Promise<void> {\n    if (!this.db) {\n      await this.initDB();\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction([this.storeName], 'readwrite');\n      const objectStore = transaction.objectStore(this.storeName);\n      const request = objectStore.clear();\n\n      request.onsuccess = () => {\n        resolve();\n      };\n\n      request.onerror = () => {\n        reject(request.error);\n      };\n    });\n  }\n}\n", "import { Injectable } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { GeminiAiService } from '../../../../../services/gemini-ai.service';\nimport { ItemDbService, GeneratedItem } from '../../../services/item-db.service';\nimport { NotificationService } from '../../../../../services/notification.service';\nimport { ConfirmDialogComponent } from '../../confirm-dialog/confirm-dialog.component';\n\n/**\n * ItemGenerationHelper\n * AI 아이템 생성 및 인벤토리 디버그 관련 기능을 처리하는 헬퍼 클래스\n */\n@Injectable()\nexport class ItemGenerationHelper {\n  constructor(\n    private geminiAiService: GeminiAiService,\n    private itemDbService: ItemDbService,\n    private notification: NotificationService,\n    private dialog: MatDialog\n  ) {}\n\n  /**\n   * AI 아이템 생성 (10개)\n   */\n  generateAiItems(\n    itemType: string | undefined,\n    grade: string | undefined,\n    onStart: () => void,\n    onProgress: (item: any) => void,\n    onComplete: (items: any[], error?: string) => void\n  ): void {\n    onStart();\n    \n    const generatedItems: any[] = [];\n    const itemTypes = itemType ? [itemType] : ['무기', '방어구', '소비품', '장신구'];\n    const grades = grade ? [grade] : ['일반', '고급', '희귀', '영웅', '전설'];\n    \n    let completedCount = 0;\n    const totalItems = 10;\n    let errorMessage = '';\n    \n    for (let i = 0; i < totalItems; i++) {\n      const randomType = itemTypes[Math.floor(Math.random() * itemTypes.length)];\n      const randomGrade = grades[Math.floor(Math.random() * grades.length)];\n      \n      this.geminiAiService.generateItem(randomType, randomGrade).subscribe({\n        next: (item) => {\n          generatedItems.push(item);\n          onProgress(item);\n          completedCount++;\n          \n          if (completedCount === totalItems) {\n            onComplete(generatedItems);\n          }\n        },\n        error: (error) => {\n          completedCount++;\n          errorMessage = error.message || 'AI 아이템 생성에 실패했습니다.';\n          \n          if (completedCount === totalItems) {\n            if (generatedItems.length === 0) {\n              onComplete(generatedItems, errorMessage);\n            } else {\n              onComplete(generatedItems);\n            }\n          }\n        }\n      });\n    }\n  }\n\n  /**\n   * 단일 아이템 저장\n   */\n  async saveGeneratedItem(\n    item: any,\n    onSuccess: () => void,\n    onError: () => void\n  ): Promise<void> {\n    if (!item) return;\n    \n    const basePrice = this.calculateItemPriceByGrade(item.grade || '일반');\n    \n    const generatedItem: GeneratedItem = {\n      name: item.name || '이름 없음',\n      description: item.description || '',\n      type: item.type || '기타',\n      grade: item.grade || '일반',\n      effects: item.effects || [],\n      stats: item.stats || {},\n      requirements: item.requirements || '',\n      lore: item.lore || '',\n      tags: item.tags || [],\n      price: basePrice,\n      createdAt: new Date()\n    };\n    \n    try {\n      await this.itemDbService.saveItem(generatedItem);\n      this.notification.show('아이템이 저장되었습니다!');\n      onSuccess();\n    } catch (error) {\n      this.notification.show('아이템 저장에 실패했습니다.');\n      onError();\n    }\n  }\n\n  /**\n   * 인덱스로 생성된 아이템 저장\n   */\n  async saveGeneratedItemByIndex(\n    items: any[],\n    index: number,\n    onSuccess: () => void,\n    onError: () => void\n  ): Promise<void> {\n    const item = items[index];\n    if (!item) return;\n    \n    const basePrice = this.calculateItemPriceByGrade(item.grade || '일반');\n    \n    const generatedItem: GeneratedItem = {\n      name: item.name || '이름 없음',\n      description: item.description || '',\n      type: item.type || '기타',\n      grade: item.grade || '일반',\n      effects: item.effects || [],\n      stats: item.stats || {},\n      requirements: item.requirements || '',\n      lore: item.lore || '',\n      tags: item.tags || [],\n      price: basePrice,\n      createdAt: new Date()\n    };\n    \n    try {\n      await this.itemDbService.saveItem(generatedItem);\n      this.notification.show(`${item.name}이(가) 저장되었습니다!`);\n      onSuccess();\n    } catch (error) {\n      this.notification.show('아이템 저장에 실패했습니다.');\n      onError();\n    }\n  }\n\n  /**\n   * 모든 생성된 아이템 저장\n   */\n  async saveAllGeneratedItems(\n    items: any[],\n    onComplete: (successCount: number) => void\n  ): Promise<void> {\n    if (items.length === 0) return;\n    \n    let successCount = 0;\n    \n    for (const item of items) {\n      const basePrice = this.calculateItemPriceByGrade(item.grade || '일반');\n      \n      const generatedItem: GeneratedItem = {\n        name: item.name || '이름 없음',\n        description: item.description || '',\n        type: item.type || '기타',\n        grade: item.grade || '일반',\n        effects: item.effects || [],\n        stats: item.stats || {},\n        requirements: item.requirements || '',\n        lore: item.lore || '',\n        tags: item.tags || [],\n        price: basePrice,\n        createdAt: new Date()\n      };\n      \n      try {\n        await this.itemDbService.saveItem(generatedItem);\n        successCount++;\n      } catch (error) {\n        // 개별 아이템 저장 실패는 무시하고 계속 진행\n      }\n    }\n    \n    this.notification.show(`${successCount}개의 아이템이 저장되었습니다!`);\n    onComplete(successCount);\n  }\n\n  /**\n   * 인벤토리 디버그 정보 표시\n   */\n  debugInventory(\n    inventory: any[],\n    onResetInventory: () => void\n  ): void {\n    // 디버그 정보 생성\n    let debugInfo = '━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\\n';\n    debugInfo += '🔍 인벤토리 디버그 정보\\n';\n    debugInfo += '━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\\n\\n';\n    debugInfo += `📦 총 아이템 수: ${inventory.length}개\\n\\n`;\n    \n    const hasStatsItems: any[] = [];\n    const noStatsItems: any[] = [];\n    \n    inventory.forEach((item, index) => {\n      const itemInfo = {\n        index: index + 1,\n        name: item.name,\n        type: item.type,\n        rarity: item.rarity,\n        hasStats: !!item.stats,\n        stats: item.stats\n      };\n      \n      if (item.stats) {\n        hasStatsItems.push(itemInfo);\n      } else {\n        noStatsItems.push(itemInfo);\n      }\n    });\n    \n    // stats 있는 아이템\n    if (hasStatsItems.length > 0) {\n      debugInfo += `✅ Stats 있는 아이템 (${hasStatsItems.length}개):\\n`;\n      debugInfo += '━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\\n';\n      hasStatsItems.forEach(item => {\n        debugInfo += `\\n[${item.index}] ${item.name}\\n`;\n        debugInfo += `   타입: ${item.type} | 희귀도: ${item.rarity}\\n`;\n        debugInfo += `   Stats: ✅ 있음\\n`;\n        \n        const stats = item.stats;\n        const statLines: string[] = [];\n        \n        if (stats.minDamage) statLines.push(`데미지 ${stats.minDamage}-${stats.maxDamage}`);\n        if (stats.attack) statLines.push(`공격력 +${stats.attack}`);\n        if (stats.defense) statLines.push(`방어력 +${stats.defense}`);\n        if (stats.armor) statLines.push(`방어도 +${stats.armor}`);\n        if (stats.hp) statLines.push(`생명력 +${stats.hp}`);\n        if (stats.mp) statLines.push(`마나 +${stats.mp}`);\n        if (stats.critChance) statLines.push(`크리티컬 +${stats.critChance}%`);\n        if (stats.lifeSteal) statLines.push(`생명흡수 ${stats.lifeSteal}%`);\n        if (stats.fireResist) statLines.push(`화염저항 +${stats.fireResist}%`);\n        if (stats.coldResist) statLines.push(`냉기저항 +${stats.coldResist}%`);\n        if (stats.lightningResist) statLines.push(`번개저항 +${stats.lightningResist}%`);\n        if (stats.allResist) statLines.push(`모든저항 +${stats.allResist}%`);\n        \n        if (statLines.length > 0) {\n          debugInfo += `   주요 속성: ${statLines.slice(0, 5).join(', ')}\\n`;\n          if (statLines.length > 5) {\n            debugInfo += `   + ${statLines.length - 5}개 더...\\n`;\n          }\n        }\n      });\n    }\n    \n    // stats 없는 아이템\n    if (noStatsItems.length > 0) {\n      debugInfo += `\\n\\n❌ Stats 없는 아이템 (${noStatsItems.length}개):\\n`;\n      debugInfo += '━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\\n';\n      noStatsItems.forEach(item => {\n        debugInfo += `[${item.index}] ${item.name} (${item.type}) - ⚠️ Stats 없음!\\n`;\n      });\n    }\n    \n    // 요약\n    debugInfo += `\\n━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\\n`;\n    debugInfo += `📊 요약:\\n`;\n    debugInfo += `   총 아이템: ${inventory.length}개\\n`;\n    debugInfo += `   Stats 있음: ${hasStatsItems.length}개 ✅\\n`;\n    debugInfo += `   Stats 없음: ${noStatsItems.length}개 ❌\\n`;\n    \n    if (noStatsItems.length > 0) {\n      debugInfo += `\\n⚠️ 경고: ${noStatsItems.length}개 아이템에 디아블로 속성이 없습니다!\\n`;\n      debugInfo += `\\n해결 방법:\\n`;\n      debugInfo += `1. \"🔄 인벤토리 초기화\" 버튼 클릭\\n`;\n      debugInfo += `2. \"🗑️ 게임 데이터 초기화\" 버튼 클릭\\n`;\n    } else {\n      debugInfo += `\\n✅ 모든 아이템에 디아블로 속성이 있습니다!\\n`;\n    }\n    \n    debugInfo += '━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━';\n    \n    // 모달로 표시\n    const dialogRef = this.dialog.open(ConfirmDialogComponent, {\n      width: '800px',\n      maxHeight: '80vh',\n      data: {\n        title: '🔍 인벤토리 디버그 정보',\n        message: debugInfo,\n        confirmText: noStatsItems.length > 0 ? '인벤토리 초기화' : '확인',\n        cancelText: '닫기'\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result && noStatsItems.length > 0) {\n        onResetInventory();\n      }\n    });\n  }\n\n  /**\n   * 아이템 등급에 따른 가격 계산\n   */\n  private calculateItemPriceByGrade(grade: string): number {\n    const priceMap: { [key: string]: number } = {\n      '일반': 100,\n      '고급': 500,\n      '희귀': 2000,\n      '영웅': 10000,\n      '전설': 50000\n    };\n    \n    return priceMap[grade] || 100;\n  }\n}\n", "import { Injectable } from '@angular/core';\nimport { NotificationService } from '../../../../../services/notification.service';\nimport { \n  StoryNode, StoryConnection, StoryProgress, StoryChoice \n} from '../../../models/story-node.model';\n\n/**\n * StoryFlowHelper\n * 스토리 플로우 시각화 및 노드 관리를 처리하는 헬퍼 클래스\n */\n@Injectable()\nexport class StoryFlowHelper {\n  constructor(private notification: NotificationService) {}\n\n  /**\n   * 샘플 스토리 맵 로드\n   */\n  loadSampleStoryMap(\n    onNodesLoaded: (nodes: StoryNode[], connections: StoryConnection[], startNodeId: string) => void,\n    onStoryAdded: (content: string[]) => void\n  ): void {\n    // 샘플 스토리 노드 생성\n    const storyNodes: StoryNode[] = [\n      {\n        id: 'start',\n        type: 'story',\n        title: '시작',\n        content: ['당신은 무림의 작은 마을에서 태어났습니다. 오늘은 당신의 성인식 날입니다.'],\n        choices: [\n          {\n            id: 'choice-1',\n            text: '마을 무술 도장으로 향한다',\n            targetNodeId: 'dojo'\n          },\n          {\n            id: 'choice-2',\n            text: '숲 속 은둔 고수를 찾아간다',\n            targetNodeId: 'forest'\n          }\n        ],\n        position: { x: 400, y: 100 },\n        parentIds: [],\n        childIds: ['dojo', 'forest'],\n        isVisited: true,\n        isCurrent: false,\n        isAvailable: true\n      },\n      {\n        id: 'dojo',\n        type: 'story',\n        title: '무술 도장',\n        content: ['도장의 사범이 당신을 보고 미소를 짓습니다. \"자네의 재능이 보이는구나.\"'],\n        choices: [\n          {\n            id: 'choice-3',\n            text: '검술을 배운다',\n            targetNodeId: 'sword-path'\n          },\n          {\n            id: 'choice-4',\n            text: '권법을 배운다',\n            targetNodeId: 'fist-path'\n          }\n        ],\n        position: { x: 200, y: 250 },\n        parentIds: ['start'],\n        childIds: ['sword-path', 'fist-path'],\n        isVisited: false,\n        isCurrent: false,\n        isAvailable: false\n      },\n      {\n        id: 'forest',\n        type: 'story',\n        title: '숲 속의 만남',\n        content: ['깊은 숲에서 백발의 노인을 만났습니다. 그는 당신을 오래 기다렸다고 말합니다.'],\n        choices: [\n          {\n            id: 'choice-5',\n            text: '내공 수련을 시작한다',\n            targetNodeId: 'inner-power'\n          },\n          {\n            id: 'choice-6',\n            text: '경공술을 배운다',\n            targetNodeId: 'lightness-skill'\n          }\n        ],\n        position: { x: 600, y: 250 },\n        parentIds: ['start'],\n        childIds: ['inner-power', 'lightness-skill'],\n        isVisited: false,\n        isCurrent: false,\n        isAvailable: false\n      },\n      {\n        id: 'sword-path',\n        type: 'story',\n        title: '검의 길',\n        content: ['당신은 검술의 기초를 익혔습니다. 이제 실전 경험이 필요합니다.'],\n        choices: [\n          {\n            id: 'choice-7',\n            text: '무림대회에 참가한다',\n            targetNodeId: 'tournament'\n          },\n          {\n            id: 'choice-8',\n            text: '산적 토벌에 나선다',\n            targetNodeId: 'bandit-hunt'\n          }\n        ],\n        position: { x: 100, y: 400 },\n        parentIds: ['dojo'],\n        childIds: ['tournament', 'bandit-hunt'],\n        isVisited: false,\n        isCurrent: false,\n        isAvailable: false\n      },\n      {\n        id: 'fist-path',\n        type: 'story',\n        title: '권법의 길',\n        content: ['강력한 권법을 익힌 당신은 이제 무림에 이름을 알릴 준비가 되었습니다.'],\n        choices: [\n          {\n            id: 'choice-9',\n            text: '정파에 가입한다',\n            targetNodeId: 'righteous-sect'\n          },\n          {\n            id: 'choice-10',\n            text: '홀로 수련을 계속한다',\n            targetNodeId: 'solo-training'\n          }\n        ],\n        position: { x: 300, y: 400 },\n        parentIds: ['dojo'],\n        childIds: ['righteous-sect', 'solo-training'],\n        isVisited: false,\n        isCurrent: false,\n        isAvailable: false\n      },\n      {\n        id: 'inner-power',\n        type: 'story',\n        title: '내공의 수련',\n        content: ['강력한 내공을 쌓은 당신은 특별한 능력을 각성했습니다.'],\n        choices: [\n          {\n            id: 'choice-11',\n            text: '비급을 찾아 나선다',\n            targetNodeId: 'secret-manual'\n          },\n          {\n            id: 'choice-12',\n            text: '제자를 받아들인다',\n            targetNodeId: 'disciple'\n          }\n        ],\n        position: { x: 500, y: 400 },\n        parentIds: ['forest'],\n        childIds: ['secret-manual', 'disciple'],\n        isVisited: false,\n        isCurrent: false,\n        isAvailable: false\n      },\n      {\n        id: 'lightness-skill',\n        type: 'story',\n        title: '경공의 달인',\n        content: ['누구보다 빠른 신법을 익힌 당신은 무림에서 주목받기 시작합니다.'],\n        choices: [\n          {\n            id: 'choice-13',\n            text: '암행어사가 된다',\n            targetNodeId: 'secret-agent'\n          },\n          {\n            id: 'choice-14',\n            text: '의적이 된다',\n            targetNodeId: 'righteous-thief'\n          }\n        ],\n        position: { x: 700, y: 400 },\n        parentIds: ['forest'],\n        childIds: ['secret-agent', 'righteous-thief'],\n        isVisited: false,\n        isCurrent: false,\n        isAvailable: false\n      },\n      {\n        id: 'tournament',\n        type: 'battle',\n        title: '무림대회',\n        content: ['무림대회에서 강적을 만났습니다!'],\n        battleConfig: {\n          enemyId: 'sword-master',\n          enemyName: '천하제일검',\n          difficulty: 10,\n          winNodeId: 'leader-path',\n          loseNodeId: 'start',\n          rewards: {\n            exp: 100,\n            gold: 200\n          }\n        },\n        choices: [\n          {\n            id: 'choice-15',\n            text: '무림맹주가 된다',\n            targetNodeId: 'leader-path',\n            type: 'special'\n          }\n        ],\n        position: { x: 50, y: 550 },\n        parentIds: ['sword-path'],\n        childIds: ['leader-path'],\n        isVisited: false,\n        isCurrent: false,\n        isAvailable: false\n      },\n      {\n        id: 'bandit-hunt',\n        type: 'battle',\n        title: '산적 토벌',\n        content: ['산적 두목과 맞서게 되었습니다!'],\n        battleConfig: {\n          enemyId: 'bandit-boss',\n          enemyName: '산적 두목',\n          difficulty: 8,\n          winNodeId: 'hero-path',\n          loseNodeId: 'start',\n          rewards: {\n            exp: 80,\n            gold: 150\n          }\n        },\n        choices: [\n          {\n            id: 'choice-16',\n            text: '영웅으로 추앙받다',\n            targetNodeId: 'hero-path',\n            type: 'special'\n          }\n        ],\n        position: { x: 200, y: 550 },\n        parentIds: ['sword-path'],\n        childIds: ['hero-path'],\n        isVisited: false,\n        isCurrent: false,\n        isAvailable: false\n      },\n      {\n        id: 'righteous-sect',\n        type: 'story',\n        title: '정파의 일원',\n        content: ['당신은 정파의 핵심 인물이 되었습니다.'],\n        choices: [\n          {\n            id: 'choice-17',\n            text: '사파와의 전쟁을 준비한다',\n            targetNodeId: 'war-preparation'\n          }\n        ],\n        position: { x: 350, y: 550 },\n        parentIds: ['fist-path'],\n        childIds: ['war-preparation'],\n        isVisited: false,\n        isCurrent: false,\n        isAvailable: false\n      },\n      {\n        id: 'solo-training',\n        type: 'story',\n        title: '홀로 선 자',\n        content: ['당신은 정사파를 초월한 경지에 이르렀습니다.'],\n        choices: [\n          {\n            id: 'choice-18',\n            text: '전설이 되다',\n            targetNodeId: 'legend-ending'\n          }\n        ],\n        position: { x: 500, y: 550 },\n        parentIds: ['fist-path'],\n        childIds: ['legend-ending'],\n        isVisited: false,\n        isCurrent: false,\n        isAvailable: false\n      },\n      {\n        id: 'secret-manual',\n        type: 'story',\n        title: '절세비급',\n        content: ['전설의 비급을 손에 넣었습니다!'],\n        choices: [\n          {\n            id: 'choice-19',\n            text: '천하제일이 된다',\n            targetNodeId: 'supreme-ending'\n          }\n        ],\n        position: { x: 650, y: 550 },\n        parentIds: ['inner-power'],\n        childIds: ['supreme-ending'],\n        isVisited: false,\n        isCurrent: false,\n        isAvailable: false\n      },\n      {\n        id: 'disciple',\n        type: 'story',\n        title: '스승의 길',\n        content: ['당신은 뛰어난 제자들을 길러냈습니다.'],\n        choices: [\n          {\n            id: 'choice-20',\n            text: '문파를 창시한다',\n            targetNodeId: 'sect-ending'\n          }\n        ],\n        position: { x: 400, y: 650 },\n        parentIds: ['inner-power'],\n        childIds: ['sect-ending'],\n        isVisited: false,\n        isCurrent: false,\n        isAvailable: false\n      },\n      {\n        id: 'secret-agent',\n        type: 'story',\n        title: '암행어사',\n        content: ['당신은 왕명을 받들어 무림을 감시합니다.'],\n        choices: [\n          {\n            id: 'choice-21',\n            text: '평화를 지킨다',\n            targetNodeId: 'peace-ending'\n          }\n        ],\n        position: { x: 600, y: 650 },\n        parentIds: ['lightness-skill'],\n        childIds: ['peace-ending'],\n        isVisited: false,\n        isCurrent: false,\n        isAvailable: false\n      },\n      {\n        id: 'righteous-thief',\n        type: 'story',\n        title: '의적',\n        content: ['당신은 탐관오리들을 응징하며 백성들을 돕습니다.'],\n        choices: [\n          {\n            id: 'choice-22',\n            text: '민중의 영웅이 된다',\n            targetNodeId: 'hero-ending'\n          }\n        ],\n        position: { x: 800, y: 650 },\n        parentIds: ['lightness-skill'],\n        childIds: ['hero-ending'],\n        isVisited: false,\n        isCurrent: false,\n        isAvailable: false\n      },\n      {\n        id: 'war-preparation',\n        type: 'story',\n        title: '정사대전 준비',\n        content: ['정파와 사파의 대전이 다가옵니다.'],\n        choices: [\n          {\n            id: 'choice-23',\n            text: '결전을 벌인다',\n            targetNodeId: 'final-battle'\n          }\n        ],\n        position: { x: 350, y: 700 },\n        parentIds: ['righteous-sect'],\n        childIds: ['final-battle'],\n        isVisited: false,\n        isCurrent: false,\n        isAvailable: false\n      },\n      {\n        id: 'leader-path',\n        type: 'ending',\n        title: '무림맹주 엔딩',\n        content: ['당신은 무림맹주가 되어 무림을 이끌게 되었습니다.', '평화로운 무림을 만들기 위한 여정이 시작됩니다.'],\n        position: { x: 100, y: 800 },\n        parentIds: ['tournament'],\n        childIds: [],\n        isVisited: false,\n        isCurrent: false,\n        isAvailable: false\n      },\n      {\n        id: 'hero-path',\n        type: 'ending',\n        title: '협객 엔딩',\n        content: ['당신은 의로운 협객으로 무림에 이름을 남겼습니다.', '백성들은 당신을 영웅으로 기억합니다.'],\n        position: { x: 250, y: 800 },\n        parentIds: ['bandit-hunt'],\n        childIds: [],\n        isVisited: false,\n        isCurrent: false,\n        isAvailable: false\n      },\n      {\n        id: 'legend-ending',\n        type: 'ending',\n        title: '전설 엔딩',\n        content: ['당신은 무림의 전설이 되었습니다.', '후대 사람들은 당신의 이야기를 전설처럼 이야기합니다.'],\n        position: { x: 500, y: 800 },\n        parentIds: ['solo-training'],\n        childIds: [],\n        isVisited: false,\n        isCurrent: false,\n        isAvailable: false\n      },\n      {\n        id: 'supreme-ending',\n        type: 'ending',\n        title: '천하제일 엔딩',\n        content: ['당신은 천하제일의 고수가 되었습니다.', '무림에서 당신을 당할 자는 아무도 없습니다.'],\n        position: { x: 650, y: 800 },\n        parentIds: ['secret-manual'],\n        childIds: [],\n        isVisited: false,\n        isCurrent: false,\n        isAvailable: false\n      },\n      {\n        id: 'sect-ending',\n        type: 'ending',\n        title: '종사 엔딩',\n        content: ['당신은 위대한 문파를 창시했습니다.', '당신의 제자들이 무림을 이끌어갑니다.'],\n        position: { x: 400, y: 800 },\n        parentIds: ['disciple'],\n        childIds: [],\n        isVisited: false,\n        isCurrent: false,\n        isAvailable: false\n      },\n      {\n        id: 'peace-ending',\n        type: 'ending',\n        title: '평화수호자 엔딩',\n        content: ['당신은 무림의 평화를 지켰습니다.', '당신의 공로로 무림에 평화가 찾아왔습니다.'],\n        position: { x: 600, y: 800 },\n        parentIds: ['secret-agent'],\n        childIds: [],\n        isVisited: false,\n        isCurrent: false,\n        isAvailable: false\n      },\n      {\n        id: 'hero-ending',\n        type: 'ending',\n        title: '민중영웅 엔딩',\n        content: ['당신은 민중의 영웅이 되었습니다.', '백성들은 당신을 의로운 협객으로 추앙합니다.'],\n        position: { x: 800, y: 800 },\n        parentIds: ['righteous-thief'],\n        childIds: [],\n        isVisited: false,\n        isCurrent: false,\n        isAvailable: false\n      },\n      {\n        id: 'final-battle',\n        type: 'battle',\n        title: '정사대전',\n        content: ['정파와 사파의 최후 결전이 시작됩니다!'],\n        battleConfig: {\n          enemyId: 'demon-lord',\n          enemyName: '마교교주',\n          difficulty: 15,\n          winNodeId: 'savior-ending',\n          loseNodeId: 'start',\n          rewards: {\n            exp: 200,\n            gold: 500\n          }\n        },\n        choices: [\n          {\n            id: 'choice-24',\n            text: '무림을 구하다',\n            targetNodeId: 'savior-ending',\n            type: 'ending'\n          }\n        ],\n        position: { x: 350, y: 850 },\n        parentIds: ['war-preparation'],\n        childIds: ['savior-ending'],\n        isVisited: false,\n        isCurrent: false,\n        isAvailable: false\n      },\n      {\n        id: 'savior-ending',\n        type: 'ending',\n        title: '구세주 엔딩',\n        content: ['당신은 무림을 구한 영웅이 되었습니다.', '당신의 이름은 영원히 무림의 역사에 남을 것입니다.'],\n        position: { x: 350, y: 1000 },\n        parentIds: ['final-battle'],\n        childIds: [],\n        isVisited: false,\n        isCurrent: false,\n        isAvailable: false\n      }\n    ];\n\n    // 스토리 연결 생성\n    const storyConnections: StoryConnection[] = [];\n    storyNodes.forEach(node => {\n      if (node.choices) {\n        node.choices.forEach(choice => {\n          if (choice.targetNodeId) {\n            const targetNode = storyNodes.find(n => n.id === choice.targetNodeId);\n            if (targetNode) {\n              // SVG 경로 계산 (노드 중심에서 중심으로)\n              const x1 = node.position.x;\n              const y1 = node.position.y;\n              const x2 = targetNode.position.x;\n              const y2 = targetNode.position.y;\n              \n              // 베지어 곡선으로 부드러운 연결선 생성\n              const midY = (y1 + y2) / 2;\n              const path = `M ${x1} ${y1} C ${x1} ${midY}, ${x2} ${midY}, ${x2} ${y2}`;\n              \n              storyConnections.push({\n                id: `${node.id}-${choice.targetNodeId}`,\n                from: node.id,\n                to: choice.targetNodeId,\n                path: path,\n                isVisited: false,\n                isCurrent: false,\n                color: '#64748b',\n                width: 2\n              });\n            }\n          }\n        });\n      }\n    });\n\n    // 시작 노드의 내용을 전달\n    const startNode = storyNodes.find(n => n.id === 'start');\n    if (startNode) {\n      onStoryAdded(startNode.content);\n    }\n\n    onNodesLoaded(storyNodes, storyConnections, 'start');\n    this.notification.show('📚 샘플 스토리가 로드되었습니다!');\n  }\n\n  /**\n   * 노드 아이콘 가져오기\n   */\n  getNodeIcon(node: StoryNode): string {\n    switch (node.type) {\n      case 'start': return '🎬';\n      case 'story': return '📖';\n      case 'battle': return '⚔️';\n      case 'event': return '✨';\n      case 'ending': return '🏁';\n      default: return '📍';\n    }\n  }\n\n  /**\n   * 탐험률 계산\n   */\n  calculateExplorationRate(storyNodes: StoryNode[]): number {\n    if (storyNodes.length === 0) return 0;\n    const total = storyNodes.length;\n    const visited = storyNodes.filter(n => n.isVisited).length;\n    return Math.round((visited / total) * 100);\n  }\n\n  /**\n   * 현재 노드 가져오기\n   */\n  getCurrentNode(storyNodes: StoryNode[], currentNodeId: string | null): StoryNode | null {\n    if (!currentNodeId || storyNodes.length === 0) {\n      return null;\n    }\n    return storyNodes.find(n => n.id === currentNodeId) || null;\n  }\n\n  /**\n   * ID로 노드 가져오기\n   */\n  getNodeById(storyNodes: StoryNode[], nodeId: string): StoryNode | null {\n    return storyNodes.find(n => n.id === nodeId) || null;\n  }\n}\n", "import { Injectable } from '@angular/core';\n\nexport interface GeneratedScenario {\n  id: string;\n  title: string;\n  description: string;\n  characters: string[];\n  setting: string;\n  conflict: string;\n  goal: string;\n  mood: string;\n  tags: string[];\n  genre: string;\n  style: string;\n  createdAt: Date;\n  isAdult: boolean;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ScenarioDbService {\n  private dbName = 'NovelScenarioDB';\n  private dbVersion = 1;\n  private storeName = 'scenarios';\n  private db: IDBDatabase | null = null;\n\n  constructor() {\n    this.initDB();\n  }\n\n  // IndexedDB 초기화\n  private async initDB(): Promise<void> {\n    return new Promise((resolve, reject) => {\n      const request = indexedDB.open(this.dbName, this.dbVersion);\n\n      request.onerror = () => {\n        reject(request.error);\n      };\n\n      request.onsuccess = () => {\n        this.db = request.result;\n        resolve();\n      };\n\n      request.onupgradeneeded = (event: any) => {\n        const db = event.target.result;\n        \n        // 스토어가 없으면 생성\n        if (!db.objectStoreNames.contains(this.storeName)) {\n          const objectStore = db.createObjectStore(this.storeName, { keyPath: 'id' });\n          objectStore.createIndex('title', 'title', { unique: false });\n          objectStore.createIndex('genre', 'genre', { unique: false });\n          objectStore.createIndex('createdAt', 'createdAt', { unique: false });\n        }\n      };\n    });\n  }\n\n  // DB 연결 확인\n  private async ensureDB(): Promise<IDBDatabase> {\n    if (!this.db) {\n      await this.initDB();\n    }\n    return this.db!;\n  }\n\n  // 시나리오 저장\n  async saveScenario(scenario: GeneratedScenario): Promise<void> {\n    const db = await this.ensureDB();\n    return new Promise((resolve, reject) => {\n      const transaction = db.transaction([this.storeName], 'readwrite');\n      const objectStore = transaction.objectStore(this.storeName);\n      const request = objectStore.put(scenario);\n\n      request.onsuccess = () => {\n        resolve();\n      };\n\n      request.onerror = () => {\n        reject(request.error);\n      };\n    });\n  }\n\n  // 모든 시나리오 가져오기\n  async getAllScenarios(): Promise<GeneratedScenario[]> {\n    const db = await this.ensureDB();\n    return new Promise((resolve, reject) => {\n      const transaction = db.transaction([this.storeName], 'readonly');\n      const objectStore = transaction.objectStore(this.storeName);\n      const request = objectStore.getAll();\n\n      request.onsuccess = () => {\n        const scenarios = request.result as GeneratedScenario[];\n        // 최신순으로 정렬\n        scenarios.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\n        resolve(scenarios);\n      };\n\n      request.onerror = () => {\n        reject(request.error);\n      };\n    });\n  }\n\n  // ID로 시나리오 가져오기\n  async getScenario(id: string): Promise<GeneratedScenario | null> {\n    const db = await this.ensureDB();\n    return new Promise((resolve, reject) => {\n      const transaction = db.transaction([this.storeName], 'readonly');\n      const objectStore = transaction.objectStore(this.storeName);\n      const request = objectStore.get(id);\n\n      request.onsuccess = () => {\n        resolve(request.result || null);\n      };\n\n      request.onerror = () => {\n        reject(request.error);\n      };\n    });\n  }\n\n  // 시나리오 삭제\n  async deleteScenario(id: string): Promise<void> {\n    const db = await this.ensureDB();\n    return new Promise((resolve, reject) => {\n      const transaction = db.transaction([this.storeName], 'readwrite');\n      const objectStore = transaction.objectStore(this.storeName);\n      const request = objectStore.delete(id);\n\n      request.onsuccess = () => {\n        resolve();\n      };\n\n      request.onerror = () => {\n        reject(request.error);\n      };\n    });\n  }\n\n  // 장르별 시나리오 가져오기\n  async getScenariosByGenre(genre: string): Promise<GeneratedScenario[]> {\n    const db = await this.ensureDB();\n    return new Promise((resolve, reject) => {\n      const transaction = db.transaction([this.storeName], 'readonly');\n      const objectStore = transaction.objectStore(this.storeName);\n      const index = objectStore.index('genre');\n      const request = index.getAll(genre);\n\n      request.onsuccess = () => {\n        const scenarios = request.result as GeneratedScenario[];\n        scenarios.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\n        resolve(scenarios);\n      };\n\n      request.onerror = () => {\n        reject(request.error);\n      };\n    });\n  }\n\n  // 모든 시나리오 삭제\n  async clearAllScenarios(): Promise<void> {\n    const db = await this.ensureDB();\n    return new Promise((resolve, reject) => {\n      const transaction = db.transaction([this.storeName], 'readwrite');\n      const objectStore = transaction.objectStore(this.storeName);\n      const request = objectStore.clear();\n\n      request.onsuccess = () => {\n        resolve();\n      };\n\n      request.onerror = () => {\n        reject(request.error);\n      };\n    });\n  }\n}\n", "import { Injectable } from '@angular/core';\n\nexport interface GeneratedCharacter {\n  id?: number;\n  name: string;\n  gender: string;\n  age: number;\n  occupation: string;\n  role?: string; // 추가: 역할\n  personality: string[];\n  backstory: string;\n  background?: string; // 추가: 배경 스토리\n  skills: string[];\n  abilities?: string[]; // 추가: 능력 목록\n  appearance: string;\n  goal: string;\n  goals?: string; // 추가: 목표 (복수형)\n  weakness: string;\n  traits?: string[]; // 추가: 특성 목록\n  tags: string[];\n  createdAt: Date;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CharacterDbService {\n  private dbName = 'NovelCharacterDB';\n  private storeName = 'characters';\n  private db: IDBDatabase | null = null;\n\n  constructor() {\n    this.initDB();\n  }\n\n  private async initDB(): Promise<void> {\n    return new Promise((resolve, reject) => {\n      const request = indexedDB.open(this.dbName, 1);\n\n      request.onerror = () => {\n        reject(request.error);\n      };\n\n      request.onsuccess = () => {\n        this.db = request.result;\n        resolve();\n      };\n\n      request.onupgradeneeded = (event: any) => {\n        const db = event.target.result;\n        \n        if (!db.objectStoreNames.contains(this.storeName)) {\n          const objectStore = db.createObjectStore(this.storeName, { \n            keyPath: 'id', \n            autoIncrement: true \n          });\n          \n          // 인덱스 생성\n          objectStore.createIndex('name', 'name', { unique: false });\n          objectStore.createIndex('occupation', 'occupation', { unique: false });\n          objectStore.createIndex('createdAt', 'createdAt', { unique: false });\n          \n        }\n      };\n    });\n  }\n\n  async saveCharacter(character: GeneratedCharacter): Promise<number> {\n    if (!this.db) {\n      await this.initDB();\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction([this.storeName], 'readwrite');\n      const objectStore = transaction.objectStore(this.storeName);\n      const request = objectStore.add(character);\n\n      request.onsuccess = () => {\n        resolve(request.result as number);\n      };\n\n      request.onerror = () => {\n        reject(request.error);\n      };\n    });\n  }\n\n  async getAllCharacters(): Promise<GeneratedCharacter[]> {\n    if (!this.db) {\n      await this.initDB();\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction([this.storeName], 'readonly');\n      const objectStore = transaction.objectStore(this.storeName);\n      const request = objectStore.getAll();\n\n      request.onsuccess = () => {\n        const characters = request.result;\n        // 최신순으로 정렬\n        characters.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\n        resolve(characters);\n      };\n\n      request.onerror = () => {\n        reject(request.error);\n      };\n    });\n  }\n\n  async getCharacter(id: number): Promise<GeneratedCharacter | undefined> {\n    if (!this.db) {\n      await this.initDB();\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction([this.storeName], 'readonly');\n      const objectStore = transaction.objectStore(this.storeName);\n      const request = objectStore.get(id);\n\n      request.onsuccess = () => {\n        resolve(request.result);\n      };\n\n      request.onerror = () => {\n        reject(request.error);\n      };\n    });\n  }\n\n  async deleteCharacter(id: number): Promise<void> {\n    if (!this.db) {\n      await this.initDB();\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction([this.storeName], 'readwrite');\n      const objectStore = transaction.objectStore(this.storeName);\n      const request = objectStore.delete(id);\n\n      request.onsuccess = () => {\n        resolve();\n      };\n\n      request.onerror = () => {\n        reject(request.error);\n      };\n    });\n  }\n\n  async clearAllCharacters(): Promise<void> {\n    if (!this.db) {\n      await this.initDB();\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction([this.storeName], 'readwrite');\n      const objectStore = transaction.objectStore(this.storeName);\n      const request = objectStore.clear();\n\n      request.onsuccess = () => {\n        resolve();\n      };\n\n      request.onerror = () => {\n        reject(request.error);\n      };\n    });\n  }\n}\n", "import { Injectable, inject } from '@angular/core';\nimport { DebugLoggerService } from '../../../shared/services/debug-logger.service';\n\nexport interface SavedStory {\n  id: string;\n  title: string;\n  genre: string;\n  description: string;\n  icon: string;\n  difficulty: 'easy' | 'normal' | 'hard';\n  startingGold: number;\n  startingItems: any[];\n  firstStory: string[];\n  firstChoices: string[];\n  createdAt: Date;\n  createdBy: string; // 생성 방법 (AI, User 등)\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StoryDbService {\n  private debugLogger = inject(DebugLoggerService);\n  private dbName = 'NovelStoryDB';\n  private storeName = 'stories';\n  private db: IDBDatabase | null = null;\n\n  constructor() {\n    this.initDB();\n  }\n\n  private async initDB(): Promise<void> {\n    return new Promise((resolve, reject) => {\n      const request = indexedDB.open(this.dbName, 1);\n\n      request.onerror = () => {\n        this.debugLogger.error('StoryDB', `❌ DB 열기 실패: ${request.error}`);\n        reject(request.error);\n      };\n\n      request.onsuccess = () => {\n        this.db = request.result;\n        this.debugLogger.success('StoryDB', '✅ DB 열기 성공');\n        resolve();\n      };\n\n      request.onupgradeneeded = (event: any) => {\n        const db = event.target.result;\n        \n        if (!db.objectStoreNames.contains(this.storeName)) {\n          const objectStore = db.createObjectStore(this.storeName, { \n            keyPath: 'id',\n            autoIncrement: false\n          });\n          \n          objectStore.createIndex('title', 'title', { unique: false });\n          objectStore.createIndex('createdAt', 'createdAt', { unique: false });\n          objectStore.createIndex('genre', 'genre', { unique: false });\n          \n        }\n      };\n    });\n  }\n\n  /**\n   * 스토리 저장\n   */\n  async saveStory(story: SavedStory): Promise<void> {\n    if (!this.db) {\n      await this.initDB();\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction([this.storeName], 'readwrite');\n      const objectStore = transaction.objectStore(this.storeName);\n      \n      const request = objectStore.put(story);\n\n      request.onsuccess = () => {\n        this.debugLogger.success('StoryDB', `💾 스토리 저장 성공: ${story.title}`);\n        resolve();\n      };\n\n      request.onerror = () => {\n        this.debugLogger.error('StoryDB', `❌ 스토리 저장 실패: ${request.error}`);\n        reject(request.error);\n      };\n    });\n  }\n\n  /**\n   * 모든 스토리 가져오기\n   */\n  async getAllStories(): Promise<SavedStory[]> {\n    if (!this.db) {\n      await this.initDB();\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction([this.storeName], 'readonly');\n      const objectStore = transaction.objectStore(this.storeName);\n      const request = objectStore.getAll();\n\n      request.onsuccess = () => {\n        const stories = request.result as SavedStory[];\n        // 최신순 정렬\n        stories.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\n        this.debugLogger.info('StoryDB', `📚 저장된 스토리 목록: ${stories.length}개`);\n        resolve(stories);\n      };\n\n      request.onerror = () => {\n        this.debugLogger.error('StoryDB', `❌ 스토리 목록 로드 실패: ${request.error}`);\n        reject(request.error);\n      };\n    });\n  }\n\n  /**\n   * 특정 스토리 가져오기\n   */\n  async getStory(id: string): Promise<SavedStory | null> {\n    if (!this.db) {\n      await this.initDB();\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction([this.storeName], 'readonly');\n      const objectStore = transaction.objectStore(this.storeName);\n      const request = objectStore.get(id);\n\n      request.onsuccess = () => {\n        resolve(request.result || null);\n      };\n\n      request.onerror = () => {\n        reject(request.error);\n      };\n    });\n  }\n\n  /**\n   * 스토리 삭제\n   */\n  async deleteStory(id: string): Promise<void> {\n    if (!this.db) {\n      await this.initDB();\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction([this.storeName], 'readwrite');\n      const objectStore = transaction.objectStore(this.storeName);\n      const request = objectStore.delete(id);\n\n      request.onsuccess = () => {\n        resolve();\n      };\n\n      request.onerror = () => {\n        reject(request.error);\n      };\n    });\n  }\n\n  /**\n   * 모든 스토리 삭제 (초기화)\n   */\n  async clearAllStories(): Promise<void> {\n    if (!this.db) {\n      await this.initDB();\n    }\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction([this.storeName], 'readwrite');\n      const objectStore = transaction.objectStore(this.storeName);\n      const request = objectStore.clear();\n\n      request.onsuccess = () => {\n        resolve();\n      };\n\n      request.onerror = () => {\n        reject(request.error);\n      };\n    });\n  }\n}\n", "import { Injectable } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { NotificationService } from '../../../../../services/notification.service';\nimport { ScenarioDbService, GeneratedScenario } from '../../../services/scenario-db.service';\nimport { CharacterDbService, GeneratedCharacter } from '../../../services/character-db.service';\nimport { StoryDbService, SavedStory } from '../../../services/story-db.service';\nimport { ConfirmDialogComponent } from '../../confirm-dialog/confirm-dialog.component';\n\n/**\n * ContentManagementHelper\n * 시나리오, 캐릭터, 스토리 생성 및 관리를 처리하는 헬퍼 클래스\n */\n@Injectable()\nexport class ContentManagementHelper {\n  constructor(\n    private notification: NotificationService,\n    private dialog: MatDialog,\n    private scenarioDbService: ScenarioDbService,\n    private characterDbService: CharacterDbService,\n    private storyDbService: StoryDbService\n  ) {}\n\n  // ==================== 시나리오 관리 ====================\n\n  /**\n   * 저장된 시나리오 목록 로드\n   */\n  async loadSavedScenarios(): Promise<GeneratedScenario[]> {\n    try {\n      return await this.scenarioDbService.getAllScenarios();\n    } catch (error) {\n      return [];\n    }\n  }\n\n  /**\n   * 생성된 시나리오 저장\n   */\n  async saveGeneratedScenario(\n    generatedScenario: any,\n    onSuccess: () => void\n  ): Promise<void> {\n    if (!generatedScenario) return;\n    \n    const scenario: GeneratedScenario = {\n      id: `scenario_${Date.now()}`,\n      title: generatedScenario.title || '제목 없음',\n      description: generatedScenario.description || '',\n      characters: generatedScenario.characters || [],\n      setting: generatedScenario.setting || '',\n      conflict: generatedScenario.conflict || '',\n      goal: generatedScenario.goal || '',\n      mood: generatedScenario.mood || '',\n      tags: generatedScenario.tags || [],\n      genre: generatedScenario.genre || '무협',\n      style: generatedScenario.style || '전통적인',\n      createdAt: new Date(),\n      isAdult: generatedScenario.isAdult || false\n    };\n    \n    try {\n      await this.scenarioDbService.saveScenario(scenario);\n      this.notification.show('✅ 시나리오가 저장되었습니다!');\n      onSuccess();\n    } catch (error) {\n      this.notification.show('시나리오 저장에 실패했습니다.');\n    }\n  }\n\n  /**\n   * 시나리오 삭제 (확인 다이얼로그 포함)\n   */\n  async deleteScenario(\n    scenarioId: string,\n    onSuccess: () => void\n  ): Promise<void> {\n    const dialogRef = this.dialog.open(ConfirmDialogComponent, {\n      width: '400px',\n      data: {\n        title: '시나리오 삭제',\n        message: '이 시나리오를 삭제하시겠습니까?',\n        confirmText: '삭제',\n        cancelText: '취소'\n      }\n    });\n\n    const confirmed = await dialogRef.afterClosed().toPromise();\n    if (!confirmed) {\n      return;\n    }\n    \n    try {\n      await this.scenarioDbService.deleteScenario(scenarioId);\n      onSuccess();\n    } catch (error) {\n      this.notification.show('시나리오 삭제에 실패했습니다.');\n    }\n  }\n\n  /**\n   * 시나리오로 스토리 블록 생성\n   */\n  generateStoryBlocksFromScenario(scenario: GeneratedScenario): string[] {\n    return [\n      `🎬 ${scenario.title}`,\n      ``,\n      `${scenario.description}`,\n      ``,\n      `📍 배경: ${scenario.setting}`,\n      `⚔️ 갈등: ${scenario.conflict}`,\n      `🎯 목표: ${scenario.goal}`,\n      ``,\n      `당신의 이야기가 시작됩니다...`\n    ];\n  }\n\n  // ==================== 캐릭터 관리 ====================\n\n  /**\n   * 저장된 캐릭터 목록 로드\n   */\n  async loadSavedCharacters(): Promise<GeneratedCharacter[]> {\n    try {\n      return await this.characterDbService.getAllCharacters();\n    } catch (error) {\n      return [];\n    }\n  }\n\n  /**\n   * 생성된 캐릭터 저장\n   */\n  async saveGeneratedCharacter(\n    generatedCharacter: any,\n    onSuccess: () => void\n  ): Promise<void> {\n    if (!generatedCharacter) return;\n\n    const character: GeneratedCharacter = {\n      name: generatedCharacter.name || '이름 없음',\n      gender: generatedCharacter.gender || 'unknown',\n      age: generatedCharacter.age || 20,\n      occupation: generatedCharacter.occupation || '',\n      personality: generatedCharacter.personality || [],\n      backstory: generatedCharacter.backstory || '',\n      skills: generatedCharacter.skills || [],\n      appearance: generatedCharacter.appearance || '',\n      goal: generatedCharacter.goal || '',\n      weakness: generatedCharacter.weakness || '',\n      tags: generatedCharacter.tags || [],\n      createdAt: new Date()\n    };\n\n    try {\n      await this.characterDbService.saveCharacter(character);\n      this.notification.show('✅ 캐릭터가 저장되었습니다!');\n      onSuccess();\n    } catch (error) {\n      this.notification.show('캐릭터 저장에 실패했습니다.');\n    }\n  }\n\n  /**\n   * 캐릭터 삭제 (확인 다이얼로그 포함)\n   */\n  async deleteCharacter(\n    characterId: number,\n    onSuccess: () => void\n  ): Promise<void> {\n    const dialogRef = this.dialog.open(ConfirmDialogComponent, {\n      width: '400px',\n      data: {\n        title: '캐릭터 삭제',\n        message: '이 캐릭터를 삭제하시겠습니까?',\n        confirmText: '삭제',\n        cancelText: '취소'\n      }\n    });\n\n    const confirmed = await dialogRef.afterClosed().toPromise();\n    if (!confirmed) {\n      return;\n    }\n\n    try {\n      await this.characterDbService.deleteCharacter(characterId);\n      onSuccess();\n    } catch (error) {\n      this.notification.show('캐릭터 삭제에 실패했습니다.');\n    }\n  }\n\n  // ==================== 스토리 관리 ====================\n\n  /**\n   * 저장된 스토리 목록 로드\n   */\n  async loadSavedStories(): Promise<SavedStory[]> {\n    try {\n      return await this.storyDbService.getAllStories();\n    } catch (error) {\n      return [];\n    }\n  }\n\n  /**\n   * 생성된 스토리 저장\n   */\n  async saveGeneratedStory(\n    generatedStory: any,\n    onSuccess: () => void\n  ): Promise<void> {\n    if (!generatedStory) return;\n\n    const story: SavedStory = {\n      id: `story_${Date.now()}`,\n      title: generatedStory.title || '제목 없음',\n      description: generatedStory.description || '',\n      genre: generatedStory.genre || 'fantasy',\n      icon: '📖',\n      difficulty: generatedStory.difficulty || 'normal',\n      startingGold: generatedStory.startingGold || 100,\n      startingItems: generatedStory.startingItems || [],\n      firstStory: generatedStory.firstStory || [],\n      firstChoices: generatedStory.firstChoices || [],\n      createdAt: new Date(),\n      createdBy: 'AI'\n    };\n\n    try {\n      await this.storyDbService.saveStory(story);\n      this.notification.show('✅ 스토리가 저장되었습니다!');\n      onSuccess();\n    } catch (error) {\n      this.notification.show('스토리 저장에 실패했습니다.');\n    }\n  }\n\n  /**\n   * 스토리 삭제 (확인 다이얼로그 포함)\n   */\n  async deleteStory(\n    storyId: string,\n    onSuccess: () => void\n  ): Promise<void> {\n    const dialogRef = this.dialog.open(ConfirmDialogComponent, {\n      width: '400px',\n      data: {\n        title: '스토리 삭제',\n        message: '이 스토리를 삭제하시겠습니까?',\n        confirmText: '삭제',\n        cancelText: '취소'\n      }\n    });\n\n    const confirmed = await dialogRef.afterClosed().toPromise();\n    if (!confirmed) {\n      return;\n    }\n\n    try {\n      await this.storyDbService.deleteStory(storyId);\n      onSuccess();\n    } catch (error) {\n      this.notification.show('스토리 삭제에 실패했습니다.');\n    }\n  }\n\n  /**\n   * 저장된 스토리를 노벨 템플릿으로 변환\n   */\n  convertStoryToNovelTemplate(story: SavedStory): any {\n    return {\n      id: story.id,\n      title: story.title,\n      genre: story.genre || 'fantasy',\n      description: story.description || '',\n      icon: '📖',\n      difficulty: story.difficulty || 'normal',\n      startingGold: story.startingGold || 100,\n      startingItems: story.startingItems || [],\n      firstStory: story.firstStory || '',\n      firstChoices: story.firstChoices || []\n    };\n  }\n}\n", "import { DiabloItem } from '../../../models/diablo-item.model';\nimport { InventoryItem } from '../../../models/inventory.model';\n\n/**\n * Diablo 스타일 아이템 변환 및 관리 Helper\n * - Diablo 아이템 → InventoryItem 변환\n * - 아이템 아이콘 반환\n * - 아이템 등급/가격 매핑\n */\nexport class DiabloItemHelper {\n  /**\n   * 등급 심볼 반환 (디아블로 스타일)\n   */\n  static getRaritySymbol(rarity: string): string {\n    const symbolMap: { [key: string]: string } = {\n      'normal': '⚪',\n      'magic': '🔵',\n      'rare': '🟡',\n      'unique': '🟣',\n      'set': '🟢',\n      'legendary': '🟠'\n    };\n    return symbolMap[rarity] || '⚪';\n  }\n\n  /**\n   * 인벤토리 아이템의 아이콘 반환\n   */\n  static getInventoryItemIcon(item: InventoryItem): string {\n    if (item.icon) {\n      return item.icon;\n    }\n    \n    const type = item.type.toLowerCase();\n    \n    // 무기\n    if (type === 'weapon') {\n      return this.getWeaponIcon(item.name?.toLowerCase() || '');\n    }\n    \n    // 방어구\n    if (type === 'armor' || type === 'helmet' || type === 'gloves' || type === 'boots' || type === 'belt') {\n      return this.getArmorIcon(type, item.name?.toLowerCase() || '');\n    }\n    \n    // 기타\n    return '📦';\n  }\n\n  /**\n   * 무기 아이콘 반환\n   */\n  private static getWeaponIcon(name: string): string {\n    if (name.includes('도끼') || name.includes('철월')) return '🪓';\n    if (name.includes('단검')) return '🗡️';\n    if (name.includes('검')) return '⚔️';\n    if (name.includes('활')) return '🏹';\n    if (name.includes('석궁') || name.includes('쇠뇌')) return '🏹';\n    if (name.includes('지팡이') || name.includes('완드') || name.includes('마법봉')) return '🪄';\n    if (name.includes('창') || name.includes('폴암') || name.includes('육척봉')) return '🔱';\n    if (name.includes('망치') || name.includes('철퇴') || name.includes('둔기')) return '🔨';\n    if (name.includes('낫')) return '⚔️';\n    if (name.includes('방패')) return '🛡️';\n    return '⚔️';\n  }\n\n  /**\n   * 방어구 아이콘 반환\n   */\n  private static getArmorIcon(type: string, name: string): string {\n    if (type === 'helmet') return '⛑️';\n    if (type === 'armor') return '🦺';\n    if (type === 'gloves') return '🧤';\n    if (type === 'boots') return '👢';\n    if (type === 'belt') return '🎗️';\n    \n    if (name.includes('투구') || name.includes('두개골')) return '⛑️';\n    if (name.includes('갑옷') || name.includes('가슴')) return '🦺';\n    if (name.includes('장갑')) return '🧤';\n    if (name.includes('신발') || name.includes('장화')) return '👢';\n    if (name.includes('바지')) return '👖';\n    if (name.includes('벨트')) return '🎗️';\n    \n    return '🦺';\n  }\n\n  /**\n   * DiabloItem을 InventoryItem으로 변환\n   */\n  static convertDiabloItemToInventoryItem(diabloItem: DiabloItem): InventoryItem {\n    // ID는 문자열로 변환\n    const itemId = String(diabloItem.id);\n    \n    // 희귀도 매핑\n    const mappedRarity = this.mapDiabloRarity(diabloItem.rarity.toString());\n    \n    // 타입 매핑\n    const mappedType = this.mapDiabloType(diabloItem.type.toString());\n    \n    // 기본 아이템 정보 설정\n    const inventoryItem: InventoryItem = {\n      id: itemId,\n      name: diabloItem.nameKo || diabloItem.name || '알 수 없는 아이템',\n      type: mappedType as any,\n      rarity: mappedRarity as any,\n      description: diabloItem.uniqueEffect || '',\n      icon: diabloItem.icon || this.getIconByType(diabloItem.type.toString()),\n      quantity: 1,\n      buyPrice: this.calculatePrice(diabloItem.rarity.toString()),\n      sellPrice: Math.floor(this.calculatePrice(diabloItem.rarity.toString()) * 0.5)\n    };\n\n    // 스탯이 있으면 추가 (ItemStat[] 형식)\n    if (diabloItem.stats && diabloItem.stats.length > 0) {\n      const stats: any = {};\n      \n      // damage 필드 파싱\n      if (diabloItem.damage) {\n        const damageMatch = diabloItem.damage.match(/(\\d+)-(\\d+)/);\n        if (damageMatch) {\n          stats.minDamage = parseInt(damageMatch[1]);\n          stats.maxDamage = parseInt(damageMatch[2]);\n        }\n      }\n      \n      // defense 추가\n      if (diabloItem.defense) {\n        stats.defense = diabloItem.defense;\n        stats.armor = diabloItem.defense;\n      }\n      \n      // ItemStat 배열 파싱\n      diabloItem.stats.forEach((stat) => {\n        const valueMatch = stat.value.match(/([+-]?\\d+\\.?\\d*)/);\n        if (valueMatch) {\n          const numValue = parseFloat(valueMatch[1]);\n          \n          // 스탯 이름에 따라 매핑\n          if (stat.name.includes('공격 속도')) {\n            stats.attackSpeed = numValue;\n          } else if (stat.name.includes('크리티컬') && stat.name.includes('확률')) {\n            stats.criticalChance = numValue;\n          } else if (stat.name.includes('크리티컬') && stat.name.includes('피해')) {\n            stats.criticalDamage = numValue;\n          } else if (stat.name.includes('생명력')) {\n            stats.hp = numValue;\n            stats.maxHp = numValue;\n          } else if (stat.name.includes('방어력')) {\n            stats.defense = numValue;\n          }\n        }\n      });\n      \n      if (Object.keys(stats).length > 0) {\n        inventoryItem.stats = stats;\n      }\n    }\n\n    return inventoryItem;\n  }\n\n  /**\n   * Diablo 타입 → InventoryItem 타입 매핑\n   */\n  private static mapDiabloType(type: string): string {\n    const typeMap: { [key: string]: string } = {\n      'weapon': 'weapon',\n      'armor': 'armor',\n      'helmet': 'helmet',\n      'gloves': 'gloves',\n      'boots': 'boots',\n      'belt': 'belt',\n      'amulet': 'accessory',\n      'ring': 'accessory',\n      'consumable': 'consumable',\n      'quest': 'quest',\n      'misc': 'misc'\n    };\n    return typeMap[type] || 'misc';\n  }\n\n  /**\n   * Diablo 희귀도 → InventoryItem 희귀도 매핑\n   */\n  private static mapDiabloRarity(rarity: string): string {\n    const rarityMap: { [key: string]: string } = {\n      'normal': 'common',\n      'magic': 'uncommon',\n      'rare': 'rare',\n      'unique': 'epic',\n      'set': 'legendary',\n      'legendary': 'legendary'\n    };\n    return rarityMap[rarity] || 'common';\n  }\n\n  /**\n   * Diablo 타입 → 슬롯 매핑\n   */\n  private static mapDiabloSlot(type: string): string | undefined {\n    const slotMap: { [key: string]: string } = {\n      'weapon': 'weapon',\n      'armor': 'armor',\n      'helmet': 'helmet',\n      'gloves': 'gloves',\n      'boots': 'boots',\n      'belt': 'belt',\n      'amulet': 'accessory1',\n      'ring': 'accessory2'\n    };\n    return slotMap[type];\n  }\n\n  /**\n   * 타입에 따른 기본 아이콘 반환\n   */\n  private static getIconByType(type: string): string {\n    const iconMap: { [key: string]: string } = {\n      'weapon': '⚔️',\n      'armor': '🦺',\n      'helmet': '⛑️',\n      'gloves': '🧤',\n      'boots': '👢',\n      'belt': '🎗️',\n      'amulet': '📿',\n      'ring': '💍',\n      'consumable': '🧪',\n      'quest': '📜',\n      'misc': '📦'\n    };\n    return iconMap[type] || '📦';\n  }\n\n  /**\n   * 희귀도에 따른 가격 계산\n   */\n  private static calculatePrice(rarity: string): number {\n    const priceMap: { [key: string]: number } = {\n      'normal': 50,\n      'magic': 150,\n      'rare': 500,\n      'unique': 2000,\n      'set': 5000,\n      'legendary': 10000\n    };\n    return priceMap[rarity] || 50;\n  }\n\n  /**\n   * 아이템 등급 매핑 (한글 → 영문)\n   */\n  static mapItemGrade(grade: string): 'common' | 'uncommon' | 'rare' | 'epic' | 'legendary' {\n    if (grade === '일반') return 'common';\n    if (grade === '고급') return 'uncommon';\n    if (grade === '희귀') return 'rare';\n    if (grade === '전설') return 'epic';\n    if (grade === '신화') return 'legendary';\n    return 'common';\n  }\n\n  /**\n   * 아이템 타입 매핑 (한글 → 영문)\n   */\n  static mapItemType(type: string): 'weapon' | 'armor' | 'consumable' | 'quest' | 'misc' {\n    if (type === '무기') return 'weapon';\n    if (type === '방어구') return 'armor';\n    if (type === '소비품') return 'consumable';\n    return 'misc';\n  }\n\n  /**\n   * 아이템 가격 계산 (통합)\n   */\n  static calculateItemPrice(gradeOrRarity: string, isBuyPrice: boolean = true): number {\n    const priceMap: { [key: string]: number } = {\n      // 한글 등급\n      '일반': 100,\n      '고급': 500,\n      '희귀': 2000,\n      '전설': 10000,\n      '신화': 50000,\n      // 영문 희귀도\n      'common': 100,\n      'uncommon': 500,\n      'rare': 2000,\n      'epic': 10000,\n      'legendary': 50000,\n      'unique': 100000,\n      'mythic': 500000\n    };\n    const price = priceMap[gradeOrRarity] || 100;\n    return isBuyPrice ? price : Math.floor(price * 0.5);\n  }\n\n  /**\n   * 아이템 등급에 따른 가격 계산 (간소화)\n   */\n  static calculateItemPriceByGrade(grade: string): number {\n    const priceMap: { [key: string]: number } = {\n      '일반': 50,\n      '고급': 150,\n      '희귀': 500,\n      '전설': 2000,\n      '신화': 10000\n    };\n    return priceMap[grade] || 50;\n  }\n}\n", "import { InventoryItem } from '../../../models/inventory.model';\nimport { ItemGeneratorService } from '../../../services/item-generator.service';\n\n/**\n * 랜덤 아이템 생성 Helper\n * - createRandomItem: 랜덤 아이템 생성\n * - generateItemName: 디아블로 스타일 아이템 이름 생성\n * - generateItemStats: 아이템 스탯 생성\n */\nexport class RandomItemHelper {\n  /**\n   * 랜덤 아이템 생성\n   */\n  static createRandomItem(itemGeneratorService: ItemGeneratorService, calculateItemPrice: (rarity: string, isBuy?: boolean) => number): InventoryItem {\n    const types: Array<'weapon' | 'armor' | 'helmet' | 'gloves' | 'boots' | 'belt' | 'amulet' | 'ring' | 'consumable' | 'material'> = \n      ['weapon', 'armor', 'helmet', 'gloves', 'boots', 'belt', 'amulet', 'ring', 'consumable', 'material'];\n    const rarities: Array<'common' | 'uncommon' | 'rare' | 'epic' | 'legendary'> = \n      ['common', 'common', 'common', 'uncommon', 'uncommon', 'rare', 'rare', 'epic', 'legendary'];\n    \n    const type = types[Math.floor(Math.random() * types.length)];\n    const rarity = rarities[Math.floor(Math.random() * rarities.length)];\n    \n    const item: InventoryItem = {\n      id: `item_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n      name: this.generateItemName(type, rarity),\n      type: type,\n      rarity: rarity,\n      quantity: type === 'consumable' || type === 'material' ? Math.floor(Math.random() * 10) + 1 : 1,\n      buyPrice: calculateItemPrice(rarity),\n      sellPrice: calculateItemPrice(rarity) / 2,\n      stats: this.generateItemStats(type, rarity, itemGeneratorService)\n    };\n\n    return item;\n  }\n\n  /**\n   * 아이템 이름 생성 (디아블로 스타일)\n   */\n  static generateItemName(type: string, rarity: string): string {\n    // 디아블로 스타일 접두사 (마법 속성 암시)\n    const magicPrefixes = [\n      '불타는', '얼어붙은', '번개의', '독성의', '신성한', '악마의',\n      '천상의', '지옥의', '고대의', '전설적인', '영원한', '무한의',\n      '용의', '불사조의', '타이탄의', '신의', '암흑의', '빛나는'\n    ];\n    \n    const rarePrefixes = [\n      '용맹한', '무적의', '파괴적인', '축복받은', '저주받은',\n      '강력한', '위대한', '영광스러운', '잔혹한', '광폭한'\n    ];\n    \n    const legendaryPrefixes = [\n      '불멸의', '초월적인', '절대적인', '궁극의', '지고지순한',\n      '완벽한', '무한한', '영원불멸의', '신화의', '태초의'\n    ];\n\n    const weaponNames = ['검', '대검', '도끼', '전투도끼', '활', '석궁', '창', '미늘창', '단검', '쌍검', '둔기', '전쟁망치', '지팡이', '마법봉'];\n    const armorNames = ['갑옷', '사슬 갑옷', '판금 갑옷', '가죽 갑옷', '로브', '전투복', '드래곤 스케일', '미스릴 갑옷'];\n    const helmetNames = ['투구', '왕관', '두건', '마법 모자', '전투 투구', '용 투구', '악마의 뿔', '천사의 후광'];\n    const glovesNames = ['장갑', '건틀릿', '손목 보호대', '마법 장갑', '용 발톱 장갑', '암살자의 장갑'];\n    const bootsNames = ['신발', '부츠', '경갑화', '마법 신발', '질주의 부츠', '그림자 신발', '날개 부츠'];\n    const beltNames = ['벨트', '허리띠', '마법 벨트', '사슬 벨트', '용의 허리띠', '악마의 띠'];\n    const amuletNames = ['목걸이', '부적', '펜던트', '성유물', '고대의 부적', '용의 눈', '악마의 심장', '천사의 눈물'];\n    const ringNames = ['반지', '마법 반지', '인장 반지', '룬 반지', '용의 반지', '불사의 반지', '권능의 반지'];\n    const consumableNames = ['체력 물약', '마나 물약', '부활 물약', '해독제', '강화 물약'];\n    const materialNames = ['철광석', '가죽', '천', '마법 가루', '룬석', '보석'];\n\n    let baseName = '';\n    switch (type) {\n      case 'weapon': baseName = weaponNames[Math.floor(Math.random() * weaponNames.length)]; break;\n      case 'armor': baseName = armorNames[Math.floor(Math.random() * armorNames.length)]; break;\n      case 'helmet': baseName = helmetNames[Math.floor(Math.random() * helmetNames.length)]; break;\n      case 'gloves': baseName = glovesNames[Math.floor(Math.random() * glovesNames.length)]; break;\n      case 'boots': baseName = bootsNames[Math.floor(Math.random() * bootsNames.length)]; break;\n      case 'belt': baseName = beltNames[Math.floor(Math.random() * beltNames.length)]; break;\n      case 'amulet': baseName = amuletNames[Math.floor(Math.random() * amuletNames.length)]; break;\n      case 'ring': baseName = ringNames[Math.floor(Math.random() * ringNames.length)]; break;\n      case 'consumable': baseName = consumableNames[Math.floor(Math.random() * consumableNames.length)]; break;\n      case 'material': baseName = materialNames[Math.floor(Math.random() * materialNames.length)]; break;\n    }\n\n    if (type === 'consumable' || type === 'material') {\n      return baseName;\n    }\n\n    // 희귀도에 따른 접두사 선택\n    let prefix = '';\n    if (rarity === 'legendary') {\n      prefix = legendaryPrefixes[Math.floor(Math.random() * legendaryPrefixes.length)] + ' ';\n    } else if (rarity === 'epic' || rarity === 'rare') {\n      prefix = rarePrefixes[Math.floor(Math.random() * rarePrefixes.length)] + ' ';\n    } else if (rarity === 'uncommon') {\n      prefix = magicPrefixes[Math.floor(Math.random() * magicPrefixes.length)] + ' ';\n    }\n    \n    return prefix + baseName;\n  }\n\n  /**\n   * 아이템 스탯 생성 (디아블로 스타일)\n   */\n  static generateItemStats(type: string, rarity: string, itemGeneratorService: ItemGeneratorService): any {\n    return itemGeneratorService.generateItemStats(type, rarity);\n  }\n}\n", "import { DungeonInstance, DungeonRoom, DungeonMonster, DungeonProgress, DungeonType as DungeonTypeModel } from '../../../models/dungeon.model';\nimport { PlayerCharacter } from '../../../models/player.model';\nimport { DebugLoggerService } from '../../../../../shared/services/debug-logger.service';\n\n/**\n * 던전 플로우 관리 Helper\n * - 던전 층 진입\n * - 던전 방 진입\n * - 던전 전투 승리 처리\n * - 던전 완료 처리\n */\nexport class DungeonFlowHelper {\n  /**\n   * 던전 층 진입\n   */\n  static enterFloor(\n    floorNumber: number,\n    currentDungeon: DungeonInstance | null,\n    debugLogger: DebugLoggerService,\n    addStoryBlock: (blocks: string[]) => void,\n    enterRoom: (room: DungeonRoom) => void\n  ): void {\n    if (!currentDungeon) {\n      return;\n    }\n    \n    const floor = currentDungeon.floors[floorNumber - 1];\n    if (!floor) {\n      return;\n    }\n    \n    currentDungeon.currentFloor = floorNumber;\n    \n    // 입구 방으로 이동\n    const entranceRoom = floor.rooms.find(r => r.id === floor.entranceRoomId);\n    \n    if (!entranceRoom) {\n      return;\n    }\n    \n    enterRoom(entranceRoom);\n    \n    addStoryBlock([\n      '',\n      `─── ${floorNumber}층 ───`,\n      entranceRoom?.description || '새로운 층에 도착했습니다.',\n      ''\n    ]);\n    \n    debugLogger.info('던전', `🚪 ${floorNumber}층 진입`);\n  }\n\n  /**\n   * 던전 방 진입\n   */\n  static enterRoom(\n    room: DungeonRoom,\n    currentDungeon: DungeonInstance | null,\n    currentDungeonRoom: DungeonRoom | null,\n    addStoryBlock: (blocks: string[]) => void,\n    getRoomTypeKorean: (type: string) => string\n  ): DungeonRoom {\n    if (!currentDungeon) {\n      return room;\n    }\n    \n    // 현재 방 업데이트\n    if (currentDungeonRoom) {\n      currentDungeonRoom.isCurrentRoom = false;\n    }\n    \n    // 중요: 새 객체로 할당하여 Angular 변경 감지 트리거\n    const newCurrentRoom = { ...room };\n    \n    room.isCurrentRoom = true;\n    room.isExplored = true;\n    \n    // 통계 업데이트\n    currentDungeon.stats.roomsExplored++;\n    \n    // 방 설명\n    addStoryBlock([\n      '',\n      `📍 ${getRoomTypeKorean(room.type)}`,\n      room.description,\n      ''\n    ]);\n\n    // 몬스터가 있으면 표시\n    if (room.monsters && room.monsters.length > 0) {\n      const aliveMonsters = room.monsters.filter(m => !m.isDead);\n      if (aliveMonsters.length > 0) {\n        addStoryBlock([\n          `⚔️ 적 발견!`,\n          ...aliveMonsters.map(m => `  • ${m.name} (HP: ${m.currentHp}/${m.maxHp})`),\n          ''\n        ]);\n      }\n    }\n    \n    return newCurrentRoom;\n  }\n\n  /**\n   * 던전 전투 승리 처리\n   */\n  static async winDungeonCombat(\n    room: DungeonRoom,\n    monster: DungeonMonster,\n    currentDungeon: DungeonInstance | null,\n    playerCharacter: PlayerCharacter,\n    gainExp: (exp: number) => void,\n    addStoryBlock: (blocks: string[]) => void,\n    saveGame: (saveId: string) => Promise<void>,\n    completeDungeon: () => Promise<void>,\n    debugLogger: DebugLoggerService\n  ): Promise<void> {\n    if (!currentDungeon) return;\n    \n    monster.isDead = true;\n    \n    // 보상 계산\n    const goldReward = Math.floor(Math.random() * (monster.dropTable.goldMax - monster.dropTable.goldMin + 1)) + monster.dropTable.goldMin;\n    const expReward = Math.floor(monster.maxHp * 0.8);\n    \n    // 보상 적용\n    playerCharacter.gold += goldReward;\n    gainExp(expReward);\n    \n    // 던전 누적 보상\n    currentDungeon.accumulatedRewards.gold += goldReward;\n    currentDungeon.accumulatedRewards.experience += expReward;\n    \n    // 통계 업데이트\n    currentDungeon.stats.monstersKilled++;\n    if (monster.type === 'elite') {\n      currentDungeon.stats.elitesKilled++;\n    } else if (monster.type === 'boss') {\n      currentDungeon.stats.bossKilled = true;\n      currentDungeon.stats.elitesKilled++;\n    }\n    \n    addStoryBlock([\n      `✅ ${monster.name}을(를) 물리쳤다!`,\n      `💰 골드 +${goldReward}`,\n      `💫 경험치 +${expReward}`,\n      ''\n    ]);\n    \n    // 몬스터 처치 시 자동 저장\n    debugLogger.info('던전', `💾 몬스터 처치 후 자동 저장 (경험치: ${playerCharacter.exp}/${playerCharacter.maxExp})`);\n    await saveGame(`auto_dungeon_${currentDungeon.dungeonTypeId}`);\n    \n    // 모든 몬스터 처치 시 방 클리어\n    if (room.monsters.every(m => m.isDead)) {\n      room.isCleared = true;\n      \n      addStoryBlock([\n        '✅ 방을 클리어했습니다!',\n        '다음 방으로 이동하세요.',\n        ''\n      ]);\n      \n      // 방 클리어 시 자동 저장\n      debugLogger.info('던전', `💾 방 클리어 후 자동 저장`);\n      await saveGame(`auto_dungeon_room_clear`);\n      \n      // 보스 처치 시 던전 클리어\n      if (monster.type === 'boss') {\n        await completeDungeon();\n      }\n    }\n    \n    debugLogger.success('던전', `✅ 전투 승리: ${monster.name}`);\n  }\n\n  /**\n   * 던전 완료 처리\n   */\n  static async completeDungeon(\n    currentDungeon: DungeonInstance | null,\n    dungeonProgress: DungeonProgress,\n    dungeonTypes: DungeonTypeModel[],\n    addStoryBlock: (blocks: string[]) => void,\n    setChoices: (choices: string[]) => void,\n    saveGame: (saveId: string) => Promise<void>,\n    debugLogger: DebugLoggerService,\n    updateUIState: () => void\n  ): Promise<void> {\n    if (!currentDungeon) return;\n    \n    currentDungeon.status = 'completed';\n    dungeonProgress.inDungeon = false;\n    \n    const dungeonType = dungeonTypes.find(dt => dt.id === currentDungeon!.dungeonTypeId)!;\n    \n    // 클리어 기록 업데이트\n    if (!dungeonProgress.clearedDungeons[dungeonType.id]) {\n      dungeonProgress.clearedDungeons[dungeonType.id] = {\n        count: 0,\n        bestTime: Infinity,\n        highestDifficulty: 'easy',\n        lastClearDate: new Date()\n      };\n    }\n    \n    const record = dungeonProgress.clearedDungeons[dungeonType.id];\n    record.count++;\n    record.bestTime = Math.min(record.bestTime, currentDungeon.elapsedTime);\n    record.lastClearDate = new Date();\n    \n    // 전체 통계 업데이트\n    dungeonProgress.totalStats.dungeonsCleared++;\n    dungeonProgress.totalStats.monstersKilled += currentDungeon.stats.monstersKilled;\n    dungeonProgress.totalStats.elitesKilled += currentDungeon.stats.elitesKilled;\n    dungeonProgress.totalStats.bossesKilled += currentDungeon.stats.bossKilled ? 1 : 0;\n    dungeonProgress.totalStats.totalGoldEarned += currentDungeon.accumulatedRewards.gold;\n    dungeonProgress.totalStats.totalExpEarned += currentDungeon.accumulatedRewards.experience;\n    \n    // 클리어 화면\n    addStoryBlock([\n      '',\n      '╔═══════════════════════════════════╗',\n      '║      🏆 던전 클리어! 🏆          ║',\n      `║   ${dungeonType.koreanName} 정복 완료   ║`,\n      '╚═══════════════════════════════════╝',\n      '',\n      '📊 통계:',\n      `  • 처치한 몬스터: ${currentDungeon.stats.monstersKilled}마리`,\n      `  • 처치한 엘리트: ${currentDungeon.stats.elitesKilled}마리`,\n      `  • 탐험한 방: ${currentDungeon.stats.roomsExplored}개`,\n      '',\n      '💰 획득 보상:',\n      `  • 골드: ${currentDungeon.accumulatedRewards.gold}G`,\n      `  • 경험치: ${currentDungeon.accumulatedRewards.experience} EXP`,\n      '',\n      '당신은 던전을 무사히 빠져나왔습니다.'\n    ]);\n    \n    // 선택지 제공\n    setChoices([\n      '🏠 마을로 돌아간다',\n      '🔄 던전을 다시 탐험한다',\n      '🗺️ 다른 던전을 찾아본다'\n    ]);\n    \n    // UI 상태 업데이트\n    updateUIState();\n    \n    // 던전 클리어 시 자동 저장\n    debugLogger.success('던전', `🏆 던전 클리어: ${dungeonType.koreanName} - 자동 저장 중...`);\n    await saveGame(`dungeon_clear_${dungeonType.id}`);\n  }\n\n  /**\n   * 다음 방으로 이동\n   */\n  static moveToNextRoom(\n    currentDungeon: DungeonInstance | null,\n    currentDungeonRoom: DungeonRoom | null,\n    enterRoom: (room: DungeonRoom) => void\n  ): void {\n    if (!currentDungeon || !currentDungeonRoom) return;\n    \n    const connectedRoomIds = currentDungeonRoom.connectedRoomIds;\n    if (connectedRoomIds.length === 0) return;\n    \n    // 다음 방 찾기\n    const currentFloor = currentDungeon.floors[currentDungeon.currentFloor - 1];\n    const nextRoom = currentFloor.rooms.find(r => \n      connectedRoomIds.includes(r.id) && !r.isExplored\n    ) || currentFloor.rooms.find(r => \n      connectedRoomIds.includes(r.id)\n    );\n    \n    if (nextRoom) {\n      enterRoom(nextRoom);\n    }\n  }\n\n  /**\n   * 방 타입 한글 변환\n   */\n  static getRoomTypeKorean(type: string): string {\n    const typeMap: { [key: string]: string } = {\n      'entrance': '입구',\n      'normal': '일반 방',\n      'combat': '전투 방',\n      'elite': '엘리트 방',\n      'boss': '보스 방',\n      'treasure': '보물 방',\n      'shop': '상점',\n      'rest': '휴식 방',\n      'event': '이벤트 방',\n      'exit': '출구'\n    };\n    return typeMap[type] || '알 수 없는 방';\n  }\n}\n", "export const EQUIPMENT_SLOT_COMPATIBILITY: { [key: string]: string[] } = {\n  'weapon': ['weapon', 'sword', 'bow', 'staff', 'dagger', 'axe', 'mace', 'spear'],\n  'armor': ['armor', 'chest', 'bodyarmor'],\n  'helmet': ['helmet', 'helm', 'hat'],\n  'gloves': ['gloves', 'gauntlets'],\n  'boots': ['boots', 'shoes'],\n  'amulet': ['amulet', 'necklace'],\n  'belt': ['belt'],\n  'ring1': ['ring'],\n  'ring2': ['ring']\n};\n\nexport const VALID_EQUIPMENT_SLOTS = ['weapon', 'armor', 'helmet', 'gloves', 'boots', 'amulet', 'belt', 'ring1', 'ring2'];\n", "import { Injectable, signal, computed } from '@angular/core';\n\n/**\n * Novel Generator의 중앙 상태 관리 서비스\n * Angular Signals 기반으로 모든 도메인 상태를 관리\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class NovelStateService {\n  // ===== UI 상태 =====\n  private readonly _showInventoryPanel = signal(false);\n  private readonly _showShopPanel = signal(false);\n  private readonly _showCharacterCreatorPanel = signal(false);\n  private readonly _showScenarioCreatorPanel = signal(false);\n  private readonly _showItemCreatorPanel = signal(false);\n  private readonly _showStoryCreatorPanel = signal(false);\n  private readonly _showWuxiaPanel = signal(false);\n  private readonly _showFlowPanel = signal(false);\n  \n  readonly showInventoryPanel = this._showInventoryPanel.asReadonly();\n  readonly showShopPanel = this._showShopPanel.asReadonly();\n  readonly showCharacterCreatorPanel = this._showCharacterCreatorPanel.asReadonly();\n  readonly showScenarioCreatorPanel = this._showScenarioCreatorPanel.asReadonly();\n  readonly showItemCreatorPanel = this._showItemCreatorPanel.asReadonly();\n  readonly showStoryCreatorPanel = this._showStoryCreatorPanel.asReadonly();\n  readonly showWuxiaPanel = this._showWuxiaPanel.asReadonly();\n  readonly showFlowPanel = this._showFlowPanel.asReadonly();\n  \n  // ===== Active Tab 상태 =====\n  private readonly _inventoryActiveTab = signal<'equipment' | 'inventory' | 'currency' | 'shop'>('equipment');\n  private readonly _wuxiaActiveTab = signal<'cultivation' | 'skills' | 'faction' | 'elixir' | 'meridians'>('cultivation');\n  private readonly _flowPanelTab = signal<'character' | 'map' | 'organization'>('map');\n  \n  readonly inventoryActiveTab = this._inventoryActiveTab.asReadonly();\n  readonly wuxiaActiveTab = this._wuxiaActiveTab.asReadonly();\n  readonly flowPanelTab = this._flowPanelTab.asReadonly();\n  \n  // ===== 게임 상태 =====\n  private readonly _gameStarted = signal(false);\n  private readonly _novelSelected = signal(false);\n  private readonly _currentChapter = signal(1);\n  \n  readonly gameStarted = this._gameStarted.asReadonly();\n  readonly novelSelected = this._novelSelected.asReadonly();\n  readonly currentChapter = this._currentChapter.asReadonly();\n  \n  // ===== Computed Signals (Derived State) =====\n  readonly hasActivePanel = computed(() => \n    this.showInventoryPanel() || \n    this.showShopPanel() || \n    this.showCharacterCreatorPanel() ||\n    this.showScenarioCreatorPanel() ||\n    this.showItemCreatorPanel() ||\n    this.showStoryCreatorPanel() ||\n    this.showWuxiaPanel() ||\n    this.showFlowPanel()\n  );\n  \n  readonly isInCreationMode = computed(() =>\n    this.showCharacterCreatorPanel() ||\n    this.showScenarioCreatorPanel() ||\n    this.showItemCreatorPanel() ||\n    this.showStoryCreatorPanel()\n  );\n  \n  // ===== UI Panel 토글 메서드 =====\n  toggleInventoryPanel(): void {\n    this._showInventoryPanel.update(v => !v);\n  }\n  \n  toggleShopPanel(): void {\n    this._showShopPanel.update(v => !v);\n  }\n  \n  toggleCharacterCreatorPanel(): void {\n    this._showCharacterCreatorPanel.update(v => !v);\n  }\n  \n  toggleScenarioCreatorPanel(): void {\n    this._showScenarioCreatorPanel.update(v => !v);\n  }\n  \n  toggleItemCreatorPanel(): void {\n    this._showItemCreatorPanel.update(v => !v);\n  }\n  \n  toggleStoryCreatorPanel(): void {\n    this._showStoryCreatorPanel.update(v => !v);\n  }\n  \n  toggleWuxiaPanel(): void {\n    this._showWuxiaPanel.update(v => !v);\n  }\n  \n  toggleFlowPanel(): void {\n    this._showFlowPanel.update(v => !v);\n  }\n  \n  // ===== Panel 열기/닫기 메서드 =====\n  openInventoryPanel(): void {\n    this._showInventoryPanel.set(true);\n  }\n  \n  closeInventoryPanel(): void {\n    this._showInventoryPanel.set(false);\n  }\n  \n  openShopPanel(): void {\n    this._showShopPanel.set(true);\n  }\n  \n  closeShopPanel(): void {\n    this._showShopPanel.set(false);\n  }\n  \n  openCharacterCreator(): void {\n    this._showCharacterCreatorPanel.set(true);\n  }\n  \n  closeCharacterCreator(): void {\n    this._showCharacterCreatorPanel.set(false);\n  }\n  \n  openScenarioCreator(): void {\n    this._showScenarioCreatorPanel.set(true);\n  }\n  \n  closeScenarioCreator(): void {\n    this._showScenarioCreatorPanel.set(false);\n  }\n  \n  openItemCreator(): void {\n    this._showItemCreatorPanel.set(true);\n  }\n  \n  closeItemCreator(): void {\n    this._showItemCreatorPanel.set(false);\n  }\n  \n  openStoryCreator(): void {\n    this._showStoryCreatorPanel.set(true);\n  }\n  \n  closeStoryCreator(): void {\n    this._showStoryCreatorPanel.set(false);\n  }\n  \n  openWuxiaPanel(): void {\n    this._showWuxiaPanel.set(true);\n  }\n  \n  closeWuxiaPanel(): void {\n    this._showWuxiaPanel.set(false);\n  }\n  \n  closeAllPanels(): void {\n    this._showInventoryPanel.set(false);\n    this._showShopPanel.set(false);\n    this._showCharacterCreatorPanel.set(false);\n    this._showScenarioCreatorPanel.set(false);\n    this._showItemCreatorPanel.set(false);\n    this._showStoryCreatorPanel.set(false);\n    this._showWuxiaPanel.set(false);\n    this._showFlowPanel.set(false);\n  }\n  \n  // ===== Tab 변경 메서드 =====\n  setInventoryTab(tab: 'equipment' | 'inventory' | 'currency' | 'shop'): void {\n    this._inventoryActiveTab.set(tab);\n  }\n  \n  setWuxiaTab(tab: 'cultivation' | 'skills' | 'faction' | 'elixir' | 'meridians'): void {\n    this._wuxiaActiveTab.set(tab);\n  }\n  \n  setFlowPanelTab(tab: 'character' | 'map' | 'organization'): void {\n    this._flowPanelTab.set(tab);\n  }\n  \n  // ===== 게임 상태 변경 메서드 =====\n  startGame(): void {\n    this._gameStarted.set(true);\n  }\n  \n  resetGame(): void {\n    this._gameStarted.set(false);\n    this._novelSelected.set(false);\n    this._currentChapter.set(1);\n    this.closeAllPanels();\n  }\n  \n  selectNovel(): void {\n    this._novelSelected.set(true);\n  }\n  \n  nextChapter(): void {\n    this._currentChapter.update(c => c + 1);\n  }\n  \n  setChapter(chapter: number): void {\n    this._currentChapter.set(chapter);\n  }\n}\n", "import { Injectable, signal, computed, WritableSignal } from '@angular/core';\nimport { PlayerCharacter, PlayerSkill } from '../../models/player.model';\nimport { InventoryItem, PlayerEquipment } from '../../models/inventory.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PlayerStateService {\n  // Core player character\n  private _character: WritableSignal<PlayerCharacter> = signal({\n    name: '',\n    level: 1,\n    exp: 0,\n    maxExp: 100,\n    hp: 100,\n    maxHp: 100,\n    mp: 100,\n    maxMp: 100,\n    attack: 10,\n    defense: 5,\n    agility: 10,\n    strength: 10,\n    intelligence: 10,\n    gold: 100,\n    gem: 0,\n    crystal: 0,\n    ticket: 0,\n    skillPoints: 0,\n    skills: [],\n    equipment: undefined,\n    inventory: []\n  });\n\n  // Read-only signal\n  readonly character = this._character.asReadonly();\n\n  // Computed signals for easy access\n  readonly name = computed(() => this._character().name);\n  readonly level = computed(() => this._character().level);\n  readonly exp = computed(() => this._character().exp);\n  readonly maxExp = computed(() => this._character().maxExp);\n  readonly hp = computed(() => this._character().hp);\n  readonly maxHp = computed(() => this._character().maxHp);\n  readonly mp = computed(() => this._character().mp);\n  readonly maxMp = computed(() => this._character().maxMp);\n  readonly attack = computed(() => this._character().attack);\n  readonly defense = computed(() => this._character().defense);\n  readonly agility = computed(() => this._character().agility);\n  readonly strength = computed(() => this._character().strength);\n  readonly intelligence = computed(() => this._character().intelligence);\n  readonly gold = computed(() => this._character().gold);\n  readonly gem = computed(() => this._character().gem);\n  readonly crystal = computed(() => this._character().crystal);\n  readonly ticket = computed(() => this._character().ticket);\n  readonly skillPoints = computed(() => this._character().skillPoints);\n  readonly skills = computed(() => this._character().skills);\n  readonly equipment = computed(() => this._character().equipment);\n  readonly inventory = computed(() => this._character().inventory || []);\n\n  // Computed percentage values\n  readonly expPercent = computed(() => {\n    const char = this._character();\n    return char.maxExp > 0 ? (char.exp / char.maxExp) * 100 : 0;\n  });\n  readonly hpPercent = computed(() => {\n    const char = this._character();\n    return char.maxHp > 0 ? (char.hp / char.maxHp) * 100 : 0;\n  });\n  readonly mpPercent = computed(() => {\n    const char = this._character();\n    return char.maxMp > 0 ? (char.mp / char.maxMp) * 100 : 0;\n  });\n\n  // Initialize new player\n  initializeNewPlayer(name: string = ''): void {\n    this._character.set({\n      name,\n      level: 1,\n      exp: 0,\n      maxExp: 100,\n      hp: 100,\n      maxHp: 100,\n      mp: 100,\n      maxMp: 100,\n      attack: 10,\n      defense: 5,\n      agility: 10,\n      strength: 10,\n      intelligence: 10,\n      gold: 100,\n      gem: 0,\n      crystal: 0,\n      ticket: 0,\n      skillPoints: 0,\n      skills: [],\n      equipment: undefined,\n      inventory: []\n    });\n  }\n\n  // Load player character\n  loadPlayer(character: PlayerCharacter): void {\n    this._character.set(character);\n  }\n\n  // Update character properties\n  updateCharacter(updates: Partial<PlayerCharacter>): void {\n    this._character.update(char => ({ ...char, ...updates }));\n  }\n\n  // Currency management\n  addGold(amount: number): void {\n    this._character.update(char => ({ ...char, gold: char.gold + amount }));\n  }\n\n  spendGold(amount: number): boolean {\n    const char = this._character();\n    if (char.gold >= amount) {\n      this._character.update(c => ({ ...c, gold: c.gold - amount }));\n      return true;\n    }\n    return false;\n  }\n\n  addGem(amount: number): void {\n    this._character.update(char => ({ ...char, gem: char.gem + amount }));\n  }\n\n  spendGem(amount: number): boolean {\n    const char = this._character();\n    if (char.gem >= amount) {\n      this._character.update(c => ({ ...c, gem: c.gem - amount }));\n      return true;\n    }\n    return false;\n  }\n\n  addCrystal(amount: number): void {\n    this._character.update(char => ({ ...char, crystal: char.crystal + amount }));\n  }\n\n  spendCrystal(amount: number): boolean {\n    const char = this._character();\n    if (char.crystal >= amount) {\n      this._character.update(c => ({ ...c, crystal: c.crystal - amount }));\n      return true;\n    }\n    return false;\n  }\n\n  addTicket(amount: number): void {\n    this._character.update(char => ({ ...char, ticket: char.ticket + amount }));\n  }\n\n  spendTicket(amount: number): boolean {\n    const char = this._character();\n    if (char.ticket >= amount) {\n      this._character.update(c => ({ ...c, ticket: c.ticket - amount }));\n      return true;\n    }\n    return false;\n  }\n\n  // Experience and leveling\n  gainExp(amount: number): boolean {\n    this._character.update(char => ({ ...char, exp: char.exp + amount }));\n    return this.checkLevelUp();\n  }\n\n  private checkLevelUp(): boolean {\n    const char = this._character();\n    if (char.exp >= char.maxExp) {\n      this.levelUp();\n      return true;\n    }\n    return false;\n  }\n\n  private levelUp(): void {\n    this._character.update(char => {\n      const newLevel = char.level + 1;\n      const newMaxExp = newLevel * 100;\n      const newMaxHp = char.maxHp + 20;\n      const newMaxMp = char.maxMp + 10;\n      \n      return {\n        ...char,\n        level: newLevel,\n        exp: 0,\n        maxExp: newMaxExp,\n        hp: newMaxHp,\n        maxHp: newMaxHp,\n        mp: newMaxMp,\n        maxMp: newMaxMp,\n        attack: char.attack + 3,\n        defense: char.defense + 2,\n        strength: char.strength + 2,\n        intelligence: char.intelligence + 2,\n        agility: char.agility + 1,\n        skillPoints: char.skillPoints + 1\n      };\n    });\n  }\n\n  // Health management\n  takeDamage(amount: number): void {\n    this._character.update(char => ({\n      ...char,\n      hp: Math.max(0, char.hp - amount)\n    }));\n  }\n\n  heal(amount: number): void {\n    this._character.update(char => ({\n      ...char,\n      hp: Math.min(char.maxHp, char.hp + amount)\n    }));\n  }\n\n  fullHeal(): void {\n    this._character.update(char => ({\n      ...char,\n      hp: char.maxHp,\n      mp: char.maxMp\n    }));\n  }\n\n  // MP management\n  spendMp(amount: number): boolean {\n    const char = this._character();\n    if (char.mp >= amount) {\n      this._character.update(c => ({ ...c, mp: c.mp - amount }));\n      return true;\n    }\n    return false;\n  }\n\n  restoreMp(amount: number): void {\n    this._character.update(char => ({\n      ...char,\n      mp: Math.min(char.maxMp, char.mp + amount)\n    }));\n  }\n\n  // Character info\n  setName(name: string): void {\n    this._character.update(char => ({ ...char, name }));\n  }\n\n  // Stats modification\n  modifyStats(statChanges: Partial<PlayerCharacter>): void {\n    this._character.update(char => ({ ...char, ...statChanges }));\n  }\n\n  // Skill management\n  addSkill(skill: PlayerSkill): void {\n    this._character.update(char => ({\n      ...char,\n      skills: [...char.skills, skill]\n    }));\n  }\n\n  removeSkill(skillId: string): void {\n    this._character.update(char => ({\n      ...char,\n      skills: char.skills.filter(s => s.id !== skillId)\n    }));\n  }\n\n  upgradeSkill(skillId: string): boolean {\n    const char = this._character();\n    const skill = char.skills.find(s => s.id === skillId);\n    \n    if (skill && skill.level < skill.maxLevel && char.skillPoints > 0) {\n      this._character.update(c => ({\n        ...c,\n        skills: c.skills.map(s => \n          s.id === skillId ? { ...s, level: s.level + 1 } : s\n        ),\n        skillPoints: c.skillPoints - 1\n      }));\n      return true;\n    }\n    return false;\n  }\n\n  // Equipment management\n  setEquipment(equipment: PlayerEquipment): void {\n    this._character.update(char => ({ ...char, equipment }));\n  }\n\n  // Inventory management\n  addToInventory(item: InventoryItem): void {\n    this._character.update(char => ({\n      ...char,\n      inventory: [...(char.inventory || []), item]\n    }));\n  }\n\n  removeFromInventory(itemId: string): void {\n    this._character.update(char => ({\n      ...char,\n      inventory: (char.inventory || []).filter(item => item.id !== itemId)\n    }));\n  }\n\n  clearInventory(): void {\n    this._character.update(char => ({ ...char, inventory: [] }));\n  }\n\n  // Utility methods\n  isAlive(): boolean {\n    return this._character().hp > 0;\n  }\n\n  getCurrentHp(): number {\n    return this._character().hp;\n  }\n\n  getMaxHp(): number {\n    return this._character().maxHp;\n  }\n\n  getCharacter(): PlayerCharacter {\n    return this._character();\n  }\n\n  resetPlayer(): void {\n    this.initializeNewPlayer();\n  }\n}\n", "import { Injectable, signal, computed } from '@angular/core';\nimport { InventoryItem } from '../../models/inventory.model';\n\n/**\n * 아이템 관련 상태 및 유틸리티 관리 서비스\n * - 아이템 필터링/정렬 (from InventoryFilterHelper)\n * - 아이템 표시 정보 (from ItemDisplayHelper)\n * - 아이템 생성 로직은 ItemGenerationHelper에서 그대로 사용 (DI 기반이므로)\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class ItemStateService {\n  \n  // ===== 아이템 필터/정렬 (from InventoryFilterHelper) =====\n  \n  /**\n   * 인벤토리 필터링 및 정렬\n   */\n  getFilteredAndSortedInventory(\n    inventory: InventoryItem[],\n    filter: string,\n    sortBy: string\n  ): InventoryItem[] {\n    let items = [...inventory];\n    \n    if (filter !== 'all') {\n      items = items.filter(item => {\n        switch (filter) {\n          case 'weapon':\n            return item.type === 'weapon';\n          case 'armor':\n            return ['armor', 'helmet', 'gloves', 'boots', 'belt'].includes(item.type);\n          case 'accessory':\n            return ['amulet', 'ring', 'accessory'].includes(item.type);\n          case 'consumable':\n            return item.type === 'consumable';\n          case 'material':\n            return item.type === 'material';\n          default:\n            return true;\n        }\n      });\n    }\n    \n    items.sort((a, b) => {\n      switch (sortBy) {\n        case 'rarity':\n          return this.getRarityWeight(b.rarity) - this.getRarityWeight(a.rarity);\n        case 'type':\n          return a.type.localeCompare(b.type);\n        case 'name':\n          return (a.nameKo || a.name).localeCompare(b.nameKo || b.name);\n        case 'recent':\n          const aTime = (a as any).obtainedTimestamp || 0;\n          const bTime = (b as any).obtainedTimestamp || 0;\n          return bTime - aTime;\n        default:\n          return 0;\n      }\n    });\n    \n    return items;\n  }\n  \n  getRarityWeight(rarity: string): number {\n    const weights: { [key: string]: number } = {\n      'common': 1,\n      'uncommon': 2,\n      'rare': 3,\n      'epic': 4,\n      'legendary': 5,\n      'unique': 6,\n      'mythic': 7\n    };\n    return weights[rarity] || 0;\n  }\n  \n  // ===== 아이템 표시 정보 (from ItemDisplayHelper) =====\n  \n  /**\n   * 희귀도 텍스트 반환\n   */\n  getRarityText(rarity: string): string {\n    const rarityMap: { [key: string]: string } = {\n      'common': '⚪ 일반',\n      'uncommon': '🟢 고급',\n      'rare': '🔵 희귀',\n      'epic': '🟣 영웅',\n      'legendary': '🟠 전설',\n      'unique': '🟡 유니크',\n      'mythic': '🔴 신화'\n    };\n    return rarityMap[rarity] || rarity;\n  }\n  \n  /**\n   * 아이템 타입 텍스트 반환\n   */\n  getItemTypeText(type: string): string {\n    const typeMap: { [key: string]: string } = {\n      'weapon': '⚔️ 무기',\n      'armor': '🛡️ 방어구',\n      'helmet': '⛑️ 투구',\n      'gloves': '🧤 장갑',\n      'boots': '👢 신발',\n      'belt': '📿 벨트',\n      'amulet': '📿 목걸이',\n      'ring': '💍 반지',\n      'accessory': '💎 장신구',\n      'consumable': '🧪 소비품',\n      'material': '📦 재료'\n    };\n    return typeMap[type] || type;\n  }\n  \n  /**\n   * 장비 슬롯 이름 반환\n   */\n  getEquipmentSlotName(type: string): string | null {\n    const slotMap: { [key: string]: string } = {\n      'weapon': '무기 슬롯',\n      'armor': '갑옷 슬롯',\n      'helmet': '투구 슬롯',\n      'gloves': '장갑 슬롯',\n      'boots': '신발 슬롯',\n      'belt': '벨트 슬롯',\n      'amulet': '목걸이 슬롯',\n      'ring': '반지 슬롯 (1/2)'\n    };\n    return slotMap[type] || null;\n  }\n  \n  /**\n   * 아이템 상세 정보 텍스트 생성 (UI용)\n   */\n  getItemDetailsText(item: InventoryItem): string {\n    let details = `━━━━━━━━━━━━━━━━━━━━\\n`;\n    details += `📜 ${item.name}\\n`;\n    details += `━━━━━━━━━━━━━━━━━━━━\\n\\n`;\n    \n    details += `🏷️ 희귀도: ${this.getRarityText(item.rarity)}\\n`;\n    details += `📦 타입: ${this.getItemTypeText(item.type)}\\n`;\n    \n    const slotInfo = this.getEquipmentSlotName(item.type);\n    if (slotInfo) {\n      details += `🎯 장착 슬롯: ${slotInfo}\\n`;\n    }\n    \n    if (item.stats) {\n      details += `\\n━━━ ⚡ 능력치 ━━━\\n`;\n      \n      // 공격 관련\n      if (item.stats.minDamage && item.stats.maxDamage) {\n        details += `⚔️ 데미지: ${item.stats.minDamage}-${item.stats.maxDamage}\\n`;\n      } else if (item.stats.attack) {\n        details += `⚔️ 공격력: +${item.stats.attack}\\n`;\n      }\n      \n      if (item.stats.attackSpeed) {\n        details += `⚡ 공격 속도: +${item.stats.attackSpeed}%\\n`;\n      }\n      \n      // 방어 관련\n      if (item.stats.armor) {\n        details += `🛡️ 방어도: +${item.stats.armor}\\n`;\n      }\n      if (item.stats.defense) {\n        details += `🛡️ 방어력: +${item.stats.defense}\\n`;\n      }\n      if (item.stats.blockChance) {\n        details += `🛡️ 방어 확률: +${item.stats.blockChance}%\\n`;\n      }\n      if (item.stats.evasion) {\n        details += `💨 회피율: +${item.stats.evasion}%\\n`;\n      }\n      \n      // 기본 능력치\n      if (item.stats.hp) {\n        details += `❤️ 생명력: +${item.stats.hp}\\n`;\n      }\n      if (item.stats.mp) {\n        details += `💙 마나: +${item.stats.mp}\\n`;\n      }\n      \n      // 크리티컬\n      if (item.stats.critChance) {\n        details += `💥 크리티컬 확률: +${item.stats.critChance}%\\n`;\n      }\n      if (item.stats.critDamage) {\n        details += `💢 크리티컬 데미지: +${item.stats.critDamage}%\\n`;\n      }\n      \n      // 생명력 관련\n      if (item.stats.lifeSteal) {\n        details += `🩸 생명력 흡수: ${item.stats.lifeSteal}%\\n`;\n      }\n      if (item.stats.lifeRegen) {\n        details += `❤️‍🩹 생명력 재생: +${item.stats.lifeRegen}/초\\n`;\n      }\n      \n      // 마나 관련\n      if (item.stats.manaRegen) {\n        details += `💙 마나 재생: +${item.stats.manaRegen}/초\\n`;\n      }\n      \n      // 속성 저항\n      if (item.stats.fireResist) {\n        details += `🔥 화염 저항: +${item.stats.fireResist}%\\n`;\n      }\n      if (item.stats.coldResist) {\n        details += `❄️ 냉기 저항: +${item.stats.coldResist}%\\n`;\n      }\n      if (item.stats.lightningResist) {\n        details += `⚡ 번개 저항: +${item.stats.lightningResist}%\\n`;\n      }\n      if (item.stats.poisonResist) {\n        details += `☠️ 독 저항: +${item.stats.poisonResist}%\\n`;\n      }\n      \n      // 기타\n      if (item.stats.magicFind) {\n        details += `🍀 마법 아이템 발견: +${item.stats.magicFind}%\\n`;\n      }\n      if (item.stats.goldFind) {\n        details += `💰 골드 획득: +${item.stats.goldFind}%\\n`;\n      }\n      if (item.stats.expBonus) {\n        details += `⭐ 경험치 보너스: +${item.stats.expBonus}%\\n`;\n      }\n    }\n    \n    if (item.description) {\n      details += `\\n━━━ 📖 설명 ━━━\\n`;\n      details += `${item.description}\\n`;\n    }\n    \n    if ((item as any).setBonus) {\n      details += `\\n━━━ 🎁 세트 효과 ━━━\\n`;\n      details += `${(item as any).setBonus}\\n`;\n    }\n    \n    if ((item as any).requiredLevel) {\n      details += `\\n⚠️ 필요 레벨: ${(item as any).requiredLevel}\\n`;\n    }\n    \n    if ((item as any).price) {\n      details += `💰 가격: ${(item as any).price} 골드\\n`;\n    }\n    \n    details += `\\n━━━━━━━━━━━━━━━━━━━━\\n`;\n    \n    return details;\n  }\n  \n  /**\n   * 아이템 희귀도 색상 반환 (CSS 클래스용)\n   */\n  getRarityColorClass(rarity: string): string {\n    const colorMap: { [key: string]: string } = {\n      'common': 'rarity-common',\n      'uncommon': 'rarity-uncommon',\n      'rare': 'rarity-rare',\n      'epic': 'rarity-epic',\n      'legendary': 'rarity-legendary',\n      'unique': 'rarity-unique',\n      'mythic': 'rarity-mythic'\n    };\n    return colorMap[rarity] || 'rarity-common';\n  }\n  \n  /**\n   * 아이템 아이콘 반환\n   */\n  getItemIcon(type: string, rarity: string): string {\n    // 타입별 기본 아이콘\n    const typeIcons: { [key: string]: string } = {\n      'weapon': '⚔️',\n      'armor': '🛡️',\n      'helmet': '⛑️',\n      'gloves': '🧤',\n      'boots': '👢',\n      'belt': '📿',\n      'amulet': '📿',\n      'ring': '💍',\n      'consumable': '🧪',\n      'material': '📦'\n    };\n    \n    // 희귀도에 따른 특수 아이콘 (전설/신화)\n    if (rarity === 'legendary') {\n      return '✨';\n    } else if (rarity === 'mythic') {\n      return '🌟';\n    }\n    \n    return typeIcons[type] || '📦';\n  }\n  \n  /**\n   * 장비 가능 여부 확인\n   */\n  canEquipItem(item: InventoryItem, playerLevel: number): boolean {\n    const requiredLevel = (item as any).requiredLevel;\n    if (requiredLevel && playerLevel < requiredLevel) {\n      return false;\n    }\n    \n    // 장비 가능한 타입인지 확인\n    const equipableTypes = [\n      'weapon', 'armor', 'helmet', 'gloves', 'boots', \n      'belt', 'amulet', 'ring', 'accessory'\n    ];\n    \n    return equipableTypes.includes(item.type);\n  }\n  \n  /**\n   * 아이템 총 능력치 계산 (비교용)\n   */\n  calculateTotalItemPower(item: InventoryItem): number {\n    if (!item.stats) return 0;\n    \n    let power = 0;\n    const stats = item.stats;\n    \n    // 공격 능력치\n    if (stats.minDamage && stats.maxDamage) {\n      power += (stats.minDamage + stats.maxDamage) / 2;\n    }\n    if (stats.attack) power += stats.attack;\n    if (stats.attackSpeed) power += stats.attackSpeed * 0.5;\n    \n    // 방어 능력치\n    if (stats.armor) power += stats.armor;\n    if (stats.defense) power += stats.defense;\n    if (stats.blockChance) power += stats.blockChance * 0.3;\n    if (stats.evasion) power += stats.evasion * 0.3;\n    \n    // 생명력/마나\n    if (stats.hp) power += stats.hp * 0.1;\n    if (stats.mp) power += stats.mp * 0.1;\n    \n    // 크리티컬\n    if (stats.critChance) power += stats.critChance * 2;\n    if (stats.critDamage) power += stats.critDamage * 0.5;\n    \n    // 희귀도 가중치\n    const rarityMultiplier = this.getRarityWeight(item.rarity) * 10;\n    \n    return Math.floor(power * rarityMultiplier);\n  }\n}\n", "import { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { environment } from '../../../../environments/environment';\nimport { CryptoUtil } from '../../../core/utils/crypto.util';\n\nexport interface NovelUser {\n  username: string;\n  loginTime: Date;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NovelAuthService {\n  private readonly STORAGE_KEY = 'novel_auth_user';\n  \n  // environment에서 암호화된 인증 정보를 복호화하여 사용\n  private readonly ADMIN_USERNAME = CryptoUtil.decrypt(environment.auth.username);\n  private readonly ADMIN_PASSWORD = CryptoUtil.decrypt(environment.auth.password);\n  \n  private currentUserSubject: BehaviorSubject<NovelUser | null>;\n  public currentUser$: Observable<NovelUser | null>;\n\n  constructor(private router: Router) {\n    // 저장된 사용자 정보 로드\n    const savedUser = this.loadUserFromStorage();\n    this.currentUserSubject = new BehaviorSubject<NovelUser | null>(savedUser);\n    this.currentUser$ = this.currentUserSubject.asObservable();\n  }\n\n  /**\n   * 로컬 스토리지에서 사용자 정보 로드\n   */\n  private loadUserFromStorage(): NovelUser | null {\n    try {\n      const userJson = localStorage.getItem(this.STORAGE_KEY);\n      if (userJson) {\n        const user = JSON.parse(userJson);\n        // loginTime을 Date 객체로 변환\n        user.loginTime = new Date(user.loginTime);\n        return user;\n      }\n    } catch (error) {\n    }\n    return null;\n  }\n\n  /**\n   * 로컬 스토리지에 사용자 정보 저장\n   */\n  private saveUserToStorage(user: NovelUser | null): void {\n    try {\n      if (user) {\n        localStorage.setItem(this.STORAGE_KEY, JSON.stringify(user));\n      } else {\n        localStorage.removeItem(this.STORAGE_KEY);\n      }\n    } catch (error) {\n    }\n  }\n\n  /**\n   * 로그인 - environment에서 중앙 관리되는 계정 사용\n   */\n  login(username: string, password: string): boolean {\n    if (username === this.ADMIN_USERNAME && password === this.ADMIN_PASSWORD) {\n      const novelUser: NovelUser = {\n        username: this.ADMIN_USERNAME,\n        loginTime: new Date()\n      };\n      \n      this.currentUserSubject.next(novelUser);\n      this.saveUserToStorage(novelUser);\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * 로그아웃\n   */\n  logout(): void {\n    console.log('[NovelAuth] 로그아웃');\n    \n    try {\n      this.currentUserSubject.next(null);\n      this.saveUserToStorage(null);\n    } catch (error) {\n      console.error('[NovelAuth] 로그아웃 중 오류:', error);\n    } finally {\n      // 오류 발생 여부와 관계없이 항상 소설 로그인 페이지로 이동\n      this.router.navigate(['/novel/login']).catch((err: any) => {\n        console.error('[NovelAuth] 네비게이션 예외 발생:', err);\n        window.location.hash = '#/novel/login';\n      });\n    }\n  }\n\n  /**\n   * 현재 로그인 여부 확인\n   */\n  isLoggedIn(): boolean {\n    return this.currentUserSubject.value !== null;\n  }\n\n  /**\n   * 현재 사용자 정보 가져오기\n   */\n  getCurrentUser(): NovelUser | null {\n    return this.currentUserSubject.value;\n  }\n\n  /**\n   * 현재 사용자 이름 가져오기\n   */\n  getCurrentUsername(): string | null {\n    const user = this.getCurrentUser();\n    return user ? user.username : null;\n  }\n}\n", "import { Injectable } from '@angular/core';\n\nexport interface GameSaveData {\n  id: string;\n  novelId: string;\n  novelTitle: string;\n  novelTemplate: any;\n  playerCharacter: any;\n  storyBlocks: any[];\n  currentPath: string[];\n  choices: string[];\n  gameStarted: boolean;\n  gold: number;\n  inventory: any[];\n  completedQuests: string[];\n  currentChapter: number;\n  saveDate: Date;\n  // 무협 게임 추가 정보\n  combatPower?: number;\n  experience?: number;\n  experienceToNext?: number;\n  level?: number;\n  equippedItems?: {\n    weapon?: string;\n    armor?: string;\n    accessory?: string;\n  };\n  stats?: any;\n  health?: number;\n  maxHealth?: number;\n  // 던전 진행 상태\n  dungeonProgress?: {\n    currentDungeon?: any;\n    currentRoom?: any;\n    currentFloor?: number;\n    isInDungeon?: boolean;\n  };\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GameStorageService {\n  private dbName = 'NovelGameDB';\n  private dbVersion = 2; // 버전 업그레이드 (장비 추가)\n  private storeName = 'gameSaves';\n  private db: IDBDatabase | null = null;\n\n  constructor() {\n    this.initDB();\n  }\n\n  /**\n   * IndexedDB 초기화\n   */\n  private async initDB(): Promise<void> {\n    return new Promise((resolve, reject) => {\n      const request = indexedDB.open(this.dbName, this.dbVersion);\n\n      request.onerror = () => {\n        reject(request.error);\n      };\n\n      request.onsuccess = () => {\n        this.db = request.result;\n        resolve();\n      };\n\n      request.onupgradeneeded = (event: any) => {\n        const db = event.target.result;\n        \n        // 기존 store가 있으면 삭제하고 재생성\n        if (db.objectStoreNames.contains(this.storeName)) {\n          db.deleteObjectStore(this.storeName);\n        }\n\n        // ObjectStore 생성\n        const objectStore = db.createObjectStore(this.storeName, { keyPath: 'id' });\n        \n        // 인덱스 생성\n        objectStore.createIndex('novelId', 'novelId', { unique: false });\n        objectStore.createIndex('saveDate', 'saveDate', { unique: false });\n        objectStore.createIndex('novelTitle', 'novelTitle', { unique: false });\n        \n      };\n    });\n  }\n\n  /**\n   * DB 연결 확인 및 재연결\n   */\n  private async ensureDB(): Promise<IDBDatabase> {\n    if (this.db) {\n      return this.db;\n    }\n    await this.initDB();\n    if (!this.db) {\n      throw new Error('IndexedDB 연결 실패');\n    }\n    return this.db;\n  }\n\n  /**\n   * 게임 저장\n   */\n  async saveGame(gameData: GameSaveData): Promise<void> {\n    try {\n      const db = await this.ensureDB();\n      \n      return new Promise((resolve, reject) => {\n        const transaction = db.transaction([this.storeName], 'readwrite');\n        const store = transaction.objectStore(this.storeName);\n        \n        // saveDate를 Date 객체로 변환\n        const dataToSave = {\n          ...gameData,\n          saveDate: new Date(gameData.saveDate)\n        };\n        \n        const request = store.put(dataToSave);\n\n        request.onsuccess = () => {\n          resolve();\n        };\n\n        request.onerror = () => {\n          reject(request.error);\n        };\n      });\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  /**\n   * 게임 불러오기\n   */\n  async loadGame(gameId: string): Promise<GameSaveData | null> {\n    try {\n      const db = await this.ensureDB();\n      \n      return new Promise((resolve, reject) => {\n        const transaction = db.transaction([this.storeName], 'readonly');\n        const store = transaction.objectStore(this.storeName);\n        const request = store.get(gameId);\n\n        request.onsuccess = () => {\n          if (request.result) {\n            resolve(request.result);\n          } else {\n            resolve(null);\n          }\n        };\n\n        request.onerror = () => {\n          reject(request.error);\n        };\n      });\n    } catch (error) {\n      return null;\n    }\n  }\n\n  /**\n   * 모든 저장된 게임 목록 가져오기\n   */\n  async getAllGames(): Promise<GameSaveData[]> {\n    try {\n      const db = await this.ensureDB();\n      \n      return new Promise((resolve, reject) => {\n        const transaction = db.transaction([this.storeName], 'readonly');\n        const store = transaction.objectStore(this.storeName);\n        const request = store.getAll();\n\n        request.onsuccess = () => {\n          const games = request.result || [];\n          // 날짜순 정렬 (최신순)\n          games.sort((a, b) => new Date(b.saveDate).getTime() - new Date(a.saveDate).getTime());\n          resolve(games);\n        };\n\n        request.onerror = () => {\n          reject(request.error);\n        };\n      });\n    } catch (error) {\n      return [];\n    }\n  }\n\n  /**\n   * 특정 소설의 저장된 게임 목록 가져오기\n   */\n  async getGamesByNovelId(novelId: string): Promise<GameSaveData[]> {\n    try {\n      const db = await this.ensureDB();\n      \n      return new Promise((resolve, reject) => {\n        const transaction = db.transaction([this.storeName], 'readonly');\n        const store = transaction.objectStore(this.storeName);\n        const index = store.index('novelId');\n        const request = index.getAll(novelId);\n\n        request.onsuccess = () => {\n          const games = request.result || [];\n          games.sort((a, b) => new Date(b.saveDate).getTime() - new Date(a.saveDate).getTime());\n          resolve(games);\n        };\n\n        request.onerror = () => {\n          reject(request.error);\n        };\n      });\n    } catch (error) {\n      return [];\n    }\n  }\n\n  /**\n   * 게임 삭제\n   */\n  async deleteGame(gameId: string): Promise<void> {\n    try {\n      const db = await this.ensureDB();\n      \n      return new Promise((resolve, reject) => {\n        const transaction = db.transaction([this.storeName], 'readwrite');\n        const store = transaction.objectStore(this.storeName);\n        const request = store.delete(gameId);\n\n        request.onsuccess = () => {\n          resolve();\n        };\n\n        request.onerror = () => {\n          reject(request.error);\n        };\n      });\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  /**\n   * 모든 게임 삭제\n   */\n  async clearAllGames(): Promise<void> {\n    try {\n      const db = await this.ensureDB();\n      \n      return new Promise((resolve, reject) => {\n        const transaction = db.transaction([this.storeName], 'readwrite');\n        const store = transaction.objectStore(this.storeName);\n        const request = store.clear();\n\n        request.onsuccess = () => {\n          resolve();\n        };\n\n        request.onerror = () => {\n          reject(request.error);\n        };\n      });\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  /**\n   * localStorage에서 IndexedDB로 마이그레이션\n   */\n  async migrateFromLocalStorage(): Promise<number> {\n    try {\n      let migratedCount = 0;\n      const keys = Object.keys(localStorage);\n\n      for (const key of keys) {\n        if (key.startsWith('novel_game_')) {\n          try {\n            const saveData = localStorage.getItem(key);\n            if (saveData) {\n              const gameState = JSON.parse(saveData);\n              await this.saveGame(gameState);\n              migratedCount++;\n            }\n          } catch (e) {\n          }\n        }\n      }\n\n      return migratedCount;\n    } catch (error) {\n      return 0;\n    }\n  }\n}\n", "import { Injectable } from '@angular/core';\n\n/**\n * 던전 생성 서비스\n * 절차적 생성 알고리즘을 사용하여 던전, 층, 방, 몬스터를 생성합니다.\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class DungeonGeneratorService {\n\n  constructor() { }\n\n  /**\n   * 시드 기반 난수 생성기 (Seeded Random Number Generator)\n   * 동일한 시드로 동일한 던전을 재생성할 수 있습니다.\n   */\n  private seededRandom(seed: number): () => number {\n    let state = seed;\n    return () => {\n      state = (state * 1664525 + 1013904223) % 4294967296;\n      return state / 4294967296;\n    };\n  }\n\n  /**\n   * 던전 인스턴스 생성\n   */\n  generateDungeon(\n    dungeonType: any,\n    difficulty: 'easy' | 'normal' | 'hard' | 'hell',\n    playerLevel: number\n  ): any {\n    const dungeonId = `dungeon_${Date.now()}`;\n    const seed = Math.random();\n    const random = this.seededRandom(seed * 1000000);\n\n    // 난이도에 따른 층 수 조정\n    const floorMultiplier = {\n      easy: 0.75,\n      normal: 1.0,\n      hard: 1.25,\n      hell: 1.5\n    }[difficulty];\n\n    const totalFloors = Math.floor(dungeonType.baseFloors * floorMultiplier);\n\n    const dungeon: any = {\n      id: dungeonId,\n      dungeonTypeId: dungeonType.id,\n      difficulty,\n      seed,\n      storyContext: dungeonType.storyDescription,\n      totalFloors,\n      currentFloor: 0,\n      floors: [],\n      status: 'active',\n      startTime: new Date(),\n      elapsedTime: 0,\n      stats: {\n        roomsExplored: 0,\n        monstersKilled: 0,\n        elitesKilled: 0,\n        bossKilled: false,\n        treasuresFound: 0,\n        deathCount: 0\n      },\n      accumulatedRewards: {\n        gold: 0,\n        experience: 0,\n        items: []\n      },\n      playerSnapshot: {\n        hp: 0, // 컴포넌트에서 설정\n        mp: 0,\n        level: playerLevel\n      }\n    };\n\n    // 층 생성\n    for (let i = 1; i <= totalFloors; i++) {\n      const floor = this.generateFloor(i, totalFloors, dungeonType, difficulty, random);\n      dungeon.floors.push(floor);\n    }\n\n    return dungeon;\n  }\n\n  /**\n   * 층 생성\n   */\n  generateFloor(\n    floorNumber: number,\n    totalFloors: number,\n    dungeonType: any,\n    difficulty: string,\n    random: () => number\n  ): any {\n    const isLastFloor = floorNumber === totalFloors;\n    \n    // 방 개수 결정 (층이 올라갈수록 더 많은 방)\n    const baseRoomCount = 5;\n    const bonusRooms = Math.floor(floorNumber / 2); // 2층마다 +1 방\n    const randomRooms = Math.floor(random() * 3); // 0-2 랜덤\n    const roomCount = baseRoomCount + bonusRooms + randomRooms;\n\n    const rooms: any[] = [];\n\n    // 입구 방\n    const entranceRoom = this.createRoom('entrance', floorNumber, dungeonType, difficulty, random);\n    rooms.push(entranceRoom);\n\n    // 일반 방들\n    for (let i = 0; i < roomCount - 2; i++) {\n      const roomType = this.selectRandomRoomType(isLastFloor, random);\n      const room = this.createRoom(roomType, floorNumber, dungeonType, difficulty, random);\n      rooms.push(room);\n    }\n\n    // 출구/보스 방\n    if (isLastFloor) {\n      const bossRoom = this.createRoom('boss', floorNumber, dungeonType, difficulty, random);\n      rooms.push(bossRoom);\n    } else {\n      const exitRoom = this.createRoom('exit', floorNumber, dungeonType, difficulty, random);\n      rooms.push(exitRoom);\n    }\n\n    // 방 연결 (선형 + 일부 분기)\n    this.connectRooms(rooms, random);\n\n    const floor: any = {\n      floorNumber,\n      rooms,\n      entranceRoomId: rooms[0].id,\n      exitRoomId: isLastFloor ? undefined : rooms[rooms.length - 1].id,\n      bossRoomId: isLastFloor ? rooms[rooms.length - 1].id : undefined,\n      isCleared: false,\n      generatedAt: new Date()\n    };\n\n    return floor;\n  }\n\n  /**\n   * 방 생성\n   */\n  private createRoom(\n    type: string,\n    floorNumber: number,\n    dungeonType: any,\n    difficulty: string,\n    random: () => number\n  ): any {\n    const roomId = `room_${Date.now()}_${random()}`;\n\n    // 방 크기 결정\n    const sizeRoll = random();\n    let size: 'small' | 'medium' | 'large';\n    if (sizeRoll < 0.3) size = 'small';\n    else if (sizeRoll < 0.8) size = 'medium';\n    else size = 'large';\n\n    const room: any = {\n      id: roomId,\n      type,\n      size,\n      floorNumber, // 층 번호 추가\n      description: this.getRoomDescription(type, dungeonType.theme, random),\n      monsters: [],\n      isCleared: ['entrance', 'exit', 'treasure', 'shrine', 'shop', 'safe'].includes(type),\n      interactables: [],\n      connectedRoomIds: [],\n      isExplored: type === 'entrance',\n      isCurrentRoom: false\n    };\n\n    // 몬스터 스폰\n    if (['normal', 'elite', 'boss'].includes(type)) {\n      room.monsters = this.spawnMonsters(type, floorNumber, dungeonType, difficulty, size, random);\n    }\n\n    // 상호작용 오브젝트\n    if (type === 'treasure') {\n      room.interactables.push(this.createTreasureChest(floorNumber, difficulty, random));\n    } else if (type === 'shrine') {\n      room.interactables.push(this.createShrine(random));\n    }\n\n    return room;\n  }\n\n  /**\n   * 방 연결 (선형 + 분기)\n   */\n  private connectRooms(rooms: any[], random: () => number): void {\n    // 기본 선형 연결\n    for (let i = 0; i < rooms.length - 1; i++) {\n      rooms[i].connectedRoomIds.push(rooms[i + 1].id);\n      rooms[i + 1].connectedRoomIds.push(rooms[i].id);\n    }\n\n    // 일부 분기 추가 (30% 확률)\n    for (let i = 1; i < rooms.length - 2; i++) {\n      if (random() < 0.3) {\n        const targetIndex = i + 2;\n        if (targetIndex < rooms.length && !rooms[i].connectedRoomIds.includes(rooms[targetIndex].id)) {\n          rooms[i].connectedRoomIds.push(rooms[targetIndex].id);\n          rooms[targetIndex].connectedRoomIds.push(rooms[i].id);\n        }\n      }\n    }\n  }\n\n  /**\n   * 랜덤 방 타입 선택\n   */\n  private selectRandomRoomType(isLastFloor: boolean, random: () => number): string {\n    if (isLastFloor) {\n      // 마지막 층은 보스 전 특수 방들\n      const specialRooms = ['normal', 'elite', 'treasure', 'shrine'];\n      return specialRooms[Math.floor(random() * specialRooms.length)];\n    }\n\n    const rand = random();\n    if (rand < 0.45) return 'normal';\n    if (rand < 0.65) return 'elite';\n    if (rand < 0.80) return 'treasure';\n    if (rand < 0.92) return 'shrine';\n    if (rand < 0.97) return 'shop';\n    return 'event';\n  }\n\n  /**\n   * 방 설명 생성\n   */\n  private getRoomDescription(type: string, theme: string, random: () => number): string {\n    const descriptions: { [key: string]: { [key: string]: string[] } } = {\n      entrance: {\n        undead: [\n          '좁은 통로. 벽에 오래된 횃불이 켜져있다.',\n          '입구에서 차가운 기운이 느껴진다.',\n          '묘지의 입구. 비석들이 늘어서 있다.'\n        ],\n        demon: [\n          '붉게 타오르는 입구. 유황 냄새가 진동한다.',\n          '마족의 기운이 느껴지는 동굴 입구.',\n          '용암이 흐르는 동굴 입구. 열기가 압도적이다.'\n        ],\n        ancient: [\n          '거대한 석조 문. 고대 문자가 새겨져 있다.',\n          '웅장한 입구. 세월의 흔적이 역력하다.',\n          '사막 모래에 반쯤 묻힌 유적의 입구.'\n        ],\n        beast: [\n          '숲 속 동굴. 야수의 울음소리가 들린다.',\n          '덩굴로 뒤덮인 동굴 입구.',\n          '동물 뼈가 흩어진 동굴 입구.'\n        ],\n        magic: [\n          '마법진이 그려진 입구. 마력이 감지된다.',\n          '신비로운 빛이 새어나오는 포털.',\n          '떠다니는 룬 문자들이 보인다.'\n        ],\n        nature: [\n          '이끼로 뒤덮인 자연 동굴.',\n          '지하 숲의 입구. 버섯이 발광하고 있다.',\n          '물이 흐르는 자연 동굴 입구.'\n        ]\n      },\n      normal: {\n        undead: [\n          '관이 늘어선 방. 무언가 움직이는 소리가 들린다.',\n          '어두운 방. 뼈다귀가 바닥에 흩어져 있다.',\n          '묘실. 벽면에 해골이 장식되어 있다.',\n          '좁은 복도. 거미줄이 곳곳에 쳐져있다.'\n        ],\n        demon: [\n          '붉은 빛이 감도는 방. 열기가 느껴진다.',\n          '용암이 흐르는 방. 마족의 울음소리가 들린다.',\n          '화염에 그을린 방. 유황 냄새가 독하다.',\n          '악마의 문양이 새겨진 방.'\n        ],\n        ancient: [\n          '먼지가 쌓인 방. 고대 유물들이 놓여있다.',\n          '넓은 홀. 석상들이 도열해 있다.',\n          '고대 문자가 새겨진 벽면.',\n          '보존이 잘 된 고대의 방.'\n        ],\n        beast: [\n          '야수의 둥지. 뼈와 가죽이 흩어져 있다.',\n          '좁은 굴. 긁힌 자국이 보인다.',\n          '어두운 방. 으르렁거리는 소리가 들린다.',\n          '털과 발톱 자국이 가득한 방.'\n        ],\n        magic: [\n          '마법진이 그려진 방. 마력이 흐른다.',\n          '떠다니는 수정들. 신비로운 기운.',\n          '마법 실험실의 흔적. 마나가 충만하다.',\n          '차원이 왜곡된 방. 현실감이 희미하다.'\n        ],\n        nature: [\n          '이끼와 버섯으로 뒤덮인 방.',\n          '지하 숲. 발광 식물들이 빛난다.',\n          '물웅덩이가 있는 자연 동굴.',\n          '뿌리가 천장을 뚫고 자라고 있다.'\n        ]\n      },\n      elite: {\n        undead: [\n          '거대한 무덤. 강력한 언데드의 기운이 느껴진다.',\n          '제단이 놓인 방. 부활의 의식 흔적이 보인다.',\n          '엘리트 언데드의 거처. 검은 오라가 흐른다.'\n        ],\n        demon: [\n          '마족 대장의 방. 붉은 오라가 강렬하다.',\n          '화염 제단. 강력한 마족이 지키고 있다.',\n          '지옥의 문 앞. 강한 악마의 기운.'\n        ],\n        ancient: [\n          '수호자의 방. 거대한 골렘이 서있다.',\n          '봉인된 방. 강력한 마법이 감지된다.',\n          '고대 전사의 무덤. 갑옷이 움직인다.'\n        ],\n        beast: [\n          '알파의 둥지. 강한 야수의 기운.',\n          '거대한 동물의 거처. 위압감이 느껴진다.',\n          '무리의 우두머리가 지키는 방.'\n        ],\n        magic: [\n          '대마법사의 방. 마력이 폭발적이다.',\n          '강력한 마법 생물이 봉인되어 있다.',\n          '차원 균열. 강력한 존재가 느껴진다.'\n        ],\n        nature: [\n          '고대 나무의 수호자. 자연의 힘이 강하다.',\n          '거대 식물 괴물의 둥지.',\n          '자연의 정령이 지키는 성역.'\n        ]\n      },\n      boss: {\n        undead: [\n          '거대한 석관. 리치의 기운이 압도적이다.',\n          '망자의 왕좌. 해골 왕이 앉아있다.',\n          '언데드 군주의 방. 죽음의 기운이 충만하다.'\n        ],\n        demon: [\n          '마왕의 옥좌. 화염이 소용돌이친다.',\n          '지옥의 문 앞. 데몬 로드가 기다린다.',\n          '악마의 성소. 압도적인 악의가 느껴진다.'\n        ],\n        ancient: [\n          '타이탄의 방. 거대한 석상이 움직인다.',\n          '고대 왕의 무덤. 왕의 영혼이 깨어났다.',\n          '유적의 핵심부. 최종 수호자가 있다.'\n        ],\n        beast: [\n          '전설의 야수. 모든 짐승의 왕.',\n          '거대한 동굴 왕국의 군주.',\n          '고대 맹수의 거처.'\n        ],\n        magic: [\n          '대마법사의 탑 꼭대기.',\n          '차원의 지배자. 현실이 왜곡된다.',\n          '마법의 화신. 순수한 마력의 존재.'\n        ],\n        nature: [\n          '고대 수호령. 자연의 화신.',\n          '세계수의 수호자.',\n          '원시림의 지배자.'\n        ]\n      },\n      treasure: {\n        undead: ['먼지 쌓인 보물 상자.', '비밀 무덤 속 보물.', '황금으로 된 석관.'],\n        demon: ['화염에 둘러싸인 보물 상자.', '마족의 전리품.', '지옥의 보물고.'],\n        ancient: ['봉인된 보물 상자. 룬 문자가 새겨져 있다.', '고대의 보물 창고.', '왕실의 보물.'],\n        beast: ['야수가 모은 보물.', '빛나는 돌이 가득한 둥지.', '짐승의 보물고.'],\n        magic: ['마법으로 보호된 상자.', '차원 주머니.', '무한 보물 상자.'],\n        nature: ['자연의 선물. 빛나는 열매.', '크리스탈 동굴.', '보석나무.']\n      },\n      shrine: {\n        undead: ['죽음의 성소. 차가운 기운.', '망자의 제단.', '영혼의 샘.'],\n        demon: ['지옥불 성소.', '악마의 제단. 힘이 솟는다.', '마력의 샘.'],\n        ancient: ['고대의 성소. 신성한 기운.', '마나의 샘.', '축복의 제단.'],\n        beast: ['야생의 성소.', '정령의 샘.', '자연의 제단.'],\n        magic: ['마력 충전소.', '룬 제단.', '마법진 성소.'],\n        nature: ['생명의 샘.', '치유의 나무.', '자연의 축복.']\n      }\n    };\n\n    const themeDescriptions = descriptions[type]?.[theme] || ['평범한 방.'];\n    return themeDescriptions[Math.floor(random() * themeDescriptions.length)];\n  }\n\n  /**\n   * 몬스터 스폰\n   */\n  private spawnMonsters(\n    roomType: string,\n    floorNumber: number,\n    dungeonType: any,\n    difficulty: string,\n    roomSize: string,\n    random: () => number\n  ): any[] {\n    const monsters: any[] = [];\n    const baseLevel = floorNumber * 2; // 층당 레벨 +2\n\n    const difficultyMap: { [key: string]: number } = {\n      easy: 0.7,\n      normal: 1.0,\n      hard: 1.3,\n      hell: 1.6\n    };\n    const difficultyMultiplier = difficultyMap[difficulty] || 1.0;\n\n    const sizeMap: { [key: string]: number } = {\n      small: 0.75,\n      medium: 1.0,\n      large: 1.5\n    };\n    const sizeMultiplier = sizeMap[roomSize] || 1.0;\n\n    if (roomType === 'normal') {\n      // 일반 몬스터 2-4마리 (방 크기에 따라)\n      const count = Math.floor((2 + random() * 3) * sizeMultiplier);\n      for (let i = 0; i < count; i++) {\n        monsters.push(this.createMonster('normal', baseLevel, dungeonType, difficultyMultiplier, random));\n      }\n    } else if (roomType === 'elite') {\n      // 엘리트 몬스터 1-3마리\n      const count = Math.floor((1 + random() * 2) * sizeMultiplier);\n      for (let i = 0; i < count; i++) {\n        monsters.push(this.createMonster('elite', baseLevel + 3, dungeonType, difficultyMultiplier, random));\n      }\n    } else if (roomType === 'boss') {\n      // 보스 1마리\n      monsters.push(this.createMonster('boss', baseLevel + 7, dungeonType, difficultyMultiplier, random));\n    }\n\n    return monsters;\n  }\n\n  /**\n   * 몬스터 생성\n   */\n  private createMonster(\n    type: 'normal' | 'elite' | 'boss',\n    level: number,\n    dungeonType: any,\n    difficultyMultiplier: number,\n    random: () => number\n  ): any {\n    const monsterId = `monster_${Date.now()}_${random()}`;\n\n    // 기본 스탯 (레벨 기반)\n    const baseHp = 50 + (level * 25);\n    const baseAttack = 8 + (level * 4);\n    const baseDefense = 3 + (level * 2);\n\n    const typeMultiplier = {\n      normal: 1.0,\n      elite: 2.5,\n      boss: 6.0\n    }[type];\n\n    // 변동성 추가 (±15%)\n    const variance = 0.85 + (random() * 0.3);\n\n    const monster: any = {\n      id: monsterId,\n      name: this.getMonsterName(type, dungeonType, random),\n      type,\n      level,\n      hp: Math.floor(baseHp * typeMultiplier * difficultyMultiplier * variance),\n      maxHp: Math.floor(baseHp * typeMultiplier * difficultyMultiplier * variance),\n      attack: Math.floor(baseAttack * typeMultiplier * difficultyMultiplier * variance),\n      defense: Math.floor(baseDefense * typeMultiplier * difficultyMultiplier * variance),\n      dropTable: {\n        goldMin: Math.floor(10 * level * typeMultiplier),\n        goldMax: Math.floor(25 * level * typeMultiplier),\n        itemDropChance: type === 'boss' ? 1.0 : type === 'elite' ? 0.6 : 0.25,\n        itemRarity: type === 'boss' ? 'legendary' : type === 'elite' ? 'rare' : 'common'\n      },\n      isDead: false\n    };\n\n    // 엘리트 속성\n    if (type === 'elite' || type === 'boss') {\n      const affixCount = type === 'boss' ? 3 : 2;\n      monster.eliteAffixes = this.generateEliteAffixes(affixCount, random);\n      \n      // 엘리트 속성에 따른 스탯 보너스\n      monster.eliteAffixes.forEach((affix: string) => {\n        this.applyEliteAffix(monster, affix);\n      });\n    }\n\n    return monster;\n  }\n\n  /**\n   * 몬스터 이름 생성\n   */\n  private getMonsterName(type: 'normal' | 'elite' | 'boss', dungeonType: any, random: () => number): string {\n    const names: { [key: string]: { [key: string]: string[] } } = {\n      normal: {\n        undead: ['좀비', '스켈레톤', '유령', '구울', '워커', '해골병사'],\n        demon: ['임프', '헬하운드', '마족 전사', '작은 악마', '화염 정령', '마족 정찰병'],\n        ancient: ['골렘', '움직이는 갑옷', '고대 수호자', '석상', '마법 인형', '고대 전사'],\n        beast: ['늑대', '곰', '멧돼지', '거대 거미', '독사', '박쥐 떼'],\n        magic: ['마법 슬라임', '원소 정령', '마나 드레인', '떠다니는 눈', '마법 구체', '환영'],\n        nature: ['거대 버섯', '식인 식물', '덩굴 괴물', '돌진 나무', '포자 괴물', '나무 정령']\n      },\n      elite: {\n        undead: ['강화된 좀비', '고위 스켈레톤', '원한의 유령', '리치 수습생', '죽음의 기사', '저주받은 전사'],\n        demon: ['상급 임프', '지옥의 사냥개', '마족 대장', '화염 군주', '어둠의 마법사', '악마 군단장'],\n        ancient: ['고대 골렘', '마법 갑옷', '수호자 대장', '타이탄의 파편', '고대 마법사', '봉인된 전사'],\n        beast: ['알파 늑대', '광포한 곰', '거대 맹수', '여왕 거미', '왕뱀', '고대 짐승'],\n        magic: ['상급 정령', '마법 지배자', '차원 파수꾼', '마나 군주', '환영 마스터', '공간 왜곡자'],\n        nature: ['고대 수호목', '자연의 복수자', '거대 포식자', '정령 군주', '세계수 가지', '자연의 분노']\n      },\n      boss: {\n        undead: ['리치', '해골 왕', '망령의 군주', '죽음의 화신', '언데드 로드', '망자의 왕'],\n        demon: ['마왕', '지옥의 군주', '데몬 로드', '화염의 군주', '악마 대왕', '심연의 지배자'],\n        ancient: ['타이탄', '고대 왕', '유적의 수호신', '최후의 수호자', '고대 황제', '봉인된 신'],\n        beast: ['짐승의 왕', '태고의 맹수', '야수 군주', '원시의 포식자', '만물의 사냥꾼', '고대 용'],\n        magic: ['대마법사', '차원 지배자', '마법의 화신', '마나의 군주', '공간의 지배자', '현실 왜곡자'],\n        nature: ['세계수 수호자', '자연의 화신', '원시림 군주', '대지의 분노', '생명의 지배자', '자연 그 자체']\n      }\n    };\n\n    const theme = dungeonType.theme || 'undead';\n    const monsterNames = names[type][theme] || ['알 수 없는 몬스터'];\n    return monsterNames[Math.floor(random() * monsterNames.length)];\n  }\n\n  /**\n   * 엘리트 속성 생성\n   */\n  private generateEliteAffixes(count: number, random: () => number): string[] {\n    const affixes = [\n      '강화',      // HP +50%\n      '재생',      // 턴당 HP 회복\n      '화염',      // 화염 피해 추가\n      '냉기',      // 이동 방해\n      '독',        // 지속 피해\n      '번개',      // 추가 피해\n      '흡혈',      // 피해의 30% 회복\n      '반사',      // 피해 반사\n      '신속',      // 공격력 +30%\n      '견고',      // 방어력 +50%\n      '광폭화',    // HP 50% 이하시 공격력 2배\n      '분열',      // 사망시 작은 몬스터 생성\n      '순간이동',  // 랜덤 회피\n      '마법저항',  // 마법 피해 -50%\n      '물리저항'   // 물리 피해 -50%\n    ];\n\n    const selected: string[] = [];\n    const shuffled = [...affixes].sort(() => random() - 0.5);\n\n    for (let i = 0; i < count && i < shuffled.length; i++) {\n      selected.push(shuffled[i]);\n    }\n\n    return selected;\n  }\n\n  /**\n   * 엘리트 속성 적용\n   */\n  private applyEliteAffix(monster: any, affix: string): void {\n    switch (affix) {\n      case '강화':\n        monster.hp = Math.floor(monster.hp * 1.5);\n        monster.maxHp = Math.floor(monster.maxHp * 1.5);\n        break;\n      case '견고':\n        monster.defense = Math.floor(monster.defense * 1.5);\n        break;\n      case '신속':\n        monster.attack = Math.floor(monster.attack * 1.3);\n        break;\n      case '화염':\n      case '냉기':\n      case '독':\n      case '번개':\n        monster.attack = Math.floor(monster.attack * 1.2);\n        break;\n    }\n  }\n\n  /**\n   * 보물 상자 생성\n   */\n  private createTreasureChest(floorNumber: number, difficulty: string, random: () => number): any {\n    const difficultyBonusMap: { [key: string]: number } = {\n      easy: 0.75,\n      normal: 1.0,\n      hard: 1.5,\n      hell: 2.0\n    };\n    const difficultyBonus = difficultyBonusMap[difficulty] || 1.0;\n\n    return {\n      id: `chest_${Date.now()}_${random()}`,\n      type: 'chest',\n      name: '보물 상자',\n      description: '반짝이는 보물 상자. 귀중한 아이템이 들어있을 것 같다.',\n      isLocked: random() < 0.2, // 20% 확률로 잠김\n      lockDifficulty: Math.floor(floorNumber * difficultyBonus),\n      lootGold: Math.floor((100 + random() * 200) * floorNumber * difficultyBonus),\n      lootItems: [],\n      isUsed: false\n    };\n  }\n\n  /**\n   * 성소 생성\n   */\n  private createShrine(random: () => number): any {\n    const shrineTypes = [\n      { type: 'health', name: '생명의 성소', value: 50, duration: 30, description: '최대 HP가 50% 증가합니다.' },\n      { type: 'mana', name: '마나의 성소', value: 30, duration: 30, description: '최대 MP가 30% 증가합니다.' },\n      { type: 'damage', name: '힘의 성소', value: 25, duration: 15, description: '공격력이 25% 증가합니다.' },\n      { type: 'defense', name: '보호의 성소', value: 20, duration: 15, description: '방어력이 20% 증가합니다.' },\n      { type: 'experience', name: '지혜의 성소', value: 100, duration: 10, description: '획득 경험치가 100% 증가합니다.' },\n      { type: 'gold', name: '부의 성소', value: 50, duration: 10, description: '획득 골드가 50% 증가합니다.' },\n      { type: 'speed', name: '신속의 성소', value: 30, duration: 20, description: '이동 속도가 30% 증가합니다.' },\n      { type: 'luck', name: '행운의 성소', value: 20, duration: 20, description: '아이템 드롭률이 20% 증가합니다.' }\n    ];\n\n    const selected = shrineTypes[Math.floor(random() * shrineTypes.length)];\n\n    return {\n      id: `shrine_${Date.now()}_${random()}`,\n      type: 'shrine',\n      name: selected.name,\n      description: selected.description,\n      shrineEffect: {\n        type: selected.type,\n        value: selected.value,\n        duration: selected.duration\n      },\n      isUsed: false\n    };\n  }\n\n  /**\n   * 던전 난이도별 보상 배율\n   */\n  getDifficultyRewardMultiplier(difficulty: string): number {\n    const multipliers = {\n      easy: 0.75,\n      normal: 1.0,\n      hard: 1.5,\n      hell: 2.5\n    };\n    return multipliers[difficulty as keyof typeof multipliers] || 1.0;\n  }\n\n  /**\n   * 층별 위험도 계산\n   */\n  getFloorDangerLevel(floorNumber: number, totalFloors: number): number {\n    // 1.0 (쉬움) ~ 3.0 (매우 어려움)\n    return 1.0 + (floorNumber / totalFloors) * 2.0;\n  }\n\n  /**\n   * 방 타입별 가중치\n   */\n  getRoomTypeWeights(floorNumber: number, totalFloors: number): { [key: string]: number } {\n    const progress = floorNumber / totalFloors;\n\n    return {\n      normal: 0.45,\n      elite: 0.15 + (progress * 0.15),  // 진행할수록 증가\n      treasure: 0.15,\n      shrine: 0.12,\n      shop: 0.08,\n      event: 0.05,\n      safe: Math.max(0.05 - (progress * 0.05), 0) // 진행할수록 감소\n    };\n  }\n}\n", "import { Injectable } from '@angular/core';\nimport { \n  DungeonType, DungeonInstance, DungeonFloor, DungeonRoom, \n  DungeonMonster, DungeonInteractable, DifficultyLevel, RoomType \n} from '../models/dungeon.model';\nimport { PlayerCharacter } from '../models/player.model';\nimport { DungeonGeneratorService } from './dungeon-generator.service';\n\n/**\n * 던전 시스템 서비스\n * - 던전 타입 관리\n * - 던전 입장/진행/완료\n * - 방 탐험 및 상호작용\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class DungeonService {\n\n  constructor(\n    private dungeonGenerator: DungeonGeneratorService\n  ) {}\n\n  /**\n   * 기본 던전 타입 목록 생성\n   */\n  getDefaultDungeonTypes(): DungeonType[] {\n    return [\n      {\n        id: 'catacombs',\n        name: 'Catacombs',\n        koreanName: '버려진 지하묘지',\n        theme: 'undead',\n        icon: '⚰️',\n        description: '언데드가 배회하는 오래된 무덤',\n        backgroundColor: '#1a1a2e',\n        minLevel: 1,\n        recommendedLevel: 3,\n        baseFloors: 4,\n        monsterTypes: ['zombie', 'skeleton', 'ghost'],\n        bossType: 'lich',\n        baseGoldReward: 200,\n        baseExpReward: 150,\n        uniqueItems: ['bone_wand', 'death_amulet'],\n        storyDescription: '숲 속에서 발견한 어두운 동굴 입구. 언데드의 기운이 느껴진다.'\n      },\n      {\n        id: 'demon_cave',\n        name: 'Demon Cave',\n        koreanName: '마족의 동굴',\n        theme: 'demon',\n        icon: '👹',\n        description: '마족이 숨어있다는 소문의 동굴',\n        backgroundColor: '#8B0000',\n        minLevel: 10,\n        recommendedLevel: 15,\n        baseFloors: 6,\n        monsterTypes: ['imp', 'hellhound', 'demon_warrior'],\n        bossType: 'demon_lord',\n        baseGoldReward: 500,\n        baseExpReward: 400,\n        uniqueItems: ['demonic_blade', 'hellfire_ring'],\n        storyDescription: '산 속 깊은 곳에서 발견한 붉게 빛나는 동굴. 유황 냄새가 진동한다.'\n      },\n      {\n        id: 'ancient_ruins',\n        name: 'Ancient Ruins',\n        koreanName: '고대 유적',\n        theme: 'ancient',\n        icon: '🏛️',\n        description: '고대 문명의 흔적이 남아있는 유적',\n        backgroundColor: '#2F4F4F',\n        minLevel: 20,\n        recommendedLevel: 25,\n        baseFloors: 8,\n        monsterTypes: ['golem', 'animated_armor', 'ancient_guardian'],\n        bossType: 'titan',\n        baseGoldReward: 1000,\n        baseExpReward: 800,\n        uniqueItems: ['ancient_artifact', 'rune_stone'],\n        storyDescription: '사막에서 발견한 거대한 유적. 강력한 마법이 봉인되어 있다.'\n      }\n    ];\n  }\n\n  /**\n   * 던전 생성\n   */\n  generateDungeon(\n    dungeonType: DungeonType,\n    difficulty: DifficultyLevel,\n    playerLevel: number\n  ): DungeonInstance {\n    // 던전 생성 서비스 사용\n    const dungeon = this.dungeonGenerator.generateDungeon(\n      dungeonType,\n      difficulty,\n      playerLevel\n    ) as DungeonInstance;\n\n    return dungeon;\n  }\n\n  /**\n   * 던전 입장 가능 여부 확인\n   */\n  canEnterDungeon(dungeonType: DungeonType, playerCharacter: PlayerCharacter): {\n    canEnter: boolean;\n    reason?: string;\n  } {\n    if (playerCharacter.level < dungeonType.minLevel) {\n      return {\n        canEnter: false,\n        reason: `레벨 ${dungeonType.minLevel} 이상 필요합니다`\n      };\n    }\n\n    return { canEnter: true };\n  }\n\n  /**\n   * 층 생성\n   */\n  generateFloor(\n    floorNumber: number,\n    totalFloors: number,\n    dungeonType: DungeonType,\n    difficulty: DifficultyLevel,\n    seed: number\n  ): DungeonFloor {\n    const isLastFloor = floorNumber === totalFloors;\n    const roomCount = 5 + Math.floor(Math.random() * 3); // 5-7개 방\n\n    const rooms: DungeonRoom[] = [];\n\n    // 입구 방\n    const entranceRoom = this.createRoom('entrance', floorNumber, dungeonType, difficulty);\n    rooms.push(entranceRoom);\n\n    // 일반 방들\n    for (let i = 0; i < roomCount - 2; i++) {\n      const roomType = this.selectRandomRoomType(isLastFloor);\n      const room = this.createRoom(roomType, floorNumber, dungeonType, difficulty);\n      rooms.push(room);\n    }\n\n    // 출구/보스 방\n    if (isLastFloor) {\n      const bossRoom = this.createRoom('boss', floorNumber, dungeonType, difficulty);\n      rooms.push(bossRoom);\n    } else {\n      const exitRoom = this.createRoom('exit', floorNumber, dungeonType, difficulty);\n      rooms.push(exitRoom);\n    }\n\n    // 방 연결 (선형 구조)\n    for (let i = 0; i < rooms.length - 1; i++) {\n      rooms[i].connectedRoomIds.push(rooms[i + 1].id);\n      rooms[i + 1].connectedRoomIds.push(rooms[i].id);\n    }\n\n    const floor: DungeonFloor = {\n      floorNumber,\n      rooms,\n      entranceRoomId: rooms[0].id,\n      exitRoomId: isLastFloor ? undefined : rooms[rooms.length - 1].id,\n      bossRoomId: isLastFloor ? rooms[rooms.length - 1].id : undefined,\n      isCleared: false,\n      generatedAt: new Date()\n    };\n\n    return floor;\n  }\n\n  /**\n   * 방 생성\n   */\n  createRoom(\n    type: string,\n    floorNumber: number,\n    dungeonType: DungeonType,\n    difficulty: DifficultyLevel\n  ): DungeonRoom {\n    const roomId = `room_${Date.now()}_${Math.random()}`;\n\n    const room: DungeonRoom = {\n      id: roomId,\n      type: type as RoomType,\n      size: 'medium',\n      description: this.getRoomDescription(type as RoomType, dungeonType),\n      monsters: [],\n      isCleared: type === 'entrance' || type === 'exit' || type === 'treasure' || type === 'shrine' || type === 'shop' || type === 'safe',\n      interactables: [],\n      connectedRoomIds: [],\n      isExplored: type === 'entrance',\n      isCurrentRoom: false\n    };\n\n    // 몬스터 스폰\n    if (type === 'normal' || type === 'elite' || type === 'boss') {\n      room.monsters = this.spawnMonsters(type as RoomType, floorNumber, dungeonType, difficulty);\n    }\n\n    // 상호작용 오브젝트\n    if (type === 'treasure') {\n      room.interactables.push(this.createTreasureChest(floorNumber, difficulty));\n    } else if (type === 'shrine') {\n      room.interactables.push(this.createShrine());\n    }\n\n    return room;\n  }\n\n  /**\n   * 랜덤 방 타입 선택\n   */\n  private selectRandomRoomType(isLastFloor: boolean): string {\n    if (isLastFloor) {\n      // 마지막 층은 보스 방 전에 특수 방 배치\n      const specialRooms = ['normal', 'elite', 'treasure', 'shrine'];\n      return specialRooms[Math.floor(Math.random() * specialRooms.length)];\n    }\n\n    const rand = Math.random();\n    if (rand < 0.5) return 'normal';\n    if (rand < 0.7) return 'elite';\n    if (rand < 0.85) return 'treasure';\n    if (rand < 0.95) return 'shrine';\n    return 'shop';\n  }\n\n  /**\n   * 방 설명 생성\n   */\n  getRoomDescription(type: RoomType, dungeonType: DungeonType): string {\n    const descriptions: { [key: string]: { [key: string]: string[] } } = {\n      entrance: {\n        undead: ['좁은 통로. 벽에 오래된 횃불이 켜져있다.', '입구에서 차가운 기운이 느껴진다.'],\n        demon: ['붉게 타오르는 입구. 유황 냄새가 진동한다.', '마족의 기운이 느껴지는 동굴 입구.'],\n        ancient: ['거대한 석조 문. 고대 문자가 새겨져 있다.', '웅장한 입구. 세월의 흔적이 역력하다.']\n      },\n      normal: {\n        undead: ['관이 늘어선 방. 무언가 움직이는 소리가 들린다.', '어두운 방. 뼈다귀가 바닥에 흩어져 있다.'],\n        demon: ['붉은 빛이 감도는 방. 열기가 느껴진다.', '용암이 흐르는 방. 마족의 울음소리가 들린다.'],\n        ancient: ['먼지가 쌓인 방. 고대 유물들이 놓여있다.', '넓은 홀. 석상들이 도열해 있다.']\n      },\n      elite: {\n        undead: ['강력한 언데드의 기운이 느껴지는 방.', '엘리트 몬스터의 영역. 위험한 분위기가 감돈다.'],\n        demon: ['강력한 마족이 지키는 방. 압도적인 힘이 느껴진다.', '엘리트 악마의 거처. 붉은 불꽃이 타오른다.'],\n        ancient: ['고대의 정예 수호자들이 지키는 방.', '강력한 마법의 기운이 감도는 방.']\n      },\n      boss: {\n        undead: ['거대한 해골 왕좌가 놓인 방. 최종 보스의 영역.', '언데드 군주의 방. 압도적인 사악함이 느껴진다.'],\n        demon: ['지옥의 군주가 지배하는 방. 불지옥이 펼쳐진다.', '마왕의 거처. 차원이 뒤틀리는 느낌이 든다.'],\n        ancient: ['고대 신의 성소. 신성한 힘과 동시에 파괴의 기운이 느껴진다.', '최종 수호자의 방. 거대한 마법진이 그려져 있다.']\n      },\n      treasure: {\n        undead: ['먼지 쌓인 상자가 놓여있다.', '비밀스러운 보물 방. 빛나는 상자가 보인다.'],\n        demon: ['화염에 둘러싸인 보물 상자.', '마족이 지키던 보물 방.'],\n        ancient: ['봉인된 보물 상자. 룬 문자가 새겨져 있다.', '고대의 보물 창고.']\n      },\n      shrine: {\n        undead: ['신성한 빛이 감도는 제단. 불길한 분위기와 대비된다.', '축복의 성소. 언데드의 저주를 정화할 수 있을 것 같다.'],\n        demon: ['붉은 제단. 악마의 힘을 빌릴 수 있을 것 같다.', '마력의 성소. 강력한 버프를 받을 수 있다.'],\n        ancient: ['고대의 제단. 신비한 힘이 깃들어 있다.', '축복의 성소. 고대 신의 은총이 느껴진다.']\n      },\n      shop: {\n        undead: ['떠돌이 상인이 있는 방. 어둠 속에서 빛나는 물건들.', '비밀 상점. 귀한 물품들이 진열되어 있다.'],\n        demon: ['화염의 대장장이가 있는 방. 마법 무기들이 진열되어 있다.', '악마의 상인. 위험하지만 강력한 물건들을 판다.'],\n        ancient: ['고대 유물 상점. 전설적인 물건들이 놓여있다.', '수집가의 방. 희귀한 아이템들이 가득하다.']\n      },\n      safe: {\n        undead: ['고요한 방. 잠시 쉴 수 있을 것 같다.', '안전한 피난처. 언데드들이 들어올 수 없다.'],\n        demon: ['마법으로 보호된 방. 안전하게 쉴 수 있다.', '결계가 쳐진 안전 지대.'],\n        ancient: ['성스러운 보호막이 있는 방. 완전히 안전하다.', '고대의 안식처. 마법의 보호를 받는다.']\n      },\n      exit: {\n        undead: ['다음 층으로 이어지는 계단.', '더 깊은 어둠으로 향하는 길.'],\n        demon: ['더 뜨거운 지옥으로 내려가는 길.', '다음 층의 입구. 열기가 더 강해진다.'],\n        ancient: ['다음 층으로 향하는 관문.', '더 깊은 유적으로 이어지는 통로.']\n      }\n    };\n\n    const themeDescriptions = descriptions[type]?.[dungeonType.theme] || ['평범한 방.'];\n    return themeDescriptions[Math.floor(Math.random() * themeDescriptions.length)];\n  }\n\n  /**\n   * 몬스터 스폰\n   */\n  spawnMonsters(\n    roomType: RoomType,\n    floorNumber: number,\n    dungeonType: DungeonType,\n    difficulty: DifficultyLevel,\n    playerLevel: number = 1\n  ): DungeonMonster[] {\n    const monsters: DungeonMonster[] = [];\n    const baseLevel = playerLevel + floorNumber - 1;\n\n    const difficultyMultiplier = {\n      easy: 0.7,\n      normal: 1.0,\n      hard: 1.3,\n      hell: 1.6\n    }[difficulty];\n\n    if (roomType === 'normal') {\n      // 일반 몬스터 2-3마리\n      const count = 2 + Math.floor(Math.random() * 2);\n      for (let i = 0; i < count; i++) {\n        monsters.push(this.createMonster('normal', baseLevel, dungeonType, difficultyMultiplier));\n      }\n    } else if (roomType === 'elite') {\n      // 엘리트 몬스터 1-2마리\n      const count = 1 + Math.floor(Math.random() * 2);\n      for (let i = 0; i < count; i++) {\n        monsters.push(this.createMonster('elite', baseLevel + 2, dungeonType, difficultyMultiplier));\n      }\n    } else if (roomType === 'boss') {\n      monsters.push(this.createMonster('boss', baseLevel + 5, dungeonType, difficultyMultiplier));\n    }\n\n    return monsters;\n  }\n\n  /**\n   * 몬스터 생성\n   */\n  createMonster(\n    type: 'normal' | 'elite' | 'boss',\n    level: number,\n    dungeonType: DungeonType,\n    difficultyMultiplier: number\n  ): DungeonMonster {\n    const monsterId = `monster_${Date.now()}_${Math.random()}`;\n\n    // 기본 스탯\n    const baseHp = 50 + (level * 20);\n    const baseAttack = 10 + (level * 3);\n    const baseDefense = 5 + (level * 2);\n\n    const typeMultiplier = {\n      normal: 1.0,\n      elite: 2.0,\n      boss: 5.0\n    }[type];\n\n    const monster: DungeonMonster = {\n      id: monsterId,\n      name: this.getMonsterName(type, dungeonType),\n      type,\n      level,\n      hp: Math.floor(baseHp * typeMultiplier * difficultyMultiplier),\n      maxHp: Math.floor(baseHp * typeMultiplier * difficultyMultiplier),\n      attack: Math.floor(baseAttack * typeMultiplier * difficultyMultiplier),\n      defense: Math.floor(baseDefense * typeMultiplier * difficultyMultiplier),\n      dropTable: {\n        goldMin: Math.floor(10 * level * typeMultiplier),\n        goldMax: Math.floor(20 * level * typeMultiplier),\n        itemDropChance: type === 'boss' ? 1.0 : type === 'elite' ? 0.5 : 0.2,\n        itemRarity: type === 'boss' ? 'legendary' : type === 'elite' ? 'rare' : 'common'\n      },\n      isDead: false\n    };\n\n    // 엘리트 속성\n    if (type === 'elite' || type === 'boss') {\n      monster.eliteAffixes = this.generateEliteAffixes(type === 'boss' ? 3 : 2);\n    }\n\n    return monster;\n  }\n\n  /**\n   * 몬스터 이름 생성\n   */\n  getMonsterName(type: 'normal' | 'elite' | 'boss', dungeonType: DungeonType): string {\n    const names: { [key: string]: { [key: string]: string[] } } = {\n      normal: {\n        undead: ['좀비', '스켈레톤', '유령'],\n        demon: ['임프', '헬하운드', '마족 전사'],\n        ancient: ['골렘', '움직이는 갑옷', '고대 수호자']\n      },\n      elite: {\n        undead: ['강화된 좀비', '고위 스켈레톤', '원한의 유령'],\n        demon: ['상급 임프', '지옥의 사냥개', '마족 대장'],\n        ancient: ['고대 골렘', '마법 갑옷', '수호자 대장']\n      },\n      boss: {\n        undead: ['리치', '해골 왕', '망령의 군주'],\n        demon: ['마왕', '지옥의 군주', '데몬 로드'],\n        ancient: ['타이탄', '고대 왕', '유적의 수호신']\n      }\n    };\n\n    const monsterNames = names[type][dungeonType.theme] || ['알 수 없는 몬스터'];\n    return monsterNames[Math.floor(Math.random() * monsterNames.length)];\n  }\n\n  /**\n   * 엘리트 속성 생성\n   */\n  generateEliteAffixes(count: number): string[] {\n    const affixes = ['강화', '재생', '화염', '냉기', '독', '번개', '흡혈', '반사'];\n    const selected: string[] = [];\n\n    for (let i = 0; i < count && affixes.length > 0; i++) {\n      const index = Math.floor(Math.random() * affixes.length);\n      selected.push(affixes[index]);\n      affixes.splice(index, 1);\n    }\n\n    return selected;\n  }\n\n  /**\n   * 보물 상자 생성\n   */\n  createTreasureChest(floorNumber: number, difficulty: DifficultyLevel): DungeonInteractable {\n    const chest: DungeonInteractable = {\n      id: `chest_${Date.now()}`,\n      type: 'chest',\n      name: '보물 상자',\n      description: '반짝이는 보물 상자. 귀중한 아이템이 들어있을 것 같다.',\n      isLocked: false,\n      lootItems: [],\n      isUsed: false\n    };\n\n    return chest;\n  }\n\n  /**\n   * 성소 생성\n   */\n  createShrine(): DungeonInteractable {\n    const shrineTypes = [\n      { type: 'health', value: 50, duration: 30 },\n      { type: 'mana', value: 30, duration: 30 },\n      { type: 'damage', value: 20, duration: 10 },\n      { type: 'defense', value: 15, duration: 10 },\n      { type: 'experience', value: 50, duration: 5 }\n    ] as const;\n\n    const selected = shrineTypes[Math.floor(Math.random() * shrineTypes.length)];\n\n    return {\n      id: `shrine_${Date.now()}`,\n      type: 'shrine',\n      name: '신비로운 성소',\n      description: '성소에서 신성한 기운이 느껴진다.',\n      shrineEffect: selected,\n      isUsed: false\n    };\n  }\n\n  /**\n   * 난이도 한글 변환\n   */\n  getDifficultyKorean(difficulty: DifficultyLevel): string {\n    const difficultyNames: Record<DifficultyLevel, string> = {\n      'easy': '쉬움',\n      'normal': '보통',\n      'hard': '어려움',\n      'hell': '지옥'\n    };\n    return difficultyNames[difficulty] || difficulty;\n  }\n\n  /**\n   * 던전 클리어 보상 계산\n   */\n  calculateDungeonRewards(\n    dungeonType: DungeonType,\n    difficulty: DifficultyLevel\n  ): {\n    gold: number;\n    exp: number;\n    items: string[];\n  } {\n    const difficultyMultiplier = {\n      easy: 0.7,\n      normal: 1.0,\n      hard: 1.5,\n      hell: 2.0\n    }[difficulty];\n\n    const gold = Math.floor(dungeonType.baseGoldReward * difficultyMultiplier);\n    const exp = Math.floor(dungeonType.baseExpReward * difficultyMultiplier);\n    const items: string[] = [];\n\n    // 보스 클리어 시 유니크 아이템 드롭 확률\n    if (Math.random() < 0.3) {\n      const uniqueItem = dungeonType.uniqueItems[\n        Math.floor(Math.random() * dungeonType.uniqueItems.length)\n      ];\n      items.push(uniqueItem);\n    }\n\n    return { gold, exp, items };\n  }\n\n  /**\n   * 방이 클리어되었는지 확인\n   */\n  isRoomCleared(room: DungeonRoom): boolean {\n    if (room.isCleared) return true;\n    \n    // 몬스터가 모두 죽었으면 클리어\n    if (room.monsters && room.monsters.length > 0) {\n      return room.monsters.every(m => m.isDead);\n    }\n\n    return false;\n  }\n\n  /**\n   * 방 클리어 처리\n   */\n  clearRoom(room: DungeonRoom): void {\n    room.isCleared = true;\n    \n    // 살아있는 몬스터 모두 제거\n    if (room.monsters) {\n      room.monsters.forEach(m => m.isDead = true);\n    }\n  }\n}\n", "import { Injectable } from '@angular/core';\nimport { InventoryItem, ShopItem } from '../models/inventory.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class InventoryService {\n  \n  /**\n   * 인벤토리에 아이템 추가\n   */\n  addItem(\n    inventory: InventoryItem[],\n    itemId: string,\n    quantity: number = 1,\n    shopItems: ShopItem[]\n  ): InventoryItem[] {\n    const existingItem = inventory.find(item => item.id === itemId);\n    \n    if (existingItem) {\n      // 기존 아이템이 있으면 수량만 증가\n      return inventory.map(item =>\n        item.id === itemId\n          ? { ...item, quantity: item.quantity + quantity }\n          : item\n      );\n    } else {\n      // 새 아이템 추가\n      const shopItem = shopItems.find(item => item.id === itemId);\n      const specialItem = this.getSpecialItem(itemId);\n      const sourceItem = shopItem || specialItem;\n      \n      if (sourceItem) {\n        const newItem: InventoryItem = {\n          id: sourceItem.id,\n          name: sourceItem.name,\n          description: sourceItem.description || '',\n          type: this.mapShopTypeToInventoryType(sourceItem.type),\n          quantity: quantity,\n          buyPrice: 'price' in sourceItem ? sourceItem.price : 0,\n          sellPrice: 'price' in sourceItem ? Math.floor(sourceItem.price * 0.7) : 0,\n          rarity: sourceItem.rarity,\n          stats: 'stats' in sourceItem ? sourceItem.stats : undefined,\n          isEquipped: false\n        };\n        \n        return [...inventory, newItem];\n      }\n      \n      return inventory;\n    }\n  }\n  \n  /**\n   * 인벤토리에서 아이템 제거\n   */\n  removeItem(\n    inventory: InventoryItem[],\n    itemId: string,\n    quantity: number = 1\n  ): InventoryItem[] {\n    const item = inventory.find(item => item.id === itemId);\n    \n    if (!item) {\n      return inventory;\n    }\n    \n    if (item.quantity <= quantity) {\n      // 수량이 부족하거나 같으면 아이템 완전 제거\n      return inventory.filter(invItem => invItem.id !== itemId);\n    } else {\n      // 수량만 감소\n      return inventory.map(invItem =>\n        invItem.id === itemId\n          ? { ...invItem, quantity: invItem.quantity - quantity }\n          : invItem\n      );\n    }\n  }\n  \n  /**\n   * 아이템 찾기\n   */\n  findItem(inventory: InventoryItem[], itemId: string): InventoryItem | undefined {\n    return inventory.find(item => item.id === itemId);\n  }\n  \n  /**\n   * 아이템 소유 여부 확인\n   */\n  hasItem(inventory: InventoryItem[], itemId: string, quantity: number = 1): boolean {\n    const item = this.findItem(inventory, itemId);\n    return item ? item.quantity >= quantity : false;\n  }\n  \n  /**\n   * 인벤토리 필터링\n   */\n  filterByType(\n    inventory: InventoryItem[],\n    type: 'all' | 'weapon' | 'armor' | 'accessory' | 'consumable' | 'material'\n  ): InventoryItem[] {\n    if (type === 'all') {\n      return inventory;\n    }\n    \n    const typeMap: { [key: string]: string[] } = {\n      weapon: ['weapon'],\n      armor: ['armor', 'helmet', 'gloves', 'boots', 'belt'],\n      accessory: ['amulet', 'ring', 'accessory'],\n      consumable: ['consumable'],\n      material: ['material', 'quest', 'misc']\n    };\n    \n    const allowedTypes = typeMap[type] || [];\n    return inventory.filter(item => allowedTypes.includes(item.type));\n  }\n  \n  /**\n   * 인벤토리 정렬\n   */\n  sortInventory(\n    inventory: InventoryItem[],\n    sortBy: 'rarity' | 'type' | 'name' | 'recent'\n  ): InventoryItem[] {\n    const sorted = [...inventory];\n    \n    switch (sortBy) {\n      case 'rarity':\n        const rarityOrder = ['mythic', 'legendary', 'epic', 'rare', 'uncommon', 'common'];\n        return sorted.sort((a, b) => {\n          return rarityOrder.indexOf(a.rarity) - rarityOrder.indexOf(b.rarity);\n        });\n        \n      case 'type':\n        return sorted.sort((a, b) => a.type.localeCompare(b.type));\n        \n      case 'name':\n        return sorted.sort((a, b) => a.name.localeCompare(b.name));\n        \n      case 'recent':\n        return sorted.reverse();\n        \n      default:\n        return sorted;\n    }\n  }\n  \n  /**\n   * 인벤토리 용량 확인\n   */\n  getInventorySpace(inventory: InventoryItem[], maxSize: number): {\n    used: number;\n    max: number;\n    available: number;\n    isFull: boolean;\n  } {\n    const used = inventory.length;\n    const available = maxSize - used;\n    \n    return {\n      used,\n      max: maxSize,\n      available,\n      isFull: used >= maxSize\n    };\n  }\n  \n  /**\n   * 아이템 통계\n   */\n  getInventoryStats(inventory: InventoryItem[]): {\n    totalItems: number;\n    totalValue: number;\n    byRarity: { [key: string]: number };\n    byType: { [key: string]: number };\n  } {\n    const stats = {\n      totalItems: inventory.reduce((sum, item) => sum + item.quantity, 0),\n      totalValue: inventory.reduce((sum, item) => sum + ((item.sellPrice || 0) * item.quantity), 0),\n      byRarity: {} as { [key: string]: number },\n      byType: {} as { [key: string]: number }\n    };\n    \n    inventory.forEach(item => {\n      // 희귀도별 집계\n      stats.byRarity[item.rarity] = (stats.byRarity[item.rarity] || 0) + 1;\n      \n      // 타입별 집계\n      stats.byType[item.type] = (stats.byType[item.type] || 0) + 1;\n    });\n    \n    return stats;\n  }\n  \n  /**\n   * 특수 아이템 정의\n   */\n  private getSpecialItem(itemId: string): any {\n    const specialItems: { [key: string]: any } = {\n      'key_golden': {\n        id: 'key_golden',\n        name: '황금 열쇠',\n        description: '신비한 보물상자를 열 수 있는 황금 열쇠',\n        type: 'quest',\n        rarity: 'rare',\n        price: 0\n      },\n      'orb_peace': {\n        id: 'orb_peace',\n        name: '평화의 구슬',\n        description: '평화로운 마음을 담은 신성한 구슬. 지능 +5',\n        type: 'misc',\n        rarity: 'epic',\n        price: 0,\n        stats: { intelligence: 5 }\n      },\n      'crystal_magic': {\n        id: 'crystal_magic',\n        name: '마법 크리스탈',\n        description: '마법의 힘이 깃든 크리스탈. MP +20',\n        type: 'misc',\n        rarity: 'rare',\n        price: 0,\n        stats: { maxMp: 20 }\n      }\n    };\n    \n    return specialItems[itemId];\n  }\n  \n  /**\n   * 상점 타입을 인벤토리 타입으로 변환\n   */\n  private mapShopTypeToInventoryType(\n    type: string\n  ): 'weapon' | 'armor' | 'helmet' | 'gloves' | 'boots' | 'belt' | 'amulet' | 'ring' | 'accessory' | 'consumable' | 'material' | 'quest' | 'misc' {\n    const typeMap: { [key: string]: any } = {\n      'weapon': 'weapon',\n      'armor': 'armor',\n      'consumable': 'consumable',\n      'misc': 'misc',\n      'quest': 'quest'\n    };\n    \n    return typeMap[type] || 'misc';\n  }\n  \n  /**\n   * 아이템 희귀도 색상 가져오기\n   */\n  getRarityColor(rarity: string): string {\n    const colors: { [key: string]: string } = {\n      'common': '#9d9d9d',\n      'uncommon': '#1eff00',\n      'rare': '#0070dd',\n      'epic': '#a335ee',\n      'legendary': '#ff8000',\n      'unique': '#ffd700',\n      'mythic': '#e6cc80'\n    };\n    \n    return colors[rarity] || colors['common'];\n  }\n  \n  /**\n   * 아이템 희귀도 한글 이름\n   */\n  getRarityKorean(rarity: string): string {\n    const names: { [key: string]: string } = {\n      'common': '일반',\n      'uncommon': '고급',\n      'rare': '희귀',\n      'epic': '영웅',\n      'legendary': '전설',\n      'unique': '유니크',\n      'mythic': '신화'\n    };\n    \n    return names[rarity] || '일반';\n  }\n}\n", "import { Injectable } from '@angular/core';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { InventoryItem, EquipmentItem, PlayerEquipment } from '../models/inventory.model';\nimport { PlayerCharacter } from '../models/player.model';\nimport { WuxiaRPGCharacter } from '../models/wuxia-rpg.model';\nimport { DebugLoggerService } from '../../../shared/services/debug-logger.service';\n\n/**\n * 장비 시스템 서비스\n * - 장비 착용/해제\n * - 능력치 계산 및 업데이트\n * - 장비 비교\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class EquipmentService {\n\n  constructor(\n    private snackBar: MatSnackBar,\n    private debugLogger: DebugLoggerService\n  ) {}\n\n  /**\n   * 아이템을 장비 슬롯에 착용\n   */\n  equipItem(\n    item: InventoryItem,\n    index: number,\n    playerCharacter: PlayerCharacter\n  ): { success: boolean; unequippedItem?: InventoryItem } {\n    if (!playerCharacter?.equipment || !playerCharacter.inventory) {\n      return { success: false };\n    }\n\n    // 장비가 아닌 아이템 체크\n    if (item.type === 'consumable' || item.type === 'material' || item.type === 'quest' || item.type === 'misc') {\n      this.snackBar.open('⚠️ 이 아이템은 장비가 아닙니다', '닫기', {\n        duration: 2000,\n        horizontalPosition: 'center',\n        verticalPosition: 'bottom'\n      });\n      return { success: false };\n    }\n\n    // 장비 슬롯 결정\n    let slotKey: keyof PlayerEquipment | null = null;\n    \n    switch (item.type) {\n      case 'weapon': slotKey = 'weapon'; break;\n      case 'armor': slotKey = 'armor'; break;\n      case 'helmet': slotKey = 'helmet'; break;\n      case 'gloves': slotKey = 'gloves'; break;\n      case 'boots': slotKey = 'boots'; break;\n      case 'belt': slotKey = 'belt'; break;\n      case 'amulet':\n      case 'accessory': slotKey = 'amulet'; break;\n      case 'ring':\n        // 반지는 빈 슬롯 찾기\n        if (!playerCharacter.equipment.ring1) {\n          slotKey = 'ring1';\n        } else if (!playerCharacter.equipment.ring2) {\n          slotKey = 'ring2';\n        } else {\n          slotKey = 'ring1'; // 첫 번째 슬롯 교체\n        }\n        break;\n    }\n\n    if (!slotKey) {\n      return { success: false };\n    }\n\n    // 기존 장비가 있으면 인벤토리로 반환\n    let unequippedItem: InventoryItem | undefined;\n    const existingEquipment = playerCharacter.equipment[slotKey];\n    \n    if (existingEquipment) {\n      unequippedItem = this.convertEquipmentToInventory(existingEquipment, slotKey);\n      playerCharacter.inventory.push(unequippedItem);\n    }\n\n    // 새 장비 착용\n    const newEquipment: EquipmentItem = {\n      baseType: item.name,\n      rarity: this.convertInventoryRarityToEquipment(item.rarity),\n      itemLevel: 1,\n      baseStats: {\n        attack: item.stats?.attack || 0,\n        defense: item.stats?.defense || 0,\n        armor: item.stats?.defense || 0,\n        hp: item.stats?.hp || 0,\n        mp: item.stats?.mp || 0\n      }\n    };\n\n    playerCharacter.equipment[slotKey] = newEquipment;\n\n    // 인벤토리에서 제거\n    playerCharacter.inventory.splice(index, 1);\n\n    this.snackBar.open(`✅ ${item.name}을(를) 장착했습니다!`, '닫기', {\n      duration: 2000,\n      horizontalPosition: 'center',\n      verticalPosition: 'bottom'\n    });\n\n    return { success: true, unequippedItem };\n  }\n\n  /**\n   * 장비 슬롯에서 해제하여 인벤토리로 반환\n   */\n  unequipItem(\n    slotKey: keyof PlayerEquipment,\n    playerCharacter: PlayerCharacter,\n    debugLogger?: any\n  ): { success: boolean; returnedItem?: InventoryItem } {\n    \n    debugLogger?.info('UNEQUIP', `🔧 unequipItem 호출됨 - slotKey: ${slotKey}`);\n    \n    if (!playerCharacter?.equipment || !playerCharacter.inventory) {\n      debugLogger?.error('UNEQUIP', `❌ playerCharacter 또는 equipment/inventory 없음`);\n      return { success: false };\n    }\n\n    const equipment = playerCharacter.equipment[slotKey];\n    debugLogger?.info('UNEQUIP', `🔍 슬롯 장비 확인 - slotKey: ${slotKey}, equipment: ${equipment ? equipment.baseType : 'undefined'}`);\n\n    if (!equipment) {\n      this.snackBar.open('⚠️ 해당 슬롯에 장비가 없습니다', '닫기', {\n        duration: 2000,\n        horizontalPosition: 'center',\n        verticalPosition: 'bottom'\n      });\n      return { success: false };\n    }\n\n    // InventoryItem이 장비 슬롯에 잘못 들어간 경우 처리\n    // @ts-ignore\n    if (!equipment.baseType && (equipment as any).name) {\n      debugLogger?.warn('UNEQUIP', `⚠️ InventoryItem이 장비 슬롯에 있음 - 바로 처리`);\n      \n      // @ts-ignore\n      const inventoryItem = equipment as any;\n      \n      const returnedItem: InventoryItem = {\n        id: inventoryItem.id || `item_${Date.now()}_${Math.random()}`,\n        name: inventoryItem.name,\n        type: inventoryItem.type || 'weapon',\n        rarity: inventoryItem.rarity || 'common',\n        quantity: 1,\n        stats: inventoryItem.stats || {}\n      };\n\n      playerCharacter.inventory.push(returnedItem);\n      playerCharacter.equipment[slotKey] = undefined;\n\n      this.snackBar.open(`✅ ${inventoryItem.name}을(를) 해제했습니다`, '닫기', {\n        duration: 2000,\n        horizontalPosition: 'center',\n        verticalPosition: 'bottom'\n      });\n\n      return { success: true, returnedItem };\n    }\n\n    // 정상적인 EquipmentItem 해제\n    if (!equipment.baseType) {\n      debugLogger?.error('UNEQUIP', `❌ 장비에 baseType 없음`);\n      this.snackBar.open('⚠️ 잘못된 장비 데이터입니다', '닫기', {\n        duration: 2000,\n        horizontalPosition: 'center',\n        verticalPosition: 'bottom'\n      });\n      return { success: false };\n    }\n\n    const returnedItem = this.convertEquipmentToInventory(equipment, slotKey);\n    \n    debugLogger?.info('UNEQUIP', `🎒 인벤토리에 추가 준비 - itemId: ${returnedItem.id}, name: ${returnedItem.name}`);\n\n    // 인벤토리에 추가\n    playerCharacter.inventory.push(returnedItem);\n    debugLogger?.info('UNEQUIP', `✅ 인벤토리에 추가 완료 - 현재 인벤토리 개수: ${playerCharacter.inventory.length}`);\n\n    // 장비 슬롯에서 제거\n    playerCharacter.equipment[slotKey] = undefined;\n    debugLogger?.info('UNEQUIP', `🗑️ 장비 슬롯에서 제거 완료 - slotKey: ${slotKey}`);\n\n    this.snackBar.open(`✅ ${equipment.baseType}을(를) 해제했습니다`, '닫기', {\n      duration: 2000,\n      horizontalPosition: 'center',\n      verticalPosition: 'bottom'\n    });\n\n    debugLogger?.info('UNEQUIP', `🎉 장비 해제 완료 - ${equipment.baseType}`);\n\n    return { success: true, returnedItem };\n  }\n\n  /**\n   * 플레이어 능력치 업데이트 (장비 능력치 합산)\n   */\n  updatePlayerStats(playerCharacter: PlayerCharacter): void {\n    if (!playerCharacter?.equipment) return;\n\n    // 기본 능력치 (장비 제외)\n    const baseAttack = 10;\n    const baseDefense = 5;\n    const baseHp = 100;\n    const baseMp = 50;\n\n    // 장비 능력치 합산\n    const equipmentStats = this.calculateEquipmentStats(playerCharacter.equipment);\n\n    // 캐릭터 능력치 업데이트\n    playerCharacter.attack = baseAttack + equipmentStats.attack;\n    playerCharacter.defense = baseDefense + equipmentStats.defense;\n    playerCharacter.maxHp = baseHp + equipmentStats.hp;\n    playerCharacter.maxMp = baseMp + equipmentStats.mp;\n\n    // 현재 HP/MP가 최대치를 초과하지 않도록 조정\n    if (playerCharacter.hp > playerCharacter.maxHp) {\n      playerCharacter.hp = playerCharacter.maxHp;\n    }\n    if (playerCharacter.mp > playerCharacter.maxMp) {\n      playerCharacter.mp = playerCharacter.maxMp;\n    }\n  }\n\n  /**\n   * 장비 능력치 합계 계산\n   */\n  calculateEquipmentStats(equipment: PlayerEquipment): {\n    attack: number;\n    defense: number;\n    hp: number;\n    mp: number;\n  } {\n    let totalAttack = 0;\n    let totalDefense = 0;\n    let totalHp = 0;\n    let totalMp = 0;\n\n    const slots: (keyof PlayerEquipment)[] = [\n      'weapon', 'armor', 'helmet', 'gloves', 'boots', 'belt', 'amulet', 'ring1', 'ring2'\n    ];\n\n    slots.forEach(slot => {\n      const item = equipment[slot];\n      if (item?.baseStats) {\n        totalAttack += item.baseStats.attack || 0;\n        totalDefense += item.baseStats.defense || 0;\n        totalHp += item.baseStats.hp || 0;\n        totalMp += item.baseStats.mp || 0;\n      }\n    });\n\n    return { attack: totalAttack, defense: totalDefense, hp: totalHp, mp: totalMp };\n  }\n\n  /**\n   * 두 아이템의 능력치 비교\n   */\n  compareItems(newItem: InventoryItem, equippedItem: EquipmentItem | undefined): {\n    attackDiff: number;\n    defenseDiff: number;\n    hpDiff: number;\n    mpDiff: number;\n    isUpgrade: boolean;\n  } {\n    const newAttack = newItem.stats?.attack || 0;\n    const newDefense = newItem.stats?.defense || 0;\n    const newHp = newItem.stats?.hp || 0;\n    const newMp = newItem.stats?.mp || 0;\n\n    let oldAttack = 0;\n    let oldDefense = 0;\n    let oldHp = 0;\n    let oldMp = 0;\n\n    if (equippedItem?.baseStats) {\n      oldAttack = equippedItem.baseStats.attack || 0;\n      oldDefense = equippedItem.baseStats.defense || 0;\n      oldHp = equippedItem.baseStats.hp || 0;\n      oldMp = equippedItem.baseStats.mp || 0;\n    }\n\n    const attackDiff = newAttack - oldAttack;\n    const defenseDiff = newDefense - oldDefense;\n    const hpDiff = newHp - oldHp;\n    const mpDiff = newMp - oldMp;\n\n    // 전체적으로 업그레이드인지 판단 (주요 스탯이 상승하면 업그레이드)\n    const isUpgrade = attackDiff + defenseDiff + hpDiff + mpDiff > 0;\n\n    return { attackDiff, defenseDiff, hpDiff, mpDiff, isUpgrade };\n  }\n\n  /**\n   * 장비 슬롯 이름 한글 변환\n   */\n  getSlotNameKorean(slotKey: keyof PlayerEquipment): string {\n    const slotNames: Record<keyof PlayerEquipment, string> = {\n      weapon: '무기',\n      armor: '갑옷',\n      helmet: '투구',\n      gloves: '장갑',\n      boots: '신발',\n      belt: '벨트',\n      amulet: '목걸이',\n      ring1: '반지1',\n      ring2: '반지2'\n    };\n    return slotNames[slotKey] || slotKey;\n  }\n\n  /**\n   * EquipmentItem을 InventoryItem으로 변환\n   */\n  private convertEquipmentToInventory(\n    equipment: EquipmentItem,\n    slotKey: keyof PlayerEquipment\n  ): InventoryItem {\n    // 슬롯에 따라 아이템 타입 결정\n    let itemType: InventoryItem['type'] = 'weapon';\n    \n    switch (slotKey) {\n      case 'weapon': itemType = 'weapon'; break;\n      case 'armor': itemType = 'armor'; break;\n      case 'helmet': itemType = 'helmet'; break;\n      case 'gloves': itemType = 'gloves'; break;\n      case 'boots': itemType = 'boots'; break;\n      case 'belt': itemType = 'belt'; break;\n      case 'amulet': itemType = 'amulet'; break;\n      case 'ring1':\n      case 'ring2': itemType = 'ring'; break;\n    }\n\n    // 희귀도 변환 (Equipment 타입 -> Inventory 타입)\n    let inventoryRarity: InventoryItem['rarity'] = 'common';\n    \n    if (equipment.rarity === 'legendary') inventoryRarity = 'legendary';\n    else if (equipment.rarity === 'epic') inventoryRarity = 'epic';\n    else if (equipment.rarity === 'rare') inventoryRarity = 'rare';\n    else if (equipment.rarity === 'uncommon') inventoryRarity = 'uncommon';\n    else if (equipment.rarity === 'magic') inventoryRarity = 'uncommon';\n    else if (equipment.rarity === 'unique') inventoryRarity = 'epic';\n    else if (equipment.rarity === 'set') inventoryRarity = 'rare';\n\n    return {\n      id: `item_${Date.now()}_${Math.random()}`,\n      name: equipment.baseType,\n      type: itemType,\n      rarity: inventoryRarity,\n      quantity: 1,\n      stats: {\n        attack: equipment.baseStats.attack,\n        defense: equipment.baseStats.defense || equipment.baseStats.armor,\n        hp: equipment.baseStats.hp,\n        mp: equipment.baseStats.mp\n      }\n    };\n  }\n\n  /**\n   * Inventory 희귀도를 Equipment 희귀도로 변환\n   */\n  private convertInventoryRarityToEquipment(rarity: InventoryItem['rarity']): EquipmentItem['rarity'] {\n    const rarityMap: Record<InventoryItem['rarity'], EquipmentItem['rarity']> = {\n      'common': 'common',\n      'uncommon': 'magic',\n      'rare': 'rare',\n      'epic': 'unique',\n      'legendary': 'legendary',\n      'mythic': 'legendary',\n      'unique': 'unique'\n    };\n    return rarityMap[rarity] || 'common';\n  }\n\n  // ==================== 무협 RPG 장비 시스템 ====================\n\n  /**\n   * 무협 RPG - 장비 장착\n   */\n  equipItemWuxia(character: WuxiaRPGCharacter, item: InventoryItem): { success: boolean; message: string } {\n    if (!this.canEquipWuxia(item)) {\n      return { success: false, message: '장착할 수 없는 아이템입니다.' };\n    }\n\n    const slot = this.getEquipmentSlotWuxia(item);\n    if (!slot) {\n      return { success: false, message: '장착 슬롯을 찾을 수 없습니다.' };\n    }\n\n    // 기존 장착 아이템 해제\n    const currentEquippedId = character.equippedItems[slot as keyof typeof character.equippedItems];\n    if (currentEquippedId) {\n      const unequipResult = this.unequipItemWuxia(character, slot);\n      if (!unequipResult.success) {\n        return unequipResult;\n      }\n    }\n\n    // 새 아이템 장착\n    (character.equippedItems as any)[slot] = item.id;\n    item.isEquipped = true;\n\n    this.debugLogger.info('EquipmentService', `${item.name} 장착 완료`);\n    \n    // 전투력 재계산\n    this.recalculateStatsWuxia(character);\n\n    return { success: true, message: `${item.name}을(를) 장착했습니다.` };\n  }\n\n  /**\n   * 무협 RPG - 장비 해제\n   */\n  unequipItemWuxia(character: WuxiaRPGCharacter, slot: string): { success: boolean; message: string } {\n    const equippedId = (character.equippedItems as any)[slot];\n    if (!equippedId) {\n      return { success: false, message: '장착된 아이템이 없습니다.' };\n    }\n\n    // 인벤토리에서 아이템 찾기\n    const item = character.inventory.find(i => i.id === equippedId);\n    if (item) {\n      item.isEquipped = false;\n    }\n\n    // 슬롯 비우기\n    (character.equippedItems as any)[slot] = undefined;\n\n    this.debugLogger.info('EquipmentService', `${slot} 슬롯 장비 해제`);\n    \n    // 전투력 재계산\n    this.recalculateStatsWuxia(character);\n\n    return { success: true, message: '장비를 해제했습니다.' };\n  }\n\n  /**\n   * 무협 RPG - 장착 가능 여부 확인\n   */\n  private canEquipWuxia(item: InventoryItem): boolean {\n    return ['weapon', 'armor', 'helmet', 'gloves', 'boots', 'belt', 'amulet', 'ring', 'accessory'].includes(item.type);\n  }\n\n  /**\n   * 무협 RPG - 장비 슬롯 결정\n   */\n  private getEquipmentSlotWuxia(item: InventoryItem): string | null {\n    switch (item.type) {\n      case 'weapon':\n        return 'weapon';\n      case 'armor':\n        return 'armor';\n      case 'amulet':\n      case 'accessory':\n        return 'accessory';\n      default:\n        return null;\n    }\n  }\n\n  /**\n   * 무협 RPG - 장착된 모든 장비 가져오기\n   */\n  getEquippedItemsWuxia(character: WuxiaRPGCharacter): InventoryItem[] {\n    const equipped: InventoryItem[] = [];\n    \n    if (character.equippedItems.weapon) {\n      const weapon = character.inventory.find(i => i.id === character.equippedItems.weapon);\n      if (weapon) equipped.push(weapon);\n    }\n    \n    if (character.equippedItems.armor) {\n      const armor = character.inventory.find(i => i.id === character.equippedItems.armor);\n      if (armor) equipped.push(armor);\n    }\n    \n    if (character.equippedItems.accessory) {\n      const accessory = character.inventory.find(i => i.id === character.equippedItems.accessory);\n      if (accessory) equipped.push(accessory);\n    }\n    \n    return equipped;\n  }\n\n  /**\n   * 무협 RPG - 장비 보너스 스탯 계산\n   */\n  calculateEquipmentBonusWuxia(character: WuxiaRPGCharacter): {\n    attack: number;\n    defense: number;\n    hp: number;\n    mp: number;\n    critChance: number;\n    evasion: number;\n    lifeSteal: number;\n    attackSpeed: number;\n  } {\n    const equippedItems = this.getEquippedItemsWuxia(character);\n    \n    const bonus = {\n      attack: 0,\n      defense: 0,\n      hp: 0,\n      mp: 0,\n      critChance: 0,\n      evasion: 0,\n      lifeSteal: 0,\n      attackSpeed: 0\n    };\n\n    for (const item of equippedItems) {\n      if (!item.stats) continue;\n\n      bonus.attack += item.stats.attack || 0;\n      bonus.attack += (item.stats.minDamage || 0) * 0.5;\n      bonus.attack += (item.stats.maxDamage || 0) * 0.5;\n      \n      bonus.defense += item.stats.defense || 0;\n      bonus.defense += item.stats.armor || 0;\n      \n      bonus.hp += item.stats.hp || 0;\n      bonus.mp += item.stats.mp || 0;\n      bonus.critChance += item.stats.critChance || 0;\n      bonus.evasion += item.stats.evasion || 0;\n      bonus.lifeSteal += item.stats.lifeSteal || 0;\n      bonus.attackSpeed += item.stats.attackSpeed || 0;\n    }\n\n    return bonus;\n  }\n\n  /**\n   * 무협 RPG - 전투력 재계산\n   */\n  private recalculateStatsWuxia(character: WuxiaRPGCharacter): void {\n    const bonus = this.calculateEquipmentBonusWuxia(character);\n    \n    // 기본 최대 체력 (레벨 * 100)\n    const baseMaxHealth = character.level * 100;\n    character.maxHealth = baseMaxHealth + bonus.hp;\n    \n    // 현재 체력이 최대치를 넘지 않도록\n    if (character.health > character.maxHealth) {\n      character.health = character.maxHealth;\n    }\n\n    this.debugLogger.info('EquipmentService', `전투력 재계산 완료 - 최대 HP: ${character.maxHealth}`);\n  }\n\n  /**\n   * 무협 RPG - 전투 스탯 계산 (전투 시 사용)\n   */\n  calculateBattleStatsWuxia(character: WuxiaRPGCharacter): {\n    attack: number;\n    defense: number;\n    maxHp: number;\n    maxMp: number;\n    critChance: number;\n    evasion: number;\n  } {\n    const equipBonus = this.calculateEquipmentBonusWuxia(character);\n    \n    // 기본 스탯 기반 계산\n    const baseAttack = character.stats.strength * 2 + character.stats.innerPower;\n    const baseDefense = character.stats.strength + character.stats.dexterity;\n    const baseMaxHp = character.level * 100;\n    const baseMaxMp = character.level * 50;\n    \n    return {\n      attack: Math.floor(baseAttack + equipBonus.attack),\n      defense: Math.floor(baseDefense + equipBonus.defense),\n      maxHp: baseMaxHp + equipBonus.hp,\n      maxMp: baseMaxMp + equipBonus.mp,\n      critChance: equipBonus.critChance,\n      evasion: equipBonus.evasion\n    };\n  }\n\n  /**\n   * 무협 RPG - 장비 아이템 정보 표시용 텍스트 생성\n   */\n  getItemStatsTextWuxia(item: InventoryItem): string[] {\n    if (!item.stats) return [];\n\n    const lines: string[] = [];\n\n    if (item.stats.attack) lines.push(`공격력: +${item.stats.attack}`);\n    if (item.stats.minDamage || item.stats.maxDamage) {\n      lines.push(`피해: ${item.stats.minDamage || 0}-${item.stats.maxDamage || 0}`);\n    }\n    if (item.stats.defense) lines.push(`방어력: +${item.stats.defense}`);\n    if (item.stats.armor) lines.push(`갑옷: +${item.stats.armor}`);\n    if (item.stats.hp) lines.push(`생명력: +${item.stats.hp}`);\n    if (item.stats.mp) lines.push(`내공: +${item.stats.mp}`);\n    if (item.stats.critChance) lines.push(`치명타율: +${item.stats.critChance}%`);\n    if (item.stats.evasion) lines.push(`회피율: +${item.stats.evasion}%`);\n    if (item.stats.attackSpeed) lines.push(`공격속도: +${item.stats.attackSpeed}%`);\n    if (item.stats.lifeSteal) lines.push(`생명력 흡수: ${item.stats.lifeSteal}%`);\n\n    if (item.uniqueEffect) {\n      lines.push('');\n      lines.push(`특수 효과: ${item.uniqueEffect}`);\n    }\n\n    return lines;\n  }\n\n  /**\n   * 무협 RPG - 장비 등급별 색상\n   */\n  getRarityColorWuxia(rarity: string): string {\n    switch (rarity) {\n      case 'common': return '#808080';\n      case 'uncommon': return '#00ff00';\n      case 'rare': return '#0070dd';\n      case 'epic': return '#a335ee';\n      case 'legendary': return '#ff8000';\n      default: return '#ffffff';\n    }\n  }\n}\n", "import { Injectable } from '@angular/core';\nimport { ShopItem, InventoryItem } from '../models/inventory.model';\nimport { PlayerCharacter } from '../models/player.model';\n\n/**\n * 상점 시스템 서비스\n * - 상품 구매/판매\n * - 재고 관리\n * - 상점 아이템 생성\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class ShopService {\n\n  constructor() {}\n\n  /**\n   * 상점에서 아이템 구매\n   */\n  buyItem(\n    shopItem: ShopItem,\n    playerCharacter: PlayerCharacter,\n    addToInventoryFn: (itemId: string) => void,\n    addStoryBlockFn: (blocks: string[]) => void\n  ): { success: boolean; message: string } {\n    \n    // 골드 부족 체크\n    if (playerCharacter.gold < shopItem.price) {\n      const message = `❌ 골드가 부족합니다. (${shopItem.price} 골드 필요)`;\n      addStoryBlockFn([message]);\n      return { success: false, message };\n    }\n\n    // 재고 체크\n    if (shopItem.stock <= 0) {\n      const message = `❌ 상품이 품절되었습니다.`;\n      addStoryBlockFn([message]);\n      return { success: false, message };\n    }\n\n    // 구매 처리\n    playerCharacter.gold -= shopItem.price;\n    shopItem.stock--;\n    addToInventoryFn(shopItem.id);\n    \n    const message = `💰 ${shopItem.name}을(를) 구매했습니다. (${shopItem.price} 골드)`;\n    addStoryBlockFn([message]);\n\n    return { success: true, message };\n  }\n\n  /**\n   * 인벤토리 아이템 판매\n   */\n  sellItem(\n    item: InventoryItem,\n    playerCharacter: PlayerCharacter,\n    removeFromInventoryFn: (itemId: string, quantity: number) => void,\n    addStoryBlockFn: (blocks: string[]) => void\n  ): { success: boolean; message: string; goldGained: number } {\n    \n    // 판매 불가 체크\n    if (item.quantity <= 0 || !item.sellPrice) {\n      const message = `❌ 해당 아이템은 판매할 수 없습니다.`;\n      addStoryBlockFn([message]);\n      return { success: false, message, goldGained: 0 };\n    }\n\n    // 판매 처리\n    const goldGained = item.sellPrice;\n    playerCharacter.gold += goldGained;\n    removeFromInventoryFn(item.id, 1);\n    \n    const message = `💰 ${item.name}을(를) 판매했습니다. (${goldGained} 골드 획득)`;\n    addStoryBlockFn([message]);\n\n    return { success: true, message, goldGained };\n  }\n\n  /**\n   * 아이템의 판매 가격 계산 (구매 가격의 50%)\n   */\n  calculateSellPrice(buyPrice: number, rarity: InventoryItem['rarity']): number {\n    const basePrice = Math.floor(buyPrice * 0.5);\n    \n    // 희귀도에 따른 보너스\n    const rarityMultiplier: Record<InventoryItem['rarity'], number> = {\n      'common': 1.0,\n      'uncommon': 1.2,\n      'rare': 1.5,\n      'epic': 2.0,\n      'legendary': 3.0,\n      'mythic': 5.0,\n      'unique': 2.5\n    };\n\n    return Math.floor(basePrice * (rarityMultiplier[rarity] || 1.0));\n  }\n\n  /**\n   * 기본 상점 아이템 목록 생성\n   */\n  generateDefaultShopItems(): ShopItem[] {\n    return [\n      {\n        id: 'sword_basic',\n        name: '기본 검',\n        description: '평범한 철검입니다. 공격력 +5',\n        price: 50,\n        type: 'weapon',\n        rarity: 'common',\n        stock: 5,\n        stats: { attack: 5 }\n      },\n      {\n        id: 'potion_hp',\n        name: '체력 물약',\n        description: 'HP를 50 회복합니다.',\n        price: 20,\n        type: 'consumable',\n        rarity: 'common',\n        stock: 10\n      },\n      {\n        id: 'potion_mp',\n        name: '마나 물약',\n        description: 'MP를 30 회복합니다.',\n        price: 25,\n        type: 'consumable',\n        rarity: 'common',\n        stock: 8\n      },\n      {\n        id: 'armor_leather',\n        name: '가죽 갑옷',\n        description: '튼튼한 가죽 갑옷. 방어력 +3',\n        price: 80,\n        type: 'armor',\n        rarity: 'common',\n        stock: 3,\n        stats: { defense: 3 }\n      },\n      {\n        id: 'sword_silver',\n        name: '은빛 검',\n        description: '은으로 제작된 고급 검. 공격력 +12',\n        price: 200,\n        type: 'weapon',\n        rarity: 'uncommon',\n        stock: 2,\n        stats: { attack: 12 }\n      },\n      {\n        id: 'armor_chain',\n        name: '사슬 갑옷',\n        description: '견고한 사슬 갑옷. 방어력 +8',\n        price: 250,\n        type: 'armor',\n        rarity: 'uncommon',\n        stock: 2,\n        stats: { defense: 8 }\n      }\n    ];\n  }\n\n  /**\n   * 플레이어 레벨에 맞는 상점 아이템 생성\n   */\n  generateShopItemsByLevel(playerLevel: number): ShopItem[] {\n    const baseItems = this.generateDefaultShopItems();\n    const levelItems: ShopItem[] = [];\n\n    // 레벨에 따른 추가 아이템\n    if (playerLevel >= 5) {\n      levelItems.push({\n        id: 'sword_steel',\n        name: '강철 검',\n        description: '단단한 강철로 제작된 검. 공격력 +20',\n        price: 500,\n        type: 'weapon',\n        rarity: 'rare',\n        stock: 1,\n        stats: { attack: 20 }\n      });\n    }\n\n    if (playerLevel >= 10) {\n      levelItems.push({\n        id: 'armor_plate',\n        name: '플레이트 갑옷',\n        description: '최고급 플레이트 갑옷. 방어력 +15',\n        price: 800,\n        type: 'armor',\n        rarity: 'rare',\n        stock: 1,\n        stats: { defense: 15 }\n      });\n    }\n\n    if (playerLevel >= 15) {\n      levelItems.push({\n        id: 'sword_enchanted',\n        name: '마법 검',\n        description: '마법이 깃든 검. 공격력 +35',\n        price: 1500,\n        type: 'weapon',\n        rarity: 'epic',\n        stock: 1,\n        stats: { attack: 35 }\n      });\n    }\n\n    if (playerLevel >= 20) {\n      levelItems.push({\n        id: 'potion_elixir',\n        name: '엘릭서',\n        description: 'HP와 MP를 완전히 회복합니다.',\n        price: 200,\n        type: 'consumable',\n        rarity: 'rare',\n        stock: 3\n      });\n    }\n\n    return [...baseItems, ...levelItems];\n  }\n\n  /**\n   * 희귀도에 따른 아이템 가격 배율\n   */\n  getRarityPriceMultiplier(rarity: ShopItem['rarity']): number {\n    const multipliers: Record<ShopItem['rarity'], number> = {\n      'common': 1.0,\n      'uncommon': 2.0,\n      'rare': 4.0,\n      'epic': 8.0,\n      'legendary': 16.0\n    };\n    return multipliers[rarity] || 1.0;\n  }\n\n  /**\n   * 상점 재고 보충 (일정 시간마다 또는 이벤트 발생 시)\n   */\n  restockShop(shopItems: ShopItem[]): void {\n    shopItems.forEach(item => {\n      // 재고가 초기값의 50% 이하일 경우 보충\n      const maxStock = this.getMaxStockByType(item.type);\n      if (item.stock < maxStock * 0.5) {\n        item.stock = maxStock;\n      }\n    });\n  }\n\n  /**\n   * 아이템 타입별 최대 재고\n   */\n  private getMaxStockByType(type: ShopItem['type']): number {\n    const stockLimits: Record<ShopItem['type'], number> = {\n      'weapon': 5,\n      'armor': 5,\n      'consumable': 15,\n      'misc': 10\n    };\n    return stockLimits[type] || 5;\n  }\n\n  /**\n   * 특별 할인 이벤트 (가격 감소)\n   */\n  applyDiscount(shopItems: ShopItem[], discountPercent: number): void {\n    shopItems.forEach(item => {\n      item.price = Math.floor(item.price * (1 - discountPercent / 100));\n    });\n  }\n\n  /**\n   * 희귀 아이템 입고 (랜덤)\n   */\n  addRareItem(shopItems: ShopItem[]): ShopItem | null {\n    const rareItems: ShopItem[] = [\n      {\n        id: 'sword_legendary',\n        name: '전설의 검',\n        description: '전설 속에만 존재하던 검. 공격력 +100',\n        price: 10000,\n        type: 'weapon',\n        rarity: 'legendary',\n        stock: 1,\n        stats: { attack: 100 }\n      },\n      {\n        id: 'armor_mythic',\n        name: '신화의 갑옷',\n        description: '신들이 착용했다는 갑옷. 방어력 +80',\n        price: 12000,\n        type: 'armor',\n        rarity: 'legendary',\n        stock: 1,\n        stats: { defense: 80 }\n      }\n    ];\n\n    const randomItem = rareItems[Math.floor(Math.random() * rareItems.length)];\n    \n    // 이미 존재하지 않을 경우에만 추가\n    const exists = shopItems.some(item => item.id === randomItem.id);\n    if (!exists) {\n      shopItems.push(randomItem);\n      return randomItem;\n    }\n\n    return null;\n  }\n\n  /**\n   * 상점 필터링 (타입별, 희귀도별)\n   */\n  filterShopItems(\n    shopItems: ShopItem[],\n    type?: ShopItem['type'],\n    rarity?: ShopItem['rarity']\n  ): ShopItem[] {\n    let filtered = [...shopItems];\n\n    if (type) {\n      filtered = filtered.filter(item => item.type === type);\n    }\n\n    if (rarity) {\n      filtered = filtered.filter(item => item.rarity === rarity);\n    }\n\n    return filtered;\n  }\n\n  /**\n   * 구매 가능 여부 확인\n   */\n  canBuyItem(shopItem: ShopItem, playerGold: number): {\n    canBuy: boolean;\n    reason?: string;\n  } {\n    if (shopItem.stock <= 0) {\n      return { canBuy: false, reason: '재고가 없습니다' };\n    }\n\n    if (playerGold < shopItem.price) {\n      return { canBuy: false, reason: `골드가 부족합니다 (${shopItem.price - playerGold} 골드 필요)` };\n    }\n\n    return { canBuy: true };\n  }\n}\n", "import { Injectable } from '@angular/core';\nimport { InventoryItem } from '../models/inventory.model';\n\n/**\n * 아이템 생성 서비스\n * - 시작 아이템 생성\n * - 아이템 스탯 생성\n * - 랜덤 아이템 생성\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class ItemGeneratorService {\n\n  /**\n   * 시작 인벤토리 아이템 생성\n   */\n  createStartingInventory(): InventoryItem[] {\n    return [\n      // 전설 무기\n      {\n        id: 'start_weapon_1',\n        name: '불멸의 전쟁망치',\n        type: 'weapon',\n        rarity: 'legendary',\n        quantity: 1,\n        buyPrice: 15000,\n        sellPrice: 7500,\n        stats: {\n          minDamage: 85,\n          maxDamage: 127,\n          attack: 106,\n          attackSpeed: 18,\n          critChance: 12,\n          critDamage: 85,\n          lifeSteal: 6,\n          lifePerHit: 45,\n          fireResist: 23,\n          lightningResist: 18,\n          allResist: 8,\n          goldFind: 45,\n          expBonus: 20\n        }\n      },\n      // 에픽 갑옷\n      {\n        id: 'start_armor_1',\n        name: '용맹한 드래곤 스케일',\n        type: 'armor',\n        rarity: 'epic',\n        quantity: 1,\n        buyPrice: 8000,\n        sellPrice: 4000,\n        stats: {\n          defense: 80,\n          armor: 120,\n          hp: 200,\n          blockChance: 15,\n          lifeRegen: 8,\n          fireResist: 35,\n          coldResist: 25,\n          allResist: 10\n        }\n      },\n      // 레어 투구\n      {\n        id: 'start_helmet_1',\n        name: '강력한 전투 투구',\n        type: 'helmet',\n        rarity: 'rare',\n        quantity: 1,\n        buyPrice: 3500,\n        sellPrice: 1750,\n        stats: {\n          defense: 50,\n          armor: 75,\n          hp: 120,\n          mp: 50,\n          evasion: 8,\n          poisonResist: 20,\n          lightningResist: 15\n        }\n      },\n      // 레어 장갑\n      {\n        id: 'start_gloves_1',\n        name: '축복받은 건틀릿',\n        type: 'gloves',\n        rarity: 'rare',\n        quantity: 1,\n        buyPrice: 3000,\n        sellPrice: 1500,\n        stats: {\n          defense: 40,\n          armor: 60,\n          attackSpeed: 12,\n          critChance: 8,\n          lifePerHit: 25,\n          coldResist: 18\n        }\n      },\n      // 언커먼 부츠\n      {\n        id: 'start_boots_1',\n        name: '번개의 질주의 부츠',\n        type: 'boots',\n        rarity: 'uncommon',\n        quantity: 1,\n        buyPrice: 1500,\n        sellPrice: 750,\n        stats: {\n          defense: 30,\n          armor: 45,\n          movementSpeed: 25,\n          evasion: 12,\n          lightningResist: 22\n        }\n      },\n      // 에픽 목걸이\n      {\n        id: 'start_amulet_1',\n        name: '천상의 천사의 눈물',\n        type: 'amulet',\n        rarity: 'epic',\n        quantity: 1,\n        buyPrice: 10000,\n        sellPrice: 5000,\n        stats: {\n          attack: 60,\n          defense: 60,\n          hp: 180,\n          mp: 80,\n          critChance: 15,\n          lifeSteal: 4,\n          manaSteal: 3,\n          magicFind: 35,\n          goldFind: 50,\n          expBonus: 25,\n          allResist: 12\n        }\n      },\n      // 레어 반지 1\n      {\n        id: 'start_ring_1',\n        name: '파괴적인 용의 반지',\n        type: 'ring',\n        rarity: 'rare',\n        quantity: 1,\n        buyPrice: 4000,\n        sellPrice: 2000,\n        stats: {\n          attack: 45,\n          defense: 35,\n          critChance: 10,\n          critDamage: 35,\n          fireResist: 25,\n          hp: 80\n        }\n      },\n      // 레어 반지 2\n      {\n        id: 'start_ring_2',\n        name: '무적의 권능의 반지',\n        type: 'ring',\n        rarity: 'rare',\n        quantity: 1,\n        buyPrice: 4000,\n        sellPrice: 2000,\n        stats: {\n          attack: 40,\n          defense: 50,\n          hp: 100,\n          lifeRegen: 5,\n          manaRegen: 3,\n          coldResist: 20,\n          poisonResist: 18\n        }\n      },\n      // 소비 아이템들\n      {\n        id: 'start_potion_1',\n        name: '체력 물약',\n        type: 'consumable',\n        rarity: 'common',\n        quantity: 10,\n        buyPrice: 50,\n        sellPrice: 25\n      },\n      {\n        id: 'start_potion_2',\n        name: '마나 물약',\n        type: 'consumable',\n        rarity: 'common',\n        quantity: 10,\n        buyPrice: 50,\n        sellPrice: 25\n      }\n    ];\n  }\n\n  /**\n   * 아이템 타입과 희귀도에 따른 랜덤 스탯 생성\n   */\n  generateItemStats(type: string, rarity: string): any {\n    const rarityMultiplier: { [key: string]: number } = {\n      'common': 1,\n      'uncommon': 1.5,\n      'rare': 2.5,\n      'epic': 4,\n      'legendary': 6\n    };\n\n    const multiplier = rarityMultiplier[rarity] || 1;\n    const stats: any = {};\n\n    // 공통 속성 - 모든 아이템에 랜덤하게 추가될 수 있는 속성들\n    if (Math.random() > 0.7) {\n      stats.hp = Math.floor((Math.random() * 50 + 20) * multiplier);\n    }\n    if (Math.random() > 0.8) {\n      stats.mp = Math.floor((Math.random() * 30 + 10) * multiplier);\n    }\n\n    // 저항 속성 (희귀도가 높을수록 확률 증가)\n    const resistChance = rarity === 'legendary' ? 0.9 : rarity === 'epic' ? 0.7 : rarity === 'rare' ? 0.5 : 0.3;\n    if (Math.random() < resistChance) {\n      const resistTypes = ['fireResist', 'coldResist', 'lightningResist', 'poisonResist'];\n      const randomResist = resistTypes[Math.floor(Math.random() * resistTypes.length)];\n      stats[randomResist] = Math.floor((Math.random() * 20 + 10) * multiplier);\n    }\n    \n    // 올 레지스트 (전설/에픽만)\n    if (rarity === 'legendary' || rarity === 'epic') {\n      if (Math.random() > 0.7) {\n        stats.allResist = Math.floor((Math.random() * 10 + 5) * multiplier);\n      }\n    }\n\n    if (type === 'weapon') {\n      // 무기: 공격력 + 특수 효과\n      const minDmg = Math.floor((Math.random() * 15 + 10) * multiplier);\n      const maxDmg = Math.floor(minDmg * (1.5 + Math.random() * 0.5));\n      \n      stats.attack = Math.floor((minDmg + maxDmg) / 2);\n      stats.minDamage = minDmg;\n      stats.maxDamage = maxDmg;\n      \n      // 공격 속도 (%)\n      if (Math.random() > 0.6) {\n        stats.attackSpeed = Math.floor((Math.random() * 15 + 5) * (multiplier / 2));\n      }\n      \n      // 크리티컬 (희귀 이상)\n      if (rarity !== 'common' && Math.random() > 0.5) {\n        stats.critChance = Math.floor((Math.random() * 8 + 2) * (multiplier / 2));\n      }\n      if (rarity === 'epic' || rarity === 'legendary') {\n        if (Math.random() > 0.6) {\n          stats.critDamage = Math.floor((Math.random() * 40 + 20) * (multiplier / 2));\n        }\n      }\n      \n      // 생명력 흡수 (레어 이상)\n      if ((rarity === 'rare' || rarity === 'epic' || rarity === 'legendary') && Math.random() > 0.6) {\n        stats.lifeSteal = Math.floor((Math.random() * 5 + 2) * (multiplier / 3));\n      }\n      \n      // 타격당 생명력/마나 회복\n      if (Math.random() > 0.7) {\n        stats.lifePerHit = Math.floor((Math.random() * 10 + 5) * multiplier);\n      }\n      if (Math.random() > 0.8) {\n        stats.manaPerHit = Math.floor((Math.random() * 5 + 2) * multiplier);\n      }\n      \n    } else if (type === 'armor' || type === 'helmet' || type === 'gloves' || type === 'boots' || type === 'belt') {\n      // 방어구: 방어력 + 생존 능력\n      stats.defense = Math.floor((Math.random() * 20 + 10) * multiplier);\n      stats.armor = Math.floor((Math.random() * 30 + 15) * multiplier);\n      \n      // 방어 확률 (방패, 갑옷 등)\n      if ((type === 'armor' || type === 'gloves') && Math.random() > 0.7) {\n        stats.blockChance = Math.floor((Math.random() * 10 + 5) * (multiplier / 2));\n      }\n      \n      // 회피율\n      if (Math.random() > 0.75) {\n        stats.evasion = Math.floor((Math.random() * 8 + 3) * (multiplier / 2));\n      }\n      \n      // 생명력 재생\n      if (Math.random() > 0.6) {\n        stats.lifeRegen = Math.floor((Math.random() * 5 + 2) * multiplier);\n      }\n      \n      // 마나 재생\n      if (Math.random() > 0.7) {\n        stats.manaRegen = Math.floor((Math.random() * 3 + 1) * multiplier);\n      }\n      \n    } else if (type === 'amulet' || type === 'ring') {\n      // 액세서리: 균형잡힌 능력치 + 특수 효과\n      stats.attack = Math.floor((Math.random() * 15 + 5) * multiplier);\n      stats.defense = Math.floor((Math.random() * 15 + 5) * multiplier);\n      \n      // 액세서리는 다양한 특수 효과를 가질 수 있음\n      if (Math.random() > 0.5) {\n        stats.critChance = Math.floor((Math.random() * 10 + 3) * (multiplier / 2));\n      }\n      if (Math.random() > 0.6) {\n        stats.lifeSteal = Math.floor((Math.random() * 4 + 1) * (multiplier / 3));\n      }\n      if (Math.random() > 0.7) {\n        stats.manaSteal = Math.floor((Math.random() * 3 + 1) * (multiplier / 3));\n      }\n      \n      // 마법 발견율, 골드 발견율 (전설/에픽)\n      if (rarity === 'legendary' || rarity === 'epic') {\n        if (Math.random() > 0.5) {\n          stats.magicFind = Math.floor((Math.random() * 20 + 10) * multiplier);\n        }\n        if (Math.random() > 0.6) {\n          stats.goldFind = Math.floor((Math.random() * 30 + 15) * multiplier);\n        }\n      }\n      \n      // 경험치 보너스 (레어 이상)\n      if ((rarity === 'rare' || rarity === 'epic' || rarity === 'legendary') && Math.random() > 0.7) {\n        stats.expBonus = Math.floor((Math.random() * 15 + 5) * (multiplier / 2));\n      }\n    }\n    \n    // 이동 속도 (부츠에 높은 확률, 다른 장비에도 낮은 확률)\n    if (type === 'boots') {\n      if (Math.random() > 0.4) {\n        stats.movementSpeed = Math.floor((Math.random() * 15 + 5) * (multiplier / 2));\n      }\n    } else if (Math.random() > 0.9) {\n      stats.movementSpeed = Math.floor((Math.random() * 8 + 2) * (multiplier / 3));\n    }\n\n    return Object.keys(stats).length > 0 ? stats : undefined;\n  }\n\n  /**\n   * 희귀도 배열 반환\n   */\n  getRarityLevels(): string[] {\n    return ['common', 'uncommon', 'rare', 'epic', 'legendary'];\n  }\n\n  /**\n   * 희귀도 한글 이름\n   */\n  getRarityName(rarity: string): string {\n    const names: { [key: string]: string } = {\n      'common': '일반',\n      'uncommon': '고급',\n      'rare': '희귀',\n      'epic': '영웅',\n      'legendary': '전설'\n    };\n    return names[rarity] || '알 수 없음';\n  }\n\n  /**\n   * 희귀도에 따른 색상 반환\n   */\n  getRarityColor(rarity: string): string {\n    const colors: { [key: string]: string } = {\n      'common': '#9d9d9d',\n      'uncommon': '#1eff00',\n      'rare': '#0070dd',\n      'epic': '#a335ee',\n      'legendary': '#ff8000'\n    };\n    return colors[rarity] || '#ffffff';\n  }\n}\n", "import { Injectable } from '@angular/core';\nimport { GeminiAiService } from '../../../services/gemini-ai.service';\nimport { ScenarioDbService, GeneratedScenario } from '../services/scenario-db.service';\nimport { CharacterDbService, GeneratedCharacter } from '../services/character-db.service';\nimport { ItemDbService, GeneratedItem } from '../services/item-db.service';\nimport { NovelTemplate } from '../models/player.model';\nimport { firstValueFrom } from 'rxjs';\n\n/**\n * 스토리 요소 자동 생성 헬퍼\n * - 스토리 생성에 필요한 모든 요소를 한번에 Gemini API로 생성\n * - 시나리오, 캐릭터, 아이템 등을 자동으로 감지하고 생성\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class StoryElementGeneratorHelper {\n  \n  constructor(\n    private geminiAiService: GeminiAiService,\n    private scenarioDbService: ScenarioDbService,\n    private characterDbService: CharacterDbService,\n    private itemDbService: ItemDbService\n  ) {}\n\n  /**\n   * 스토리에 필요한 모든 요소 검증 및 자동 생성\n   */\n  async ensureStoryElements(novel: NovelTemplate): Promise<{\n    success: boolean;\n    generated: {\n      scenarios: number;\n      characters: number;\n      items: number;\n    };\n    errors: string[];\n  }> {\n    const result = {\n      success: true,\n      generated: {\n        scenarios: 0,\n        characters: 0,\n        items: 0\n      },\n      errors: [] as string[]\n    };\n\n    try {\n      // 1. API 키 확인\n      if (!this.geminiAiService.hasApiKey()) {\n        result.errors.push('Gemini API 키가 설정되지 않았습니다. 설정에서 API 키를 입력해주세요.');\n        result.success = false;\n        return result;\n      }\n\n      // 2. 필요한 요소 확인\n      const missingElements = await this.checkMissingElements(novel);\n\n      // 3. 부족한 요소가 있으면 한번에 생성\n      if (missingElements.needsGeneration) {\n        \n        const generated = await this.generateAllElements(novel, missingElements);\n        \n        result.generated = generated;\n      } else {\n      }\n\n    } catch (error) {\n      result.success = false;\n      result.errors.push(error instanceof Error ? error.message : '알 수 없는 오류가 발생했습니다');\n    }\n\n    return result;\n  }\n\n  /**\n   * 부족한 요소 확인\n   */\n  private async checkMissingElements(novel: NovelTemplate): Promise<{\n    needsGeneration: boolean;\n    scenarios: { current: number; needed: number; missing: number };\n    characters: { current: number; needed: number; missing: number };\n    items: { current: number; needed: number; missing: number };\n  }> {\n    // 현재 저장된 요소 개수 확인\n    const allScenarios = await this.scenarioDbService.getAllScenarios();\n    const allCharacters = await this.characterDbService.getAllCharacters();\n    const allItems = await this.itemDbService.getAllItems();\n    \n    const scenarioCount = allScenarios.length;\n    const characterCount = allCharacters.length;\n    const itemCount = allItems.length;\n\n    // 장르별 권장 개수\n    const recommendations = this.getRecommendedCounts(novel);\n\n    const scenarios = {\n      current: scenarioCount,\n      needed: recommendations.scenarios,\n      missing: Math.max(0, recommendations.scenarios - scenarioCount)\n    };\n\n    const characters = {\n      current: characterCount,\n      needed: recommendations.characters,\n      missing: Math.max(0, recommendations.characters - characterCount)\n    };\n\n    const items = {\n      current: itemCount,\n      needed: recommendations.items,\n      missing: Math.max(0, recommendations.items - itemCount)\n    };\n\n    const needsGeneration = scenarios.missing > 0 || characters.missing > 0 || items.missing > 0;\n\n    return { needsGeneration, scenarios, characters, items };\n  }\n\n  /**\n   * 장르별 권장 요소 개수\n   */\n  private getRecommendedCounts(novel: NovelTemplate): {\n    scenarios: number;\n    characters: number;\n    items: number;\n  } {\n    // 장르에 따라 다른 개수 권장\n    const genreMap: Record<string, { scenarios: number; characters: number; items: number }> = {\n      '무협': { scenarios: 10, characters: 15, items: 20 },\n      '판타지': { scenarios: 12, characters: 20, items: 25 },\n      '현대판타지': { scenarios: 8, characters: 12, items: 15 },\n      'SF': { scenarios: 10, characters: 15, items: 20 },\n      '로맨스': { scenarios: 6, characters: 10, items: 10 },\n      '미스터리': { scenarios: 8, characters: 12, items: 15 },\n      '범용': { scenarios: 10, characters: 15, items: 20 }\n    };\n\n    return genreMap[novel.genre] || { scenarios: 10, characters: 15, items: 20 };\n  }\n\n  /**\n   * 모든 요소를 한번에 생성\n   */\n  private async generateAllElements(\n    novel: NovelTemplate,\n    missing: any\n  ): Promise<{\n    scenarios: number;\n    characters: number;\n    items: number;\n  }> {\n    const generated = {\n      scenarios: 0,\n      characters: 0,\n      items: 0\n    };\n\n    // 병렬로 생성 (효율성)\n    const tasks: Promise<void>[] = [];\n\n    // 시나리오 생성\n    if (missing.scenarios.missing > 0) {\n      tasks.push(\n        this.generateScenarios(novel, missing.scenarios.missing)\n          .then(count => { generated.scenarios = count; })\n      );\n    }\n\n    // 캐릭터 생성\n    if (missing.characters.missing > 0) {\n      tasks.push(\n        this.generateCharacters(novel, missing.characters.missing)\n          .then(count => { generated.characters = count; })\n      );\n    }\n\n    // 아이템 생성\n    if (missing.items.missing > 0) {\n      tasks.push(\n        this.generateItems(novel, missing.items.missing)\n          .then(count => { generated.items = count; })\n      );\n    }\n\n    // 모든 생성 작업 완료 대기\n    await Promise.all(tasks);\n\n    return generated;\n  }\n\n  /**\n   * 시나리오 일괄 생성\n   */\n  private async generateScenarios(novel: NovelTemplate, count: number): Promise<number> {\n    let generated = 0;\n\n    try {\n      // 한번에 여러 시나리오를 생성하도록 요청\n      const prompt = this.buildBatchScenarioPrompt(novel, count);\n      const response = await firstValueFrom(\n        this.geminiAiService.generateContent(prompt)\n      );\n\n      // 응답 파싱 및 저장\n      const scenarios = this.parseBatchScenarios(response, novel);\n      \n      for (const scenario of scenarios) {\n        await this.scenarioDbService.saveScenario(scenario);\n        generated++;\n      }\n\n    } catch (error) {\n    }\n\n    return generated;\n  }\n\n  /**\n   * 캐릭터 일괄 생성\n   */\n  private async generateCharacters(novel: NovelTemplate, count: number): Promise<number> {\n    let generated = 0;\n\n    try {\n      const prompt = this.buildBatchCharacterPrompt(novel, count);\n      const response = await firstValueFrom(\n        this.geminiAiService.generateContent(prompt)\n      );\n\n      const characters = this.parseBatchCharacters(response, novel);\n      \n      for (const character of characters) {\n        await this.characterDbService.saveCharacter(character);\n        generated++;\n      }\n\n    } catch (error) {\n    }\n\n    return generated;\n  }\n\n  /**\n   * 아이템 일괄 생성\n   */\n  private async generateItems(novel: NovelTemplate, count: number): Promise<number> {\n    let generated = 0;\n\n    try {\n      const prompt = this.buildBatchItemPrompt(novel, count);\n      const response = await firstValueFrom(\n        this.geminiAiService.generateContent(prompt)\n      );\n\n      const items = this.parseBatchItems(response, novel);\n      \n      for (const item of items) {\n        await this.itemDbService.saveItem(item);\n        generated++;\n      }\n\n    } catch (error) {\n    }\n\n    return generated;\n  }\n\n  /**\n   * 일괄 시나리오 생성 프롬프트\n   */\n  private buildBatchScenarioPrompt(novel: NovelTemplate, count: number): string {\n    const isDefault = novel.id === 'default';\n    const intro = isDefault\n      ? `당신은 ${novel.genre} 소설 작가입니다. 다양한 소설에 활용 가능한 ${novel.genre} 장르의 시나리오를 ${count}개 생성해주세요.`\n      : `당신은 ${novel.genre} 소설 작가입니다. \"${novel.title}\"라는 작품의 시나리오를 ${count}개 생성해주세요.`;\n    \n    return `${intro}\n\n장르: ${novel.genre}\n${isDefault ? '대상: 범용 콘텐츠 (다양한 스토리에 활용 가능)' : `설명: ${novel.description}`}\n${isDefault ? '' : `난이도: ${novel.difficulty}`}\n\n다음 JSON 형식으로 정확히 ${count}개의 시나리오를 생성해주세요:\n\n[\n  {\n    \"title\": \"시나리오 제목\",\n    \"description\": \"시나리오 상세 설명\",\n    \"genre\": \"${novel.genre}\",\n    \"mood\": \"분위기\",\n    \"setting\": \"배경 설정\",\n    \"mainConflict\": \"주요 갈등\",\n    \"keyCharacters\": [\"등장인물1\", \"등장인물2\"],\n    \"plotPoints\": [\"전개1\", \"전개2\"],\n    \"possibleEndings\": [\"결말1\", \"결말2\"]\n  }\n]\n\n중요한 규칙:\n1. 반드시 유효한 JSON 배열만 출력 (설명 금지)\n2. 문자열 안에 줄바꿈은 \\\\n으로 표현\n3. 마지막 항목 뒤에 쉼표 금지\n4. 모든 문자열은 큰따옴표(\")만 사용`;\n  }\n\n  /**\n   * 일괄 캐릭터 생성 프롬프트\n   */\n  private buildBatchCharacterPrompt(novel: NovelTemplate, count: number): string {\n    const isDefault = novel.id === 'default';\n    const intro = isDefault\n      ? `당신은 ${novel.genre} 소설 작가입니다. 다양한 소설에 활용 가능한 ${novel.genre} 장르의 캐릭터를 ${count}명 생성해주세요.`\n      : `당신은 ${novel.genre} 소설 작가입니다. \"${novel.title}\"에 등장할 캐릭터를 ${count}명 생성해주세요.`;\n    \n    return `${intro}\n\n장르: ${novel.genre}\n${isDefault ? '대상: 범용 캐릭터 (다양한 스토리에 활용 가능)' : `설명: ${novel.description}`}\n\n다음 JSON 형식으로 정확히 ${count}명의 캐릭터를 생성해주세요:\n\n[\n  {\n    \"name\": \"캐릭터 이름\",\n    \"age\": 25,\n    \"gender\": \"성별\",\n    \"personality\": \"성격\",\n    \"appearance\": \"외모\",\n    \"background\": \"배경 스토리\",\n    \"role\": \"역할\",\n    \"skills\": [\"특기1\", \"특기2\"],\n    \"relationships\": \"관계\",\n    \"motivation\": \"동기\",\n    \"quirks\": \"특징\"\n  }\n]\n\n중요한 규칙:\n1. 반드시 유효한 JSON 배열만 출력 (설명 금지)\n2. 문자열 안에 줄바꿈은 \\\\n으로 표현\n3. 마지막 항목 뒤에 쉼표 금지\n4. 모든 문자열은 큰따옴표(\")만 사용\n5. age는 반드시 숫자만 입력`;\n  }\n\n  /**\n   * 일괄 아이템 생성 프롬프트\n   */\n  private buildBatchItemPrompt(novel: NovelTemplate, count: number): string {\n    const isDefault = novel.id === 'default';\n    const intro = isDefault\n      ? `당신은 ${novel.genre} 소설의 아이템 디자이너입니다. 다양한 소설에 활용 가능한 ${novel.genre} 장르의 아이템을 ${count}개 생성해주세요.`\n      : `당신은 ${novel.genre} 소설의 아이템 디자이너입니다. \"${novel.title}\"에 등장할 아이템을 ${count}개 생성해주세요.`;\n    \n    return `${intro}\n\n장르: ${novel.genre}\n${isDefault ? '대상: 범용 아이템 (다양한 스토리에 활용 가능)' : `설명: ${novel.description}`}\n\n다음 JSON 형식으로 정확히 ${count}개의 아이템을 생성해주세요:\n\n[\n  {\n    \"name\": \"아이템 이름\",\n    \"type\": \"무기\",\n    \"grade\": \"일반\",\n    \"description\": \"아이템 설명\",\n    \"effect\": \"효과\",\n    \"stats\": {\n      \"attack\": 10,\n      \"defense\": 5,\n      \"hp\": 0,\n      \"mp\": 0\n    },\n    \"price\": 100,\n    \"rarity\": 50,\n    \"lore\": \"배경 스토리\"\n  }\n]\n\n중요한 규칙:\n1. 반드시 유효한 JSON 배열만 출력 (설명 금지)\n2. 문자열 안에 줄바꿈은 \\\\n으로 표현\n3. 마지막 항목 뒤에 쉼표 금지\n4. 모든 문자열은 큰따옴표(\")만 사용\n5. 숫자 필드는 반드시 숫자만 입력 (따옴표 금지)`;\n  }\n\n  /**\n   * JSON 문자열 정리 (잘못된 형식 수정)\n   */\n  private cleanJsonString(jsonStr: string): string {\n    return jsonStr\n      // 후행 쉼표 제거\n      .replace(/,(\\s*[}\\]])/g, '$1')\n      // 주석 제거\n      .replace(/\\/\\*[\\s\\S]*?\\*\\//g, '')\n      .replace(/\\/\\/.*/g, '')\n      // 잘못된 따옴표 수정\n      .replace(/'/g, '\"')\n      // 제어 문자 제거\n      .replace(/[\\x00-\\x1F\\x7F]/g, '')\n      // 연속된 쉼표 제거\n      .replace(/,+/g, ',')\n      // 여러 줄 문자열 처리\n      .replace(/\\n/g, '\\\\n')\n      .replace(/\\r/g, '\\\\r')\n      .replace(/\\t/g, '\\\\t');\n  }\n\n  /**\n   * 안전한 JSON 파싱\n   */\n  private safeJsonParse(text: string): any[] {\n    try {\n      // 1. JSON 배열 추출\n      const jsonMatch = text.match(/\\[[\\s\\S]*\\]/);\n      if (!jsonMatch) {\n        return [];\n      }\n\n      let jsonStr = jsonMatch[0];\n      \n      // 2. JSON 정리\n      jsonStr = this.cleanJsonString(jsonStr);\n      \n      // 3. 파싱 시도\n      try {\n        return JSON.parse(jsonStr);\n      } catch (e) {\n        // 4. 실패 시 더 공격적인 정리\n        \n        // 불완전한 객체 제거 (마지막 항목이 완전하지 않을 수 있음)\n        const lastCommaIndex = jsonStr.lastIndexOf(',');\n        const lastBraceIndex = jsonStr.lastIndexOf('}');\n        \n        if (lastCommaIndex > lastBraceIndex) {\n          // 마지막 쉼표 이후 불완전한 데이터 제거\n          jsonStr = jsonStr.substring(0, lastCommaIndex) + ']';\n        }\n        \n        return JSON.parse(jsonStr);\n      }\n    } catch (error) {\n      console.warn('원본 텍스트:', text.substring(0, 500));\n      return [];\n    }\n  }\n\n  /**\n   * 일괄 시나리오 파싱\n   */\n  private parseBatchScenarios(response: string, novel: NovelTemplate): GeneratedScenario[] {\n    try {\n      const scenarios = this.safeJsonParse(response);\n      \n      if (scenarios.length === 0) {\n        return [];\n      }\n      \n      return scenarios.map((s: any, index: number) => ({\n        id: `scenario_${Date.now()}_${index}`,\n        title: s.title || `시나리오 ${index + 1}`,\n        description: s.description || '',\n        characters: s.keyCharacters || s.characters || [],\n        setting: s.setting || '',\n        conflict: s.mainConflict || s.conflict || '',\n        goal: s.goal || '',\n        mood: s.mood || '보통',\n        tags: [],\n        genre: s.genre || novel.genre,\n        style: novel.genre,\n        createdAt: new Date(),\n        isAdult: false\n      }));\n    } catch (error) {\n      return [];\n    }\n  }\n\n  /**\n   * 일괄 캐릭터 파싱\n   */\n  private parseBatchCharacters(response: string, novel: NovelTemplate): GeneratedCharacter[] {\n    try {\n      const characters = this.safeJsonParse(response);\n      \n      if (characters.length === 0) {\n        return [];\n      }\n      \n      return characters.map((c: any, index: number) => ({\n        name: c.name || `캐릭터 ${index + 1}`,\n        age: c.age || 25,\n        gender: c.gender || '미정',\n        occupation: c.role || c.occupation || '모험가',\n        personality: Array.isArray(c.personality) \n          ? c.personality \n          : (typeof c.personality === 'string' ? [c.personality] : ['보통']),\n        backstory: c.background || c.backstory || '',\n        skills: Array.isArray(c.skills) ? c.skills : [],\n        appearance: c.appearance || '',\n        goal: c.motivation || c.goal || '',\n        weakness: c.quirks || c.weakness || '',\n        tags: [],\n        createdAt: new Date()\n      }));\n    } catch (error) {\n      return [];\n    }\n  }\n\n  /**\n   * 일괄 아이템 파싱\n   */\n  private parseBatchItems(response: string, novel: NovelTemplate): GeneratedItem[] {\n    try {\n      const items = this.safeJsonParse(response);\n      \n      if (items.length === 0) {\n        return [];\n      }\n      \n      return items.map((item: any, index: number) => ({\n        name: item.name || `아이템 ${index + 1}`,\n        description: item.description || '',\n        type: item.type || '소비품',\n        grade: item.grade || '일반',\n        effects: Array.isArray(item.effects) \n          ? item.effects \n          : (item.effect ? [item.effect] : []),\n        stats: item.stats || { attack: 0, defense: 0, hp: 0, mp: 0 },\n        requirements: item.requirements || '',\n        lore: item.lore || '',\n        tags: [],\n        price: item.price || 100,\n        createdAt: new Date()\n      }));\n    } catch (error) {\n      return [];\n    }\n  }\n\n  /**\n   * 생성 진행 상황 리포트\n   */\n  async getGenerationReport(novel: NovelTemplate): Promise<{\n    text: string;\n    scenarios: { current: number; recommended: number; missing: number };\n    characters: { current: number; recommended: number; missing: number };\n    items: { current: number; recommended: number; missing: number };\n    needsGeneration: boolean;\n  }> {\n    const missing = await this.checkMissingElements(novel);\n    \n    let text = `📊 스토리 요소 현황\\n\\n`;\n    \n    if (novel.id === 'default') {\n      text += `🏷️ 대상: 범용 콘텐츠 (${novel.genre})\\n`;\n      text += `💡 소설 선택 시 해당 장르에 최적화된 콘텐츠를 생성합니다.\\n\\n`;\n    } else {\n      text += `🏷️ 소설: ${novel.title} (${novel.genre})\\n\\n`;\n    }\n    \n    text += `📜 시나리오:\\n`;\n    text += `   현재: ${missing.scenarios.current}개\\n`;\n    text += `   권장: ${missing.scenarios.needed}개\\n`;\n    text += `   부족: ${missing.scenarios.missing}개\\n\\n`;\n    \n    text += `👥 캐릭터:\\n`;\n    text += `   현재: ${missing.characters.current}개\\n`;\n    text += `   권장: ${missing.characters.needed}개\\n`;\n    text += `   부족: ${missing.characters.missing}개\\n\\n`;\n    \n    text += `⚔️ 아이템:\\n`;\n    text += `   현재: ${missing.items.current}개\\n`;\n    text += `   권장: ${missing.items.needed}개\\n`;\n    text += `   부족: ${missing.items.missing}개\\n\\n`;\n    \n    if (missing.needsGeneration) {\n      text += `⚠️ 일부 요소가 부족합니다. 자동 생성을 권장합니다.`;\n    } else {\n      text += `✅ 모든 요소가 충분합니다!`;\n    }\n    \n    return {\n      text,\n      scenarios: { current: missing.scenarios.current, recommended: missing.scenarios.needed, missing: missing.scenarios.missing },\n      characters: { current: missing.characters.current, recommended: missing.characters.needed, missing: missing.characters.missing },\n      items: { current: missing.items.current, recommended: missing.items.needed, missing: missing.items.missing },\n      needsGeneration: missing.needsGeneration\n    };\n  }\n}\n", "import { Injectable } from '@angular/core';\nimport { BehaviorSubject, fromEvent, Observable } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, map } from 'rxjs/operators';\n\nexport enum ScreenSize {\n  Mobile = 'mobile',      // < 768px\n  Tablet = 'tablet',      // 768px - 1024px\n  Desktop = 'desktop'     // > 1024px\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ResponsiveService {\n  private screenSizeSubject = new BehaviorSubject<ScreenSize>(this.getScreenSize());\n  public screenSize$: Observable<ScreenSize> = this.screenSizeSubject.asObservable();\n\n  private isMobileSubject = new BehaviorSubject<boolean>(this.checkIsMobile());\n  public isMobile$: Observable<boolean> = this.isMobileSubject.asObservable();\n\n  private isTabletSubject = new BehaviorSubject<boolean>(this.checkIsTablet());\n  public isTablet$: Observable<boolean> = this.isTabletSubject.asObservable();\n\n  private isDesktopSubject = new BehaviorSubject<boolean>(this.checkIsDesktop());\n  public isDesktop$: Observable<boolean> = this.isDesktopSubject.asObservable();\n\n  constructor() {\n    this.initResizeListener();\n  }\n\n  /**\n   * 윈도우 리사이즈 이벤트 리스너 초기화\n   */\n  private initResizeListener(): void {\n    fromEvent(window, 'resize')\n      .pipe(\n        debounceTime(200),\n        map(() => this.getScreenSize()),\n        distinctUntilChanged()\n      )\n      .subscribe((size: ScreenSize) => {\n        this.screenSizeSubject.next(size);\n        this.isMobileSubject.next(this.checkIsMobile());\n        this.isTabletSubject.next(this.checkIsTablet());\n        this.isDesktopSubject.next(this.checkIsDesktop());\n      });\n  }\n\n  /**\n   * 현재 화면 크기 감지\n   */\n  private getScreenSize(): ScreenSize {\n    const width = window.innerWidth;\n    \n    if (width < 768) {\n      return ScreenSize.Mobile;\n    } else if (width >= 768 && width < 1024) {\n      return ScreenSize.Tablet;\n    } else {\n      return ScreenSize.Desktop;\n    }\n  }\n\n  /**\n   * 모바일 여부 확인\n   */\n  private checkIsMobile(): boolean {\n    return window.innerWidth < 768;\n  }\n\n  /**\n   * 태블릿 여부 확인\n   */\n  private checkIsTablet(): boolean {\n    const width = window.innerWidth;\n    return width >= 768 && width < 1024;\n  }\n\n  /**\n   * 데스크톱 여부 확인\n   */\n  private checkIsDesktop(): boolean {\n    return window.innerWidth >= 1024;\n  }\n\n  /**\n   * 현재 화면 크기 (동기)\n   */\n  get currentScreenSize(): ScreenSize {\n    return this.screenSizeSubject.value;\n  }\n\n  /**\n   * 현재 모바일 여부 (동기)\n   */\n  get isMobile(): boolean {\n    return this.isMobileSubject.value;\n  }\n\n  /**\n   * 현재 태블릿 여부 (동기)\n   */\n  get isTablet(): boolean {\n    return this.isTabletSubject.value;\n  }\n\n  /**\n   * 현재 데스크톱 여부 (동기)\n   */\n  get isDesktop(): boolean {\n    return this.isDesktopSubject.value;\n  }\n\n  /**\n   * 화면 너비 반환\n   */\n  get screenWidth(): number {\n    return window.innerWidth;\n  }\n\n  /**\n   * 화면 높이 반환\n   */\n  get screenHeight(): number {\n    return window.innerHeight;\n  }\n\n  /**\n   * 터치 디바이스 여부 확인\n   */\n  get isTouchDevice(): boolean {\n    return 'ontouchstart' in window || navigator.maxTouchPoints > 0;\n  }\n}\n", "import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\nexport interface ModalConfig {\n  type: 'info' | 'success' | 'warning' | 'error' | 'confirm';\n  title: string;\n  message: string;\n  confirmText?: string;\n  cancelText?: string;\n  showCancel?: boolean;\n  onConfirm?: () => void;\n  onCancel?: () => void;\n}\n\nexport interface ModalState {\n  isOpen: boolean;\n  config: ModalConfig | null;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GameModalService {\n  private modalSubject = new Subject<ModalState>();\n  public modal$ = this.modalSubject.asObservable();\n\n  /**\n   * 정보 모달 표시\n   */\n  showInfo(message: string, title: string = '알림'): void {\n    this.show({\n      type: 'info',\n      title,\n      message,\n      confirmText: '확인'\n    });\n  }\n\n  /**\n   * 성공 모달 표시\n   */\n  showSuccess(message: string, title: string = '성공'): void {\n    this.show({\n      type: 'success',\n      title,\n      message,\n      confirmText: '확인'\n    });\n  }\n\n  /**\n   * 경고 모달 표시\n   */\n  showWarning(message: string, title: string = '경고'): void {\n    this.show({\n      type: 'warning',\n      title,\n      message,\n      confirmText: '확인'\n    });\n  }\n\n  /**\n   * 에러 모달 표시\n   */\n  showError(message: string, title: string = '오류'): void {\n    this.show({\n      type: 'error',\n      title,\n      message,\n      confirmText: '확인'\n    });\n  }\n\n  /**\n   * 확인 모달 표시 (확인/취소)\n   */\n  showConfirm(\n    message: string,\n    onConfirm: () => void,\n    title: string = '확인',\n    confirmText: string = '확인',\n    cancelText: string = '취소'\n  ): void {\n    this.show({\n      type: 'confirm',\n      title,\n      message,\n      confirmText,\n      cancelText,\n      showCancel: true,\n      onConfirm\n    });\n  }\n\n  /**\n   * 커스텀 모달 표시\n   */\n  show(config: ModalConfig): void {\n    this.modalSubject.next({\n      isOpen: true,\n      config\n    });\n  }\n\n  /**\n   * 모달 닫기\n   */\n  close(): void {\n    this.modalSubject.next({\n      isOpen: false,\n      config: null\n    });\n  }\n}\n", "import { Component, Input, Output, EventEmitter, OnInit, OnChanges, SimpleChanges, inject } from '@angular/core';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { GameModalService } from '../../services/game-modal.service';\n\n/**\n * 던전 탐험 UI 컴포넌트\n * 던전 내부 탐험 시 사용되는 UI를 담당합니다.\n */\n@Component({\n  selector: 'app-dungeon-explorer',\n  standalone: false,\n  templateUrl: './dungeon-explorer.html',\n  styleUrl: './dungeon-explorer.scss'\n})\nexport class DungeonExplorer implements OnInit, OnChanges {\n  private modalService = inject(GameModalService);\n  \n  @Input() dungeon: any; // DungeonInstance\n  @Input() currentRoom: any; // DungeonRoom\n  @Input() playerHp: number = 100;\n  @Input() playerMaxHp: number = 100;\n  @Input() playerMp: number = 50;\n  @Input() playerMaxMp: number = 50;\n  @Input() playerName: string = '플레이어';\n  @Input() playerLevel: number = 1;\n  @Input() playerAttackPower: number = 10;\n  @Input() playerDefensePower: number = 5;\n  @Input() playerEquipment: any = {}; // 장비 정보\n  @Input() playerSkills: any[] = []; // 스킬 목록\n  \n  @Output() roomMove = new EventEmitter<string>(); // 방 이동\n  @Output() monsterAttack = new EventEmitter<any>(); // 몬스터 공격\n  @Output() interactableUse = new EventEmitter<any>(); // 오브젝트 상호작용\n  @Output() dungeonEscape = new EventEmitter<void>(); // 던전 탈출\n  @Output() floorMove = new EventEmitter<number>(); // 층 이동\n  @Output() rewardsClaimed = new EventEmitter<any>(); // 전투 보상 수령\n\n  // 미니맵 관련\n  minimapRooms: any[] = [];\n  currentFloorRooms: any[] = [];\n  \n  // UI 상태\n  showMinimap: boolean = true;\n  showMonsterList: boolean = true;\n  showRoomInfo: boolean = true;\n  \n  // 전투 상태\n  currentBattleMonster: any = null; // 현재 타겟 몬스터 (UI용)\n  battleMonsters: any[] = []; // 전투 중인 모든 몬스터 (1:n 전투)\n  selectedMonsterIndex: number = 0; // 선택된 몬스터 인덱스\n  isBattleAnimating: boolean = false;\n  isPlayerAttacking: boolean = false;\n  isPlayerDamaged: boolean = false;\n  isMonsterAttacking: boolean = false;\n  isMonsterDamaged: boolean = false;\n  monsterDamagedStates: boolean[] = []; // 각 몬스터의 피격 상태\n  battleLog: string[] = [];\n  isDefending: boolean = false;\n  \n  // 전투 보상\n  battleRewards: {\n    exp: number;\n    gold: number;\n    items: any[];\n  } | null = null;\n  showRewards: boolean = false;\n  \n  constructor(private snackBar: MatSnackBar) { }\n  \n  ngOnInit(): void {\n    this.updateMinimapData();\n  }\n  \n  ngOnChanges(changes: SimpleChanges): void {\n    \n    if (changes['dungeon'] || changes['currentRoom']) {\n      \n      this.updateMinimapData();\n      this.updateCurrentFloorRooms();\n      \n      // 방이 변경되면 전투 상태 초기화\n      if (changes['currentRoom']) {\n        this.initializeBattle();\n      }\n    }\n  }\n  \n  /**\n   * 전투 초기화 - 방에 입장할 때 몬스터 정보만 설정\n   */\n  private initializeBattle(): void {\n    \n    if (!this.currentRoom) {\n      this.currentBattleMonster = null;\n      this.battleMonsters = [];\n      return;\n    }\n    \n    console.log('📊 방 정보 상세:', {\n      type: this.currentRoom.type,\n      isCleared: this.currentRoom.isCleared,\n      monsters: this.currentRoom.monsters,\n      monstersCount: this.currentRoom.monsters?.length || 0,\n      monstersDetails: this.currentRoom.monsters\n    });\n    \n    // 살아있는 몬스터를 모두 전투 몬스터 배열에 설정\n    const aliveMonsters = this.currentRoom.monsters?.filter((m: any) => !m.isDead) || [];\n    \n    \n    if (aliveMonsters.length > 0 && !this.currentRoom.isCleared) {\n      this.battleMonsters = [...aliveMonsters]; // 모든 살아있는 몬스터\n      this.selectedMonsterIndex = 0;\n      this.currentBattleMonster = this.battleMonsters[0]; // UI용 첫 번째 몬스터\n      this.monsterDamagedStates = new Array(this.battleMonsters.length).fill(false);\n      \n      console.log(`⚔️ ${this.battleMonsters.length}마리의 적과 조우! (전투 시작)`);\n      \n      // 첫 번째 몬스터와 자동으로 전투 시작\n      setTimeout(() => {\n        this.startBattleWithMonster(this.currentBattleMonster);\n      }, 500);\n    } else {\n      this.currentBattleMonster = null;\n      this.battleMonsters = [];\n      this.battleLog = [];\n      console.log('❌ 전투 몬스터 없음 - 이유:', {\n        noAliveMonsters: aliveMonsters.length === 0,\n        roomCleared: this.currentRoom.isCleared\n      });\n    }\n    \n    \n    // 전투 애니메이션 상태 초기화\n    this.isBattleAnimating = false;\n    this.isPlayerAttacking = false;\n    this.isPlayerDamaged = false;\n    this.isMonsterAttacking = false;\n    this.isMonsterDamaged = false;\n    this.isDefending = false;\n  }\n  \n  /**\n   * 자동 전투 시작 - 제거됨 (기본 게임 전투 시스템 사용)\n   */\n  private startAutoBattle(): void {\n    // 자동 전투 제거 - 이제 기본 게임의 전투 모달을 사용합니다\n    console.log('⏹️ 자동 전투 비활성화 (기본 전투 시스템 사용)');\n  }\n  \n  /**\n   * 미니맵 데이터 업데이트\n   */\n  private updateMinimapData(): void {\n    if (!this.dungeon || !this.currentRoom) return;\n    \n    const currentFloor = this.dungeon.floors[this.dungeon.currentFloor - 1];\n    if (!currentFloor) return;\n    \n    this.minimapRooms = currentFloor.rooms.map((room: any) => ({\n      id: room.id,\n      type: room.type,\n      isExplored: room.isExplored,\n      isCurrentRoom: room.id === this.currentRoom.id,\n      isCleared: room.isCleared,\n      position: this.calculateRoomPosition(room, currentFloor.rooms)\n    }));\n  }\n  \n  /**\n   * 현재 층의 방 목록 업데이트\n   */\n  private updateCurrentFloorRooms(): void {\n    if (!this.dungeon) return;\n    \n    const currentFloor = this.dungeon.floors[this.dungeon.currentFloor - 1];\n    if (!currentFloor) return;\n    \n    this.currentFloorRooms = currentFloor.rooms;\n  }\n  \n  /**\n   * 방 위치 계산 (미니맵용)\n   */\n  private calculateRoomPosition(room: any, allRooms: any[]): { x: number, y: number } {\n    const index = allRooms.findIndex(r => r.id === room.id);\n    const columns = 5;\n    \n    return {\n      x: (index % columns) * 60 + 30,\n      y: Math.floor(index / columns) * 60 + 30\n    };\n  }\n  \n  /**\n   * 방 이동\n   */\n  moveToRoom(roomId: string): void {\n    if (!this.currentRoom) return;\n    \n    // 연결된 방인지 확인\n    if (this.currentRoom.connectedRoomIds.includes(roomId)) {\n      this.roomMove.emit(roomId);\n    }\n  }\n  \n  /**\n   * 몬스터 공격\n   */\n  attackMonster(monster: any): void {\n    this.monsterAttack.emit(monster);\n  }\n  \n  /**\n   * 몬스터와 전투 시작 (자동 호출)\n   */\n  private startBattleWithMonster(monster: any): void {\n    if (!monster) return;\n    this.monsterAttack.emit(monster);\n  }\n  \n  /**\n   * 오브젝트 사용\n   */\n  useInteractable(interactable: any): void {\n    this.interactableUse.emit(interactable);\n  }\n  \n  /**\n   * 던전 탈출\n   */\n  escapeDungeon(): void {\n    this.modalService.showConfirm(\n      '던전에서 탈출하시겠습니까?<br>진행 상황이 사라집니다.',\n      () => {\n        this.dungeonEscape.emit();\n      },\n      '던전 탈출',\n      '탈출',\n      '취소'\n    );\n  }\n  \n  /**\n   * 다음 층으로 이동\n   */\n  moveToNextFloor(): void {\n    if (!this.dungeon) return;\n    \n    const nextFloor = this.dungeon.currentFloor + 1;\n    if (nextFloor <= this.dungeon.totalFloors) {\n      this.floorMove.emit(nextFloor);\n    }\n  }\n  \n  /**\n   * 연결된 방 목록 가져오기\n   */\n  getConnectedRooms(): any[] {\n    if (!this.currentRoom || !this.currentFloorRooms) return [];\n    \n    return this.currentFloorRooms.filter(room => \n      this.currentRoom.connectedRoomIds.includes(room.id)\n    );\n  }\n  \n  /**\n   * HP 퍼센트\n   */\n  getHpPercent(): number {\n    return (this.playerHp / this.playerMaxHp) * 100;\n  }\n  \n  /**\n   * MP 퍼센트\n   */\n  getMpPercent(): number {\n    return (this.playerMp / this.playerMaxMp) * 100;\n  }\n  \n  /**\n   * 방 타입 아이콘\n   */\n  getRoomTypeIcon(type: string): string {\n    const icons: { [key: string]: string } = {\n      entrance: '🚪',\n      normal: '⚔️',\n      elite: '👑',\n      boss: '💀',\n      treasure: '💎',\n      shrine: '✨',\n      shop: '🏪',\n      safe: '🛡️',\n      event: '❓',\n      exit: '🚪'\n    };\n    return icons[type] || '❓';\n  }\n  \n  /**\n   * 방 타입 한글명\n   */\n  getRoomTypeKorean(type: string): string {\n    const names: { [key: string]: string } = {\n      entrance: '입구',\n      normal: '일반 방',\n      elite: '엘리트 방',\n      boss: '보스 방',\n      treasure: '보물 방',\n      shrine: '성소',\n      shop: '상점',\n      safe: '안전 지대',\n      event: '이벤트 방',\n      exit: '출구'\n    };\n    return names[type] || '알 수 없는 방';\n  }\n  \n  /**\n   * 몬스터 타입 색상\n   */\n  getMonsterTypeColor(type: string): string {\n    const colors: { [key: string]: string } = {\n      normal: '#cccccc',\n      elite: '#4169E1',\n      boss: '#FF4500'\n    };\n    return colors[type] || '#cccccc';\n  }\n  \n  /**\n   * 미니맵 토글\n   */\n  toggleMinimap(): void {\n    this.showMinimap = !this.showMinimap;\n  }\n  \n  /**\n   * 몬스터 리스트 토글\n   */\n  toggleMonsterList(): void {\n    this.showMonsterList = !this.showMonsterList;\n  }\n  \n  /**\n   * 방 정보 토글\n   */\n  toggleRoomInfo(): void {\n    this.showRoomInfo = !this.showRoomInfo;\n  }\n  \n  /**\n   * 진행도 퍼센트\n   */\n  getProgressPercent(): number {\n    if (!this.dungeon) return 0;\n    \n    const currentFloor = this.dungeon.currentFloor;\n    const totalFloors = this.dungeon.totalFloors;\n    \n    return (currentFloor / totalFloors) * 100;\n  }\n  \n  /**\n   * 탐험한 방 개수\n   */\n  getExploredRoomsCount(): number {\n    if (!this.currentFloorRooms) return 0;\n    \n    return this.currentFloorRooms.filter((room: any) => room.isExplored).length;\n  }\n  \n  /**\n   * 클리어한 방 개수\n   */\n  getClearedRoomsCount(): number {\n    if (!this.currentFloorRooms) return 0;\n    \n    return this.currentFloorRooms.filter((room: any) => room.isCleared).length;\n  }\n  \n  /**\n   * 살아있는 몬스터 목록\n   */\n  getAliveMonsters(): any[] {\n    // battleMonsters 배열에서 살아있는 몬스터 반환\n    return this.battleMonsters.filter((m: any) => !m.isDead);\n  }\n  \n  /**\n   * 몬스터 선택 (타겟 변경)\n   */\n  selectMonster(index: number): void {\n    if (this.battleMonsters[index] && !this.battleMonsters[index].isDead) {\n      this.selectedMonsterIndex = index;\n      this.currentBattleMonster = this.battleMonsters[index];\n    }\n  }\n  \n  /**\n   * 사용 가능한 오브젝트 목록\n   */\n  getAvailableInteractables(): any[] {\n    if (!this.currentRoom) return [];\n    \n    return this.currentRoom.interactables.filter((i: any) => !i.isUsed);\n  }\n  \n  /**\n   * 몬스터 아이콘\n   */\n  getMonsterIcon(type: string): string {\n    const icons: { [key: string]: string } = {\n      normal: '👹',\n      elite: '👑',\n      boss: '💀'\n    };\n    return icons[type] || '👹';\n  }\n  \n  // ==================== 전투 시스템 (제거 - 기본 게임 전투 사용) ====================\n  \n  /**\n   * 전투 보상 계산 및 표시\n   */\n  calculateAndShowRewards(): void {\n    if (!this.currentRoom || !this.battleMonsters.length) return;\n    \n    // 처치한 몬스터들의 총 경험치와 골드 계산\n    let totalExp = 0;\n    let totalGold = 0;\n    const droppedItems: any[] = [];\n    \n    this.battleMonsters.forEach(monster => {\n      // 경험치: 몬스터 레벨 * 타입 배율\n      const expMultiplier: any = {\n        normal: 20,\n        elite: 50,\n        boss: 150\n      };\n      \n      totalExp += monster.level * (expMultiplier[monster.type] || 20);\n      \n      // 골드: 몬스터 레벨 * 타입 배율 * 랜덤\n      const goldMultiplier: any = {\n        normal: 10,\n        elite: 30,\n        boss: 100\n      };\n      \n      totalGold += Math.floor(monster.level * (goldMultiplier[monster.type] || 10) * (0.8 + Math.random() * 0.4));\n      \n      // 아이템 드랍 (확률)\n      const dropChance: any = {\n        normal: 0.15,  // 15%\n        elite: 0.40,   // 40%\n        boss: 0.80     // 80%\n      };\n      \n      if (Math.random() < (dropChance[monster.type] || 0.15)) {\n        // 간단한 아이템 생성 (실제로는 아이템 생성 로직 필요)\n        const itemRarity = Math.random();\n        let rarity = 'common';\n        if (itemRarity > 0.95) rarity = 'legendary';\n        else if (itemRarity > 0.85) rarity = 'epic';\n        else if (itemRarity > 0.65) rarity = 'rare';\n        else if (itemRarity > 0.35) rarity = 'uncommon';\n        \n        droppedItems.push({\n          name: `${monster.name}의 전리품`,\n          rarity: rarity,\n          level: monster.level\n        });\n      }\n    });\n    \n    // 보상 설정\n    this.battleRewards = {\n      exp: totalExp,\n      gold: totalGold,\n      items: droppedItems\n    };\n    \n    this.showRewards = true;\n    \n    // 부모 컴포넌트에 보상 전달 (이벤트 발생)\n    // TODO: 보상 이벤트 추가 필요\n  }\n  \n  /**\n   * 보상 수령\n   */\n  claimRewards(): void {\n    if (!this.battleRewards) return;\n    \n    // 부모 컴포넌트로 보상 전달\n    this.rewardsClaimed.emit(this.battleRewards);\n    \n    this.showRewards = false;\n    this.battleRewards = null;\n    this.battleMonsters = [];\n  }\n}\n", "<div class=\"dungeon-explorer-text\" *ngIf=\"dungeon && currentRoom\">\n  \n  <!-- 던전 상태 정보 -->\n  <div class=\"dungeon-status-bar\">\n    <div class=\"status-item\">\n      <span class=\"label\">던전:</span>\n      <span class=\"value\">{{ dungeon.dungeonTypeId }}</span>\n    </div>\n    <div class=\"status-item\">\n      <span class=\"label\">층:</span>\n      <span class=\"value\">{{ dungeon.currentFloor }} / {{ dungeon.totalFloors }}</span>\n    </div>\n    <div class=\"status-item\">\n      <span class=\"label\">HP:</span>\n      <span class=\"value hp-value\">{{ playerHp }} / {{ playerMaxHp }}</span>\n    </div>\n    <div class=\"status-item\">\n      <span class=\"label\">처치:</span>\n      <span class=\"value\">🗡️{{ dungeon.stats.monstersKilled }} 👑{{ dungeon.stats.elitesKilled }}</span>\n    </div>\n  </div>\n\n  <!-- 현재 방 정보 -->\n  <div class=\"room-info-text\">\n    <div class=\"room-title\">\n      {{ getRoomTypeIcon(currentRoom.type) }} {{ getRoomTypeKorean(currentRoom.type) }}\n      <span class=\"room-status-badge\" [class.cleared]=\"currentRoom.isCleared\">\n        {{ currentRoom.isCleared ? '[클리어]' : '[미클리어]' }}\n      </span>\n    </div>\n    <div class=\"room-description\">{{ currentRoom.description }}</div>\n  </div>\n\n  <!-- 전투 중 - 몬스터 목록 표시 -->\n  <div class=\"battle-log-section\" *ngIf=\"!currentRoom.isCleared && currentRoom.monsters && currentRoom.monsters.length > 0\">\n    <div class=\"battle-header-text\">⚔️ 적 조우!</div>\n    \n    <div class=\"monster-list-text\">\n      <div \n        *ngFor=\"let monster of currentRoom.monsters; let idx = index\"\n        class=\"monster-item\"\n        [class.defeated]=\"monster.isDead\"\n      >\n        <div class=\"monster-name\">\n          {{ getMonsterIcon(monster.type) }} {{ monster.name }} (Lv.{{ monster.level }})\n          <span class=\"monster-status\" *ngIf=\"!monster.isDead\">🔥</span>\n          <span class=\"monster-status defeated-mark\" *ngIf=\"monster.isDead\">💀</span>\n        </div>\n        <div class=\"monster-stats\" *ngIf=\"!monster.isDead\">\n          HP: {{ monster.currentHp || monster.hp }}/{{ monster.maxHp || monster.hp }} | ⚔️ {{ monster.attack }} | 🛡️ {{ monster.defense }}\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"battle-notice-text\">\n      전투는 기본 게임 시스템을 사용합니다.\n    </div>\n  </div>\n\n  <!-- 전투 보상 -->\n  <div class=\"rewards-text-section\" *ngIf=\"showRewards && battleRewards\">\n    <div class=\"rewards-header\">🎉 전투 승리!</div>\n    <div class=\"rewards-list\">\n      <div class=\"reward-line\">⭐ 경험치 +{{ battleRewards.exp }}</div>\n      <div class=\"reward-line\">💰 골드 +{{ battleRewards.gold }}</div>\n      <div class=\"reward-line\" *ngFor=\"let item of battleRewards.items\">\n        🎁 {{ item.name }} ({{ item.rarity }})\n      </div>\n      <div class=\"reward-line\" *ngIf=\"battleRewards.items.length === 0\">\n        📦 아이템 획득 없음\n      </div>\n    </div>\n    <button class=\"text-button primary\" (click)=\"claimRewards()\">✅ 보상 받기</button>\n  </div>\n\n  <!-- 방 클리어 후 -->\n  <div class=\"room-cleared-text\" *ngIf=\"currentRoom.isCleared && !currentBattleMonster && !showRewards\">\n    <div class=\"cleared-message\">✅ 방을 클리어했습니다!</div>\n    \n    <div class=\"room-choices\" *ngIf=\"getConnectedRooms().length > 0\">\n      <div class=\"choices-title\">🚪 이동 가능한 방:</div>\n      <div class=\"choice-buttons\">\n        <button\n          *ngFor=\"let room of getConnectedRooms(); let idx = index\"\n          class=\"text-button choice\"\n          (click)=\"moveToRoom(room.id)\"\n        >\n          <span class=\"choice-number\">{{ idx + 1 }}</span>\n          {{ getRoomTypeIcon(room.type) }} {{ getRoomTypeKorean(room.type) }}\n        </button>\n      </div>\n    </div>\n    \n    <div class=\"floor-exit-text\" *ngIf=\"currentRoom.type === 'exit'\">\n      <button class=\"text-button primary\" (click)=\"moveToNextFloor()\">\n        ⬇️ {{ dungeon.currentFloor + 1 }}층으로 내려가기\n      </button>\n    </div>\n  </div>\n\n  <!-- 하단 버튼 -->\n  <div class=\"dungeon-footer-text\">\n    <button class=\"text-button danger\" (click)=\"escapeDungeon()\">🚪 던전 탈출</button>\n  </div>\n</div>\n", "import { Component, ChangeDetectorRef, ViewChild, ElementRef, AfterViewChecked, OnInit, inject } from '@angular/core';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport { NotificationService } from '../../../../services/notification.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { BattleModalComponent } from '../battle-modal/battle-modal.component';\nimport { ConfirmDialogComponent } from '../confirm-dialog/confirm-dialog.component';\nimport { GeminiAiService } from '../../../../services/gemini-ai.service';\nimport { ScenarioDbService, GeneratedScenario } from '../../services/scenario-db.service';\nimport { ItemDbService, GeneratedItem } from '../../services/item-db.service';\nimport { CharacterDbService, GeneratedCharacter } from '../../services/character-db.service';\nimport { NovelAuthService } from '../../services/novel-auth.service';\nimport { StoryDbService, SavedStory } from '../../services/story-db.service';\nimport { GameStorageService } from '../../services/game-storage.service';\nimport { DIABLO_ITEMS } from '../../data/diablo-items.data';\nimport { DiabloItem, ItemRarity } from '../../models/diablo-item.model';\nimport { DebugLoggerService } from '../../../../shared/services/debug-logger.service';\nimport { DungeonGeneratorService } from '../../services/dungeon-generator.service';\nimport { DungeonService } from '../../services/dungeon.service';\nimport { BattleService } from '../../services/battle.service';\nimport { BattleLogService } from '../../services/battle-log.service';\nimport { InventoryService } from '../../services/inventory.service';\nimport { EquipmentService } from '../../services/equipment.service';\nimport { ShopService } from '../../services/shop.service';\nimport { WuxiaDataService } from '../../services/wuxia-data.service';\nimport { ItemGeneratorService } from '../../services/item-generator.service';\nimport { InventoryManager } from '../../managers/inventory.manager';\nimport { BattleManager } from '../../managers/battle.manager';\nimport { WuxiaManager } from '../../managers/wuxia.manager';\nimport { DungeonManager } from '../../services/dungeon.manager';\nimport { ItemGenerationHelper } from './helpers/item-generation.helper';\nimport { StoryFlowHelper } from './helpers/story-flow.helper';\nimport { ContentManagementHelper } from './helpers/content-management.helper';\nimport { DiabloItemHelper } from './helpers/diablo-item.helper';\nimport { RandomItemHelper } from './helpers/random-item.helper';\nimport { DungeonFlowHelper } from './helpers/dungeon-flow.helper';\nimport { StoryElementGeneratorHelper } from '../../helpers/story-element-generator.helper';\nimport { EQUIPMENT_SLOT_COMPATIBILITY, VALID_EQUIPMENT_SLOTS } from '../../constants/equipment-slots.constant';\nimport { ResponsiveService } from '../../services/responsive.service';\n// ===== 모델 임포트 =====\nimport { \n  Reward, Penalty, Condition, Consequence, BattleNodeConfig, \n  StoryChoice, StoryNode, StoryConnection, StoryProgress, \n  PathStep, StoryFlowNode, StoryBlock \n} from '../../models/story-node.model';\n\nimport { \n  StatusEffect, BattleSkill, CombatLogEntry, BattleItem, \n  BattleAction, BattleState \n} from '../../models/battle.model';\n\nimport { \n  ItemAffix, ItemSocket, SocketedItem, EquipmentItem, \n  InventoryItem, ShopItem, PlayerEquipment \n} from '../../models/inventory.model';\n\nimport { \n  MartialStatusEffect, MartialArtsSkill, Meridian, MeridianSystem, \n  InternalPowerState, Faction, WulinRelationship, ElixirEffect, \n  Elixir, MartialArtsManual, MartialBattleState, MemberRole, \n  OrganizationMember, Organization \n} from '../../models/wuxia.model';\n\nimport { \n  DifficultyLevel, DungeonTheme, RoomType, DungeonType, \n  DungeonInteractable, DungeonMonster, DungeonRoom, DungeonFloor, \n  DungeonInstance, DungeonProgress \n} from '../../models/dungeon.model';\n\nimport { \n  PlayerSkill, PlayerCharacter, NovelTemplate, GameState \n} from '../../models/player.model';\n\n// ===== Signal-based State Services =====\nimport { NovelStateService } from '../../services/state/novel.state.service';\nimport { BattleStateService } from '../../services/state/battle.state.service';\nimport { InventoryStateService } from '../../services/state/inventory.state.service';\nimport { PlayerStateService } from '../../services/state/player-state.service';\nimport { ItemStateService } from '../../services/state/item.state.service';\n\n@Component({\n  selector: 'app-novel-generator',\n  templateUrl: './novel-generator.component.html',\n  styleUrls: ['./novel-generator.component.scss'],\n  standalone: false,\n  animations: [\n    trigger('slideInOut', [\n      transition(':enter', [\n        style({ transform: 'translateX(100%)' }),\n        animate('300ms ease-out', style({ transform: 'translateX(0)' }))\n      ]),\n      transition(':leave', [\n        animate('300ms ease-in', style({ transform: 'translateX(100%)' }))\n      ])\n    ]),\n    trigger('contextMenuAnimation', [\n      transition(':enter', [\n        style({ opacity: 0, transform: 'scale(0.9) translateY(-10px)' }),\n        animate('200ms cubic-bezier(0.4, 0.0, 0.2, 1)', style({ opacity: 1, transform: 'scale(1) translateY(0)' }))\n      ]),\n      transition(':leave', [\n        animate('150ms cubic-bezier(0.4, 0.0, 1, 1)', style({ opacity: 0, transform: 'scale(0.9) translateY(-10px)' }))\n      ])\n    ])\n  ]\n})\nexport class NovelGeneratorComponent implements AfterViewChecked, OnInit {\n  @ViewChild('battleLogContainer') battleLogContainer?: ElementRef;\n  private shouldScrollBattleLog = false;\n  \n  // ===== Signal-based State Services =====\n  protected readonly novelState = inject(NovelStateService);\n  protected readonly battleState = inject(BattleStateService);\n  protected readonly inventoryState = inject(InventoryStateService);\n  protected readonly playerState = inject(PlayerStateService);\n  protected readonly itemState = inject(ItemStateService);\n  \n  // 디버그 로거 서비스\n  private debugLogger = inject(DebugLoggerService);\n  \n  private itemGenerationHelper!: ItemGenerationHelper;\n  private storyFlowHelper!: StoryFlowHelper;\n  private contentManagementHelper!: ContentManagementHelper;\n  \n  gameStarted = false;\n  novelSelected = false;\n  selectedNovel: NovelTemplate | null = null;\n  storyBlocks: StoryBlock[] = [];\n  choices: string[] = [];\n  currentPath: string[] = []; // 선택 경로 추적\n  \n  // 현재 게임 ID (라우터 파라미터)\n  currentGameId: string | null = null;\n  \n  // PlayerCharacter는 PlayerStateService로 위임\n  get playerCharacter(): PlayerCharacter { \n    return this.playerState.character(); \n  }\n  \n  // Currency getters - PlayerStateService로 위임 (read-only)\n  get gold(): number { return this.playerState.gold(); }\n  get gem(): number { return this.playerState.gem(); }\n  get crystal(): number { return this.playerState.crystal(); }\n  get ticket(): number { return this.playerState.ticket(); }\n  \n  // Currency setters - PlayerStateService 메서드 사용\n  set gold(value: number) {\n    const current = this.playerState.gold();\n    if (value > current) {\n      this.playerState.addGold(value - current);\n    } else if (value < current) {\n      this.playerState.spendGold(current - value);\n    }\n  }\n  \n  set gem(value: number) {\n    const current = this.playerState.gem();\n    if (value > current) {\n      this.playerState.addGem(value - current);\n    } else if (value < current) {\n      this.playerState.spendGem(current - value);\n    }\n  }\n  \n  set crystal(value: number) {\n    const current = this.playerState.crystal();\n    if (value > current) {\n      this.playerState.addCrystal(value - current);\n    } else if (value < current) {\n      this.playerState.spendCrystal(current - value);\n    }\n  }\n  \n  set ticket(value: number) {\n    const current = this.playerState.ticket();\n    if (value > current) {\n      this.playerState.addTicket(value - current);\n    } else if (value < current) {\n      this.playerState.spendTicket(current - value);\n    }\n  }\n  \n  // ===== UI State - Delegated to NovelStateService =====\n  get showInventoryPanel(): boolean { return this.novelState.showInventoryPanel(); }\n  get showShopPanel(): boolean { return this.novelState.showShopPanel(); }\n  get showCharacterCreatorPanel(): boolean { return this.novelState.showCharacterCreatorPanel(); }\n  get showScenarioCreatorPanel(): boolean { return this.novelState.showScenarioCreatorPanel(); }\n  get showItemCreatorPanel(): boolean { return this.novelState.showItemCreatorPanel(); }\n  get showStoryCreatorPanel(): boolean { return this.novelState.showStoryCreatorPanel(); }\n  get showWuxiaPanel(): boolean { return this.novelState.showWuxiaPanel(); }\n  get showFlowPanel(): boolean { return this.novelState.showFlowPanel(); }\n  get inventoryActiveTab(): 'equipment' | 'inventory' | 'currency' | 'shop' { return this.novelState.inventoryActiveTab(); }\n  get wuxiaActiveTab(): 'cultivation' | 'skills' | 'faction' | 'elixir' | 'meridians' { return this.novelState.wuxiaActiveTab(); }\n  get flowPanelTab(): 'character' | 'map' | 'organization' { return this.novelState.flowPanelTab(); }\n  \n  // ===== Inventory State - Delegated to InventoryStateService =====\n  get inventory(): InventoryItem[] { return this.inventoryState.inventory(); }\n  set inventory(value: InventoryItem[]) { this.inventoryState.setInventory(value); }\n  \n  showCharacterPanel = false;\n  \n  isGeneratingCharacter = false;\n  generatedCharacter: GeneratedCharacter | null = null;\n  characterGenerationError: string = '';\n  savedCharacters: GeneratedCharacter[] = [];\n  \n  // 시나리오 생성 패널\n  isGeneratingScenario = false;\n  generatedScenario: GeneratedScenario | null = null;\n  scenarioGenerationError: string = '';\n  savedScenarios: GeneratedScenario[] = [];\n  \n  isGeneratingItem = false;\n  generatedItem: GeneratedItem | null = null;\n  generatedItems: GeneratedItem[] = []; // 한 번에 생성된 여러 아이템 목록\n  itemGenerationError: string = '';\n  savedItems: GeneratedItem[] = [];\n  \n  // 스토리 생성기 패널\n  isGeneratingStory = false;\n  storyTitle: string = ''; // 사용자 입력 제목\n  selectedCharactersForStory: GeneratedCharacter[] = [];\n  selectedItemsForStory: GeneratedItem[] = [];\n  selectedScenariosForStory: GeneratedScenario[] = [];\n  generatedStory: NovelTemplate | null = null;\n  storyGenerationError: string = '';\n  savedStories: SavedStory[] = []; // 저장된 스토리 목록\n  \n  // 아코디언 펼침/접힘 상태\n  isStoriesExpanded = true; // 저장된 스토리는 기본으로 펼쳐짐\n  isCharactersExpanded = false;\n  isScenariosExpanded = false;\n  isItemsExpanded = false;\n  isShopExpanded = false;\n  \n  // 캐릭터 인벤토리 모달\n  showCharacterInventoryModal = false;\n  selectedCharacterForInventory: GeneratedCharacter | null = null;\n  selectedCharacterGameData: GameState | null = null;\n  characterInventoryTab: 'equipment' | 'shop' = 'equipment';\n  \n  // 선택지-시나리오 연결 기능\n  showScenarioLinkPanel = false;\n  currentLinkingChoiceIndex: number = -1;\n  \n  // 플로우 기반 시나리오 연결\n  showFlowScenarioLinkPanel = false;\n  currentLinkingNodeId: string = '';\n  currentLinkingChoiceId: string = '';\n  nodeScenarioLinks: Map<string, string> = new Map(); // nodeId+choiceId -> scenarioId\n  \n  // 사이드 패널 토글 상태 (기본적으로 닫힌 상태)\n  isLeftPanelCollapsed = true;\n  isRightPanelCollapsed = true;\n  \n  // 플로우 맵 패널 토글 상태 (기본적으로 닫힌 상태)\n  isFlowPanelOpen = false;\n  \n  // 스토리 플로우 시각화\n  showStoryFlowPanel = false;\n  storyFlowNodes: StoryFlowNode[] = [];\n  \n  // ===== 비선형 스토리 시스템 =====\n  // 새로운 노드 기반 시스템\n  storyNodes: StoryNode[] = [];\n  storyConnections: StoryConnection[] = [];\n  currentStoryNodeId: string = 'start';\n  storyProgress: StoryProgress = {\n    currentNodeId: 'start',\n    visitedNodes: [],\n    pathHistory: [],\n    totalChoices: 0,\n    battlesWon: 0,\n    battlesLost: 0,\n    branchingFactor: 0,\n    explorationRate: 0,\n    possibleEndings: [],\n    flags: {}\n  };\n  \n  // 플로우 시각화 설정\n  showAdvancedFlowPanel = false; // 고급 플로우 패널\n  selectedNode: StoryNode | null = null;\n  flowLayoutType: 'hierarchical' | 'radial' | 'force' = 'hierarchical';\n  flowZoomLevel = 1.0;\n  flowPanX = 0;\n  flowPanY = 0;\n  flowViewBox = '0 0 1200 800';\n  \n  // 캔버스 드래그 상태\n  private isDraggingCanvas = false;\n  private dragStartX = 0;\n  private dragStartY = 0;\n  private dragStartPanX = 0;\n  private dragStartPanY = 0;\n  \n  // 노드 드래그 상태\n  isDraggingNode = false;\n  draggingNode: StoryNode | null = null;\n  private nodeDragStartX = 0;\n  private nodeDragStartY = 0;\n  private nodeStartX = 0;\n  private nodeStartY = 0;\n  private hasNodeMoved = false; // 노드가 실제로 이동했는지 추적\n  \n  showVisitedOnly = false;\n  showBattlesOnly = false;\n  showEndingsOnly = false;\n  \n  showStats = false;\n  \n  // ===== 향상된 전투 시스템 =====\n  battleSkills: BattleSkill[] = [];\n  battleItems: BattleItem[] = [];\n  currentBattleState: BattleState | null = null;\n  \n  // ===== 무협 시스템 =====\n  martialArtsSkills: MartialArtsSkill[] = [];\n  learnedMartialSkills: MartialArtsSkill[] = [];\n  \n  playerInternalPower: InternalPowerState = {\n    current: 100,\n    max: 100,\n    recoveryRate: 5,\n    trainingLevel: 0,\n    realm: '초류',\n    realmProgress: 0,\n    meridians: {\n      opened: 0,\n      total: 12,\n      meridians: []\n    },\n    purity: 50,\n    stability: 100\n  };\n  \n  playerFaction: Faction | null = null;\n  availableFactions: Faction[] = [];\n  wulinRelationships: WulinRelationship[] = [];\n  \n  elixirs: Elixir[] = [];\n  martialManuals: MartialArtsManual[] = [];\n  \n  // martialBattleState는 battleManager와 wuxiaManager에서 직접 관리 (중복 제거)\n  \n  // ===== 던전 시스템 상태 =====\n  // 던전 타입 목록 (DungeonManager에 위임)\n  get dungeonTypes() { return this.dungeonManager.dungeonTypes; }\n  set dungeonTypes(value) { this.dungeonManager.dungeonTypes = value; }\n  \n  // 현재 던전 상태 (DungeonManager에 위임)\n  get currentDungeon() { return this.dungeonManager.currentDungeon; }\n  set currentDungeon(value) { this.dungeonManager.currentDungeon = value; }\n  \n  get currentDungeonRoom() { return this.dungeonManager.currentDungeonRoom; }\n  set currentDungeonRoom(value) { this.dungeonManager.currentDungeonRoom = value; }\n  // 던전 UI 상태 (DungeonManager에 위임)\n  get showDungeonPanel() { return this.dungeonManager.showDungeonPanel; }\n  set showDungeonPanel(value) { this.dungeonManager.showDungeonPanel = value; }\n  \n  get showDungeonEntryDialog() { return this.dungeonManager.showDungeonEntryDialog; }\n  set showDungeonEntryDialog(value) { this.dungeonManager.showDungeonEntryDialog = value; }\n  \n  get selectedDungeonType() { return this.dungeonManager.selectedDungeonType; }\n  set selectedDungeonType(value) { this.dungeonManager.selectedDungeonType = value; }\n  \n  get selectedDifficulty() { return this.dungeonManager.selectedDifficulty; }\n  set selectedDifficulty(value) { this.dungeonManager.selectedDifficulty = value; }\n  // 던전 진행 상태 (DungeonManager에 위임)\n  get dungeonProgress() { return this.dungeonManager.dungeonProgress; }\n  set dungeonProgress(value) { this.dungeonManager.dungeonProgress = value; }\n  // 던전 테스트 관련 (DungeonManager에 위임)\n  get showDungeonTestDialog() { return this.dungeonManager.showDungeonTestDialog; }\n  set showDungeonTestDialog(value) { this.dungeonManager.showDungeonTestDialog = value; }\n  \n  get dungeonTestOptions() { return this.dungeonManager.dungeonTestOptions; }\n  \n  // 인벤토리 필터 상태\n  inventoryFilter: 'all' | 'weapon' | 'armor' | 'accessory' | 'consumable' | 'material' = 'all';\n  \n  // 그리드 인벤토리 설정\n  maxInventorySize: number = 60; // 최대 60칸 (10x6 그리드)\n  inventorySortBy: 'rarity' | 'type' | 'name' | 'recent' = 'rarity';\n  \n  // 조직 시스템 (미구현 - 임시)\n  playerOrganization: any = null;\n  selectedMember: any = null;\n  \n  inventoryFilterOptions = [\n    { value: 'all' as const, label: '전체', icon: '📦' },\n    { value: 'weapon' as const, label: '무기', icon: '⚔️' },\n    { value: 'armor' as const, label: '방어구', icon: '🛡️' },\n    { value: 'accessory' as const, label: '장신구', icon: '💍' },\n    { value: 'consumable' as const, label: '소비품', icon: '⚗️' }\n  ];\n  \n  // 기본 전투 스킬 데이터\n  defaultBattleSkills: BattleSkill[] = [\n    {\n      id: 'basic-attack',\n      name: '일반 공격',\n      description: '기본적인 물리 공격',\n      type: 'attack',\n      mpCost: 0,\n      cooldown: 0,\n      damageMultiplier: 1.0,\n      hitRate: 0.9,\n      criticalRate: 0.1,\n      icon: '⚔️'\n    },\n    {\n      id: 'power-strike',\n      name: '강타',\n      description: '강력한 일격을 날립니다',\n      type: 'attack',\n      mpCost: 15,\n      cooldown: 2,\n      damageMultiplier: 2.0,\n      hitRate: 0.8,\n      criticalRate: 0.25,\n      icon: '💥'\n    },\n    {\n      id: 'defend',\n      name: '방어 태세',\n      description: '다음 턴까지 방어력 50% 증가',\n      type: 'defense',\n      mpCost: 0,\n      cooldown: 1,\n      defenseBoost: 0.5,\n      duration: 1,\n      icon: '🛡️'\n    },\n    {\n      id: 'heal',\n      name: '응급 치료',\n      description: 'HP를 30% 회복합니다',\n      type: 'heal',\n      mpCost: 20,\n      cooldown: 3,\n      healAmount: 0.3,\n      icon: '💚'\n    },\n    {\n      id: 'fire-ball',\n      name: '화염구',\n      description: '화염 마법으로 적을 공격하고 화상을 입힙니다',\n      type: 'attack',\n      mpCost: 25,\n      cooldown: 2,\n      damageMultiplier: 1.8,\n      hitRate: 0.85,\n      statusEffect: {\n        type: 'burn',\n        duration: 3,\n        value: 5,\n        name: '화상',\n        icon: '🔥'\n      },\n      icon: '🔥'\n    },\n    {\n      id: 'strengthen',\n      name: '힘의 증강',\n      description: '3턴 동안 공격력 40% 증가',\n      type: 'buff',\n      mpCost: 15,\n      cooldown: 4,\n      duration: 3,\n      statusEffect: {\n        type: 'strengthen',\n        duration: 3,\n        value: 0.4,\n        name: '힘의 증강',\n        icon: '💪'\n      },\n      icon: '💪'\n    },\n    {\n      id: 'weaken',\n      name: '약화',\n      description: '적의 공격력을 30% 감소시킵니다',\n      type: 'debuff',\n      mpCost: 10,\n      cooldown: 3,\n      duration: 2,\n      statusEffect: {\n        type: 'weaken',\n        duration: 2,\n        value: 0.3,\n        name: '약화',\n        icon: '🔻'\n      },\n      icon: '🔻'\n    }\n  ];\n  \n  // ===== Battle State - Delegated to BattleStateService =====\n  get inBattle(): boolean { return this.battleState.inBattle(); }\n  get battleEnded(): boolean { return this.battleState.battleEnded(); }\n  get battleVictory(): boolean { return this.battleState.battleVictory(); }\n  get battleTurn(): 'player' | 'enemy' { return this.battleState.battleTurn(); }\n  get battleLog(): string[] { return this.battleState.battleLog(); }\n  get battleEnemy() { return this.battleState.battleEnemy(); }\n  \n  // Temporary: 기존 타입 호환성을 위한 battleEnemy 초기값 (마이그레이션 완료 후 제거 예정)\n  private readonly _tempBattleEnemy: {\n    name: string;\n    hp: number;\n    maxHp: number;\n    mp: number;\n    maxMp: number;\n    internalPower: number;\n    maxInternalPower: number;\n    attack: number;\n    defense: number;\n  } = {\n    name: '고블린',\n    hp: 50,\n    maxHp: 50,\n    mp: 30,\n    maxMp: 30,\n    internalPower: 20,\n    maxInternalPower: 20,\n    attack: 8,\n    defense: 3\n  };\n  playerDefenseBonus = 0; // 방어 보너스\n  \n  // 데미지 애니메이션 상태\n  playerTakingDamage = false;\n  enemyTakingDamage = false;\n  \n  shopItems: ShopItem[] = [\n    {\n      id: 'sword_basic',\n      name: '기본 검',\n      description: '평범한 철검입니다. 공격력 +5',\n      price: 50,\n      type: 'weapon',\n      rarity: 'common',\n      stock: 5,\n      stats: { attack: 5 }\n    },\n    {\n      id: 'potion_hp',\n      name: '체력 물약',\n      description: 'HP를 50 회복합니다.',\n      price: 20,\n      type: 'consumable',\n      rarity: 'common',\n      stock: 10\n    },\n    {\n      id: 'potion_mp',\n      name: '마나 물약',\n      description: 'MP를 30 회복합니다.',\n      price: 25,\n      type: 'consumable',\n      rarity: 'common',\n      stock: 8\n    },\n    {\n      id: 'armor_leather',\n      name: '가죽 갑옷',\n      description: '튼튼한 가죽 갑옷. 방어력 +3',\n      price: 80,\n      type: 'armor',\n      rarity: 'common',\n      stock: 3,\n      stats: { defense: 3 }\n    },\n    {\n      id: 'sword_silver',\n      name: '은빛 검',\n      description: '은으로 제작된 고급 검. 공격력 +12',\n      price: 200,\n      type: 'weapon',\n      rarity: 'uncommon',\n      stock: 2,\n      stats: { attack: 12 }\n    },\n    {\n      id: 'armor_chain',\n      name: '사슬 갑옷',\n      description: '견고한 사슬 갑옷. 방어력 +8',\n      price: 250,\n      type: 'armor',\n      rarity: 'uncommon',\n      stock: 2,\n      stats: { defense: 8 }\n    }\n  ];\n  \n  // 소설 템플릿 목록 (AI로 생성된 스토리가 추가됨)\n  novelTemplates: NovelTemplate[] = [];\n  \n  inventoryManager!: InventoryManager;\n  public battleManager!: BattleManager;  // HTML에서 직접 접근 가능\n  wuxiaManager!: WuxiaManager;\n  public dungeonManager!: DungeonManager;  // HTML에서 직접 접근 가능\n  storyElementGenerator!: StoryElementGeneratorHelper;\n  \n  // 스토리 요소 자동 생성 상태\n  isGeneratingElements = false;\n  elementGenerationProgress = '';\n  \n  constructor(\n    private cdr: ChangeDetectorRef, \n    private dialog: MatDialog,\n    private snackBar: MatSnackBar,\n    private router: Router,\n    private route: ActivatedRoute,\n    private geminiAiService: GeminiAiService,\n    private scenarioDbService: ScenarioDbService,\n    private itemDbService: ItemDbService,\n    private characterDbService: CharacterDbService,\n    private novelAuthService: NovelAuthService,\n    private storyDbService: StoryDbService,\n    private notification: NotificationService,\n    private gameStorage: GameStorageService,\n    private dungeonGenerator: DungeonGeneratorService,\n    private dungeonService: DungeonService,\n    private battleService: BattleService,\n    private battleLogService: BattleLogService,\n    private inventoryService: InventoryService,\n    private equipmentService: EquipmentService,\n    private shopService: ShopService,\n    private wuxiaDataService: WuxiaDataService,\n    private itemGeneratorService: ItemGeneratorService,\n    private storyElementGeneratorHelper: StoryElementGeneratorHelper,\n    public responsiveService: ResponsiveService) {\n    this.inventoryManager = new InventoryManager(this);\n    this.battleManager = new BattleManager(\n      this.notification,\n      this.battleService,\n      this.battleLogService\n    );\n    this.wuxiaManager = new WuxiaManager(\n      this.notification,\n      this.wuxiaDataService\n    );\n    this.dungeonManager = new DungeonManager();\n    this.dungeonManager.initialize({\n      addStoryBlock: (story: string[]) => this.addStoryBlock(story),\n      gainExp: (exp: number) => this.gainExp(exp),\n      saveGame: (saveKey: string) => this.saveGame(saveKey),\n      notification: this.notification,\n      debugLogger: this.debugLogger,\n      getPlayerCharacter: () => this.playerCharacter,\n      getDungeonService: () => this.dungeonService,\n      getDungeonGenerator: () => this.dungeonGenerator\n    });\n    \n    this.itemGenerationHelper = new ItemGenerationHelper(\n      this.geminiAiService,\n      this.itemDbService,\n      this.notification,\n      this.dialog\n    );\n    this.storyFlowHelper = new StoryFlowHelper(this.notification);\n    this.contentManagementHelper = new ContentManagementHelper(\n      this.notification,\n      this.dialog,\n      this.scenarioDbService,\n      this.characterDbService,\n      this.storyDbService\n    );\n    this.storyElementGenerator = this.storyElementGeneratorHelper;\n    \n    // GameStateHelper에서 사용할 수 있도록 gameStateService 별칭 추가\n    (this as any).gameStateService = this.gameStorage;\n    \n    this.initializePlayer();\n    this.loadSavedScenarios(); // 저장된 시나리오 목록 로드\n    this.loadSavedItems(); // 저장된 아이템 목록 로드\n    this.loadSavedCharacters(); // 저장된 캐릭터 목록 로드\n    this.loadSavedStories(); // 저장된 스토리 목록 로드\n  }\n  \n  ngOnInit(): void {\n    // 📱 모바일 감지 및 초기 설정\n    this.responsiveService.isMobile$.subscribe(isMobile => {\n      if (isMobile) {\n        // 모바일에서는 패널 기본적으로 닫기\n        this.isLeftPanelCollapsed = true;\n        this.isRightPanelCollapsed = true;\n      }\n    });\n\n    // WuxiaManager로 무협 시스템 초기화 위임\n    this.wuxiaManager.setPlayerCharacter(this.playerCharacter);\n    this.wuxiaManager.setInventory(this.inventory);\n    this.wuxiaManager.initializeWuxiaSystem();\n    \n    // 무협 데이터 동기화\n    this.learnedMartialSkills = this.wuxiaManager.learnedMartialSkills;\n    this.playerInternalPower = this.wuxiaManager.playerInternalPower;\n    this.availableFactions = this.wuxiaManager.availableFactions;\n    this.martialArtsSkills = this.wuxiaManager.martialArtsSkills;\n    this.elixirs = this.wuxiaManager.elixirs;\n    this.martialManuals = this.wuxiaManager.martialManuals;\n    \n    // 던전 시스템 초기화\n    this.initializeDungeonSystem();\n    \n    // 디아블로 아이템 데이터 로드\n    this.loadDiabloItems();\n    \n    // 저장된 인벤토리 불러오기\n    this.loadSavedInventory();\n    \n    // localStorage에서 IndexedDB로 마이그레이션\n    this.migrateLocalStorageToIndexedDB();\n    \n    // 노드 시나리오 연결 정보 로드\n    this.loadNodeScenarioLinks();\n    \n    this.generateStoryFlow();\n    \n    // URL 파라미터에서 gameId 확인\n    this.route.paramMap.subscribe(async params => {\n      const gameId = params.get('gameId');\n      if (gameId) {\n        this.currentGameId = gameId;\n        \n        // sessionStorage에서 새 게임 정보 확인\n        const newGameData = sessionStorage.getItem('newGame_' + gameId);\n        \n        if (newGameData) {\n          const data = JSON.parse(newGameData);\n          \n          // sessionStorage 정리\n          sessionStorage.removeItem('newGame_' + gameId);\n          \n          this.initializeNewGame(gameId, data.novel);\n          \n          // 새 게임이니 바로 스토리 시작 화면으로\n          setTimeout(() => {\n            this.startStory();\n          }, 100);\n        } else {\n          // 저장된 게임 로드 (새로고침 또는 직접 URL 접근)\n          try {\n            await this.loadGameById(gameId);\n            \n            // 게임 로드 실패 시 메인 화면으로\n            if (!this.gameStarted || !this.selectedNovel) {\n              this.debugLogger.warn('게임로드', '게임 데이터를 찾을 수 없습니다. 메인으로 이동합니다.');\n              this.router.navigate(['/novel']);\n            }\n          } catch (error) {\n            this.debugLogger.error('게임로드', `게임 로드 실패: ${error}`);\n            this.notification.error('게임을 불러올 수 없습니다.');\n            this.router.navigate(['/novel']);\n          }\n        }\n      } else {\n        this.currentGameId = null;\n      }\n    });\n  }\n  \n  /**\n   * localStorage에서 IndexedDB로 마이그레이션\n   */\n  private async migrateLocalStorageToIndexedDB(): Promise<void> {\n    try {\n      const migrated = await this.gameStorage.migrateFromLocalStorage();\n      if (migrated > 0) {\n      }\n    } catch (error) { }\n  }\n  \n  /**\n   * 디아블로 4 실제 아이템 데이터 로드\n   */\n  private loadDiabloItems(): void {\n    \n    // 인벤토리가 비어있으면 샘플 아이템 추가\n    if (this.inventory.length === 0) {\n      // 디아블로 아이템을 InventoryItem으로 변환\n      const convertedItems: InventoryItem[] = DIABLO_ITEMS.slice(0, 10).map(diabloItem => {\n        return DiabloItemHelper.convertDiabloItemToInventoryItem(diabloItem);\n      });\n      \n      this.inventory.push(...convertedItems);\n    } else {\n      // 기존 아이템들에 아이콘 업데이트\n      this.inventory.forEach((item, index) => {\n        // 아이템 ID로 원본 디아블로 아이템 찾기\n        const diabloId = item.id.replace('diablo_', '');\n        const diabloItem = DIABLO_ITEMS.find(d => d.id === parseInt(diabloId));\n        \n        if (diabloItem && !item.icon) {\n          const icon = DiabloItemHelper.getInventoryItemIcon(item);\n          item.icon = icon;\n        }\n      });\n    }\n  }\n  \n  ngAfterViewChecked(): void {\n    if (this.shouldScrollBattleLog && this.battleLogContainer) {\n      this.scrollToBattleLog();\n      this.shouldScrollBattleLog = false;\n    }\n  }\n  \n  /**\n   * 로그아웃\n   */\n  async logout(): Promise<void> {\n    const confirmed = await this.showConfirmDialog('로그아웃하시겠습니까?');\n    if (confirmed) {\n      this.novelAuthService.logout();\n      this.router.navigate(['/novel/login']);\n    }\n  }\n  \n  /**\n   * 현재 로그인한 사용자 이름 가져오기\n   */\n  getCurrentUsername(): string | null {\n    return this.novelAuthService.getCurrentUsername();\n  }\n  /**\n   * 확인 다이얼로그 표시\n   */\n  private showConfirmDialog(message: string): Promise<boolean> {\n    return new Promise((resolve) => {\n      const dialogRef = this.dialog.open(ConfirmDialogComponent, {\n        width: '450px',\n        maxWidth: '90vw',\n        data: { message },\n        panelClass: 'custom-confirm-dialog',\n        autoFocus: false,\n        restoreFocus: false\n      });\n\n      dialogRef.afterClosed().subscribe(result => {\n        resolve(result === true);\n      });\n    });\n  }\n  \n  private initializePlayer(): void {\n    const defaultPlayer: PlayerCharacter = {\n      name: '모험가',\n      level: 1,\n      exp: 0,\n      maxExp: 100,\n      hp: 100,\n      maxHp: 100,\n      mp: 50,\n      maxMp: 50,\n      attack: 35, // 10 → 35로 증가 (3.5배 강화!)\n      defense: 5,\n      agility: 8,\n      strength: 25, // 10 → 25로 증가\n      intelligence: 15, // 7 → 15로 증가\n      gold: 10000, // 초기 골드 (넉넉하게)\n      gem: 500, // 초기 보석 (프리미엄 화폐)\n      crystal: 200, // 초기 크리스탈 (강화 재료)\n      ticket: 50, // 초기 티켓 (특수 컨텐츠 입장권)\n      skillPoints: 0,\n      skills: [\n        {\n          id: 'basic_attack',\n          name: '기본 공격',\n          description: '기본적인 공격 기술',\n          level: 1,\n          maxLevel: 5,\n          type: 'combat'\n        }\n      ],\n      inventory: [],\n      equipment: {\n        weapon: undefined,\n        armor: undefined,\n        helmet: undefined,\n        gloves: undefined,\n        boots: undefined,\n        belt: undefined,\n        amulet: undefined,\n        ring1: undefined,\n        ring2: undefined\n      }\n    };\n    \n    // PlayerStateService로 로드\n    this.playerState.loadPlayer(defaultPlayer);\n    \n    this.inventory = [\n      {\n        id: 'wooden_sword',\n        name: '나무 검',\n        description: '초보자용 나무 검',\n        type: 'weapon',\n        quantity: 1,\n        buyPrice: 10,\n        sellPrice: 5,\n        rarity: 'common',\n        stats: { attack: 2 },\n        isEquipped: true\n      }\n    ];\n  }\n  // ==================== 스토리 관련 헬퍼 메서드 ====================\n  \n  private addStoryBlock(lines: string[]): void {\n    this.storyBlocks.push({\n      type: 'story',\n      lines: lines\n    });\n  }\n  \n  private scrollToBottom(): void {\n    setTimeout(() => {\n      const container = document.querySelector('.novel-content');\n      if (container) {\n        container.scrollTop = container.scrollHeight;\n      }\n    }, 100);\n  }\n  \n  private scrollToBattleLog(): void {\n    setTimeout(() => {\n      const battleLog = document.querySelector('.battle-log-container');\n      if (battleLog) {\n        battleLog.scrollTop = battleLog.scrollHeight;\n      }\n    }, 100);\n  }\n  \n  async loadSavedScenarios(): Promise<void> {\n    this.savedScenarios = await this.contentManagementHelper.loadSavedScenarios();\n  }\n  \n  async loadSavedCharacters(): Promise<void> {\n    this.savedCharacters = await this.contentManagementHelper.loadSavedCharacters();\n  }\n  \n  async loadSavedStories(): Promise<void> {\n    this.savedStories = await this.contentManagementHelper.loadSavedStories();\n  }\n  \n  private loadNodeScenarioLinks(): void {\n    const linksJson = localStorage.getItem('nodeScenarioLinks');\n    if (linksJson) {\n      try {\n        const linksObj = JSON.parse(linksJson);\n        this.nodeScenarioLinks = new Map(Object.entries(linksObj));\n      } catch (error) { }\n    }\n  }\n  \n  private generateStoryFlow(): void {\n    // Story flow generation logic\n  }\n  \n  private initializeNewGame(gameId: string, novel: NovelTemplate): void {\n    this.debugLogger.info('게임초기화', `🎮 새 게임 시작: ${novel.title} | ID: ${gameId}`);\n    \n    this.currentGameId = gameId;\n    this.selectedNovel = novel;\n    this.novelSelected = true;\n    this.gold = novel.startingGold;\n    this.inventory = this.createStartingInventory();\n    this.storyBlocks = [];\n    this.choices = [];\n    this.currentPath = [];\n    this.gameStarted = false;\n    this.initializePlayer();\n    this.playerCharacter.inventory = [...this.inventory];\n  }\n  \n  async startStory(): Promise<void> {\n    if (!this.selectedNovel) {\n      this.debugLogger.error('스토리시작', '❌ 소설이 선택되지 않았습니다');\n      return;\n    }\n    \n    this.debugLogger.info('스토리시작', `📖 소설 읽기 시작: ${this.selectedNovel.title}`);\n    this.gameStarted = true;\n    this.addStoryBlock(this.selectedNovel.firstStory);\n    this.setChoices(this.selectedNovel.firstChoices);\n    this.scrollToBottom();\n    \n    // 스토리 시작 시 자동 저장\n    await this.saveGame('autosave');\n  }\n  \n  async loadGameById(gameId: string): Promise<void> {\n    try {\n      this.debugLogger.info('게임로드', `🔍 게임 ID로 로드 시도: ${gameId}`);\n      \n      const allGames = await this.gameStorage.getAllGames();\n      this.debugLogger.info('게임로드', `📋 저장된 게임 목록: ${allGames.length}개`);\n      \n      const gameState = await this.gameStorage.loadGame(gameId);\n      if (gameState) {\n        this.currentGameId = gameState.id;\n        this.selectedNovel = gameState.novelTemplate;\n        this.storyBlocks = gameState.storyBlocks;\n        this.currentPath = gameState.currentPath;\n        this.gameStarted = gameState.gameStarted;\n        \n        // PlayerStateService로 플레이어 데이터 로드\n        this.playerState.loadPlayer(gameState.playerCharacter);\n        \n        // 인벤토리 동기화\n        const inventory = gameState.playerCharacter?.inventory || gameState.inventory || [];\n        this.inventoryState.setInventory(inventory);\n        \n        // choices는 NovelStateService로 위임 (TODO)\n        this.choices = gameState.choices;\n        \n        this.novelSelected = true;\n        \n        this.debugLogger.info('게임로드', `✅ 게임 로드 완료: ${gameState.id}`);\n      } else {\n        this.debugLogger.warn('게임로드', `❌ 게임 데이터 없음: ${gameId}`);\n        throw new Error('게임 데이터를 찾을 수 없습니다.');\n      }\n    } catch (error) {\n      this.debugLogger.error('게임로드', `❌ 게임 로드 실패: ${error}`);\n      throw error;\n    }\n  }\n  \n  private gainExp(amount: number): void {\n    const leveledUp = this.playerState.gainExp(amount);\n    if (leveledUp) {\n      this.notification.show(`🎉 레벨 업! 레벨 ${this.playerState.level()}`);\n    }\n  }\n  \n  private setChoices(choices: string[]): void {\n    this.choices = choices;\n    if (this.scrollToBottom) {\n      this.scrollToBottom();\n    }\n  }\n  \n  async saveGame(saveType: string = 'manual'): Promise<void> {\n    try {\n      // PlayerStateService에서 현재 플레이어 데이터 가져오기\n      const currentPlayer = this.playerState.character();\n      \n      // 인벤토리 동기화\n      const currentInventory = this.inventoryState.inventory();\n      const playerWithInventory = {\n        ...currentPlayer,\n        inventory: currentInventory\n      };\n      \n      const gameState: any = {\n        id: this.currentGameId || '',\n        novelId: this.selectedNovel?.id || '',\n        novelTitle: this.selectedNovel?.title || '',\n        novelTemplate: this.selectedNovel,\n        playerCharacter: playerWithInventory,\n        storyBlocks: this.storyBlocks,\n        currentPath: this.currentPath,\n        choices: this.choices,\n        gameStarted: this.gameStarted,\n        gold: currentPlayer.gold,\n        inventory: currentInventory,\n        completedQuests: [],\n        currentChapter: 1,\n        saveDate: new Date(),\n        organization: this.playerOrganization\n      };\n      \n      await this.gameStorage.saveGame(gameState);\n      \n      this.debugLogger.info('게임저장', `✅ 게임 저장 완료: ${this.currentGameId}`);\n      if (saveType !== 'autosave') {\n        this.notification.show('✅ 게임이 저장되었습니다');\n      }\n    } catch (error) {\n      this.debugLogger.error('게임저장', `❌ 게임 저장 실패: ${error}`);\n    }\n  }\n  \n  private addToInventory(itemId: string, quantity: number): void {\n    this.inventoryManager.addToInventory(itemId, quantity);\n  }\n  \n  private useItem(item: InventoryItem): void {\n    this.inventoryManager.useItem(item);\n  }\n  \n  backToNovelSelection(): void {\n    this.novelSelected = false;\n    this.selectedNovel = null;\n    this.currentGameId = null;\n    // 소설 선택 화면으로 돌아가기\n    this.router.navigate(['/novel']);\n  }\n  // ==================== 스토리 요소 자동 생성 ====================\n  \n  /**\n   * 스토리 요소 자동 생성\n   * - 시나리오, 캐릭터, 아이템 등 필요한 요소를 Gemini API로 한번에 생성\n   * - 소설이 없어도 범용 콘텐츠 생성 가능\n   */\n  async autoGenerateStoryElements(): Promise<void> {\n    if (this.isGeneratingElements) {\n      this.notification.warning('이미 생성 중입니다');\n      return;\n    }\n\n    try {\n      this.isGeneratingElements = true;\n      this.elementGenerationProgress = '📊 스토리 요소 현황 확인 중...';\n      this.cdr.detectChanges();\n      \n      // 소설 템플릿 (선택된 소설 또는 기본 템플릿)\n      const novelTemplate = this.selectedNovel || this.getDefaultNovelTemplate();\n      \n      // 현황 리포트 먼저 표시\n      const report = await this.storyElementGenerator.getGenerationReport(novelTemplate);\n      \n      // 필요한 항목 확인\n      if (!report.needsGeneration) {\n        this.notification.show('✅ 모든 스토리 요소가 충분합니다!');\n        return;\n      }\n      \n      // 진행 상태: 각 단계별 표시\n      const needsScenarios = report.scenarios.missing > 0;\n      const needsCharacters = report.characters.missing > 0;\n      const needsItems = report.items.missing > 0;\n      \n      const totalSteps = (needsScenarios ? 1 : 0) + (needsCharacters ? 1 : 0) + (needsItems ? 1 : 0);\n      let currentStep = 0;\n      \n      if (needsScenarios) {\n        currentStep++;\n        this.elementGenerationProgress = `📜 시나리오 생성 중... (${currentStep}/${totalSteps} - ${report.scenarios.missing}개 필요)`;\n        this.cdr.detectChanges();\n      }\n      \n      if (needsCharacters) {\n        currentStep++;\n        this.elementGenerationProgress = `👥 캐릭터 생성 중... (${currentStep}/${totalSteps} - ${report.characters.missing}개 필요)`;\n        this.cdr.detectChanges();\n      }\n      \n      if (needsItems) {\n        currentStep++;\n        this.elementGenerationProgress = `⚔️ 아이템 생성 중... (${currentStep}/${totalSteps} - ${report.items.missing}개 필요)`;\n        this.cdr.detectChanges();\n      }\n      \n      // 자동 생성 실행\n      const result = await this.storyElementGenerator.ensureStoryElements(novelTemplate);\n      \n      if (result.success) {\n        const { scenarios, characters, items } = result.generated;\n        const totalGenerated = scenarios + characters + items;\n        \n        if (totalGenerated > 0) {\n          this.elementGenerationProgress = '💾 데이터 로딩 중...';\n          this.cdr.detectChanges();\n          \n          // 생성된 데이터 다시 로드\n          await this.loadSavedScenarios();\n          await this.loadSavedCharacters();\n          await this.loadSavedItems();\n          \n          this.notification.success(\n            `✅ 생성 완료! 📜 시나리오: ${scenarios}개, 👥 캐릭터: ${characters}개, ⚔️ 아이템: ${items}개`\n          );\n        } else {\n          this.notification.show('모든 스토리 요소가 충분합니다');\n        }\n      } else {\n        const errorMsg = result.errors.join(', ');\n        this.notification.error(`생성 실패: ${errorMsg}`);\n      }\n      \n    } catch (error) {\n      this.notification.error('스토리 요소 생성 중 오류가 발생했습니다');\n    } finally {\n      this.isGeneratingElements = false;\n      this.elementGenerationProgress = '';\n      this.cdr.detectChanges();\n    }\n  }\n\n  /**\n   * 기본 소설 템플릿 (소설 미선택 시 사용)\n   */\n  private getDefaultNovelTemplate(): NovelTemplate {\n    return {\n      id: 'default',\n      title: '범용 콘텐츠',\n      genre: '판타지',\n      description: '다양한 장르에 활용 가능한 범용 스토리 요소',\n      icon: '✨',\n      difficulty: 'normal' as const,\n      startingGold: 1000,\n      startingItems: [],\n      firstStory: [],\n      firstChoices: []\n    };\n  }\n\n  /**\n   * 스토리 요소 현황 확인\n   */\n  async checkStoryElementStatus(): Promise<void> {\n    try {\n      // 소설 템플릿 (선택된 소설 또는 기본 템플릿)\n      const novelTemplate = this.selectedNovel || this.getDefaultNovelTemplate();\n      const report = await this.storyElementGenerator.getGenerationReport(novelTemplate);\n      \n      // 다이얼로그로 표시 (report.text를 사용)\n      this.dialog.open(ConfirmDialogComponent, {\n        width: '500px',\n        data: {\n          title: '📊 스토리 요소 현황',\n          message: report.text,\n          confirmText: '확인',\n          showCancel: false\n        }\n      });\n    } catch (error) {\n      this.notification.error('현황 확인 중 오류가 발생했습니다');\n    }\n  }\n  \n  // ==================== UI 토글 메서드 (Delegated to StateServices) ====================\n  \n  toggleStoryCreatorPanel(): void { this.novelState.toggleStoryCreatorPanel(); }\n  \n  toggleFlowPanel(): void { this.novelState.toggleFlowPanel(); }\n  \n  toggleAdvancedFlowPanel(): void { this.showAdvancedFlowPanel = !this.showAdvancedFlowPanel; }\n  \n  openScenarioCreator(): void { this.novelState.openScenarioCreator(); }\n  \n  closeFlowScenarioLinkPanel(): void { this.showFlowScenarioLinkPanel = false; this.showScenarioLinkPanel = false; }\n  \n  getRarityText(rarity: string): string { return this.itemState.getRarityText(rarity); }\n  \n  getItemTypeText(type: string): string { return this.itemState.getItemTypeText(type); }\n  \n  getEquipmentSlotName(type: string): string | null {\n    return this.itemState.getEquipmentSlotName(type);\n  }\n  \n  // ==================== 스토리 노드 관련 메서드 ====================\n  getCurrentNode(): StoryNode | null { return this.storyFlowHelper.getCurrentNode(this.storyNodes, this.currentStoryNodeId); }\n  getNodeById(nodeId: string): StoryNode | null { return this.storyFlowHelper.getNodeById(this.storyNodes, nodeId); }\n  getNodeIcon(node: StoryNode): string { return this.storyFlowHelper.getNodeIcon(node); }\n  calculateExplorationRate(): number { return this.storyFlowHelper.calculateExplorationRate(this.storyNodes); }\n  \n  async loadSampleStoryMap(): Promise<void> {\n    this.storyFlowHelper.loadSampleStoryMap(\n      (nodes, connections, startNodeId) => {\n        this.storyNodes = nodes;\n        this.storyConnections = connections;\n        this.currentStoryNodeId = startNodeId;\n        this.storyProgress.currentNodeId = startNodeId;\n        this.storyProgress.visitedNodes = [startNodeId];\n        this.storyProgress.pathHistory = [];\n        this.storyProgress.totalChoices = 0;\n        this.storyProgress.battlesWon = 0;\n        this.storyProgress.battlesLost = 0;\n      },\n      (content) => {\n        this.addStoryBlock(content);\n      }\n    );\n  }\n  \n  getLinkedScenarioId(nodeId: string, choiceId?: string): string | undefined {\n    if (choiceId) {\n      const linkKey = `${nodeId}:${choiceId}`;\n      return this.nodeScenarioLinks.get(linkKey);\n    }\n    // choiceId가 없으면 localStorage에서 가져오기\n    if (this.selectedNovel?.id) {\n      const linkKey = `flow_node_link_${this.selectedNovel.id}_${nodeId}`;\n      return localStorage.getItem(linkKey) || undefined;\n    }\n    return undefined;\n  }\n  \n  linkScenarioToFlowNode(scenarioId: string): void {\n    // 현재 연결 중인 노드가 있는 경우\n    if (this.currentLinkingNodeId) {\n      if (this.currentLinkingChoiceId) {\n        const linkKey = `${this.currentLinkingNodeId}:${this.currentLinkingChoiceId}`;\n        this.nodeScenarioLinks.set(linkKey, scenarioId);\n      }\n      // 플로우 노드 연결 (localStorage)\n      if (this.selectedNovel?.id) {\n        const linkKey = `flow_node_link_${this.selectedNovel.id}_${this.currentLinkingNodeId}`;\n        localStorage.setItem(linkKey, scenarioId);\n      }\n      this.closeFlowScenarioLinkPanel();\n    }\n  }\n  \n  // ==================== 시나리오 관련 메서드 ====================\n  \n  async saveGeneratedScenario(): Promise<void> {\n    await this.contentManagementHelper.saveGeneratedScenario(\n      this.generatedScenario,\n      async () => {\n        await this.loadSavedScenarios();\n      }\n    );\n  }\n  \n  // 저장된 시나리오 삭제\n  async deleteScenario(scenarioId: string): Promise<void> {\n    await this.contentManagementHelper.deleteScenario(\n      scenarioId,\n      async () => {\n        await this.loadSavedScenarios();\n      }\n    );\n  }\n  \n  // 저장된 시나리오 불러오기\n  async loadScenario(scenario: GeneratedScenario): Promise<void> {\n    this.generatedScenario = scenario;\n    this.novelState.openScenarioCreator();\n  }\n  \n  // 시나리오로 게임 시작\n  startGameWithScenario(): void {\n    if (!this.generatedScenario) return;\n    \n    const storyBlocks = this.contentManagementHelper.generateStoryBlocksFromScenario(this.generatedScenario);\n    this.addStoryBlock(storyBlocks);\n    \n    this.novelState.closeScenarioCreator();\n    this.scrollToBottom();\n  }\n  \n  // ==================== 전투 시스템 ====================\n  \n  // 선택지에서 전투 시작 (Battle Manager로 위임)\n  startBattleFromChoice(): void {\n    this.battleManager.setPlayerCharacter(this.playerCharacter);\n    this.battleManager.learnedMartialSkills = this.learnedMartialSkills;\n    this.battleManager.playerInternalPower = this.playerInternalPower;\n    \n    this.battleManager.startBattleFromChoice(\n      (blocks) => this.addStoryBlock(blocks),\n      () => this.scrollToBottom()\n    );\n    \n    // TODO: BattleManager를 Signal 기반으로 리팩토링 후 제거\n    // this.syncBattleState();\n  }\n  \n  // Battle Manager로 위임\n  generateRandomEnemy(): void {\n    this.battleManager.generateRandomEnemy();\n    // TODO: BattleManager를 Signal 기반으로 리팩토링 후 제거\n    // this.syncBattleState();\n  }\n  \n  // Battle Manager로 위임\n  initializeBattle(): void {\n    this.battleManager.setPlayerCharacter(this.playerCharacter);\n    this.battleManager.learnedMartialSkills = this.learnedMartialSkills;\n    this.battleManager.playerInternalPower = this.playerInternalPower;\n    this.battleManager.initializeBattle();\n    // martialBattleState는 battleManager에서 직접 관리 (중복 제거)\n  }\n  \n  // ===== 전투 관련 메서드는 HTML에서 battleManager로 직접 호출 =====\n  \n  // Battle Manager로 위임\n  winBattle(): void { this.battleManager.winBattle(); }\n  \n  // Battle Manager로 위임\n  loseBattle(): void { this.battleManager.loseBattle(); }\n  \n  // Battle Manager로 위임\n  endBattle(): void { this.battleManager.endBattle(); }\n  \n  // 데미지 애니메이션 트리거 메서드\n  triggerPlayerDamage(): void {\n    this.playerTakingDamage = true;\n    setTimeout(() => {\n      this.playerTakingDamage = false;\n    }, 500);\n  }\n  \n  triggerEnemyDamage(): void {\n    this.enemyTakingDamage = true;\n    setTimeout(() => {\n      this.enemyTakingDamage = false;\n    }, 500);\n  }\n  // ==================== 향상된 전투 시스템 메서드 ====================\n  \n  initializeBattleSkills(): void {\n    this.battleSkills = [...this.defaultBattleSkills];\n    // 플레이어 레벨에 따라 추가 스킬 잠금 해제\n    if (this.playerCharacter.level >= 5) {\n      this.battleSkills.push({\n        id: 'lightning-strike',\n        name: '번개 일격',\n        description: '번개로 적을 공격하고 스턴시킵니다',\n        type: 'attack',\n        mpCost: 30,\n        cooldown: 3,\n        damageMultiplier: 2.2,\n        hitRate: 0.9,\n        statusEffect: {\n          type: 'stun',\n          duration: 1,\n          value: 1,\n          name: '스턴',\n          icon: '⚡'\n        },\n        icon: '⚡'\n      });\n    }\n  }\n  \n  initializeBattleItems(): void {\n    this.battleItems = this.inventory\n      .filter(item => item.type === 'consumable')\n      .map(item => ({\n        id: item.id,\n        name: item.name,\n        description: item.description,\n        type: this.getBattleItemType(item.id),\n        effect: this.getBattleItemEffect(item.id),\n        quantity: item.quantity,\n        usableInBattle: true,\n        icon: this.getItemIcon(item.id)\n      }));\n  }\n  \n  /**\n   * 아이템 타입 결정\n   */\n  private getBattleItemType(itemId: string): 'potion' | 'buff' | 'throwable' | 'scroll' {\n    if (itemId.includes('potion') || itemId.includes('elixir')) return 'potion';\n    if (itemId.includes('scroll')) return 'scroll';\n    if (itemId.includes('bomb') || itemId.includes('grenade')) return 'throwable';\n    return 'buff';\n  }\n  \n  /**\n   * 아이템 효과 결정\n   */\n  private getBattleItemEffect(itemId: string): any {\n    if (itemId.includes('health-potion')) {\n      return { heal: 50 };\n    }\n    if (itemId.includes('mana-potion')) {\n      return { mpRestore: 30 };\n    }\n    if (itemId.includes('bomb')) {\n      return { damage: 40 };\n    }\n    return { heal: 30 };\n  }\n  \n  /**\n   * 아이템 아이콘\n   */\n  private getItemIcon(itemId: string): string {\n    if (itemId.includes('health-potion')) return '❤️';\n    if (itemId.includes('mana-potion')) return '💙';\n    if (itemId.includes('bomb')) return '💣';\n    if (itemId.includes('scroll')) return '📜';\n    return '🎁';\n  }\n  \n  useBattleSkill(skillId: string): boolean { return this.battleManager.useBattleSkill(skillId); }\n  \n  /**\n   * 전투 아이템 사용 - BattleManager로 위임\n   */\n  useBattleItem(itemId: string): boolean { return this.battleManager.useBattleItem(itemId); }\n  \n  /**\n   * 상태 효과 적용\n   */\n  private applyStatusEffect(target: 'player' | 'enemy', effect: StatusEffect): void {\n    if (!this.currentBattleState) return;\n    \n    if (target === 'player') {\n      this.currentBattleState.playerStatusEffects = this.battleService.applyStatusEffect(\n        this.currentBattleState.playerStatusEffects,\n        effect\n      );\n    } else {\n      this.currentBattleState.enemyStatusEffects = this.battleService.applyStatusEffect(\n        this.currentBattleState.enemyStatusEffects,\n        effect\n      );\n    }\n  }\n  \n  /**\n   * 스킬 이펙트 트리거\n   */\n  private triggerSkillEffect(icon: string, type: 'hit' | 'critical' | 'miss' | 'heal' | 'buff' | 'debuff'): void {\n    // 이펙트 애니메이션 트리거 (UI에서 구현)\n  }\n  \n  /**\n   * 전투 로그 추가\n   */\n  private addBattleLog(actor: 'player' | 'enemy', action: string, details?: Partial<CombatLogEntry>): void {\n    if (!this.currentBattleState) return;\n    \n    const logEntry = this.battleLogService.createLogEntry(\n      this.currentBattleState.turn,\n      actor,\n      action,\n      details\n    );\n    \n    this.currentBattleState.combatLog.push(logEntry);\n    this.battleLog.push(this.battleLogService.formatBattleLog(logEntry));\n  }\n  \n  /**\n   * 전투 로그 포맷\n   */\n  private formatBattleLog(entry: CombatLogEntry): string {\n    return this.battleLogService.formatBattleLog(entry);\n  }\n  \n  updateSkillCooldowns(): void { this.battleSkills = this.battleService.decreaseAllCooldowns(this.battleSkills); }\n  // ============================================================\n  // WuxiaManager로 위임된 무협 시스템 메서드들\n  // ============================================================\n  \n  // WuxiaManager로 위임\n  joinFaction(factionId: string): void { this.wuxiaManager.joinFaction(factionId); this.syncWuxiaState(); }\n  \n  // WuxiaManager로 위임\n  learnMartialSkill(skillId: string): boolean {\n    const result = this.wuxiaManager.learnMartialSkill(skillId);\n    this.syncWuxiaState();\n    return result;\n  }\n  \n  // WuxiaManager로 위임\n  openMeridian(meridianId: string): boolean {\n    const result = this.wuxiaManager.openMeridian(meridianId);\n    this.syncWuxiaState();\n    return result;\n  }\n  \n  // WuxiaManager로 위임\n  cultivateInternalPower(hours: number): void {\n    this.wuxiaManager.cultivateInternalPower(\n      hours,\n      (exp) => this.gainExp(exp),\n      (saveType) => this.saveGame(saveType)\n    );\n    this.syncWuxiaState();\n  }\n  \n  // WuxiaManager로 위임\n  useElixir(elixirId: string): void { this.wuxiaManager.useElixir(elixirId); this.syncWuxiaState(); }\n  \n  // WuxiaManager로 위임\n  startMartialBattle(enemyName: string): void {\n    this.startBattle(); // 기본 전투 시작\n    this.wuxiaManager.startMartialBattle(enemyName, this.currentBattleState);\n    // martialBattleState는 wuxiaManager에서 직접 관리 (중복 제거)\n  }\n  \n  // WuxiaManager로 위임\n  useMartialSkill(skillId: string): { success: boolean; damage: number; message: string; specialEffect?: string } {\n    const result = this.wuxiaManager.useMartialSkill(skillId);\n    this.syncWuxiaState();\n    return result;\n  }\n  \n  private syncWuxiaState(): void {\n    this.learnedMartialSkills = this.wuxiaManager.learnedMartialSkills;\n    this.playerInternalPower = this.wuxiaManager.playerInternalPower;\n    this.playerFaction = this.wuxiaManager.playerFaction;\n    this.wulinRelationships = this.wuxiaManager.wulinRelationships;\n    // martialBattleState는 wuxiaManager에서 직접 관리 (중복 제거)\n    this.inventory = this.wuxiaManager.getInventory();\n    \n    // WuxiaManager의 플레이어 캐릭터 참조 업데이트\n    this.wuxiaManager.setPlayerCharacter(this.playerCharacter);\n    this.wuxiaManager.setInventory(this.inventory);\n  }\n  // ============================================================\n  // 무협 UI 헬퍼 메서드\n  // ============================================================\n  \n  toggleWuxiaPanel(): void { this.novelState.toggleWuxiaPanel(); }\n  \n  closeWuxiaPanel(): void { this.novelState.closeWuxiaPanel(); }\n  \n  getFactionName(factionId: string): string {\n    const faction = this.availableFactions.find(f => f.id === factionId);\n    return faction ? faction.name : '알 수 없음';\n  }\n  \n  /**\n   * 혈도 위치 계산 (원형 배치)\n   */\n  getMeridianPosition(index: number): { top: string; left: string } {\n    const total = 12;\n    const angle = (index / total) * 2 * Math.PI - Math.PI / 2; // -90도부터 시작\n    const radius = 40; // 반지름 (%)\n    const centerX = 50;\n    const centerY = 50;\n    \n    const x = centerX + radius * Math.cos(angle);\n    const y = centerY + radius * Math.sin(angle);\n    \n    return {\n      top: `${y}%`,\n      left: `${x}%`\n    };\n  }\n  \n  /**\n   * Object.keys 헬퍼 (템플릿에서 사용)\n   */\n  getObjectKeys(obj: Record<string, unknown>): string[] {\n    return Object.keys(obj || {});\n  }\n  // ==================== 전투 시스템 ====================\n  \n  startBattle(): void {\n    // BattleStateService에 callbacks 설정\n    this.battleState.setBattleCallbacks({\n      onBattleWin: (expGain: number, goldGain: number) => {\n        this.gainExp(expGain);\n        this.gold = this.battleManager.gold;\n        this.addStoryBlock([\n          '',\n          '─────────────',\n          '⚔️ 전투에서 승리했습니다!',\n          `💫 경험치 ${expGain} 획득!`,\n          `💰 골드 ${goldGain} 획득!`,\n          '─────────────',\n          ''\n        ]);\n        this.scrollToBattleLog();\n      },\n      onBattleLose: () => {\n        this.addStoryBlock([\n          '',\n          '─────────────',\n          '💀 전투에서 패배했습니다...',\n          '체력이 절반으로 줄었습니다.',\n          '마을로 돌아가 재정비가 필요합니다.',\n          '─────────────',\n          ''\n        ]);\n        this.scrollToBattleLog();\n      },\n      onBattleEnd: (victory: boolean) => {\n        if (victory) {\n          this.setChoices([\n            '🚶 여행을 계속한다',\n            '🛑 잠시 휴식을 취한다',\n            '🔍 전리품을 더 찾아본다'\n          ]);\n        } else {\n          this.addStoryBlock([\n            '',\n            '💀 전투에서 패배했습니다...',\n            '마을로 돌아가 재정비가 필요합니다.',\n            ''\n          ]);\n          this.setChoices([\n            '🏠 마을로 돌아간다',\n            '💊 회복 물약을 사용한다',\n            '⛺ 그 자리에서 야영한다'\n          ]);\n        }\n        this.scrollToBottom();\n      },\n      onLogUpdate: () => {\n        this.scrollToBattleLog();\n      },\n      onEnemyDamage: () => {\n        this.enemyTakingDamage = true;\n        setTimeout(() => { this.enemyTakingDamage = false; }, 500);\n      },\n      onPlayerDamage: () => {\n        this.playerTakingDamage = true;\n        setTimeout(() => { this.playerTakingDamage = false; }, 500);\n      }\n    });\n    \n    // BattleManager에 상태 설정\n    this.battleManager.setPlayerCharacter(this.playerCharacter);\n    this.battleManager.inventory = this.inventory;\n    this.battleManager.gold = this.gold;\n    \n    // 전투 시작 (inBattle, battleLog, battleEnemy는 자동으로 업데이트됨)\n    this.battleManager.startBattle();\n  }\n  // ==================== 아이템 생성 시스템 ====================\n  \n  // 저장된 아이템 목록 로드\n  async loadSavedItems(): Promise<void> {\n    try {\n      this.savedItems = await this.itemDbService.getAllItems();\n    } catch (error) {\n      this.savedItems = [];\n    }\n  }\n  \n  // 아이템 생성 패널 열기\n  openItemCreator(): void {\n    this.novelState.openItemCreator();\n    this.generatedItem = null;\n    this.itemGenerationError = '';\n    \n    if (!this.geminiAiService.hasApiKey()) {\n      this.itemGenerationError = 'Gemini API 키가 설정되지 않았습니다. 설정에서 API 키를 입력해주세요.';\n    }\n  }\n  \n  // AI 아이템 생성 - 10개 랜덤 생성\n  generateAiItem(itemType?: string, grade?: string): void {\n    this.itemGenerationHelper.generateAiItems(\n      itemType,\n      grade,\n      () => {\n        this.itemGenerationError = '';\n        this.generatedItems = [];\n        this.isGeneratingItem = true;\n      },\n      (item) => {\n        this.generatedItems.push(item);\n      },\n      (items, error) => {\n        this.isGeneratingItem = false;\n        if (error) {\n          this.itemGenerationError = error;\n        } else if (items.length > 0) {\n          this.notification.show(`${items.length}개의 아이템 생성 완료!`);\n        }\n      }\n    );\n  }\n  \n  // 생성된 아이템 저장\n  async saveGeneratedItem(): Promise<void> {\n    await this.itemGenerationHelper.saveGeneratedItem(\n      this.generatedItem,\n      async () => {\n        await this.loadSavedItems();\n        this.novelState.closeItemCreator();\n      },\n      () => {}\n    );\n  }\n  \n  // 인덱스로 생성된 아이템 저장\n  async saveGeneratedItemByIndex(index: number): Promise<void> {\n    await this.itemGenerationHelper.saveGeneratedItemByIndex(\n      this.generatedItems,\n      index,\n      async () => {\n        await this.loadSavedItems();\n      },\n      () => {}\n    );\n  }\n  \n  // 생성된 모든 아이템 저장\n  async saveAllGeneratedItems(): Promise<void> {\n    await this.itemGenerationHelper.saveAllGeneratedItems(\n      this.generatedItems,\n      async (successCount) => {\n        await this.loadSavedItems();\n        this.generatedItems = [];\n      }\n    );\n  }\n  /**\n   * 아이템 등급에 따른 가격 계산 (Helper 위임)\n   */\n  calculateItemPriceByGrade(grade: string): number {\n    return DiabloItemHelper.calculateItemPriceByGrade(grade);\n  }\n  \n  // 아이템을 인벤토리에 추가\n  addGeneratedItemToInventory(): void {\n    if (!this.generatedItem) return;\n    \n    const inventoryItem: InventoryItem = {\n      id: `ai_item_${Date.now()}`,\n      name: this.generatedItem.name || '아이템',\n      description: this.generatedItem.description || '',\n      type: this.mapItemType(this.generatedItem.type),\n      quantity: 1,\n      buyPrice: this.calculateItemPrice(this.generatedItem.grade),\n      sellPrice: Math.floor(this.calculateItemPrice(this.generatedItem.grade) * 0.6),\n      rarity: this.mapItemGrade(this.generatedItem.grade),\n      stats: this.generatedItem.stats || {}\n    };\n    \n    this.addToInventory(inventoryItem.id, 1);\n    this.addStoryBlock([\n      `💎 ${inventoryItem.name}을(를) 인벤토리에 추가했습니다!`,\n      `${inventoryItem.description}`\n    ]);\n    \n    this.novelState.closeItemCreator();\n    this.scrollToBottom();\n    \n  }\n  /**\n   * 상점에서 AI 생성 아이템 구매\n   */\n  async buyItemFromShop(item: GeneratedItem, event?: Event): Promise<void> {\n    if (event) {\n      event.stopPropagation();\n    }\n\n    const price = item.price || this.calculateItemPriceByGrade(item.grade);\n\n    if (this.gold < price) {\n      this.notification.show(`골드가 부족합니다! (필요: ${price}G, 보유: ${this.gold}G)`);\n      return;\n    }\n\n    const confirmed = await this.showConfirmDialog(\n      `${item.name}을(를) ${price} 골드에 구매하시겠습니까?\\n\\n` +\n      `등급: ${item.grade}\\n` +\n      `설명: ${item.description}\\n\\n` +\n      `현재 골드: ${this.gold}G → ${this.gold - price}G`\n    );\n\n    if (!confirmed) return;\n\n    try {\n      this.gold -= price;\n\n      const inventoryItem: InventoryItem = {\n        id: `shop_item_${item.id}_${Date.now()}`,\n        name: item.name,\n        description: item.description,\n        type: this.mapItemType(item.type),\n        quantity: 1,\n        buyPrice: price,\n        sellPrice: Math.floor(price * 0.6),\n        rarity: this.mapItemGrade(item.grade),\n        stats: item.stats || {}\n      };\n\n      // 인벤토리 배열에 직접 추가\n      if (!this.playerCharacter.inventory) {\n        this.playerCharacter.inventory = [];\n      }\n      \n      const existingItem = this.playerCharacter.inventory.find(i => i.name === inventoryItem.name && i.type === inventoryItem.type);\n      if (existingItem) {\n        existingItem.quantity = (existingItem.quantity || 0) + 1;\n      } else {\n        this.playerCharacter.inventory.push(inventoryItem);\n      }\n\n      // this.inventory도 동기화 (인벤토리 모달 표시용)\n      if (!this.inventory) {\n        this.inventory = [];\n      }\n      const existingInInventory = this.inventory.find(i => i.name === inventoryItem.name && i.type === inventoryItem.type);\n      if (existingInInventory) {\n        existingInInventory.quantity = (existingInInventory.quantity || 0) + 1;\n      } else {\n        this.inventory.push(inventoryItem);\n      }\n\n      // 스토리 로그에 추가\n      this.addStoryBlock([\n        `🛒 상점에서 ${item.name}을(를) ${price} 골드에 구매했습니다!`,\n        `💰 남은 골드: ${this.gold}G`\n      ]);\n\n      this.notification.show(`${item.name}을(를) 구매했습니다!`);\n\n      // 구매 후 자동 저장\n      await this.saveGame('autosave');\n\n      this.scrollToBottom();\n    } catch (error) {\n      this.notification.show('아이템 구매에 실패했습니다.');\n      // 실패 시 골드 복구\n      this.gold += price;\n    }\n  }\n  \n  // 저장된 아이템 삭제\n  async deleteItem(itemId: number, event?: Event): Promise<void> {\n    if (event) {\n      event.stopPropagation();\n    }\n    \n    const confirmed = await this.showConfirmDialog('이 아이템을 삭제하시겠습니까?');\n    if (!confirmed) {\n      return;\n    }\n    \n    try {\n      await this.itemDbService.deleteItem(itemId);\n      await this.loadSavedItems(); // 목록 새로고침\n    } catch (error) {\n      this.notification.show('아이템 삭제에 실패했습니다.');\n    }\n  }\n  \n  // 저장된 아이템 불러오기\n  async loadItem(item: GeneratedItem): Promise<void> {\n    this.generatedItem = item;\n    this.novelState.openItemCreator();\n  }\n  \n  // 아이템 타입 매핑 (Helper 위임)\n  private mapItemType(type: string): 'weapon' | 'armor' | 'consumable' | 'quest' | 'misc' {\n    return DiabloItemHelper.mapItemType(type);\n  }\n  \n  // 아이템 등급 매핑 (Helper 위임)\n  private mapItemGrade(grade: string): 'common' | 'uncommon' | 'rare' | 'epic' | 'legendary' {\n    return DiabloItemHelper.mapItemGrade(grade);\n  }\n  \n  /**\n   * 아이템 가격 계산 (Helper 위임)\n   */\n  private calculateItemPrice(gradeOrRarity: string, isBuyPrice: boolean = true): number {\n    return DiabloItemHelper.calculateItemPrice(gradeOrRarity, isBuyPrice);\n  }\n  \n  // ==================== 장비 시스템 메서드 ====================\n  \n  /**\n   * 등급 심볼 반환 (Helper 위임)\n   */\n  getRaritySymbol(rarity: string): string {\n    return DiabloItemHelper.getRaritySymbol(rarity);\n  }\n  /**\n   * 인벤토리 아이템의 아이콘 반환 (Helper 위임)\n   */\n  getInventoryItemIcon(item: InventoryItem): string {\n    return DiabloItemHelper.getInventoryItemIcon(item);\n  }\n\n  setInventoryFilter(filter: 'all' | 'weapon' | 'armor' | 'accessory' | 'consumable' | 'material'): void { this.inventoryFilter = filter; }\n\n  /**\n   * 필터링된 인벤토리 반환 (레거시)\n   */\n  getFilteredInventory(): InventoryItem[] {\n    if (!this.playerCharacter?.inventory) return [];\n    \n    if (this.inventoryFilter === 'all') {\n      return this.playerCharacter.inventory;\n    }\n    \n    // 필터에 따라 아이템 필터링\n    return this.playerCharacter.inventory.filter(item => {\n      switch (this.inventoryFilter) {\n        case 'weapon':\n          return item.type === 'weapon';\n        case 'armor':\n          return ['armor', 'helmet', 'gloves', 'boots', 'belt'].includes(item.type);\n        case 'accessory':\n          return ['amulet', 'ring', 'accessory'].includes(item.type);\n        case 'consumable':\n          return item.type === 'consumable';\n        case 'material':\n          return ['material', 'quest', 'misc'].includes(item.type);\n        default:\n          return true;\n      }\n    });\n  }\n  \n  /**\n   * 필터링 & 정렬된 인벤토리 반환 (그리드용)\n   */\n  getFilteredAndSortedInventory(): InventoryItem[] {\n    return this.itemState.getFilteredAndSortedInventory(this.inventory, this.inventoryFilter, this.inventorySortBy);\n  }\n  \n  /**\n   * 희귀도 가중치 계산 (정렬용)\n   */\n  getRarityWeight(rarity: InventoryItem['rarity']): number {\n    return this.itemState.getRarityWeight(rarity);\n  }\n  \n  /**\n   * 빈 칸 배열 생성 (그리드 채우기용)\n   */\n  getEmptyInventorySlots(): number[] {\n    const currentCount = this.getFilteredAndSortedInventory().length;\n    const emptyCount = Math.max(0, this.maxInventorySize - currentCount);\n    return Array(emptyCount).fill(0);\n  }\n  \n  sortInventory(): void {\n    // getFilteredAndSortedInventory()가 자동으로 정렬하므로\n    // 변경 감지만 트리거\n    this.snackBar.open(`✅ ${this.getSortMethodName()} 정렬되었습니다`, '닫기', { duration: 2000, horizontalPosition: 'center', verticalPosition: 'bottom' });\n  }\n  \n  autoSortInventory(): void {\n    this.inventorySortBy = 'rarity';\n    this.inventoryFilter = 'all';\n    this.snackBar.open('✅ 인벤토리가 자동 정렬되었습니다 (희귀도순)', '닫기', { duration: 2000, horizontalPosition: 'center', verticalPosition: 'bottom' });\n  }\n  \n  getSortMethodName(): string {\n    const names: Record<typeof this.inventorySortBy, string> = {\n      'rarity': '희귀도순으로',\n      'type': '타입순으로',\n      'name': '이름순으로',\n      'recent': '최근 획득순으로'\n    };\n    return names[this.inventorySortBy] || '';\n  }\n  \n  /**\n   * 아이템 이름 축약 (그리드용)\n   */\n  getTruncatedName(item: InventoryItem): string {\n    const name = item.nameKo || item.name;\n    const maxLength = 8;\n    if (name.length > maxLength) {\n      return name.slice(0, maxLength) + '...';\n    }\n    return name;\n  }\n  \n  /**\n   * 셀 클릭 (상세 정보 표시)\n   */\n  /**\n   * 인벤토리 셀 클릭 - 컨텍스트 메뉴 표시\n   */\n  onInventoryCellClick(event: MouseEvent, item: InventoryItem, index: number): void {\n    event.preventDefault();\n    event.stopPropagation();\n    \n    this.selectedContextItem = item;\n    this.selectedContextItemIndex = index;\n    \n    // 클릭한 셀의 위치 기준으로 메뉴 표시\n    const rect = (event.currentTarget as HTMLElement).getBoundingClientRect();\n    this.contextMenuPosition = { \n      x: rect.left + rect.width / 2, \n      y: rect.bottom + 5 \n    };\n    this.showItemContextMenu = true;\n    \n    // 외부 클릭 시 메뉴 닫기\n    setTimeout(() => {\n      document.addEventListener('click', this.closeContextMenu.bind(this), { once: true });\n    }, 0);\n  }\n  \n  /**\n   * 셀 더블클릭 (빠른 장착/사용)\n   */\n  onInventoryCellDoubleClick(item: InventoryItem, index: number): void {\n    if (item.type === 'consumable') {\n      this.useItem(item);\n    } else if (!['material', 'quest', 'misc'].includes(item.type)) {\n      // 필터링된 인덱스를 실제 인벤토리 인덱스로 변환\n      const actualIndex = this.inventory.findIndex(invItem => invItem.id === item.id);\n      if (actualIndex !== -1) {\n        this.equipItem(actualIndex);\n      }\n    }\n  }\n  \n  /**\n   * 총 무게 계산 (선택 사항)\n   */\n  calculateTotalWeight(): number {\n    return this.inventory.reduce((total, item) => {\n      const itemWeight = (item as any).weight || 1;\n      return total + (itemWeight * item.quantity);\n    }, 0);\n  }\n  \n  /**\n   * 인벤토리 드롭 핸들러 (드래그 앤 드롭)\n   */\n  onInventoryDrop(event: { previousIndex: number; currentIndex: number; item: { data: { item?: InventoryItem; slot?: string } }; previousContainer: unknown; container: unknown }): void {\n    const { previousIndex, currentIndex, item, previousContainer, container } = event;\n    const dragData = item.data;\n    \n    // 같은 인벤토리 내부 이동 (정리)\n    if (previousContainer === container) {\n      // 필터/정렬된 뷰에서는 순서 변경 비활성화\n      // 실제 인벤토리 배열을 직접 조작하면 정렬이 깨질 수 있음\n      this.snackBar.open('ℹ️ 정렬 모드에서는 수동 정리가 비활성화됩니다', '닫기', { duration: 2000, horizontalPosition: 'center', verticalPosition: 'bottom' });\n      return;\n    }\n    \n    // 장비 슬롯에서 인벤토리로 이동 (해제) - 이제 작동함!\n    if (dragData && dragData.item && dragData.slot) {\n      this.snackBar.open(`✅ ${dragData.item.name} 해제됨`, '닫기', { duration: 2000, horizontalPosition: 'center', verticalPosition: 'bottom' });\n      // unequipItem 메서드를 통해 자동 처리됨 (onEquipmentSlotDrop에서 호출)\n    }\n  }\n  /**\n   * 장비 슬롯 드롭 핸들러\n   * 인벤토리에서 장비 슬롯으로 드래그하여 장착\n   */\n  onEquipmentSlotDrop(event: { previousIndex?: number; item: { data: { item?: InventoryItem; slot?: string } }; previousContainer: unknown; container: unknown }, targetSlot: string): void {\n    const dragData = event.item.data;\n    const previousContainer = event.previousContainer;\n    const container = event.container;\n    \n    // 같은 장비 슬롯 내부 (아무 작업 안 함)\n    if (previousContainer === container) {\n      return;\n    }\n    \n    // 인벤토리에서 장비 슬롯으로 드래그\n    if (dragData && dragData.item) {\n      const item = dragData.item;\n      \n      // 장비 슬롯에서 장비 슬롯으로 (교체)\n      if (dragData.slot) {\n        // 같은 슬롯 타입으로 이동하는 경우\n        if (dragData.slot === targetSlot) {\n          this.snackBar.open('ℹ️ 이미 같은 슬롯에 장착되어 있습니다', '닫기', { duration: 2000, horizontalPosition: 'center', verticalPosition: 'bottom' });\n          return;\n        }\n        \n        // 다른 슬롯으로 이동 (해제 후 재장착)\n        this.unequipItem(dragData.slot as keyof PlayerEquipment);\n        this.equipItemToSlot(item, targetSlot);\n        return;\n      }\n      \n      // 인벤토리에서 장비 슬롯으로 (장착)\n      this.equipItemToSlot(item, targetSlot);\n    }\n  }\n  equipItemToSlot(item: InventoryItem, targetSlot: string): void {\n    if (!VALID_EQUIPMENT_SLOTS.includes(targetSlot)) {\n      this.snackBar.open('❌ 잘못된 장비 슬롯입니다', '닫기', { duration: 2000, horizontalPosition: 'center', verticalPosition: 'bottom' });\n      return;\n    }\n    const itemType = item.type?.toLowerCase() || '';\n    const validTypes = EQUIPMENT_SLOT_COMPATIBILITY[targetSlot] || [];\n    if (!validTypes.some(validType => itemType.includes(validType))) {\n      this.snackBar.open(`❌ ${item.nameKo || item.name}은(는) ${targetSlot} 슬롯에 장착할 수 없습니다`, '닫기', { duration: 3000, horizontalPosition: 'center',\n        verticalPosition: 'bottom'\n      });\n      return;\n    }\n    \n    // 기존 장비가 있으면 자동 해제\n    const currentEquipment = (this.playerCharacter.equipment as any)[targetSlot];\n    if (currentEquipment) {\n      this.unequipItem(targetSlot as keyof PlayerEquipment);\n    }\n    \n    (this.playerCharacter.equipment as any)[targetSlot] = { ...item };\n    \n    // 컴포넌트 inventory에서 제거\n    const index = this.inventory.findIndex(invItem => \n      invItem.id === item.id || \n      (invItem.name === item.name && invItem.nameKo === item.nameKo)\n    );\n    if (index !== -1) {\n      this.inventory.splice(index, 1);\n    }\n    \n    // playerCharacter.inventory도 동기화\n    if (this.playerCharacter.inventory) {\n      const pcIndex = this.playerCharacter.inventory.findIndex(invItem => \n        invItem.id === item.id || \n        (invItem.name === item.name && invItem.nameKo === item.nameKo)\n      );\n      if (pcIndex !== -1) {\n        this.playerCharacter.inventory.splice(pcIndex, 1);\n      }\n    }\n    \n    this.updatePlayerStats();\n    \n    this.snackBar.open(`✅ ${item.nameKo || item.name} 장착 완료!`, '닫기', { duration: 2000, horizontalPosition: 'center', verticalPosition: 'bottom',\n      panelClass: ['success-snackbar'] });\n    \n    this.saveGame('equipment_change').catch(err => {\n    });\n  }\n  /**\n   * 장비 타입별 색상 클래스 반환\n   */\n  getItemTypeColorClass(type: string): string {\n    const colorMap: { [key: string]: string } = {\n      'weapon': 'item-type-weapon',\n      'armor': 'item-type-armor',\n      'helmet': 'item-type-armor',\n      'gloves': 'item-type-armor',\n      'boots': 'item-type-armor',\n      'belt': 'item-type-armor',\n      'amulet': 'item-type-accessory',\n      'ring': 'item-type-accessory',\n      'accessory': 'item-type-accessory',\n      'consumable': 'item-type-consumable',\n      'material': 'item-type-material'\n    };\n    return colorMap[type] || 'item-type-default';\n  }\n  /**\n   * 원본 인벤토리에서 아이템의 인덱스 반환\n   */\n  getOriginalInventoryIndex(item: InventoryItem): number {\n    if (!this.playerCharacter?.inventory) return -1;\n    return this.playerCharacter.inventory.indexOf(item);\n  }\n  /**\n   * 총 공격력 계산 (디아블로 스타일)\n   */\n  getTotalAttack(): number {\n    if (!this.playerCharacter?.equipment) return 0;\n    \n    let total = 0;\n    const weapon = this.playerCharacter.equipment.weapon;\n    \n    if (weapon?.baseStats?.minDamage && weapon?.baseStats?.maxDamage) {\n      total = (weapon.baseStats.minDamage + weapon.baseStats.maxDamage) / 2;\n      \n      // 접두사/접미사 보너스 추가\n      weapon.prefixes?.forEach(affix => {\n        if (affix.type === 'damage') {\n          total += affix.value;\n        }\n      });\n      weapon.suffixes?.forEach(affix => {\n        if (affix.type === 'damage') {\n          total += affix.value;\n        }\n      });\n    }\n    \n    return Math.round(total);\n  }\n  /**\n   * 총 방어력 계산 (디아블로 스타일)\n   */\n  getTotalDefense(): number {\n    if (!this.playerCharacter?.equipment) return 0;\n    \n    let total = 0;\n    const equipment = this.playerCharacter.equipment;\n    \n    // 모든 방어구 부위의 방어력 합산\n    [equipment.armor, equipment.helmet, equipment.gloves, equipment.boots, equipment.belt].forEach(item => {\n      if (item?.baseStats?.armor) {\n        total += item.baseStats.armor;\n        \n        // 접두사/접미사 보너스 추가\n        item.prefixes?.forEach(affix => {\n          if (affix.type === 'defense') {\n            total += affix.value;\n          }\n        });\n        item.suffixes?.forEach(affix => {\n          if (affix.type === 'defense') {\n            total += affix.value;\n          }\n        });\n      }\n    });\n    \n    return Math.round(total);\n  }\n  /**\n   * 특수 효과 개수 계산 (모든 접두사/접미사)\n   */\n  getSpecialEffectsCount(): number {\n    if (!this.playerCharacter?.equipment) return 0;\n    \n    let count = 0;\n    const equipment = this.playerCharacter.equipment;\n    \n    // 모든 장비 슬롯 확인\n    [equipment.weapon, equipment.armor, equipment.helmet, equipment.gloves, \n     equipment.boots, equipment.belt, equipment.amulet, equipment.ring1, equipment.ring2].forEach(item => {\n      if (item) {\n        count += (item.prefixes?.length || 0);\n        count += (item.suffixes?.length || 0);\n        count += (item.uniqueProperties?.length || 0);\n        if (Array.isArray(item.sockets)) {\n          count += (item.sockets.filter((s: ItemSocket) => s.type !== 'empty').length || 0);\n        }\n      }\n    });\n    \n    return count;\n  }\n  getSlotName(slot: string): string {\n    const slotMap: { [key: string]: string } = {\n      'weapon': '무기',\n      'armor': '갑옷',\n      'helmet': '투구',\n      'gloves': '장갑',\n      'boots': '신발',\n      'belt': '벨트',\n      'amulet': '목걸이',\n      'ring1': '반지 1',\n      'ring2': '반지 2'\n    };\n    return slotMap[slot] || slot;\n  }\n  /**\n   * 아이템 전체 이름 생성 (접두사 + 기본이름 + 접미사)\n   */\n  getFullItemName(item: EquipmentItem): string {\n    if (item.rarity === 'unique' || item.rarity === 'set' || item.rarity === 'legendary') {\n      return item.name || item.baseType;\n    }\n    \n    let name = '';\n    if (item.prefixes && item.prefixes.length > 0) {\n      name += item.prefixes[0].name + ' ';\n    }\n    name += item.baseType;\n    if (item.suffixes && item.suffixes.length > 0) {\n      name += ' ' + item.suffixes[0].name;\n    }\n    \n    return name;\n  }\n  /**\n   * 랜덤 아이템 생성 (디아블로 스타일)\n   */\n  generateRandomItems(): void {\n    if (!this.playerCharacter) {\n      this.playerState.loadPlayer(this.createDefaultCharacter());\n    }\n\n    if (!this.playerCharacter.inventory) {\n      this.playerCharacter.inventory = [];\n    }\n\n    // 5-10개의 랜덤 아이템 생성\n    const itemCount = Math.floor(Math.random() * 6) + 5;\n    \n    for (let i = 0; i < itemCount; i++) {\n      const item = RandomItemHelper.createRandomItem(this.itemGeneratorService, (r, b) => this.calculateItemPrice(r, b));\n      this.playerCharacter.inventory.push(item);\n    }\n\n    // 인벤토리 로컬스토리지에 저장\n    this.saveInventoryToLocalStorage();\n    \n    // 전체 게임 상태 저장 (중요!)\n    if (this.gameStarted && this.currentGameId) {\n      this.saveGame('autosave');\n    }\n\n    this.snackBar.open(`✨ ${itemCount}개의 아이템이 생성되었습니다!`, '닫기', { duration: 3000, horizontalPosition: 'center', verticalPosition: 'top',\n      panelClass: ['success-snackbar'] });\n    \n  }\n  /**\n   * 게임 데이터 완전 초기화 (확인 다이얼로그 포함)\n   */\n  resetGameData(): void {\n    const dialogRef = this.dialog.open(ConfirmDialogComponent, { width: '400px', data: {\n        title: '⚠️ 게임 데이터 초기화',\n        message: '모든 저장 데이터가 삭제됩니다.\\n\\n• 저장된 게임\\n• 인벤토리\\n• 캐릭터 정보\\n• 스토리 진행 상황\\n\\n정말 초기화하시겠습니까?',\n        confirmText: '초기화',\n        cancelText: '취소'\n      } });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.performResetGameData();\n      }\n    });\n  }\n  /**\n   * 인벤토리 디버그 정보 모달로 표시\n   */\n  debugInventory(): void {\n    this.itemGenerationHelper.debugInventory(\n      this.inventory,\n      () => this.resetInventory()\n    );\n  }\n  /**\n   * 게임 데이터 초기화 실행\n   */\n  private performResetGameData(): void {\n    try {\n      // 로컬스토리지에서 모든 게임 관련 데이터 삭제\n      const keysToRemove = [\n        'novel_game_autosave',\n        'novel_game_manual_save',\n        'novel_inventory',\n        'novel_character',\n        'novel_current_story'\n      ];\n\n      keysToRemove.forEach(key => {\n        localStorage.removeItem(key);\n      });\n\n      // 현재 게임 상태 초기화\n      this.gameStarted = false;\n      this.currentGameId = '';\n      this.playerState.loadPlayer(this.createDefaultCharacter());\n      this.inventory = this.playerCharacter.inventory ? [...this.playerCharacter.inventory] : []; // 새로운 디아블로 아이템 10개\n      this.gold = 0;\n\n      this.snackBar.open('✅ 게임 데이터가 완전히 초기화되었습니다\\n\\n이제 새 게임을 시작하면 디아블로 아이템 10개가 자동으로 생성됩니다!', '닫기', { duration: 5000, horizontalPosition: 'center', verticalPosition: 'top',\n        panelClass: ['success-snackbar'] });\n\n      if (this.inventory.length > 0) {\n      }\n\n      setTimeout(() => {\n        this.backToNovelSelection();\n      }, 1500);\n\n    } catch (error) {\n      this.snackBar.open('⚠️ 데이터 초기화에 실패했습니다', '닫기', { duration: 3000, horizontalPosition: 'center', verticalPosition: 'bottom' });\n    }\n  }\n  /**\n   * 인벤토리만 초기화 (확인 다이얼로그 포함)\n   */\n  resetInventory(): void {\n    const dialogRef = this.dialog.open(ConfirmDialogComponent, { width: '400px', data: {\n        title: '🎒 인벤토리 초기화',\n        message: '현재 인벤토리의 모든 아이템이 삭제되고\\n기본 디아블로 스타일 아이템 10개로 초기화됩니다.\\n\\n정말 초기화하시겠습니까?',\n        confirmText: '초기화',\n        cancelText: '취소'\n      } });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.performResetInventory();\n      }\n    });\n  }\n  /**\n   * 인벤토리 초기화 실행\n   */\n  private performResetInventory(): void {\n    try {\n      if (!this.playerCharacter) {\n        this.playerState.loadPlayer(this.createDefaultCharacter());\n      }\n\n      // 인벤토리를 기본 디아블로 아이템으로 초기화\n      this.playerCharacter.inventory = this.createStartingInventory();\n      this.inventory = [...this.playerCharacter.inventory];\n\n      this.saveInventoryToLocalStorage();\n      if (this.gameStarted && this.currentGameId) {\n        this.saveGame('autosave');\n      }\n\n      this.snackBar.open('✅ 인벤토리가 기본 아이템으로 초기화되었습니다', '닫기', { duration: 3000, horizontalPosition: 'center', verticalPosition: 'top',\n        panelClass: ['success-snackbar'] });\n\n    } catch (error) {\n      this.snackBar.open('⚠️ 인벤토리 초기화에 실패했습니다', '닫기', { duration: 3000, horizontalPosition: 'center', verticalPosition: 'bottom' });\n    }\n  }\n  /**\n   * 랜덤 아이템 생성\n   */\n  /**\n   * 아이템 상세 정보 표시 (디아블로 스타일)\n   */\n  showItemDetails(item: InventoryItem): void {\n    const detailsMessage = this.itemState.getItemDetailsText(item);\n    this.snackBar.open(detailsMessage, '닫기', {\n      duration: 10000,\n      horizontalPosition: 'center',\n      verticalPosition: 'top',\n      panelClass: ['item-details-snackbar']\n    });\n  }\n  equipItem(index: number): void {\n    if (!this.playerCharacter?.inventory || !this.playerCharacter.equipment) return;\n    \n    const item = this.playerCharacter.inventory[index];\n    \n    // 장비 서비스를 통해 장착 처리\n    const result = this.equipmentService.equipItem(item, index, this.playerCharacter);\n    \n    if (result.success) {\n      // 컴포넌트의 inventory 배열도 동기화 (UI 표시용)\n      if (this.playerCharacter.inventory) {\n        this.inventory = [...this.playerCharacter.inventory];\n      }\n      \n      this.equipmentService.updatePlayerStats(this.playerCharacter);\n      \n      // 게임 자동 저장 (장비 포함)\n      this.saveGame('autosave');\n      \n      // 로컬 스토리지에 인벤토리 저장 (백업)\n      this.saveInventoryToLocalStorage();\n    }\n  }\n  /**\n   * 장비 해제 (장비 슬롯에서 인벤토리로 되돌리기)\n   */\n  unequipItem(slotKey: keyof PlayerEquipment): void {\n    this.debugLogger.info('UNEQUIP', `🔧 unequipItem 호출됨 - slotKey: ${slotKey}`);\n    \n    // 장비 서비스를 통해 해제 처리\n    const result = this.equipmentService.unequipItem(slotKey, this.playerCharacter, this.debugLogger);\n    \n    if (result.success) {\n      // 컴포넌트의 inventory 배열도 동기화 (UI 표시용)\n      if (this.playerCharacter.inventory) {\n        this.inventory = [...this.playerCharacter.inventory];\n        this.debugLogger.info('UNEQUIP', `🔄 inventory 배열 동기화 완료 - 총 ${this.inventory.length}개`);\n      }\n      \n      this.equipmentService.updatePlayerStats(this.playerCharacter);\n      this.debugLogger.info('UNEQUIP', `📊 능력치 재계산 완료`);\n      \n      // 게임 자동 저장 (장비 포함)\n      this.saveGame('autosave');\n      this.debugLogger.info('UNEQUIP', `💾 게임 저장 완료`);\n      \n      // 로컬 스토리지에 인벤토리 저장 (백업)\n      this.saveInventoryToLocalStorage();\n      this.debugLogger.info('UNEQUIP', `💿 로컬 스토리지 저장 완료`);\n    }\n  }\n  \n  /**\n  /**\n   * 플레이어 능력치 업데이트 (장비 능력치 합산)\n   */\n  private updatePlayerStats(): void {\n    if (!this.playerCharacter?.equipment) return;\n    \n    // 장비 서비스를 통해 능력치 업데이트\n    this.equipmentService.updatePlayerStats(this.playerCharacter);\n  }\n  /**\n   * 아이템 컨텍스트 메뉴 관련 변수\n   */\n  selectedContextItem: InventoryItem | null = null;\n  selectedContextItemIndex: number = -1;\n  showItemContextMenu: boolean = false;\n  contextMenuPosition = { x: 0, y: 0 };\n  \n  showItemInfo: boolean = false;\n  itemInfoPosition = { x: 300, y: 150 };\n  isDraggingModal: boolean = false;\n  modalDragOffset = { x: 0, y: 0 };\n\n  /**\n   * 인벤토리 아이템 선택 (Angular Material Menu용)\n   */\n  selectInventoryItem(item: InventoryItem, index: number): void { this.selectedContextItem = item; this.selectedContextItemIndex = index; }\n  onContextMenuAction(action: 'equip' | 'info' | 'compare'): void {\n    if (!this.selectedContextItem || this.selectedContextItemIndex === -1) return;\n    \n    switch (action) {\n      case 'equip':\n        this.equipItem(this.selectedContextItemIndex);\n        break;\n      case 'info':\n        this.showItemDetails(this.selectedContextItem);\n        break;\n      case 'compare':\n        this.compareItemWithEquipped(this.selectedContextItem);\n        break;\n    }\n    \n    // Angular Material 메뉴는 자동으로 닫히므로 별도 처리 불필요\n  }\n  /**\n   * 장비 비교 기능 - 다이얼로그로 표시\n   */\n  compareItemWithEquipped(item: InventoryItem): void {\n    if (!this.playerCharacter?.equipment) return;\n    \n    const equipmentSlot = item.type as keyof PlayerEquipment;\n    const equippedItem = this.playerCharacter.equipment[equipmentSlot] as any;\n    \n    const newAttack = item.stats?.attack || item.stats?.minDamage || 0;\n    const newDefense = item.stats?.defense || item.stats?.armor || 0;\n    const newHp = item.stats?.hp || 0;\n    const newMp = item.stats?.mp || 0;\n    \n    let oldAttack = 0;\n    let oldDefense = 0;\n    let oldHp = 0;\n    let oldMp = 0;\n    let equippedName = '(없음)';\n    \n    if (equippedItem) {\n      oldAttack = equippedItem.baseStats?.attack || equippedItem.baseStats?.minDamage || 0;\n      oldDefense = equippedItem.baseStats?.defense || equippedItem.baseStats?.armor || 0;\n      oldHp = equippedItem.baseStats?.hp || 0;\n      oldMp = equippedItem.baseStats?.mp || 0;\n      equippedName = equippedItem.baseType;\n    }\n    \n    const attackDiff = newAttack - oldAttack;\n    const defenseDiff = newDefense - oldDefense;\n    const hpDiff = newHp - oldHp;\n    const mpDiff = newMp - oldMp;\n    \n    const totalDiff = attackDiff + defenseDiff + (hpDiff / 10) + (mpDiff / 10);\n    let verdict = '';\n    if (!equippedItem) {\n      verdict = '새 장비를 장착하시겠습니까?';\n    } else if (totalDiff > 5) {\n      verdict = '✨ 새 장비가 훨씬 좋습니다! 교체하시겠습니까?';\n    } else if (totalDiff > 0) {\n      verdict = '👍 새 장비가 더 좋습니다. 교체하시겠습니까?';\n    } else if (totalDiff === 0) {\n      verdict = '🤝 능력치가 동일합니다. 교체하시겠습니까?';\n    } else if (totalDiff > -5) {\n      verdict = '👎 현재 장비가 더 좋습니다. 교체하시겠습니까?';\n    } else {\n      verdict = '⚠️ 현재 장비가 훨씬 좋습니다! 교체하시겠습니까?';\n    }\n    \n    const formatStat = (value: number): string => value > 0 ? `+${value}` : `${value}`;\n    const formatDiff = (diff: number): string => {\n      if (diff > 0) return `<span style=\"color: #10b981; font-weight: 700;\">+${diff} ⬆</span>`;\n      if (diff < 0) return `<span style=\"color: #ef4444; font-weight: 700;\">${diff} ⬇</span>`;\n      return `<span style=\"color: #94a3b8;\">0 ➡</span>`;\n    };\n    \n    const comparisonHTML = `\n      <div style=\"display: flex; gap: 20px; margin: 20px 0; font-family: 'Noto Sans KR', sans-serif;\">\n        <div style=\"flex: 1; padding: 16px; background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(99, 102, 241, 0.1)); border: 2px solid #3b82f6; border-radius: 12px;\">\n          <div style=\"font-weight: 700; font-size: 16px; color: #3b82f6; margin-bottom: 12px; text-align: center;\">📦 새 아이템</div>\n          <div style=\"font-weight: 600; font-size: 14px; margin-bottom: 8px; text-align: center; color: var(--text-primary);\">${item.name}</div>\n          <div style=\"font-size: 13px; line-height: 1.8; color: var(--text-secondary);\">\n            <div>⚔️ 공격력: <strong style=\"color: var(--text-primary);\">${formatStat(newAttack)}</strong></div>\n            <div>🛡️ 방어력: <strong style=\"color: var(--text-primary);\">${formatStat(newDefense)}</strong></div>\n            <div>❤️ HP: <strong style=\"color: var(--text-primary);\">${formatStat(newHp)}</strong></div>\n            <div>💙 MP: <strong style=\"color: var(--text-primary);\">${formatStat(newMp)}</strong></div>\n          </div>\n        </div>\n        <div style=\"display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 16px; min-width: 100px;\">\n          <div style=\"font-weight: 700; font-size: 14px; color: var(--text-secondary); margin-bottom: 12px;\">차이</div>\n          <div style=\"font-size: 13px; line-height: 1.8;\">\n            <div>${formatDiff(attackDiff)}</div>\n            <div>${formatDiff(defenseDiff)}</div>\n            <div>${formatDiff(hpDiff)}</div>\n            <div>${formatDiff(mpDiff)}</div>\n          </div>\n        </div>\n        <div style=\"flex: 1; padding: 16px; background: linear-gradient(135deg, rgba(148, 163, 184, 0.1), rgba(100, 116, 139, 0.1)); border: 2px solid #64748b; border-radius: 12px;\">\n          <div style=\"font-weight: 700; font-size: 16px; color: #64748b; margin-bottom: 12px; text-align: center;\">🎒 현재 장비</div>\n          <div style=\"font-weight: 600; font-size: 14px; margin-bottom: 8px; text-align: center; color: var(--text-primary);\">${equippedName}</div>\n          <div style=\"font-size: 13px; line-height: 1.8; color: var(--text-secondary);\">\n            <div>⚔️ 공격력: <strong style=\"color: var(--text-primary);\">${formatStat(oldAttack)}</strong></div>\n            <div>🛡️ 방어력: <strong style=\"color: var(--text-primary);\">${formatStat(oldDefense)}</strong></div>\n            <div>❤️ HP: <strong style=\"color: var(--text-primary);\">${formatStat(oldHp)}</strong></div>\n            <div>💙 MP: <strong style=\"color: var(--text-primary);\">${formatStat(oldMp)}</strong></div>\n          </div>\n        </div>\n      </div>\n    `;\n    \n    const dialogRef = this.dialog.open(ConfirmDialogComponent, {\n      width: '700px',\n      data: {\n        title: '⚖️ 장비 비교',\n        message: comparisonHTML,\n        confirmText: '장착하기',\n        cancelText: '취소',\n        verdict: verdict\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.equipItem(this.selectedContextItemIndex);\n      }\n    });\n  }\n  deleteInventoryItem(index: number): void {\n    if (!this.playerCharacter?.inventory) return;\n    \n    const item = this.playerCharacter.inventory[index];\n    \n    // 확인 다이얼로그 표시\n    const dialogRef = this.dialog.open(ConfirmDialogComponent, { width: '400px', data: {\n        title: '아이템 삭제',\n        message: `\"${item.name}\"을(를) 정말 삭제하시겠습니까?`,\n        confirmText: '삭제',\n        cancelText: '취소'\n      } });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result && this.playerCharacter?.inventory) {\n        this.playerCharacter.inventory.splice(index, 1);\n        \n        // 로컬 스토리지에 저장\n        this.saveInventoryToLocalStorage();\n        \n        // 전체 게임 상태 저장 (중요!)\n        if (this.gameStarted && this.currentGameId) {\n          this.saveGame('autosave');\n        }\n        \n        this.snackBar.open(`🗑️ ${item.name}이(가) 삭제되었습니다`, '닫기', { duration: 3000, horizontalPosition: 'center', verticalPosition: 'bottom' });\n        \n      }\n    });\n  }\n  /**\n   * 인벤토리를 로컬 스토리지에 저장\n   */\n  private saveInventoryToLocalStorage(): void {\n    if (this.playerCharacter?.inventory) {\n      try {\n        localStorage.setItem('novel_inventory', JSON.stringify(this.playerCharacter.inventory));\n      } catch (error) { }\n    }\n  }\n  /**\n   * 로컬 스토리지에서 인벤토리 불러오기\n   */\n  private loadInventoryFromLocalStorage(): InventoryItem[] | null {\n    try {\n      const savedInventory = localStorage.getItem('novel_inventory');\n      if (savedInventory) {\n        const inventory = JSON.parse(savedInventory);\n        return inventory;\n      }\n    } catch (error) { }\n    return null;\n  }\n  /**\n   * 저장된 인벤토리 불러오기 및 적용\n   */\n  private loadSavedInventory(): void {\n    const savedInventory = this.loadInventoryFromLocalStorage();\n    if (savedInventory && savedInventory.length > 0) {\n      if (!this.playerCharacter) {\n        this.playerState.loadPlayer(this.createDefaultCharacter());\n      }\n      this.playerCharacter.inventory = savedInventory;\n    }\n  }\n  /**\n   * 기본 캐릭터 생성\n   */\n  private createDefaultCharacter(): PlayerCharacter {\n    return {\n      name: '모험가',\n      level: 1,\n      exp: 0,\n      maxExp: 100,\n      hp: 100,\n      maxHp: 100,\n      mp: 50,\n      maxMp: 50,\n      attack: 10,\n      defense: 10,\n      agility: 10,\n      strength: 10,\n      intelligence: 10,\n      gold: 10000, // 초기 골드 (넉넉하게)\n      gem: 500, // 초기 보석 (프리미엄 화폐)\n      crystal: 200, // 초기 크리스탈 (강화 재료)\n      ticket: 50, // 초기 티켓 (특수 컨텐츠 입장권)\n      skillPoints: 0,\n      skills: [],\n      inventory: this.createStartingInventory(), // 디아블로 스타일 시작 아이템\n      equipment: {\n        weapon: undefined,\n        armor: undefined,\n        helmet: undefined,\n        gloves: undefined,\n        boots: undefined,\n        belt: undefined,\n        amulet: undefined,\n        ring1: undefined,\n        ring2: undefined\n      }\n    };\n  }\n  \n  /**\n   * 디아블로 스타일 시작 인벤토리 생성\n   */\n  private createStartingInventory(): InventoryItem[] {\n    // 아이템 생성 서비스에서 시작 인벤토리 로드\n    return this.itemGeneratorService.createStartingInventory();\n  }\n  \n  // ==================== 던전 시스템 메서드 ====================\n  \n  initializeDungeonSystem(): void { this.dungeonManager.initializeDungeonSystem(); }\n  \n  openDungeonEntryDialog(dungeonType: DungeonType): void { this.dungeonManager.openDungeonEntryDialog(dungeonType); }\n  \n  closeDungeonEntryDialog(): void { this.dungeonManager.closeDungeonEntryDialog(); }\n  \n  enterDungeon(dungeonType: DungeonType, difficulty: DifficultyLevel): void { this.dungeonManager.enterDungeon(dungeonType, difficulty); }\n  \n  /**\n   * 던전 생성 (서비스 위임)\n   */\n  private generateDungeon(dungeonType: DungeonType, difficulty: DifficultyLevel): DungeonInstance {\n    // DungeonManager에 위임 - private 메서드이므로 직접 호출\n    return this.dungeonGenerator.generateDungeon(\n      dungeonType,\n      difficulty,\n      this.playerCharacter.level\n    ) as DungeonInstance;\n  }\n  \n  /**\n   * 층 진입 (Helper 위임)\n   */\n  enterFloor(floorNumber: number): void {\n    DungeonFlowHelper.enterFloor(\n      floorNumber,\n      this.currentDungeon,\n      this.debugLogger,\n      (blocks) => this.addStoryBlock(blocks),\n      (room) => this.enterRoom(room)\n    );\n  }\n  \n  /**\n   * 방 진입 (Helper 위임)\n   */\n  enterRoom(room: DungeonRoom): void {\n    this.currentDungeonRoom = DungeonFlowHelper.enterRoom(\n      room,\n      this.currentDungeon,\n      this.currentDungeonRoom,\n      (blocks) => this.addStoryBlock(blocks),\n      (type) => this.getRoomTypeKorean(type)\n    );\n    \n    // 몬스터가 있으면 전투 시작\n    if (room.monsters.length > 0 && !room.isCleared) {\n      this.startDungeonCombat(room);\n    }\n    \n    this.debugLogger.info('던전', `🚪 방 진입: ${room.type}`);\n  }\n  \n  /**\n   * 던전 전투 시작\n   */\n  /**\n   * 던전 전투 시작\n   */\n  private startDungeonCombat(room: DungeonRoom): void {\n    \n    // 전투 스킵 옵션이 켜져 있으면 즉시 승리\n    if (this.dungeonTestOptions.skipCombat) {\n      this.debugLogger.info('던전', '⏭️ 전투 스킵 활성화 - 자동 승리');\n      \n      // 모든 몬스터 즉시 처치\n      room.monsters.forEach(monster => {\n        monster.hp = 0;\n        monster.isDead = true;\n        \n        const goldReward = Math.floor(Math.random() * (monster.dropTable.goldMax - monster.dropTable.goldMin + 1)) + monster.dropTable.goldMin;\n        const expReward = Math.floor(monster.maxHp * 0.8);\n        \n        this.playerCharacter.gold += goldReward;\n        this.gainExp(expReward);\n        \n        if (this.currentDungeon) {\n          this.currentDungeon.accumulatedRewards.gold += goldReward;\n          this.currentDungeon.accumulatedRewards.experience += expReward;\n          \n          this.currentDungeon.stats.monstersKilled++;\n          if (monster.type === 'elite') {\n            this.currentDungeon.stats.elitesKilled++;\n          } else if (monster.type === 'boss') {\n            this.currentDungeon.stats.bossKilled = true;\n            this.currentDungeon.stats.elitesKilled++;\n          }\n        }\n      });\n      \n      room.isCleared = true;\n      \n      this.addStoryBlock([\n        '⏭️ 전투 자동 승리!',\n        `💀 ${room.monsters.length}마리 처치`,\n        '방이 클리어되었습니다.',\n        ''\n      ]);\n      \n      // 전투 스킵 후 자동 저장 (경험치 및 레벨 반영)\n      this.debugLogger.info('던전', `💾 전투 스킵 후 자동 저장 (경험치: ${this.playerCharacter.exp}/${this.playerCharacter.maxExp}, 레벨: ${this.playerCharacter.level})`);\n      this.saveGame(`auto_dungeon_skip_combat`).then(() => {\n      });\n      \n      return;\n    }\n    \n    const monster = room.monsters[0]; // 첫 번째 몬스터와 전투\n    \n    this.addStoryBlock([\n      `⚔️ ${monster.name}이(가) 나타났다!`,\n      `레벨: ${monster.level} | HP: ${monster.hp}`,\n      monster.eliteAffixes ? `특성: ${monster.eliteAffixes.join(', ')}` : '',\n      ''\n    ]);\n    \n    // 일반 전투는 수동으로 진행 (공격 버튼 클릭)\n  }\n  \n  /**\n   * 던전 전투 승리\n   */\n  private async winDungeonCombat(room: DungeonRoom, monster: DungeonMonster): Promise<void> {\n    await DungeonFlowHelper.winDungeonCombat(\n      room,\n      monster,\n      this.currentDungeon,\n      this.playerCharacter,\n      (exp) => this.gainExp(exp),\n      (blocks) => this.addStoryBlock(blocks),\n      (saveId) => this.saveGame(saveId),\n      () => this.completeDungeon(),\n      this.debugLogger\n    );\n  }\n  \n  /**\n   * 던전 클리어 (Helper 위임)\n   */\n  private async completeDungeon(): Promise<void> {\n    await DungeonFlowHelper.completeDungeon(\n      this.currentDungeon,\n      this.dungeonProgress,\n      this.dungeonTypes,\n      (blocks) => this.addStoryBlock(blocks),\n      (choices) => this.setChoices(choices),\n      (saveId) => this.saveGame(saveId),\n      this.debugLogger,\n      () => {\n        this.showDungeonPanel = false;\n        this.currentDungeon = null;\n        this.currentDungeonRoom = null;\n      }\n    );\n  }\n  \n  /**\n   * 다음 방으로 이동 (Helper 위임)\n   */\n  moveToNextRoom(): void {\n    DungeonFlowHelper.moveToNextRoom(\n      this.currentDungeon,\n      this.currentDungeonRoom,\n      (room) => this.enterRoom(room)\n    );\n  }\n  \n  escapeDungeon(): void {\n    if (!this.currentDungeon) return;\n    \n    // ✅ confirm은 자식 컴포넌트에서 이미 처리됨\n    \n    this.currentDungeon.status = 'failed';\n    this.dungeonProgress.inDungeon = false;\n    \n    this.addStoryBlock([\n      '',\n      '🚪 당신은 던전에서 탈출했습니다.',\n      '💰 획득한 보상은 유지됩니다.',\n      ''\n    ]);\n    \n    this.showDungeonPanel = false;\n    this.currentDungeon = null;\n    this.currentDungeonRoom = null;\n    \n    // 던전 다이얼로그도 닫기\n    this.closeDungeonDialog();\n    \n    this.saveGame('autosave');\n    \n    this.debugLogger.warn('던전', '⚠️ 던전 탈출');\n  }\n  \n  /**\n   * 난이도 한글 변환\n   */\n  private getDifficultyKorean(difficulty: DifficultyLevel): string {\n    const map = {\n      easy: '쉬움',\n      normal: '보통',\n      hard: '어려움',\n      hell: '지옥'\n    };\n    return map[difficulty];\n  }\n  \n  /**\n   * 방 타입 한글 변환\n   */\n  private getRoomTypeKorean(type: RoomType | string): string {\n    return DungeonFlowHelper.getRoomTypeKorean(String(type));\n  }\n  \n  // ==================== 던전 테스트 메서드 ====================\n  \n  openDungeonDialog(): void { this.dungeonManager.openDungeonDialog(); }\n  \n  closeDungeonDialog(): void { this.dungeonManager.closeDungeonDialog(); }\n  \n  selectDungeonType(dungeonType: DungeonType): void { this.dungeonManager.selectDungeonType(dungeonType); }\n  \n  selectDifficulty(difficulty: DifficultyLevel): void { this.dungeonManager.selectDifficulty(difficulty); }\n  \n  startDungeon(): void { this.dungeonManager.startDungeon(); }\n  \n  /**\n   * 던전 Explorer 이벤트: 방 이동\n   */\n  onDungeonRoomMove(roomId: string): void { this.dungeonManager.onDungeonRoomMove(roomId); }\n  \n  /**\n   * 던전 Explorer 이벤트: 몬스터 공격\n   */\n  onDungeonMonsterAttack(monster: DungeonMonster): void { this.dungeonManager.onDungeonMonsterAttack(monster); }\n  \n  /**\n   * 던전 Explorer 이벤트: 오브젝트 사용\n   */\n  onDungeonInteractableUse(interactable: DungeonInteractable): void { this.dungeonManager.onDungeonInteractableUse(interactable); }\n  \n  /**\n   * 던전 Explorer 이벤트: 탈출\n   */\n  onDungeonEscape(): void { this.dungeonManager.onDungeonEscape(); }\n  \n  /**\n   * 던전 Explorer 이벤트: 층 이동\n   */\n  onDungeonFloorMove(floorNumber: number): void { this.dungeonManager.onDungeonFloorMove(floorNumber); }\n  \n  /**\n   * 던전 Explorer 이벤트: 전투 보상 수령\n   */\n  onDungeonRewardsClaimed(rewards: any): void { this.dungeonManager.onDungeonRewardsClaimed(rewards, this.inventory); }\n  \n  createDungeonRewardItem(rewardItem: any): any { return this.dungeonManager.createDungeonRewardItem(rewardItem); }\n  \n  toggleDungeonTestOption(option: keyof typeof this.dungeonTestOptions): void {\n    this.dungeonManager.toggleDungeonTestOption(option);\n  }\n  \n  /**\n   * 플레이어 장비 정보 가져오기\n   */\n  getPlayerEquipment(): any { return this.dungeonManager.getPlayerEquipment(); }\n  \n  // ============================================\n  // 컨텍스트 메뉴 & 아이템 정보 모달 메서드\n  // ============================================\n  \n  /**\n   * 인벤토리 셀 우클릭 - 컨텍스트 메뉴 표시\n   */\n  onInventoryCellRightClick(event: MouseEvent, item: InventoryItem, index: number): void {\n    event.preventDefault();\n    event.stopPropagation();\n    \n    this.selectedContextItem = item;\n    this.selectedContextItemIndex = index;\n    this.contextMenuPosition = { x: event.clientX, y: event.clientY };\n    this.showItemContextMenu = true;\n    \n    // 외부 클릭 시 메뉴 닫기\n    setTimeout(() => {\n      document.addEventListener('click', this.closeContextMenu.bind(this), { once: true });\n    }, 0);\n  }\n  \n  closeContextMenu(): void { this.showItemContextMenu = false; }\n  \n  equipItemFromMenu(): void {\n    if (!this.selectedContextItem || this.selectedContextItemIndex === -1) return;\n    \n    const item = this.selectedContextItem;\n    const itemType = item.type?.toLowerCase() || '';\n    \n    // 장비 타입에 따라 적절한 슬롯 찾기\n    let targetSlot = '';\n    if (itemType.includes('weapon') || itemType.includes('sword') || itemType.includes('bow') || itemType.includes('staff')) {\n      targetSlot = 'weapon';\n    } else if (itemType.includes('armor') || itemType.includes('chest')) {\n      targetSlot = 'armor';\n    } else if (itemType.includes('helmet') || itemType.includes('helm')) {\n      targetSlot = 'helmet';\n    } else if (itemType.includes('gloves')) {\n      targetSlot = 'gloves';\n    } else if (itemType.includes('boots') || itemType.includes('shoes')) {\n      targetSlot = 'boots';\n    } else if (itemType.includes('amulet') || itemType.includes('necklace')) {\n      targetSlot = 'amulet';\n    } else if (itemType.includes('belt')) {\n      targetSlot = 'belt';\n    } else if (itemType.includes('ring')) {\n      targetSlot = this.playerCharacter.equipment?.ring1 ? 'ring2' : 'ring1';\n    }\n    \n    if (targetSlot) {\n      this.equipItemToSlot(item, targetSlot);\n    } else {\n      this.snackBar.open('❌ 장착할 수 없는 아이템입니다', '닫기', { duration: 2000, horizontalPosition: 'center', verticalPosition: 'bottom' });\n    }\n    \n    this.closeContextMenu();\n  }\n  \n  /**\n   * 컨텍스트 메뉴 - 정보 보기\n   */\n  showItemInfoModal(): void {\n    if (!this.selectedContextItem) return;\n    \n    this.showItemInfo = true;\n    this.closeContextMenu();\n  }\n  \n  discardItemFromMenu(): void {\n    if (!this.selectedContextItem || this.selectedContextItemIndex === -1) return;\n    \n    const itemName = this.selectedContextItem.nameKo || this.selectedContextItem.name;\n    \n    if (confirm(`정말로 \"${itemName}\"을(를) 버리시겠습니까?`)) {\n      this.inventory.splice(this.selectedContextItemIndex, 1);\n      \n      this.snackBar.open(`🗑️ ${itemName}을(를) 버렸습니다`, '닫기', { duration: 2000, horizontalPosition: 'center', verticalPosition: 'bottom' });\n      \n      this.saveGame('inventory_change').catch(err => {\n      });\n    }\n    \n    this.closeContextMenu();\n  }\n  \n  closeItemInfoModal(): void { this.showItemInfo = false; }\n  \n  /**\n   * 아이템 정보 모달 드래그 시작\n   */\n  onItemInfoDragStart(event: MouseEvent): void {\n    // 닫기 버튼이나 액션 버튼 클릭 시 드래그 방지\n    if ((event.target as HTMLElement).classList.contains('modal-close-btn') ||\n        (event.target as HTMLElement).closest('.item-info-actions')) {\n      return;\n    }\n    \n    this.isDraggingModal = true;\n    this.modalDragOffset = {\n      x: event.clientX - this.itemInfoPosition.x,\n      y: event.clientY - this.itemInfoPosition.y\n    };\n    \n    event.preventDefault();\n    \n    const onMouseMove = (e: MouseEvent) => {\n      if (this.isDraggingModal) {\n        this.itemInfoPosition = {\n          x: e.clientX - this.modalDragOffset.x,\n          y: e.clientY - this.modalDragOffset.y\n        };\n      }\n    };\n    \n    const onMouseUp = () => {\n      this.isDraggingModal = false;\n      document.removeEventListener('mousemove', onMouseMove);\n      document.removeEventListener('mouseup', onMouseUp);\n    };\n    \n    document.addEventListener('mousemove', onMouseMove);\n    document.addEventListener('mouseup', onMouseUp);\n  }\n  \n  equipItemFromModal(): void { this.equipItemFromMenu(); this.closeItemInfoModal(); }\n  \n  discardItemFromModal(): void {\n    const itemName = this.selectedContextItem?.nameKo || this.selectedContextItem?.name;\n    \n    if (confirm(`정말로 \"${itemName}\"을(를) 버리시겠습니까?`)) {\n      this.discardItemFromMenu();\n      this.closeItemInfoModal();\n    }\n  }\n  \n  /**\n   * 아이템이 장착 가능한지 확인\n   */\n  isEquippableItem(item: InventoryItem): boolean {\n    if (!item || !item.type) return false;\n    \n    const itemType = item.type.toLowerCase();\n    const equipTypes = ['weapon', 'armor', 'helmet', 'gloves', 'boots', \n                        'amulet', 'belt', 'ring', 'sword', 'bow', 'staff',\n                        'chest', 'helm', 'necklace', 'shoes'];\n    \n    return equipTypes.some(type => itemType.includes(type));\n  }\n  \n  /**\n   * 모바일용 빠른 장착 (원탭 장착)\n   */\n  quickEquipItem(item: InventoryItem, index: number): void {\n    if (!item || !this.isEquippableItem(item)) {\n      this.snackBar.open('❌ 장착할 수 없는 아이템입니다', '닫기', { \n        duration: 1500, \n        horizontalPosition: 'center', \n        verticalPosition: 'bottom' \n      });\n      return;\n    }\n    \n    const itemType = item.type?.toLowerCase() || '';\n    \n    // 장비 타입에 따라 적절한 슬롯 찾기\n    let targetSlot = '';\n    if (itemType.includes('weapon') || itemType.includes('sword') || itemType.includes('bow') || itemType.includes('staff')) {\n      targetSlot = 'weapon';\n    } else if (itemType.includes('armor') || itemType.includes('chest')) {\n      targetSlot = 'armor';\n    } else if (itemType.includes('helmet') || itemType.includes('helm')) {\n      targetSlot = 'helmet';\n    } else if (itemType.includes('gloves')) {\n      targetSlot = 'gloves';\n    } else if (itemType.includes('boots') || itemType.includes('shoes')) {\n      targetSlot = 'boots';\n    } else if (itemType.includes('amulet') || itemType.includes('necklace')) {\n      targetSlot = 'amulet';\n    } else if (itemType.includes('belt')) {\n      targetSlot = 'belt';\n    } else if (itemType.includes('ring')) {\n      targetSlot = this.playerCharacter.equipment?.ring1 ? 'ring2' : 'ring1';\n    }\n    \n    if (targetSlot) {\n      this.equipItemToSlot(item, targetSlot);\n      \n      // 햅틱 피드백 (지원하는 경우)\n      if (navigator.vibrate) {\n        navigator.vibrate(50);\n      }\n      \n      this.snackBar.open(`✅ ${item.nameKo || item.name}을(를) 장착했습니다`, '닫기', { \n        duration: 1500, \n        horizontalPosition: 'center', \n        verticalPosition: 'bottom' \n      });\n    } else {\n      this.snackBar.open('❌ 장착할 수 없는 아이템입니다', '닫기', { \n        duration: 1500, \n        horizontalPosition: 'center', \n        verticalPosition: 'bottom' \n      });\n    }\n  }\n  \n  getRarityName(rarity: string): string {\n    const rarityNames: { [key: string]: string } = {\n      'common': '일반',\n      'uncommon': '고급',\n      'rare': '희귀',\n      'epic': '영웅',\n      'legendary': '전설',\n      'unique': '유니크',\n      'mythic': '신화'\n    };\n    return rarityNames[rarity] || rarity;\n  }\n  \n  getTypeName(type: string): string {\n    const typeNames: { [key: string]: string } = {\n      'weapon': '무기',\n      'armor': '방어구',\n      'helmet': '투구',\n      'gloves': '장갑',\n      'boots': '신발',\n      'belt': '허리띠',\n      'amulet': '목걸이',\n      'ring': '반지',\n      'consumable': '소비품',\n      'material': '재료',\n      'quest': '퀘스트',\n      'misc': '기타'\n    };\n    return typeNames[type] || type;\n  }\n  \n  /**\n   * 플레이어 스킬 목록 가져오기\n   */\n  getPlayerSkills(): any[] {\n    return this.playerCharacter.skills || [];\n  }\n  // ==================== 누락된 UI 메서드들 (스텁) ====================\n  \n  scrollToNovels(): void {\n    // 노벨 섹션으로 스크롤\n    const element = document.getElementById('novels-section');\n    element?.scrollIntoView({ behavior: 'smooth' });\n  }\n  \n  navigateToWuxiaGame(): void {\n    // 무협 RPG 게임으로 이동\n    this.router.navigate(['/novel/wuxia-game']);\n  }\n  \n  openCharacterCreator(): void { this.novelState.openCharacterCreator(); }\n  \n  isCharacterSelected(character: GeneratedCharacter): boolean {\n    return this.selectedCharactersForStory.some(c => c.id === character.id);\n  }\n  \n  selectCharacterForStory(character: GeneratedCharacter): void {\n    const index = this.selectedCharactersForStory.findIndex(c => c.id === character.id);\n    if (index >= 0) {\n      this.selectedCharactersForStory.splice(index, 1);\n    } else {\n      this.selectedCharactersForStory.push(character);\n    }\n  }\n  \n  isItemSelected(item: GeneratedItem): boolean {\n    return this.selectedItemsForStory.some(i => i.id === item.id);\n  }\n  \n  selectItemForStory(item: GeneratedItem): void {\n    const index = this.selectedItemsForStory.findIndex(i => i.id === item.id);\n    if (index >= 0) {\n      this.selectedItemsForStory.splice(index, 1);\n    } else {\n      this.selectedItemsForStory.push(item);\n    }\n  }\n  \n  isScenarioSelected(scenario: GeneratedScenario): boolean {\n    return this.selectedScenariosForStory.some(s => s.id === scenario.id);\n  }\n  \n  selectScenarioForStory(scenario: GeneratedScenario): void {\n    const index = this.selectedScenariosForStory.findIndex(s => s.id === scenario.id);\n    if (index >= 0) {\n      this.selectedScenariosForStory.splice(index, 1);\n    } else {\n      this.selectedScenariosForStory.push(scenario);\n    }\n  }\n  \n  async selectChoice(index: number): Promise<void> {\n    // 선택지 처리\n    if (index >= 0 && index < this.choices.length) {\n      const selectedChoice = this.choices[index];\n      \n      // 선택 기록\n      this.currentPath.push(selectedChoice);\n      \n      // 선택에 따른 스토리 진행 (구현 필요 시 추가)\n      this.debugLogger.info('선택지', `✅ 선택: ${selectedChoice}`);\n      \n      // 자동 저장\n      await this.saveGame('autosave');\n    }\n  }\n  \n  selectNovel(novel: NovelTemplate): void { this.selectedNovel = novel; this.novelSelected = true; }\n  \n  formatSaveDate(date: Date | string | undefined): string {\n    if (!date) return '';\n    const d = new Date(date);\n    return d.toLocaleString('ko-KR');\n  }\n  \n  getCurrentTime(): string {\n    return new Date().toLocaleTimeString('ko-KR');\n  }\n  \n  getRoleName(role: string): string {\n    const roles: { [key: string]: string } = {\n      'warrior': '전사', 'mage': '마법사', 'archer': '궁수',\n      'thief': '도적', 'priest': '사제', 'paladin': '성기사'\n    };\n    return roles[role] || role;\n  }\n  \n  // 조직 멤버 선택 (미구현 - 임시)\n  selectMember(member: any): void {\n    this.selectedMember = member;\n  }\n  \n  getStatusName(status: string): string {\n    const statuses: { [key: string]: string } = {\n      'poison': '독', 'stun': '기절', 'burn': '화상',\n      'freeze': '냉기', 'silence': '침묵', 'blind': '실명'\n    };\n    return statuses[status] || status;\n  }\n  \n  getNodeColor(node: StoryNode): string {\n    const colors: { [key: string]: string } = {\n      'start': '#4CAF50', 'story': '#2196F3', 'battle': '#F44336',\n      'event': '#FF9800', 'ending': '#9C27B0'\n    };\n    return colors[node.type] || '#757575';\n  }\n  \n  getNodeBorderColor(node: StoryNode): string {\n    return this.getNodeColor(node);\n  }\n  \n  isArray(value: any): boolean {\n    return Array.isArray(value);\n  }\n  \n  // 아코디언 토글 메서드\n  toggleStories(): void {\n    this.isStoriesExpanded = !this.isStoriesExpanded;\n  }\n  \n  toggleCharacters(): void {\n    this.isCharactersExpanded = !this.isCharactersExpanded;\n  }\n  \n  toggleScenarios(): void {\n    this.isScenariosExpanded = !this.isScenariosExpanded;\n  }\n  \n  toggleItems(): void {\n    this.isItemsExpanded = !this.isItemsExpanded;\n  }\n  \n  toggleShop(): void {\n    this.isShopExpanded = !this.isShopExpanded;\n  }\n  \n  // 캐릭터의 게임 데이터 가져오기\n  getCharacterGameData(characterName: string): any {\n    // 저장된 모든 게임에서 해당 캐릭터 이름의 데이터 찾기\n    const savedGames = localStorage.getItem('novel_games');\n    this.debugLogger.info('캐릭터데이터', `🔍 LocalStorage novel_games: ${savedGames ? '있음' : '없음'}`);\n    \n    if (!savedGames) return null;\n    \n    try {\n      const games = JSON.parse(savedGames);\n      this.debugLogger.info('캐릭터데이터', `📚 전체 게임 목록: ${Object.keys(games).length}개`);\n      \n      // 가장 최근 게임 찾기 (로그 제거 - 너무 많은 출력 방지)\n      const characterGames = Object.values(games).filter((game: any) => {\n        return game?.playerCharacter?.name === characterName;\n      });\n      \n      this.debugLogger.info('캐릭터데이터', `✅ \"${characterName}\" 캐릭터 게임: ${characterGames.length}개`);\n      \n      if (characterGames.length === 0) return null;\n      \n      // 가장 최근 게임 반환\n      const latestGame = characterGames.sort((a: any, b: any) => \n        new Date(b.timestamp || 0).getTime() - new Date(a.timestamp || 0).getTime()\n      )[0];\n      \n      this.debugLogger.info('캐릭터데이터', `🎮 최근 게임 반환 완료`);\n      return latestGame;\n    } catch (error) {\n      this.debugLogger.error('캐릭터데이터', `❌ 게임 데이터 파싱 오류: ${error}`);\n      return null;\n    }\n  }\n  \n  // 캐릭터의 인벤토리 아이템 개수\n  getCharacterInventoryCount(characterName: string): number {\n    const gameData = this.getCharacterGameData(characterName);\n    return gameData?.playerCharacter?.inventory?.length || 0;\n  }\n  \n  // 캐릭터의 골드\n  getCharacterGold(characterName: string): number {\n    const gameData = this.getCharacterGameData(characterName);\n    return gameData?.playerCharacter?.gold || gameData?.gold || 0;\n  }\n  \n  // 캐릭터의 레벨\n  getCharacterLevel(characterName: string): number {\n    const gameData = this.getCharacterGameData(characterName);\n    return gameData?.playerCharacter?.level || 1;\n  }\n  \n  closeAllPanels(): void {\n    this.showCharacterPanel = false;\n    this.novelState.closeInventoryPanel();\n    this.novelState.closeShopPanel();\n  }\n  \n  toggleCharacterPanel(): void { this.showCharacterPanel = !this.showCharacterPanel; }\n  \n  toggleInventoryPanel(): void { this.novelState.toggleInventoryPanel(); }\n  \n  toggleShopPanel(): void { this.novelState.toggleShopPanel(); }\n  \n  toggleStats(): void { this.showStats = !this.showStats; }\n  \n  toggleStoryFlowPanel(): void { this.showStoryFlowPanel = !this.showStoryFlowPanel; }\n  \n  get visibleNodes(): any[] { return this.storyNodes.filter((n: any) => n.isVisible !== false); }\n  \n  openScenarioLinkPanel(choiceIndex: number, nodeId?: string): void {\n    this.currentLinkingChoiceIndex = choiceIndex;\n    if (nodeId) {\n      this.currentLinkingNodeId = nodeId;\n    }\n    this.showScenarioLinkPanel = true;\n  }\n  \n  closeScenarioLinkPanel(): void {\n    this.showScenarioLinkPanel = false;\n    this.currentLinkingNodeId = '';\n    this.currentLinkingChoiceId = '';\n  }\n  \n  linkScenarioToChoice(choiceIndex: number, scenarioId: string): void { this.currentLinkingChoiceId = choiceIndex.toString(); this.linkScenarioToFlowNode(scenarioId); }\n  \n  generateAiCharacter(type?: string): void {\n    this.notification.show(`AI 캐릭터 생성 중... ${type || ''}`);\n  }\n  \n  generateAiScenario(genre?: string, style?: string, mood?: string): void {\n    // AI 시나리오 생성\n    this.notification.show(`AI 시나리오 생성 중... ${genre || ''} ${style || ''} ${mood || ''}`);\n  }\n  \n  saveGeneratedCharacter(): void {\n    // 현재는 간단한 알림만 (실제 DB 저장은 contentManagementHelper 사용)\n    this.notification.show('캐릭터가 저장되었습니다.');\n  }\n  \n  applyGeneratedCharacter(): void {\n    this.notification.show('캐릭터가 적용되었습니다.');\n  }\n  \n  deleteCharacter(character: any, event?: Event): void {\n    if (event) {\n      event.stopPropagation();\n    }\n    if (character.id) {\n      this.contentManagementHelper.deleteCharacter(\n        character.id,\n        async () => {\n          await this.loadSavedCharacters();\n        }\n      );\n    }\n  }\n  \n  async saveGeneratedStory(): Promise<void> {\n    if (!this.generatedStory) {\n      this.notification.warning('저장할 스토리가 없습니다');\n      return;\n    }\n\n    try {\n      // SavedStory 형식으로 변환 (NovelTemplate과 동일한 구조)\n      const savedStory: SavedStory = {\n        id: this.generatedStory.id,\n        title: this.generatedStory.title,\n        description: this.generatedStory.description,\n        genre: this.generatedStory.genre,\n        difficulty: this.generatedStory.difficulty,\n        icon: this.generatedStory.icon,\n        startingGold: this.generatedStory.startingGold,\n        startingItems: this.generatedStory.startingItems,\n        firstStory: this.generatedStory.firstStory,\n        firstChoices: this.generatedStory.firstChoices,\n        createdAt: new Date(),\n        createdBy: 'AI'\n      };\n\n      // IndexedDB에 저장\n      await this.storyDbService.saveStory(savedStory);\n      \n      // 저장된 스토리 목록 다시 로드\n      await this.loadSavedStories();\n      \n      this.notification.success('✅ 스토리가 저장되었습니다!');\n      \n      // 생성된 스토리 클리어 (선택적)\n      // this.clearGeneratedStory();\n      \n    } catch (error) {\n      this.notification.error('스토리 저장 중 오류가 발생했습니다');\n    }\n  }\n  \n  async loadSavedStoryForGame(story: any): Promise<void> {\n    try {\n      const novelTemplate = this.contentManagementHelper.convertStoryToNovelTemplate(story);\n      const gameId = `game_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n      \n      // sessionStorage에 게임 데이터 임시 저장\n      sessionStorage.setItem('newGame_' + gameId, JSON.stringify({\n        novel: novelTemplate\n      }));\n      \n      // 라우터로 게임 화면 이동\n      this.router.navigate(['/novel/game', gameId]);\n      \n      this.notification.show(`📖 \"${story.title}\" 스토리를 시작합니다!`);\n    } catch (error) {\n      this.debugLogger.error('스토리로드', `스토리 시작 실패: ${error}`);\n      this.notification.error('스토리 시작 중 오류가 발생했습니다');\n    }\n  }\n  \n  deleteSavedStory(storyId: string, event?: Event): void {\n    if (event) {\n      event.stopPropagation();\n    }\n    this.contentManagementHelper.deleteStory(\n      storyId,\n      async () => {\n        await this.loadSavedStories();\n      }\n    );\n  }\n  \n  async addGeneratedStoryToList(): Promise<void> {\n    if (!this.generatedStory) {\n      this.notification.warning('시작할 스토리가 없습니다');\n      return;\n    }\n\n    try {\n      // 1. 스토리 저장 (아직 저장 안 된 경우)\n      const existingStory = this.savedStories.find(s => s.id === this.generatedStory!.id);\n      if (!existingStory) {\n        await this.saveGeneratedStory();\n      }\n\n      // 2. 게임 ID 생성\n      const gameId = `game_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n      \n      // 3. sessionStorage에 게임 데이터 임시 저장\n      sessionStorage.setItem('newGame_' + gameId, JSON.stringify({\n        novel: this.generatedStory\n      }));\n      \n      // 4. 라우터로 게임 화면 이동\n      this.router.navigate(['/novel/game', gameId]);\n      \n      this.notification.success(`🎮 \"${this.generatedStory.title}\" 게임을 시작합니다!`);\n      \n    } catch (error) {\n      this.notification.error('게임 시작 중 오류가 발생했습니다');\n    }\n  }\n  \n  clearGeneratedStory(): void { this.generatedStory = null; }\n  \n  async generateStoryFromSavedContent(): Promise<void> {\n    // 입력 검증\n    if (!this.storyTitle || this.storyTitle.trim() === '') {\n      this.notification.warning('스토리 제목을 입력해주세요');\n      return;\n    }\n    \n    if (this.selectedScenariosForStory.length === 0) {\n      this.notification.warning('최소 1개 이상의 시나리오를 선택해주세요');\n      return;\n    }\n    \n    if (this.selectedCharactersForStory.length === 0) {\n      this.notification.warning('최소 1개 이상의 캐릭터를 선택해주세요');\n      return;\n    }\n    \n    if (this.selectedItemsForStory.length === 0) {\n      this.notification.warning('최소 1개 이상의 아이템을 선택해주세요');\n      return;\n    }\n    \n    try {\n      this.isGeneratingStory = true;\n      this.storyGenerationError = '';\n      this.notification.show('🎬 스토리 생성 중...');\n      \n      // 선택된 요소들로 스토리 생성\n      const primaryScenario = this.selectedScenariosForStory[0];\n      const mainCharacter = this.selectedCharactersForStory[0];\n      \n      // NovelTemplate 생성\n      const startingItems: InventoryItem[] = this.selectedItemsForStory.slice(0, 3).map(item => ({\n        id: item.id?.toString() || `item_${Date.now()}`,\n        name: item.name,\n        description: item.description,\n        type: 'misc' as 'weapon' | 'armor' | 'helmet' | 'gloves' | 'boots' | 'belt' | 'amulet' | 'ring' | 'accessory' | 'consumable' | 'material' | 'quest' | 'misc',\n        quantity: 1,\n        grade: item.grade,\n        rarity: 'common' as 'common' | 'uncommon' | 'rare' | 'epic' | 'legendary' | 'unique' | 'mythic',\n        effect: item.effects?.join(', ') || '',\n        icon: '📦'\n      }));\n      \n      this.generatedStory = {\n        id: `story_${Date.now()}`,\n        title: this.storyTitle.trim(),\n        description: primaryScenario.description,\n        icon: '📖',\n        difficulty: 'normal',\n        genre: primaryScenario.genre || '판타지',\n        startingGold: 1000,\n        startingItems: startingItems,\n        firstStory: [\n          `제목: ${this.storyTitle}`,\n          '',\n          `배경: ${primaryScenario.setting}`,\n          `갈등: ${primaryScenario.conflict}`,\n          '',\n          `주인공: ${mainCharacter.name} (${mainCharacter.age}세, ${mainCharacter.gender})`,\n          `${mainCharacter.backstory}`,\n          '',\n          '스토리가 시작됩니다...'\n        ],\n        firstChoices: [\n          '모험을 시작한다',\n          '준비를 더 한다',\n          '상황을 관찰한다'\n        ]\n      };\n      \n      // 캐릭터 정보 추가\n      if (this.generatedStory && this.selectedCharactersForStory.length > 1) {\n        this.generatedStory.firstStory.push('');\n        this.generatedStory.firstStory.push('등장인물:');\n        this.selectedCharactersForStory.slice(1, 4).forEach(char => {\n          if (this.generatedStory) {\n            this.generatedStory.firstStory.push(`- ${char.name}: ${char.occupation}`);\n          }\n        });\n      }\n      \n      // 아이템 정보 추가\n      if (this.generatedStory && this.selectedItemsForStory.length > 0) {\n        this.generatedStory.firstStory.push('');\n        this.generatedStory.firstStory.push('핵심 아이템:');\n        this.selectedItemsForStory.slice(0, 3).forEach(item => {\n          if (this.generatedStory) {\n            this.generatedStory.firstStory.push(`- ${item.name}: ${item.description}`);\n          }\n        });\n      }\n      \n      this.notification.success('✅ 스토리가 생성되었습니다!');\n      this.cdr.detectChanges();\n      \n    } catch (error) {\n      this.storyGenerationError = error instanceof Error ? error.message : '알 수 없는 오류가 발생했습니다';\n      this.notification.error('스토리 생성 중 오류가 발생했습니다');\n    } finally {\n      this.isGeneratingStory = false;\n      this.cdr.detectChanges();\n    }\n  }\n  \n  loadGame(gameId?: string): void {\n    if (gameId) {\n      // 라우터로 게임 화면 이동 (저장된 게임 로드)\n      this.router.navigate(['/novel/game', gameId]);\n    }\n  }\n  \n  buyItem(item: any): void {\n    if (this.playerCharacter.gold >= item.price) {\n      this.playerCharacter.gold -= item.price;\n      this.addToInventory(item, 1);\n      this.notification.show(`${item.name}을(를) 구매했습니다.`);\n    } else {\n      this.notification.show('골드가 부족합니다.');\n    }\n  }\n  \n  changeLayout(layout: string): void {\n    if (layout === 'hierarchical' || layout === 'radial' || layout === 'force') {\n      this.flowLayoutType = layout;\n    }\n  }\n  \n  // UI 패널 관련 메서드\n  toggleFilter(filterType: string): void {\n    // 스토리 플로우 필터 토글\n  }\n  \n  toggleLeftPanel(): void { this.isLeftPanelCollapsed = !this.isLeftPanelCollapsed; }\n  \n  toggleRightPanel(): void { this.isRightPanelCollapsed = !this.isRightPanelCollapsed; }\n  \n  expandLeftPanel(): void { this.isLeftPanelCollapsed = false; }\n  \n  closeLeftPanel(): void { this.isLeftPanelCollapsed = true; }\n  \n  expandRightPanel(): void { this.isRightPanelCollapsed = false; }\n  \n  closeRightPanel(): void { this.isRightPanelCollapsed = true; }\n  \n  switchFlowTab(tab: string): void {\n    if (tab === 'character' || tab === 'map') {\n      this.novelState.setFlowPanelTab(tab as 'character' | 'map');\n    }\n  }\n  \n  // ===== 캔버스 인터랙션 메서드 =====\n  \n  /**\n   * 캔버스 드래그 시작\n   */\n  onCanvasMouseDown(event: MouseEvent): void {\n    // 노드를 클릭한 경우는 드래그 시작하지 않음\n    const target = event.target as HTMLElement;\n    if (target.classList.contains('node-circle') || target.closest('.story-node')) {\n      return;\n    }\n    \n    this.isDraggingCanvas = true;\n    this.dragStartX = event.clientX;\n    this.dragStartY = event.clientY;\n    this.dragStartPanX = this.flowPanX;\n    this.dragStartPanY = this.flowPanY;\n    \n    // 커서 변경\n    const container = event.currentTarget as HTMLElement;\n    container.style.cursor = 'grabbing';\n  }\n  \n  /**\n   * 캔버스 드래그 중\n   */\n  onCanvasMouseMove(event: MouseEvent): void {\n    // 노드 드래그 중\n    if (this.isDraggingNode && this.draggingNode) {\n      const deltaX = event.clientX - this.nodeDragStartX;\n      const deltaY = event.clientY - this.nodeDragStartY;\n      \n      // 5px 이상 이동하면 드래그로 간주 (클릭과 구분)\n      if (Math.abs(deltaX) > 5 || Math.abs(deltaY) > 5) {\n        this.hasNodeMoved = true;\n      }\n      \n      // 줌 레벨을 고려한 노드 이동\n      this.draggingNode.position.x = this.nodeStartX + deltaX / this.flowZoomLevel;\n      this.draggingNode.position.y = this.nodeStartY + deltaY / this.flowZoomLevel;\n      \n      // 연결선 업데이트\n      this.updateConnections();\n      return;\n    }\n    \n    // 캔버스 드래그 중\n    if (this.isDraggingCanvas) {\n      const deltaX = event.clientX - this.dragStartX;\n      const deltaY = event.clientY - this.dragStartY;\n      \n      // 줌 레벨을 고려한 패닝\n      this.flowPanX = this.dragStartPanX + deltaX / this.flowZoomLevel;\n      this.flowPanY = this.dragStartPanY + deltaY / this.flowZoomLevel;\n    }\n  }\n  \n  /**\n   * 캔버스 드래그 종료\n   */\n  onCanvasMouseUp(): void {\n    // 노드 드래그 종료\n    if (this.isDraggingNode) {\n      this.isDraggingNode = false;\n      this.draggingNode = null;\n      \n      // 다음 클릭 처리를 위해 약간의 지연 후 리셋\n      setTimeout(() => {\n        this.hasNodeMoved = false;\n      }, 10);\n    }\n    \n    // 캔버스 드래그 종료\n    if (this.isDraggingCanvas) {\n      this.isDraggingCanvas = false;\n      \n      // 커서 복원\n      const containers = document.querySelectorAll('.flow-canvas-container');\n      containers.forEach(container => {\n        (container as HTMLElement).style.cursor = 'grab';\n      });\n    }\n  }\n  \n  /**\n   * 마우스 휠로 줌\n   */\n  onCanvasWheel(event: WheelEvent): void {\n    event.preventDefault();\n    \n    const zoomSpeed = 0.1;\n    const delta = event.deltaY > 0 ? -zoomSpeed : zoomSpeed;\n    \n    const oldZoom = this.flowZoomLevel;\n    this.flowZoomLevel = Math.max(0.3, Math.min(3.0, this.flowZoomLevel + delta));\n    \n    // 마우스 위치를 중심으로 줌\n    if (oldZoom !== this.flowZoomLevel) {\n      const rect = (event.currentTarget as HTMLElement).getBoundingClientRect();\n      const mouseX = event.clientX - rect.left;\n      const mouseY = event.clientY - rect.top;\n      \n      const zoomRatio = this.flowZoomLevel / oldZoom;\n      this.flowPanX = mouseX - (mouseX - this.flowPanX) * zoomRatio;\n      this.flowPanY = mouseY - (mouseY - this.flowPanY) * zoomRatio;\n    }\n  }\n  \n  /**\n   * SVG transform 문자열 생성\n   */\n  getCanvasTransform(): string {\n    return `translate(${this.flowPanX}, ${this.flowPanY}) scale(${this.flowZoomLevel})`;\n  }\n  \n  /**\n   * 노드 마우스 다운 (드래그 시작)\n   */\n  onNodeMouseDown(node: StoryNode, event: MouseEvent): void {\n    event.stopPropagation();\n    \n    // 노드 드래그 준비\n    this.isDraggingNode = true;\n    this.draggingNode = node;\n    this.nodeDragStartX = event.clientX;\n    this.nodeDragStartY = event.clientY;\n    this.nodeStartX = node.position.x;\n    this.nodeStartY = node.position.y;\n    \n    // 커서 변경\n    event.preventDefault();\n  }\n  \n  /**\n   * 노드 클릭 핸들러\n   */\n  onNodeClick(node: StoryNode, event?: Event): void {\n    if (event) {\n      event.stopPropagation();\n    }\n    \n    // 노드가 실제로 이동했다면 클릭으로 처리하지 않음\n    if (this.hasNodeMoved) {\n      return;\n    }\n    \n    // 노드 선택\n    if (this.selectedNode?.id === node.id) {\n      // 이미 선택된 노드를 다시 클릭하면 선택 해제\n      this.selectedNode = null;\n    } else {\n      this.selectedNode = node;\n    }\n    \n    this.cdr.detectChanges();\n  }\n  \n  /**\n   * 연결선 업데이트 (노드 위치 변경 시)\n   */\n  private updateConnections(): void {\n    this.storyConnections.forEach(conn => {\n      const fromNode = this.storyNodes.find(n => n.id === conn.from);\n      const toNode = this.storyNodes.find(n => n.id === conn.to);\n      \n      if (fromNode && toNode) {\n        // 베지어 곡선으로 연결선 업데이트\n        const midX = (fromNode.position.x + toNode.position.x) / 2;\n        const midY = (fromNode.position.y + toNode.position.y) / 2;\n        const controlOffset = 100;\n        \n        conn.path = `M ${fromNode.position.x},${fromNode.position.y} ` +\n                    `Q ${midX},${midY - controlOffset} ` +\n                    `${toNode.position.x},${toNode.position.y}`;\n      }\n    });\n  }\n  \n  /**\n   * 확대\n   */\n  zoomIn(): void {\n    this.flowZoomLevel = Math.min(3.0, this.flowZoomLevel + 0.2);\n  }\n  \n  /**\n   * 축소\n   */\n  zoomOut(): void {\n    this.flowZoomLevel = Math.max(0.3, this.flowZoomLevel - 0.2);\n  }\n  \n  /**\n   * 줌 초기화\n   */\n  resetZoom(): void {\n    this.flowZoomLevel = 1.0;\n    this.flowPanX = 0;\n    this.flowPanY = 0;\n  }\n  \n  /**\n   * 현재 노드로 포커스 이동\n   */\n  focusOnCurrentNode(): void {\n    const currentNode = this.storyNodes.find(n => n.isCurrent);\n    if (currentNode) {\n      // 노드 위치를 화면 중앙으로\n      const centerX = 600; // SVG 중앙 X\n      const centerY = 400; // SVG 중앙 Y\n      \n      this.flowPanX = centerX - currentNode.position.x * this.flowZoomLevel;\n      this.flowPanY = centerY - currentNode.position.y * this.flowZoomLevel;\n      \n      // 선택도 함께\n      this.selectedNode = currentNode;\n      this.cdr.detectChanges();\n    }\n  }\n  \n  // 스토리 플로우 차트 제어 (레거시)\n  centerView(): void {\n    this.resetZoom();\n  }\n  \n  fitToScreen(): void {\n    this.resetZoom();\n  }\n  \n  /**\n   * 저장된 캐릭터 클릭 시 인벤토리 모달 열기\n   */\n  openCharacterInventory(character: GeneratedCharacter, event: Event): void {\n    event.stopPropagation();\n    \n    this.debugLogger.info('캐릭터인벤토리', `🎒 캐릭터 인벤토리 열기: ${character.name}`);\n    \n    this.selectedCharacterForInventory = character;\n    \n    // 저장된 게임 데이터 확인\n    let gameData = this.getCharacterGameData(character.name);\n    \n    // 게임 데이터가 없으면 캐릭터 정보를 기반으로 기본 게임 데이터 생성\n    if (!gameData) {\n      this.debugLogger.info('캐릭터인벤토리', '🔧 기본 게임 데이터 생성');\n      gameData = this.createDefaultGameData(character);\n    }\n    \n    this.debugLogger.info('캐릭터인벤토리', `📦 게임 데이터: ${gameData ? '존재함' : '없음'}`);\n    \n    if (gameData) {\n      this.selectedCharacterGameData = gameData;\n      this.showCharacterInventoryModal = true;\n      this.debugLogger.info('캐릭터인벤토리', '✅ 모달 열림');\n    } else {\n      this.debugLogger.info('캐릭터인벤토리', '❌ 게임 데이터 생성 실패');\n      this.notification.show('캐릭터 데이터를 불러올 수 없습니다.');\n    }\n  }\n  \n  /**\n   * 캐릭터의 기본 게임 데이터 생성\n   */\n  private createDefaultGameData(character: GeneratedCharacter): GameState {\n    const now = new Date();\n    \n    // 기본 장비 아이템 생성\n    const starterWeapon: EquipmentItem = {\n      name: '초보자의 검',\n      baseType: '검',\n      type: 'weapon',\n      rarity: 'common',\n      itemLevel: 1,\n      requiredLevel: 1,\n      baseStats: {\n        attack: 5,\n        defense: 0\n      }\n    };\n\n    const starterArmor: EquipmentItem = {\n      name: '초보자의 갑옷',\n      baseType: '갑옷',\n      type: 'armor',\n      rarity: 'common',\n      itemLevel: 1,\n      requiredLevel: 1,\n      baseStats: {\n        attack: 0,\n        defense: 3\n      }\n    };\n    \n    // 기본 장비 장착\n    const defaultEquipment: PlayerEquipment = {\n      helmet: undefined,\n      armor: starterArmor,\n      weapon: starterWeapon,\n      gloves: undefined,\n      boots: undefined,\n      belt: undefined,\n      amulet: undefined,\n      ring1: undefined,\n      ring2: undefined\n    };\n    \n    // 기본 인벤토리 아이템 생성\n    const defaultInventory: InventoryItem[] = [\n      {\n        id: 'potion_health_small',\n        name: '체력 물약 (소)',\n        type: 'consumable',\n        rarity: 'common',\n        quantity: 3,\n        icon: '🧪',\n        description: 'HP를 50 회복합니다'\n      },\n      {\n        id: 'potion_mana_small',\n        name: '마나 물약 (소)',\n        type: 'consumable',\n        rarity: 'common',\n        quantity: 2,\n        icon: '💙',\n        description: 'MP를 30 회복합니다'\n      },\n      {\n        id: 'bread',\n        name: '빵',\n        type: 'consumable',\n        rarity: 'common',\n        quantity: 5,\n        icon: '🍞',\n        description: '간단한 식사. HP를 10 회복합니다'\n      }\n    ];\n    \n    // 캐릭터 정보를 PlayerCharacter 형식으로 변환\n    const playerCharacter: PlayerCharacter = {\n      name: character.name,\n      level: 1,\n      exp: 0,\n      maxExp: 100,\n      hp: 100,\n      maxHp: 100,\n      mp: 50,\n      maxMp: 50,\n      attack: 10,\n      defense: 5,\n      agility: 5,\n      strength: 10,\n      intelligence: 10,\n      gold: 100,\n      gem: 0,\n      crystal: 0,\n      ticket: 0,\n      skillPoints: 0,\n      skills: [],\n      equipment: defaultEquipment,\n      inventory: defaultInventory\n    };\n    \n    // 기본 소설 템플릿\n    const defaultTemplate: NovelTemplate = {\n      id: 'default',\n      title: '기본 모험',\n      genre: '판타지',\n      description: '새로운 모험의 시작',\n      icon: '⚔️',\n      difficulty: 'normal',\n      startingGold: 100,\n      startingItems: [],\n      firstStory: ['당신의 모험이 시작됩니다.'],\n      firstChoices: []\n    };\n    \n    // 기본 게임 상태 생성\n    const gameState: GameState = {\n      id: `game_${character.name}_${Date.now()}`,\n      novelId: 'default',\n      novelTitle: '캐릭터 인벤토리',\n      novelTemplate: defaultTemplate,\n      playerCharacter: playerCharacter,\n      storyBlocks: [],\n      currentPath: [],\n      choices: [],\n      gameStarted: false,\n      gold: 100,\n      inventory: defaultInventory,\n      completedQuests: [],\n      currentChapter: 0,\n      saveDate: now\n    };\n    \n    return gameState;\n  }\n  \n  /**\n   * 캐릭터 인벤토리 모달 닫기\n   */\n  closeCharacterInventory(): void {\n    this.showCharacterInventoryModal = false;\n    this.selectedCharacterForInventory = null;\n    this.selectedCharacterGameData = null;\n    this.characterInventoryTab = 'equipment';\n  }\n\n  /**\n   * 캐릭터를 위한 아이템 구매\n   */\n  buyItemForCharacter(item: any, event: Event): void {\n    event.stopPropagation();\n    \n    if (!this.selectedCharacterGameData) {\n      this.notification.show('캐릭터 데이터를 찾을 수 없습니다.');\n      return;\n    }\n    \n    const price = item.price || this.calculateItemPriceByGrade(item.grade);\n    \n    // 골드 확인\n    if (this.selectedCharacterGameData.playerCharacter.gold < price) {\n      this.notification.show('골드가 부족합니다!');\n      return;\n    }\n    \n    // 인벤토리 초기화 확인\n    if (!this.selectedCharacterGameData.playerCharacter.inventory) {\n      this.selectedCharacterGameData.playerCharacter.inventory = [];\n    }\n    \n    // 인벤토리 공간 확인\n    if (this.selectedCharacterGameData.playerCharacter.inventory.length >= this.maxInventorySize) {\n      this.notification.show('인벤토리가 가득 찼습니다!');\n      return;\n    }\n    \n    // 골드 차감\n    this.selectedCharacterGameData.playerCharacter.gold -= price;\n    \n    // 인벤토리에 아이템 추가\n    const inventoryItem: InventoryItem = {\n      id: `item_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n      name: item.name,\n      description: item.description,\n      type: this.mapItemTypeToInventoryType(item.type),\n      quantity: 1,\n      rarity: this.mapGradeToRarity(item.grade),\n      icon: '📦',\n      stats: item.stats || {}\n    };\n    \n    this.selectedCharacterGameData.playerCharacter.inventory.push(inventoryItem);\n    \n    // LocalStorage에 저장\n    this.saveCharacterGameData();\n    \n    this.debugLogger.info('캐릭터상점', `✅ ${item.name} 구매 완료 (${price}G)`);\n    this.notification.show(`${item.name}을(를) 구매했습니다! (-${price}G)`);\n  }\n  \n  /**\n   * 캐릭터 게임 데이터 저장\n   */\n  private saveCharacterGameData(): void {\n    if (!this.selectedCharacterGameData) return;\n    \n    try {\n      const savedGames = localStorage.getItem('novel_games');\n      const games = savedGames ? JSON.parse(savedGames) : {};\n      \n      // 게임 데이터 업데이트\n      games[this.selectedCharacterGameData.id] = this.selectedCharacterGameData;\n      \n      localStorage.setItem('novel_games', JSON.stringify(games));\n      this.debugLogger.info('캐릭터데이터', '💾 게임 데이터 저장 완료');\n    } catch (error) {\n      this.debugLogger.error('캐릭터데이터', `❌ 게임 데이터 저장 실패: ${error}`);\n    }\n  }\n  \n  /**\n   * 아이템 타입 매핑 (상점 → 인벤토리)\n   */\n  private mapItemTypeToInventoryType(shopType: string): InventoryItem['type'] {\n    const typeMap: Record<string, InventoryItem['type']> = {\n      '무기': 'weapon',\n      '방어구': 'armor',\n      '투구': 'helmet',\n      '장갑': 'gloves',\n      '신발': 'boots',\n      '허리띠': 'belt',\n      '목걸이': 'amulet',\n      '반지': 'ring',\n      '장신구': 'accessory',\n      '소모품': 'consumable',\n      '재료': 'material',\n      '퀘스트': 'quest',\n      '기타': 'misc'\n    };\n    \n    return typeMap[shopType] || 'misc';\n  }\n  \n  /**\n   * 등급 매핑 (상점 → 인벤토리)\n   */\n  private mapGradeToRarity(grade: string): InventoryItem['rarity'] {\n    const rarityMap: Record<string, InventoryItem['rarity']> = {\n      '일반': 'common',\n      '고급': 'uncommon',\n      '희귀': 'rare',\n      '영웅': 'epic',\n      '전설': 'legendary',\n      '신화': 'mythic',\n      '유니크': 'unique'\n    };\n    \n    return rarityMap[grade] || 'common';\n  }\n\n  /**\n   * 캐릭터 인벤토리의 빈 슬롯 생성\n   */\n  getEmptyCharacterInventorySlots(): number[] {\n    if (!this.selectedCharacterGameData?.playerCharacter?.inventory) {\n      return Array(this.maxInventorySize).fill(0);\n    }\n    \n    const currentCount = this.selectedCharacterGameData.playerCharacter.inventory.length;\n    const emptyCount = Math.max(0, this.maxInventorySize - currentCount);\n    return Array(emptyCount).fill(0);\n  }\n  \n  /**\n   * 캐릭터의 장착 아이템 가져오기\n   */\n  getCharacterEquipment(): PlayerEquipment | null {\n    return this.selectedCharacterGameData?.playerCharacter?.equipment || null;\n  }\n  \n  /**\n   * 캐릭터의 인벤토리 아이템 가져오기\n   */\n  getCharacterInventory(): InventoryItem[] {\n    return this.selectedCharacterGameData?.playerCharacter?.inventory || [];\n  }\n  \n  /**\n   * $any() 헬퍼 - 템플릿에서 타입 체크 우회\n   */\n  asAny(value: any): any {\n    return value;\n  }\n  \n  loadCharacter(character: any): void { this.generatedCharacter = character; }\n}\n", "<!-- 책 표지 -->\n<div class=\"novel-book-container\"\n     [class.mobile]=\"responsiveService.isMobile$ | async\"\n     [class.tablet]=\"responsiveService.isTablet$ | async\">\n  <!-- 홈 화면 - Store 스타일 -->\n  <div class=\"novel-home-screen\" \n       *ngIf=\"!novelSelected && !gameStarted\"\n       [class.mobile]=\"responsiveService.isMobile$ | async\">\n    \n    <!-- 모바일 고정 헤더 -->\n    <div class=\"mobile-home-header\" *ngIf=\"responsiveService.isMobile$ | async\">\n      <div class=\"header-brand\">\n        <h1>🏰 텍스트던전</h1>\n      </div>\n      <div class=\"header-user-actions\">\n        <div class=\"user-badge\" *ngIf=\"getCurrentUsername()\">\n          <span>👤 {{getCurrentUsername()}}</span>\n        </div>\n        <button class=\"header-logout-btn\" (click)=\"logout()\" title=\"로그아웃\">\n          🚪\n        </button>\n      </div>\n    </div>\n    \n    <div class=\"home-container\">\n      <!-- 환영 섹션 -->\n      <div class=\"welcome-section\">\n        <div class=\"welcome-header\">\n          <div class=\"header-content\">\n            <h2>🏰 텍스트던전</h2>\n            <p class=\"subtitle\">당신의 선택이 만들어가는 이야기</p>\n          </div>\n          <div class=\"header-actions\">\n            <div class=\"user-info\" *ngIf=\"getCurrentUsername()\">\n              <span class=\"user-name\">👤 {{getCurrentUsername()}}</span>\n            </div>\n            <button class=\"logout-btn\" (click)=\"logout()\" title=\"로그아웃\">\n              🚪 로그아웃\n            </button>\n          </div>\n        </div>\n        \n        <div class=\"quick-actions\">\n          <div class=\"action-card featured\" (click)=\"scrollToNovels()\">\n            <div class=\"card-icon\">🎮</div>\n            <h3>새로운 모험</h3>\n            <p>다양한 장르의 소설 선택</p>\n            <div class=\"card-badge\">{{novelTemplates.length}}개</div>\n          </div>\n          \n          <div class=\"action-card wuxia-special\" (click)=\"navigateToWuxiaGame()\">\n            <div class=\"card-icon\">⚔️</div>\n            <h3>묵향지연 (墨香之緣)</h3>\n            <p>텍스트 기반 무협 RPG</p>\n            <div class=\"card-badge wuxia-badge\">무협</div>\n          </div>\n          \n          <div class=\"action-card ai-special\" (click)=\"openCharacterCreator()\">\n            <div class=\"card-icon\">🎭</div>\n            <h3>AI 캐릭터 생성</h3>\n            <p>Loworld AI로 캐릭터 만들기</p>\n            <div class=\"card-badge ai-badge\">AI</div>\n          </div>\n          \n          <div class=\"action-card ai-special\" (click)=\"openScenarioCreator()\">\n            <div class=\"card-icon\">🎬</div>\n            <h3>AI 시나리오 생성</h3>\n            <p>Loworld AI로 상황 만들기</p>\n            <div class=\"card-badge ai-badge\">AI</div>\n          </div>\n          \n          <div class=\"action-card ai-special\" (click)=\"openItemCreator()\">\n            <div class=\"card-icon\">💎</div>\n            <h3>AI 아이템 생성</h3>\n            <p>Loworld AI로 무기/아이템 만들기</p>\n            <div class=\"card-badge ai-badge\">AI</div>\n          </div>\n          \n          <div class=\"action-card premium\" (click)=\"toggleStoryCreatorPanel()\">\n            <div class=\"card-icon\">✨</div>\n            <h3>스토리 생성</h3>\n            <p>저장된 콘텐츠로 새 이야기 만들기</p>\n            <div class=\"card-badge premium-badge\">NEW</div>\n          </div>\n          \n          <div class=\"action-card ai-special\" (click)=\"autoGenerateStoryElements()\">\n            <div class=\"card-icon\">🎨</div>\n            <h3>스토리 요소 자동 생성</h3>\n            <p>필요한 시나리오/캐릭터/아이템 한번에 생성</p>\n            <div class=\"card-badge ai-badge\">AI</div>\n          </div>\n          \n          <div class=\"action-card\" (click)=\"checkStoryElementStatus()\">\n            <div class=\"card-icon\">📊</div>\n            <h3>요소 현황 확인</h3>\n            <p>현재 보유한 스토리 요소 확인</p>\n          </div>\n        </div>\n        \n        <!-- 스토리 요소 생성 진행 표시 -->\n        <div class=\"generation-progress\" *ngIf=\"isGeneratingElements\">\n          <div class=\"progress-container\">\n            <div class=\"progress-spinner\"></div>\n            <div class=\"progress-text\">{{elementGenerationProgress}}</div>\n          </div>\n        </div>\n        \n        <!-- 스토리 생성기 패널 -->\n        <div class=\"story-creator-panel\" *ngIf=\"showStoryCreatorPanel\">\n          <div class=\"creator-container\">\n            <div class=\"creator-header\">\n              <h3>✨ 스토리 생성기</h3>\n              <button class=\"close-btn\" (click)=\"toggleStoryCreatorPanel()\">✕</button>\n            </div>\n\n            <div class=\"creator-intro\">\n              <h4>저장된 콘텐츠로 새로운 이야기를 만들어보세요</h4>\n              <p>캐릭터, 아이템, 시나리오를 선택하면 Loworld AI가 흥미진진한 인터랙티브 소설을 생성합니다.</p>\n            </div>\n\n            <!-- 에러 메시지 -->\n            <div class=\"error-message\" *ngIf=\"storyGenerationError\">\n              {{storyGenerationError}}\n            </div>\n\n            <!-- 스토리 제목 입력 -->\n            <div class=\"title-input-section\">\n              <label for=\"storyTitle\">\n                <span class=\"label-icon\">📖</span>\n                <span class=\"label-text\">스토리 제목</span>\n                <span class=\"required\">*</span>\n              </label>\n              <input \n                type=\"text\" \n                id=\"storyTitle\"\n                [(ngModel)]=\"storyTitle\"\n                placeholder=\"예: 검은 용의 전설, 마법사의 여정, 비밀의 숲...\"\n                maxlength=\"50\"\n                class=\"title-input\">\n              <div class=\"char-count\">{{storyTitle.length}}/50</div>\n            </div>\n\n            <div class=\"selection-section\">\n              <!-- 캐릭터 선택 -->\n              <div class=\"select-group\">\n                <h5>🎭 주인공 선택 <span class=\"selection-count\">({{selectedCharactersForStory.length}}개 선택됨)</span></h5>\n                <div class=\"select-grid\">\n                  <div \n                    class=\"select-item\"\n                    [class.selected]=\"isCharacterSelected(character)\"\n                    *ngFor=\"let character of savedCharacters\"\n                    (click)=\"selectCharacterForStory(character)\">\n                    <div class=\"item-name\">{{character.name}}</div>\n                    <div class=\"item-desc\">{{character.occupation}}</div>\n                  </div>\n                </div>\n                <p class=\"no-content\" *ngIf=\"savedCharacters.length === 0\">\n                  저장된 캐릭터가 없습니다. AI 캐릭터 생성을 먼저 이용해주세요.\n                </p>\n              </div>\n\n              <!-- 아이템 선택 -->\n              <div class=\"select-group\">\n                <h5>💎 핵심 아이템 선택 <span class=\"selection-count\">({{selectedItemsForStory.length}}개 선택됨)</span></h5>\n                <div class=\"select-grid\">\n                  <div \n                    class=\"select-item\"\n                    [class.selected]=\"isItemSelected(item)\"\n                    *ngFor=\"let item of savedItems\"\n                    (click)=\"selectItemForStory(item)\">\n                    <div class=\"item-name\">{{item.name}}</div>\n                    <div class=\"item-desc\">{{item.type}} · {{item.grade}}</div>\n                  </div>\n                </div>\n                <p class=\"no-content\" *ngIf=\"savedItems.length === 0\">\n                  저장된 아이템이 없습니다. AI 아이템 생성을 먼저 이용해주세요.\n                </p>\n              </div>\n\n              <!-- 시나리오 선택 -->\n              <div class=\"select-group\">\n                <h5>🎬 시나리오 선택 <span class=\"selection-count\">({{selectedScenariosForStory.length}}개 선택됨)</span></h5>\n                <div class=\"select-grid\">\n                  <div \n                    class=\"select-item\"\n                    [class.selected]=\"isScenarioSelected(scenario)\"\n                    *ngFor=\"let scenario of savedScenarios\"\n                    (click)=\"selectScenarioForStory(scenario)\">\n                    <div class=\"item-name\">{{scenario.title}}</div>\n                    <div class=\"item-desc\">{{scenario.genre}}</div>\n                  </div>\n                </div>\n                <p class=\"no-content\" *ngIf=\"savedScenarios.length === 0\">\n                  저장된 시나리오가 없습니다. AI 시나리오 생성을 먼저 이용해주세요.\n                </p>\n              </div>\n            </div>\n\n            <!-- 생성 버튼 -->\n            <div class=\"creator-actions\">\n              <button \n                class=\"generate-story-btn\"\n                [disabled]=\"isGeneratingStory || !storyTitle || storyTitle.trim() === '' || selectedCharactersForStory.length === 0 || selectedItemsForStory.length === 0 || selectedScenariosForStory.length === 0\"\n                (click)=\"generateStoryFromSavedContent()\">\n                <span *ngIf=\"!isGeneratingStory\">🎬 스토리 생성</span>\n                <span *ngIf=\"isGeneratingStory\">⏳ 생성 중...</span>\n              </button>\n            </div>\n\n            <!-- 생성된 스토리 결과 -->\n            <div class=\"generated-story-result\" *ngIf=\"generatedStory\">\n              <h4>✅ 스토리가 생성되었습니다!</h4>\n              \n              <div class=\"story-preview\">\n                <div class=\"story-title\">\n                  <span class=\"story-icon\">{{generatedStory.icon}}</span>\n                  <h3>{{generatedStory.title}}</h3>\n                </div>\n                <p class=\"story-desc\">{{generatedStory.description}}</p>\n                <div class=\"story-meta\">\n                  <span class=\"meta-item\">📚 {{generatedStory.genre}}</span>\n                  <span class=\"meta-item\">⚔️ {{generatedStory.difficulty === 'easy' ? '쉬움' : generatedStory.difficulty === 'normal' ? '보통' : '어려움'}}</span>\n                  <span class=\"meta-item\">💰 {{generatedStory.startingGold}}G</span>\n                </div>\n                <div class=\"story-intro\">\n                  <h5>첫 번째 장면</h5>\n                  <p *ngFor=\"let line of generatedStory.firstStory\">{{line}}</p>\n                </div>\n              </div>\n\n              <div class=\"story-actions\">\n                <button class=\"save-btn\" (click)=\"saveGeneratedStory()\">\n                  💾 스토리 저장\n                </button>\n                <button class=\"start-btn\" (click)=\"addGeneratedStoryToList()\">\n                  🎮 게임 시작\n                </button>\n                <button class=\"regenerate-btn\" (click)=\"clearGeneratedStory()\">\n                  🔄 다시 생성\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <!-- 저장된 스토리 섹션 -->\n        <div class=\"saved-section saved-stories-section\" *ngIf=\"savedStories.length > 0\">\n          <div class=\"section-header-collapsible\" (click)=\"toggleStories()\">\n            <div class=\"header-left\">\n              <span class=\"expand-icon\">{{ isStoriesExpanded ? '▼' : '▶' }}</span>\n              <h3>📚 저장된 스토리</h3>\n              <span class=\"count-badge\">{{ savedStories.length }}</span>\n            </div>\n            <button class=\"toggle-btn\" (click)=\"toggleStories(); $event.stopPropagation()\">\n              {{ isStoriesExpanded ? '접기' : '펼치기' }}\n            </button>\n          </div>\n\n          <div class=\"section-content\" *ngIf=\"isStoriesExpanded\">\n            <p class=\"section-desc\">AI가 생성한 나만의 이야기들</p>\n            <div class=\"stories-grid\">\n              <div \n                class=\"story-card\"\n                *ngFor=\"let story of savedStories\"\n                (click)=\"loadSavedStoryForGame(story)\">\n                <div class=\"story-header\">\n                  <div class=\"story-icon-title\">\n                    <span class=\"story-icon\">{{story.icon}}</span>\n                    <h4>{{story.title}}</h4>\n                  </div>\n                  <button class=\"delete-btn\" (click)=\"deleteSavedStory(story.id, $event)\">\n                    🗑️\n                  </button>\n                </div>\n                <div class=\"story-meta\">\n                  <span class=\"meta-item\">📚 {{story.genre}}</span>\n                  <span class=\"meta-item\">⚔️ {{story.difficulty === 'easy' ? '쉬움' : story.difficulty === 'normal' ? '보통' : '어려움'}}</span>\n                  <span class=\"meta-item\">💰 {{story.startingGold}}G</span>\n                </div>\n                <p class=\"story-description\">{{story.description}}</p>\n                <div class=\"story-footer\">\n                  <span class=\"date\">{{formatSaveDate(story.createdAt)}}</span>\n                  <span class=\"created-by\">🤖 AI 생성</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <!-- 저장된 캐릭터 섹션 -->\n        <div class=\"saved-section saved-characters-section\" *ngIf=\"savedCharacters.length > 0\">\n          <div class=\"section-header-collapsible\" (click)=\"toggleCharacters()\">\n            <div class=\"header-left\">\n              <span class=\"expand-icon\">{{ isCharactersExpanded ? '▼' : '▶' }}</span>\n              <h3>🎭 저장된 캐릭터</h3>\n              <span class=\"count-badge\">{{ savedCharacters.length }}</span>\n            </div>\n            <button class=\"toggle-btn\" (click)=\"toggleCharacters(); $event.stopPropagation()\">\n              {{ isCharactersExpanded ? '접기' : '펼치기' }}\n            </button>\n          </div>\n\n          <div class=\"section-content\" *ngIf=\"isCharactersExpanded\">\n            <p class=\"section-desc\">AI가 생성한 캐릭터들</p>\n            <div class=\"characters-grid\">\n              <div \n                class=\"character-card\"\n                *ngFor=\"let character of savedCharacters\"\n                (click)=\"openCharacterInventory(character, $event)\">\n                <div class=\"character-header\">\n                  <h4>{{character.name}}</h4>\n                  <button class=\"delete-btn\" (click)=\"character.id && deleteCharacter(character.id, $event)\">\n                    🗑️\n                  </button>\n                </div>\n                <div class=\"character-meta\">\n                  <span class=\"meta-item\">👤 {{character.gender}}</span>\n                  <span class=\"meta-item\">📅 {{character.age}}세</span>\n                  <span class=\"meta-item\">💼 {{character.occupation}}</span>\n                </div>\n                <p class=\"character-desc\">{{character.backstory}}</p>\n                <div class=\"character-traits\" *ngIf=\"isArray(character.personality)\">\n                  <span class=\"trait\" *ngFor=\"let trait of character.personality.slice(0, 3)\">{{trait}}</span>\n                </div>\n                <div class=\"character-traits\" *ngIf=\"!isArray(character.personality) && character.personality\">\n                  <span class=\"trait\">{{character.personality}}</span>\n                </div>\n                <div class=\"character-footer\">\n                  <span class=\"date\">{{formatSaveDate(character.createdAt)}}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <!-- 저장된 시나리오 섹션 -->\n        <div class=\"saved-section saved-scenarios-section\" *ngIf=\"savedScenarios.length > 0\">\n          <div class=\"section-header-collapsible\" (click)=\"toggleScenarios()\">\n            <div class=\"header-left\">\n              <span class=\"expand-icon\">{{ isScenariosExpanded ? '▼' : '▶' }}</span>\n              <h3>🎬 저장된 시나리오</h3>\n              <span class=\"count-badge\">{{ savedScenarios.length }}</span>\n            </div>\n            <button class=\"toggle-btn\" (click)=\"toggleScenarios(); $event.stopPropagation()\">\n              {{ isScenariosExpanded ? '접기' : '펼치기' }}\n            </button>\n          </div>\n\n          <div class=\"section-content\" *ngIf=\"isScenariosExpanded\">\n            <p class=\"section-desc\">AI가 생성한 시나리오들</p>\n            <div class=\"scenarios-grid\">\n              <div \n                class=\"scenario-card\"\n                *ngFor=\"let scenario of savedScenarios\"\n                (click)=\"loadScenario(scenario)\">\n                <div class=\"scenario-header\">\n                  <h4>{{scenario.title}}</h4>\n                  <button class=\"delete-btn\" (click)=\"deleteScenario(scenario.id); $event.stopPropagation()\">\n                    🗑️\n                  </button>\n                </div>\n                <p class=\"scenario-desc\">{{scenario.description}}</p>\n                <div class=\"scenario-tags\" *ngIf=\"isArray(scenario.tags) && scenario.tags.length > 0\">\n                  <span class=\"tag\" *ngFor=\"let tag of scenario.tags.slice(0, 3)\">{{tag}}</span>\n                </div>\n                <div class=\"scenario-meta\">\n                  <span class=\"genre\">{{scenario.genre}}</span>\n                  <span class=\"date\">{{formatSaveDate(scenario.createdAt)}}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- 저장된 아이템 섹션 -->\n        <div class=\"saved-section saved-items-section\" *ngIf=\"savedItems.length > 0\">\n          <div class=\"section-header-collapsible\" (click)=\"toggleItems()\">\n            <div class=\"header-left\">\n              <span class=\"expand-icon\">{{ isItemsExpanded ? '▼' : '▶' }}</span>\n              <h3>💎 저장된 아이템</h3>\n              <span class=\"count-badge\">{{ savedItems.length }}</span>\n            </div>\n            <button class=\"toggle-btn\" (click)=\"toggleItems(); $event.stopPropagation()\">\n              {{ isItemsExpanded ? '접기' : '펼치기' }}\n            </button>\n          </div>\n\n          <div class=\"section-content\" *ngIf=\"isItemsExpanded\">\n            <p class=\"section-desc\">AI가 생성한 무기와 아이템들</p>\n            <div class=\"items-grid\">\n              <div \n                class=\"item-card\"\n                *ngFor=\"let item of savedItems\"\n                [class.grade-legendary]=\"item.grade === '신화' || item.grade === '전설'\"\n                [class.grade-rare]=\"item.grade === '희귀'\"\n                [class.grade-uncommon]=\"item.grade === '고급'\"\n                (click)=\"loadItem(item)\">\n                <div class=\"item-header\">\n                  <h4>{{item.name}}</h4>\n                  <button class=\"delete-btn\" (click)=\"item.id && deleteItem(item.id, $event)\">\n                    🗑️\n                  </button>\n                </div>\n                <p class=\"item-desc\">{{item.description}}</p>\n                <div class=\"item-stats\" *ngIf=\"item.stats\">\n                  <span class=\"stat\" *ngIf=\"item.stats.attack\">⚔️ {{item.stats.attack}}</span>\n                  <span class=\"stat\" *ngIf=\"item.stats.defense\">🛡️ {{item.stats.defense}}</span>\n                  <span class=\"stat\" *ngIf=\"item.stats.hp\">❤️ {{item.stats.hp}}</span>\n                  <span class=\"stat\" *ngIf=\"item.stats.mp\">💙 {{item.stats.mp}}</span>\n                </div>\n                <div class=\"item-tags\">\n                  <span class=\"tag type-tag\">{{item.type}}</span>\n                  <span class=\"tag grade-tag\">{{item.grade}}</span>\n                  <span class=\"tag\" *ngFor=\"let tag of (item.tags || []).slice(0, 2)\">{{tag}}</span>\n                </div>\n                <div class=\"item-meta\">\n                  <span class=\"date\">{{formatSaveDate(item.createdAt)}}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- AI 아이템 상점 섹션 -->\n        <div class=\"saved-section shop-section\" *ngIf=\"savedItems.length > 0\">\n          <div class=\"section-header-collapsible shop-header\" (click)=\"toggleShop()\">\n            <div class=\"header-left\">\n              <span class=\"expand-icon\">{{ isShopExpanded ? '▼' : '▶' }}</span>\n              <h3>🛒 AI 아이템 상점</h3>\n              <span class=\"count-badge shop-badge\">{{ savedItems.length }}</span>\n              <span class=\"gold-badge\">💰 {{gold}}G</span>\n            </div>\n            <button class=\"toggle-btn\" (click)=\"toggleShop(); $event.stopPropagation()\">\n              {{ isShopExpanded ? '접기' : '펼치기' }}\n            </button>\n          </div>\n\n          <div class=\"section-content\" *ngIf=\"isShopExpanded\">\n            <p class=\"section-desc\">AI가 생성한 아이템을 골드로 구매하세요</p>\n            <div class=\"shop-items-grid\">\n              <div \n                class=\"shop-item-card\"\n                *ngFor=\"let item of savedItems\"\n                [class.grade-legendary]=\"item.grade === '신화' || item.grade === '전설'\"\n                [class.grade-rare]=\"item.grade === '희귀'\"\n                [class.grade-uncommon]=\"item.grade === '고급'\">\n                <div class=\"item-header\">\n                  <h4>{{item.name}}</h4>\n                  <div class=\"item-price\">{{item.price || calculateItemPriceByGrade(item.grade)}}G</div>\n                </div>\n                <p class=\"item-desc\">{{item.description}}</p>\n                <div class=\"item-stats\" *ngIf=\"item.stats\">\n                  <span class=\"stat\" *ngIf=\"item.stats.attack\">⚔️ {{item.stats.attack}}</span>\n                  <span class=\"stat\" *ngIf=\"item.stats.defense\">🛡️ {{item.stats.defense}}</span>\n                  <span class=\"stat\" *ngIf=\"item.stats.hp\">❤️ {{item.stats.hp}}</span>\n                  <span class=\"stat\" *ngIf=\"item.stats.mp\">💙 {{item.stats.mp}}</span>\n                </div>\n                <div class=\"item-tags\">\n                  <span class=\"tag type-tag\">{{item.type}}</span>\n                  <span class=\"tag grade-tag\">{{item.grade}}</span>\n                </div>\n                <div class=\"item-footer\">\n                  <button \n                    class=\"buy-btn\"\n                    [class.insufficient-gold]=\"gold < (item.price || calculateItemPriceByGrade(item.grade))\"\n                    (click)=\"buyItemFromShop(item, $event)\">\n                    <span *ngIf=\"gold >= (item.price || calculateItemPriceByGrade(item.grade))\">💰 구매하기</span>\n                    <span *ngIf=\"gold < (item.price || calculateItemPriceByGrade(item.grade))\">💸 골드 부족</span>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- 게임 레이아웃 -->\n  <div class=\"game-layout\" \n       *ngIf=\"gameStarted\"\n       [class.mobile]=\"responsiveService.isMobile$ | async\"\n       [class.tablet]=\"responsiveService.isTablet$ | async\"\n       [class.desktop]=\"responsiveService.isDesktop$ | async\">\n    <!-- 좌측 패널 -->\n    <div class=\"left-panel-container\" \n         [class.collapsed]=\"isLeftPanelCollapsed\"\n         [class.mobile]=\"responsiveService.isMobile$ | async\">\n      <div class=\"side-panel left-panel\">\n        <div class=\"collapsed-view\" *ngIf=\"isLeftPanelCollapsed\" (click)=\"expandLeftPanel()\">\n          <div class=\"collapse-icon\">📚</div>\n          <div class=\"collapse-text\">메뉴</div>\n        </div>\n        <div class=\"expanded-view\" *ngIf=\"!isLeftPanelCollapsed\">\n          <div class=\"panel-header\">\n            <h3>🎮 게임 메뉴</h3>\n            <button class=\"close-btn\" (click)=\"closeLeftPanel()\">×</button>\n          </div>\n          <div class=\"panel-content\">\n            <button class=\"menu-item\" (click)=\"saveGame()\">💾 게임 저장</button>\n            <button class=\"menu-item\" (click)=\"loadGame()\">📂 게임 불러오기</button>\n            <button class=\"menu-item\" (click)=\"toggleCharacterPanel()\">👤 캐릭터 정보</button>\n            <button class=\"menu-item\" (click)=\"openCharacterCreator()\">🎭 AI 캐릭터 생성</button>\n            <button class=\"menu-item\" (click)=\"toggleInventoryPanel()\">🎒 인벤토리 ({{inventory.length}})</button>\n            <button class=\"menu-item\" (click)=\"toggleShopPanel()\">🛒 상점</button>\n            <button class=\"menu-item\" (click)=\"startBattle()\">⚔️ 전투하기</button>\n            \n            <div class=\"menu-divider\"></div>\n            <div class=\"menu-section-title\">🎲 아이템 관리</div>\n            <button class=\"menu-item success\" (click)=\"generateRandomItems()\">✨ 랜덤 아이템 생성</button>\n            <button class=\"menu-item warning\" (click)=\"resetInventory()\">🔄 인벤토리 초기화</button>\n            \n            <div class=\"menu-divider\"></div>\n            <div class=\"menu-section-title\">⚙️ 개발자 도구</div>\n            <button class=\"menu-item\" (click)=\"debugInventory()\">🔍 인벤토리 디버그</button>\n            <button class=\"menu-item danger\" (click)=\"resetGameData()\">🗑️ 게임 데이터 초기화</button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 메인 컨텐츠 -->\n    <div class=\"main-content-area\"\n         [class.mobile]=\"responsiveService.isMobile$ | async\">\n      <!-- 상태바 -->\n      <div class=\"game-status-bar\"\n           [class.mobile]=\"responsiveService.isMobile$ | async\">\n        <button class=\"toggle-btn\" (click)=\"toggleLeftPanel()\" title=\"메뉴\">\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n            <line x1=\"3\" y1=\"12\" x2=\"21\" y2=\"12\"></line>\n            <line x1=\"3\" y1=\"6\" x2=\"21\" y2=\"6\"></line>\n            <line x1=\"3\" y1=\"18\" x2=\"21\" y2=\"18\"></line>\n          </svg>\n        </button>\n        <button class=\"back-home-btn\" (click)=\"backToNovelSelection()\" title=\"홈으로 돌아가기\">\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n            <path d=\"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"></path>\n            <polyline points=\"9 22 9 12 15 12 15 22\"></polyline>\n          </svg>\n          <span>홈</span>\n        </button>\n        \n        <!-- 데스크톱 - 모든 버튼 표시 -->\n        <div class=\"status-bar-actions\" *ngIf=\"responsiveService.isDesktop$ | async\">\n          <button class=\"equipment-btn\" \n                  (click)=\"toggleCharacterPanel()\" \n                  [class.active]=\"showCharacterPanel\"\n                  title=\"캐릭터 & 장비\">\n            <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n              <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"></path>\n              <circle cx=\"12\" cy=\"7\" r=\"4\"></circle>\n            </svg>\n            <span>캐릭터</span>\n          </button>\n          <button class=\"inventory-btn\" \n                  (click)=\"toggleInventoryPanel()\" \n                  [class.active]=\"showInventoryPanel\"\n                  title=\"인벤토리\">\n            <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n              <path d=\"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z\"></path>\n              <polyline points=\"3.27 6.96 12 12.01 20.73 6.96\"></polyline>\n              <line x1=\"12\" y1=\"22.08\" x2=\"12\" y2=\"12\"></line>\n            </svg>\n            <span>인벤토리 ({{inventory.length}})</span>\n          </button>\n          <button class=\"dungeon-btn\" \n                  (click)=\"openDungeonDialog()\" \n                  title=\"던전 탐험\">\n            <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n              <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect>\n              <line x1=\"9\" y1=\"3\" x2=\"9\" y2=\"21\"></line>\n              <line x1=\"15\" y1=\"3\" x2=\"15\" y2=\"21\"></line>\n              <line x1=\"3\" y1=\"9\" x2=\"21\" y2=\"9\"></line>\n              <line x1=\"3\" y1=\"15\" x2=\"21\" y2=\"15\"></line>\n            </svg>\n            <span>던전</span>\n          </button>\n          <button class=\"training-btn\" \n                  (click)=\"toggleWuxiaPanel()\" \n                  [class.active]=\"showWuxiaPanel\"\n                  title=\"수련 모드\">\n            <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n              <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\n              <path d=\"M12 1v6m0 6v6m11-7h-6m-6 0H1\"></path>\n            </svg>\n            <span>수련</span>\n          </button>\n          <button class=\"flow-btn\" \n                  (click)=\"toggleAdvancedFlowPanel()\" \n                  title=\"고급 스토리 플로우\">\n            <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n              <circle cx=\"18\" cy=\"5\" r=\"3\"></circle>\n              <circle cx=\"6\" cy=\"12\" r=\"3\"></circle>\n              <circle cx=\"18\" cy=\"19\" r=\"3\"></circle>\n              <line x1=\"8.59\" y1=\"13.51\" x2=\"15.42\" y2=\"17.49\"></line>\n              <line x1=\"15.41\" y1=\"6.51\" x2=\"8.59\" y2=\"10.49\"></line>\n            </svg>\n            <span>플로우</span>\n          </button>\n          <button class=\"toggle-btn\" (click)=\"toggleRightPanel()\" title=\"상태\">\n            <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n              <line x1=\"18\" y1=\"20\" x2=\"18\" y2=\"10\"></line>\n              <line x1=\"12\" y1=\"20\" x2=\"12\" y2=\"4\"></line>\n              <line x1=\"6\" y1=\"20\" x2=\"6\" y2=\"14\"></line>\n            </svg>\n          </button>\n          <button class=\"logout-btn-game\" (click)=\"logout()\" title=\"로그아웃\">\n            <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n              <path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\"></path>\n              <polyline points=\"16 17 21 12 16 7\"></polyline>\n              <line x1=\"21\" y1=\"12\" x2=\"9\" y2=\"12\"></line>\n            </svg>\n          </button>\n        </div>\n        \n        <!-- 모바일/태블릿 - 핵심 버튼만 표시 -->\n        <div class=\"status-bar-actions mobile-actions\" *ngIf=\"!(responsiveService.isDesktop$ | async)\">\n          <button class=\"equipment-btn\" \n                  (click)=\"toggleCharacterPanel()\" \n                  [class.active]=\"showCharacterPanel\"\n                  title=\"캐릭터\">\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n              <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"></path>\n              <circle cx=\"12\" cy=\"7\" r=\"4\"></circle>\n            </svg>\n          </button>\n          <button class=\"inventory-btn\" \n                  (click)=\"toggleInventoryPanel()\" \n                  [class.active]=\"showInventoryPanel\"\n                  title=\"인벤토리\">\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n              <path d=\"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z\"></path>\n              <polyline points=\"3.27 6.96 12 12.01 20.73 6.96\"></polyline>\n              <line x1=\"12\" y1=\"22.08\" x2=\"12\" y2=\"12\"></line>\n            </svg>\n            <span class=\"badge\" *ngIf=\"inventory.length > 0\">{{inventory.length}}</span>\n          </button>\n          <button class=\"dungeon-btn\" \n                  (click)=\"openDungeonDialog()\" \n                  title=\"던전\">\n            <svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\">\n              <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect>\n              <line x1=\"9\" y1=\"3\" x2=\"9\" y2=\"21\"></line>\n              <line x1=\"15\" y1=\"3\" x2=\"15\" y2=\"21\"></line>\n              <line x1=\"3\" y1=\"9\" x2=\"21\" y2=\"9\"></line>\n              <line x1=\"3\" y1=\"15\" x2=\"21\" y2=\"15\"></line>\n            </svg>\n          </button>\n          <button class=\"toggle-btn\" (click)=\"toggleRightPanel()\" title=\"상태\">\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n              <line x1=\"18\" y1=\"20\" x2=\"18\" y2=\"10\"></line>\n              <line x1=\"12\" y1=\"20\" x2=\"12\" y2=\"4\"></line>\n              <line x1=\"6\" y1=\"20\" x2=\"6\" y2=\"14\"></line>\n            </svg>\n          </button>\n        </div>\n      </div>\n\n      <!-- 소설 영역 -->\n      <div class=\"novel-scroll-area\">\n        <div class=\"novel-header\">\n          <h2>제1장 - 운명의 시작</h2>\n        </div>\n        <div class=\"story-blocks\">\n          <div *ngFor=\"let block of storyBlocks\" class=\"story-block\">\n            <div *ngIf=\"block.type === 'story'\">\n              <p *ngFor=\"let line of block.lines\">{{line}}</p>\n            </div>\n            <div *ngIf=\"block.type === 'choice'\">⭐ {{block.choiceText}}</div>\n          </div>\n        </div>\n        \n        <!-- 전투 영역 - 플랫 & 문학적 디자인 -->\n        <div class=\"battle-section flat-battle\" *ngIf=\"inBattle\">\n          <div class=\"battle-container\">\n            <!-- 전투 제목 -->\n            <div class=\"battle-title\">\n              <h3>— 전투 —</h3>\n              <p class=\"turn-text\" *ngIf=\"!battleEnded\">\n                {{battleTurn === 'player' ? '당신의 차례입니다.' : '적이 행동하고 있습니다...'}}\n              </p>\n            </div>\n            \n            <!-- 전투 상황판 -->\n            <div class=\"battle-board\">\n              <!-- 플레이어 -->\n              <div class=\"combatant player-side\" [class.active-turn]=\"battleTurn === 'player'\">\n                <div class=\"combatant-header\">\n                  <h4>{{playerCharacter.name}}</h4>\n                  <span class=\"level-tag\">Lv.{{playerCharacter.level}}</span>\n                </div>\n                \n                <div class=\"stats-list\">\n                  <div class=\"stat-row\">\n                    <span class=\"stat-label\">체력</span>\n                    <div class=\"stat-bar-wrapper\">\n                      <div class=\"stat-bar\">\n                        <div class=\"stat-bar-fill hp\" \n                             [class.low]=\"(playerCharacter.hp / playerCharacter.maxHp) < 0.3\"\n                             [style.width.%]=\"(playerCharacter.hp / playerCharacter.maxHp) * 100\"></div>\n                      </div>\n                      <span class=\"stat-value\">{{playerCharacter.hp}}/{{playerCharacter.maxHp}}</span>\n                    </div>\n                  </div>\n                  \n                  <div class=\"stat-row\">\n                    <span class=\"stat-label\">마력</span>\n                    <div class=\"stat-bar-wrapper\">\n                      <div class=\"stat-bar\">\n                        <div class=\"stat-bar-fill mp\" \n                             [style.width.%]=\"(playerCharacter.mp / playerCharacter.maxMp) * 100\"></div>\n                      </div>\n                      <span class=\"stat-value\">{{playerCharacter.mp}}/{{playerCharacter.maxMp}}</span>\n                    </div>\n                  </div>\n                  \n                  <div class=\"stat-row\" *ngIf=\"learnedMartialSkills.length > 0\">\n                    <span class=\"stat-label\">내력</span>\n                    <div class=\"stat-bar-wrapper\">\n                      <div class=\"stat-bar\">\n                        <div class=\"stat-bar-fill internal\" \n                             [style.width.%]=\"(playerInternalPower.current / playerInternalPower.max) * 100\"></div>\n                      </div>\n                      <span class=\"stat-value\">{{playerInternalPower.current}}/{{playerInternalPower.max}}</span>\n                    </div>\n                  </div>\n                  \n                  <div class=\"stat-row compact\">\n                    <span class=\"stat-label\">공격</span>\n                    <span class=\"stat-value-inline\">{{playerCharacter.attack}}</span>\n                    <span class=\"stat-separator\">|</span>\n                    <span class=\"stat-label\">방어</span>\n                    <span class=\"stat-value-inline\">{{playerCharacter.defense}}</span>\n                  </div>\n                </div>\n              </div>\n              \n              <div class=\"vs-divider\">VS</div>\n              \n              <!-- 적 -->\n              <div class=\"combatant enemy-side\" [class.active-turn]=\"battleTurn === 'enemy'\" *ngIf=\"battleEnemy\">\n                <div class=\"combatant-header\">\n                  <h4>{{battleEnemy.name}}</h4>\n                </div>\n                \n                <div class=\"stats-list\">\n                  <div class=\"stat-row\">\n                    <span class=\"stat-label\">체력</span>\n                    <div class=\"stat-bar-wrapper\">\n                      <div class=\"stat-bar\">\n                        <div class=\"stat-bar-fill enemy-hp\" \n                             [class.low]=\"(battleEnemy.hp / battleEnemy.maxHp) < 0.3\"\n                             [style.width.%]=\"(battleEnemy.hp / battleEnemy.maxHp) * 100\"></div>\n                      </div>\n                      <span class=\"stat-value\">{{battleEnemy.hp}}/{{battleEnemy.maxHp}}</span>\n                    </div>\n                  </div>\n                  \n                  <div class=\"stat-row\">\n                    <span class=\"stat-label\">공격</span>\n                    <span class=\"stat-value-inline\">{{battleEnemy.attack}}</span>\n                    <span class=\"stat-separator\">|</span>\n                    <span class=\"stat-label\">방어</span>\n                    <span class=\"stat-value-inline\">{{battleEnemy.defense}}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          <!-- 전투 로그 - 텍스트만 간결형 -->\n          <div class=\"battle-log text-only-log\" #battleLogContainer>\n            <div class=\"log-lines\">\n              <div *ngFor=\"let log of battleLog.slice(-8); let i = index\" \n                   class=\"log-line\" \n                   [class.damage]=\"log.includes('피해')\" \n                   [class.heal]=\"log.includes('회복')\"\n                   [class.critical]=\"log.includes('치명타') || log.includes('회심')\"\n                   [class.combo]=\"log.includes('연계')\"\n                   [style.animation-delay.ms]=\"i * 50\">\n                {{log}}\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <!-- 일반 선택지 -->\n        <div *ngIf=\"choices.length > 0 && !inBattle\">\n          <h3>어떻게 하시겠습니까?</h3>\n          <div class=\"choice-container\">\n            <div \n              *ngFor=\"let choice of choices; let i = index\" \n              class=\"choice-item\">\n              <button \n                class=\"choice-button\"\n                (click)=\"selectChoice(i)\">\n                <span class=\"choice-number\">{{i + 1}}</span>\n                <span class=\"choice-text\">{{choice}}</span>\n              </button>\n              <button \n                class=\"link-scenario-btn\" \n                (click)=\"openScenarioLinkPanel(i)\"\n                title=\"시나리오 연결\">\n                🔗\n              </button>\n            </div>\n          </div>\n        </div>\n        \n        <!-- 전투 선택지 (텍스트 추가 형태) -->\n        <div *ngIf=\"inBattle && !battleEnded && battleTurn === 'player'\">\n          <h3>어떻게 하시겠습니까?</h3>\n          <div class=\"choice-container battle-choices\">\n            <!-- 기본 액션 -->\n            <div class=\"choice-item\">\n              <button class=\"choice-button\" (click)=\"battleManager.playerAttack()\">\n                <span class=\"choice-number\">1</span>\n                <span class=\"choice-text\">기본 공격</span>\n              </button>\n            </div>\n            <div class=\"choice-item\">\n              <button class=\"choice-button\" \n                      [disabled]=\"playerCharacter.mp < 10\"\n                      (click)=\"battleManager.playerSkill()\">\n                <span class=\"choice-number\">2</span>\n                <span class=\"choice-text\">마법 공격 <span class=\"choice-cost\">(MP 10)</span></span>\n              </button>\n            </div>\n            <div class=\"choice-item\">\n              <button class=\"choice-button\" (click)=\"battleManager.playerDefend()\">\n                <span class=\"choice-number\">3</span>\n                <span class=\"choice-text\">방어 자세</span>\n              </button>\n            </div>\n            <div class=\"choice-item\">\n              <button class=\"choice-button\" \n                      [disabled]=\"!battleManager.hasPotion()\"\n                      (click)=\"battleManager.usePotion()\">\n                <span class=\"choice-number\">4</span>\n                <span class=\"choice-text\">회복 포션 사용</span>\n              </button>\n            </div>\n            \n            <!-- 무협 스킬 -->\n            <div *ngFor=\"let skill of learnedMartialSkills; let i = index\" class=\"choice-item martial-skill-choice\">\n              <button class=\"choice-button\" \n                      [disabled]=\"playerInternalPower.current < skill.internalPowerCost\"\n                      (click)=\"battleManager.useMartialSkillInBattle(skill)\">\n                <span class=\"choice-number\">{{i + 5}}</span>\n                <span class=\"choice-text\">\n                  {{skill.name}} ({{skill.chineseName}})\n                  <span class=\"choice-cost\">내공 {{skill.internalPowerCost}}</span>\n                  <span class=\"choice-grade\" [class.grade-절학]=\"skill.grade === '절학'\">{{skill.grade}}</span>\n                </span>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 우측 패널 -->\n    <div class=\"right-panel-container\" \n         [class.collapsed]=\"isRightPanelCollapsed\"\n         [class.mobile]=\"responsiveService.isMobile$ | async\">\n      <div class=\"side-panel right-panel\">\n        <div class=\"collapsed-view\" *ngIf=\"isRightPanelCollapsed\" (click)=\"expandRightPanel()\">\n          <div class=\"collapse-icon\">📊</div>\n          <div class=\"collapse-text\">정보</div>\n        </div>\n        <div class=\"expanded-view\" *ngIf=\"!isRightPanelCollapsed\">\n          <div class=\"panel-header\">\n            <h3>📊 게임 정보</h3>\n            <button class=\"close-btn\" (click)=\"closeRightPanel()\">×</button>\n          </div>\n          <div class=\"panel-content\">\n            <div>선택 횟수: {{currentPath.length}}</div>\n            <div>스토리 블록: {{storyBlocks.length}}</div>\n            <div>경험치: {{playerCharacter.exp}}/{{playerCharacter.maxExp}}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- Backdrop for panels -->\n  <div class=\"panel-backdrop\" \n       *ngIf=\"showCharacterPanel || showInventoryPanel || showShopPanel || showCharacterCreatorPanel || showScenarioCreatorPanel || showItemCreatorPanel\"\n       (click)=\"closeAllPanels()\"\n       [class.mobile]=\"responsiveService.isMobile$ | async\"></div>\n\n  <!-- 캐릭터 패널 -->\n  <div class=\"game-panel character-panel\" \n       *ngIf=\"showCharacterPanel\"\n       [class.mobile]=\"responsiveService.isMobile$ | async\">\n    <div class=\"panel-header\">\n      <h3>📊 캐릭터 정보</h3>\n      <button class=\"close-btn\" (click)=\"showCharacterPanel = false\">×</button>\n    </div>\n    <div class=\"panel-content\">\n      <!-- 캐릭터 기본 정보 -->\n      <div class=\"character-basic-info\">\n        <div class=\"character-avatar\">\n          <div class=\"avatar-circle\">\n            <span class=\"avatar-icon\">👤</span>\n          </div>\n          <div class=\"character-name-badge\">\n            <h2>{{playerCharacter.name}}</h2>\n            <div class=\"level-badge\">Lv.{{playerCharacter.level}}</div>\n          </div>\n        </div>\n      </div>\n\n      <!-- 경험치 바 -->\n      <div class=\"exp-section\">\n        <div class=\"exp-label\">\n          <span>경험치</span>\n          <span class=\"exp-values\">{{playerCharacter.exp}} / {{playerCharacter.maxExp}}</span>\n        </div>\n        <div class=\"progress-bar exp-bar\">\n          <div class=\"progress-fill\" \n               [style.width.%]=\"(playerCharacter.exp / playerCharacter.maxExp) * 100\">\n          </div>\n        </div>\n        <div class=\"exp-percentage\">\n          {{((playerCharacter.exp / playerCharacter.maxExp) * 100).toFixed(1)}}%\n        </div>\n      </div>\n\n      <!-- HP/MP 바 -->\n      <div class=\"status-bars\">\n        <div class=\"status-item hp\">\n          <div class=\"status-label\">\n            <span class=\"icon\">❤️</span>\n            <span class=\"text\">HP</span>\n            <span class=\"values\">{{playerCharacter.hp}} / {{playerCharacter.maxHp}}</span>\n          </div>\n          <div class=\"progress-bar hp-bar\">\n            <div class=\"progress-fill\" \n                 [style.width.%]=\"(playerCharacter.hp / playerCharacter.maxHp) * 100\"\n                 [class.low]=\"(playerCharacter.hp / playerCharacter.maxHp) < 0.3\"\n                 [class.medium]=\"(playerCharacter.hp / playerCharacter.maxHp) >= 0.3 && (playerCharacter.hp / playerCharacter.maxHp) < 0.7\">\n            </div>\n          </div>\n        </div>\n\n        <div class=\"status-item mp\">\n          <div class=\"status-label\">\n            <span class=\"icon\">💙</span>\n            <span class=\"text\">MP</span>\n            <span class=\"values\">{{playerCharacter.mp}} / {{playerCharacter.maxMp}}</span>\n          </div>\n          <div class=\"progress-bar mp-bar\">\n            <div class=\"progress-fill\" \n                 [style.width.%]=\"(playerCharacter.mp / playerCharacter.maxMp) * 100\">\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- 기본 능력치 -->\n      <div class=\"stats-section\">\n        <h4 class=\"section-title\">⚔️ 기본 능력치</h4>\n        <div class=\"stats-grid\">\n          <div class=\"stat-item\">\n            <div class=\"stat-icon\">⚔️</div>\n            <div class=\"stat-info\">\n              <div class=\"stat-name\">공격력</div>\n              <div class=\"stat-value\">{{playerCharacter.attack}}</div>\n            </div>\n          </div>\n          <div class=\"stat-item\">\n            <div class=\"stat-icon\">🛡️</div>\n            <div class=\"stat-info\">\n              <div class=\"stat-name\">방어력</div>\n              <div class=\"stat-value\">{{playerCharacter.defense}}</div>\n            </div>\n          </div>\n          <div class=\"stat-item\">\n            <div class=\"stat-icon\">⚡</div>\n            <div class=\"stat-info\">\n              <div class=\"stat-name\">민첩</div>\n              <div class=\"stat-value\">{{playerCharacter.agility}}</div>\n            </div>\n          </div>\n          <div class=\"stat-item\">\n            <div class=\"stat-icon\">💪</div>\n            <div class=\"stat-info\">\n              <div class=\"stat-name\">힘</div>\n              <div class=\"stat-value\">{{playerCharacter.strength}}</div>\n            </div>\n          </div>\n          <div class=\"stat-item\">\n            <div class=\"stat-icon\">🧠</div>\n            <div class=\"stat-info\">\n              <div class=\"stat-name\">지능</div>\n              <div class=\"stat-value\">{{playerCharacter.intelligence}}</div>\n            </div>\n          </div>\n          <div class=\"stat-item\">\n            <div class=\"stat-icon\">⭐</div>\n            <div class=\"stat-info\">\n              <div class=\"stat-name\">스킬 포인트</div>\n              <div class=\"stat-value\">{{playerCharacter.skillPoints}}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- 재화 정보 -->\n      <div class=\"currency-section\">\n        <h4 class=\"section-title\">💰 보유 재화</h4>\n        <div class=\"currency-mini-grid\">\n          <div class=\"currency-mini-item gold\">\n            <span class=\"currency-mini-icon\">💰</span>\n            <span class=\"currency-mini-value\">{{playerCharacter.gold | number}}</span>\n          </div>\n          <div class=\"currency-mini-item gem\">\n            <span class=\"currency-mini-icon\">💎</span>\n            <span class=\"currency-mini-value\">{{playerCharacter.gem | number}}</span>\n          </div>\n          <div class=\"currency-mini-item crystal\">\n            <span class=\"currency-mini-icon\">🔮</span>\n            <span class=\"currency-mini-value\">{{playerCharacter.crystal | number}}</span>\n          </div>\n          <div class=\"currency-mini-item ticket\">\n            <span class=\"currency-mini-icon\">🎫</span>\n            <span class=\"currency-mini-value\">{{playerCharacter.ticket | number}}</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- 스킬 목록 -->\n      <div class=\"skills-section\" *ngIf=\"playerCharacter.skills && playerCharacter.skills.length > 0\">\n        <h4 class=\"section-title\">✨ 보유 스킬</h4>\n        <div class=\"skills-list\">\n          <div class=\"skill-item\" *ngFor=\"let skill of playerCharacter.skills\">\n            <div class=\"skill-name\">{{skill.name}}</div>\n            <div class=\"skill-level\">Lv.{{skill.level}}/{{skill.maxLevel}}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- 인벤토리 패널 -->\n  <div class=\"game-panel inventory-panel\" \n       *ngIf=\"showInventoryPanel\"\n       [class.mobile]=\"responsiveService.isMobile$ | async\">\n    <div class=\"panel-header\">\n      <h3>🎒 인벤토리 & 장비</h3>\n      <button class=\"close-btn\" (click)=\"novelState.closeInventoryPanel()\">×</button>\n    </div>\n    \n    <!-- 탭 메뉴 -->\n    <div class=\"inventory-tabs\">\n      <button \n        class=\"tab-btn\"\n        [class.active]=\"inventoryActiveTab === 'equipment'\"\n        (click)=\"novelState.setInventoryTab('equipment')\">\n        ⚔️ 장비 & 인벤토리\n      </button>\n      <button \n        class=\"tab-btn currency-tab\"\n        [class.active]=\"inventoryActiveTab === 'currency'\"\n        (click)=\"novelState.setInventoryTab('currency')\">\n        💰 재화\n      </button>\n      <button \n        class=\"tab-btn\"\n        [class.active]=\"inventoryActiveTab === 'shop'\"\n        (click)=\"novelState.setInventoryTab('shop')\">\n        🛒 상점\n      </button>\n    </div>\n    \n    <!-- 장비 탭 -->\n    <div class=\"tab-content\" *ngIf=\"inventoryActiveTab === 'equipment'\">\n      <!-- 장비 슬롯 영역 - 디아블로 스타일 -->\n      <div class=\"equipment-slots-section\">\n        <h4 class=\"section-title\">⚔️ 장착 중인 장비</h4>\n        <div class=\"diablo-equipment-layout\">\n          <!-- 좌측 컬럼 (무기, 방어구) -->\n          <div class=\"equipment-column left-column\">\n            <!-- 무기 -->\n            <div class=\"equipment-slot-diablo weapon-slot\" \n                 id=\"weapon-slot\"\n                 cdkDropList\n                 [cdkDropListData]=\"{slot: 'weapon', item: playerCharacter.equipment?.weapon}\"\n                 (cdkDropListDropped)=\"onEquipmentSlotDrop($event, 'weapon')\"\n                 cdkDropListSortingDisabled\n                 [cdkDropListConnectedTo]=\"['inventory-grid']\"\n                 [class.has-item]=\"playerCharacter.equipment?.weapon\"\n                 [class.rarity-common]=\"playerCharacter.equipment?.weapon?.rarity === 'common'\"\n                 [class.rarity-uncommon]=\"playerCharacter.equipment?.weapon?.rarity === 'uncommon'\"\n                 [class.rarity-rare]=\"playerCharacter.equipment?.weapon?.rarity === 'rare'\"\n                 [class.rarity-epic]=\"playerCharacter.equipment?.weapon?.rarity === 'epic'\"\n                 [class.rarity-legendary]=\"playerCharacter.equipment?.weapon?.rarity === 'legendary'\">\n              <div class=\"slot-icon\">⚔️</div>\n              <div class=\"slot-content\" \n                   *ngIf=\"playerCharacter.equipment?.weapon as weapon; else emptyWeapon\"\n                   cdkDrag\n                   [cdkDragData]=\"{item: weapon, slot: 'weapon'}\">\n                <div class=\"item-tooltip\">\n                  <div class=\"tooltip-name\">{{weapon.name || weapon.baseType}}</div>\n                  <button class=\"btn-unequip-small\" \n                          (mousedown)=\"$event.stopPropagation()\" \n                          (click)=\"unequipItem('weapon'); $event.stopPropagation(); $event.preventDefault()\">✕</button>\n                </div>\n              </div>\n              <ng-template #emptyWeapon>\n                <div class=\"slot-empty-text\">무기</div>\n              </ng-template>\n            </div>\n\n            <!-- 방어구 -->\n            <div class=\"equipment-slot-diablo armor-slot\" \n                 id=\"armor-slot\"\n                 cdkDropList\n                 [cdkDropListData]=\"{slot: 'armor', item: playerCharacter.equipment?.armor}\"\n                 (cdkDropListDropped)=\"onEquipmentSlotDrop($event, 'armor')\"\n                 cdkDropListSortingDisabled\n                 [cdkDropListConnectedTo]=\"['inventory-grid']\"\n                 [class.has-item]=\"playerCharacter.equipment?.armor\"\n                 [class.rarity-common]=\"playerCharacter.equipment?.armor?.rarity === 'common'\"\n                 [class.rarity-uncommon]=\"playerCharacter.equipment?.armor?.rarity === 'uncommon'\"\n                 [class.rarity-rare]=\"playerCharacter.equipment?.armor?.rarity === 'rare'\"\n                 [class.rarity-epic]=\"playerCharacter.equipment?.armor?.rarity === 'epic'\"\n                 [class.rarity-legendary]=\"playerCharacter.equipment?.armor?.rarity === 'legendary'\">\n              <div class=\"slot-icon\">🛡️</div>\n              <div class=\"slot-content\" \n                   *ngIf=\"playerCharacter.equipment?.armor as armor; else emptyArmor\"\n                   cdkDrag\n                   [cdkDragData]=\"{item: armor, slot: 'armor'}\">\n                <div class=\"item-tooltip\">\n                  <div class=\"tooltip-name\">{{armor.name || armor.baseType}}</div>\n                  <button class=\"btn-unequip-small\" \n                          (mousedown)=\"$event.stopPropagation()\" \n                          (click)=\"unequipItem('armor'); $event.stopPropagation(); $event.preventDefault()\">✕</button>\n                </div>\n              </div>\n              <ng-template #emptyArmor>\n                <div class=\"slot-empty-text\">방어구</div>\n              </ng-template>\n            </div>\n          </div>\n\n          <!-- 중앙 컬럼 (머리, 목, 허리) -->\n          <div class=\"equipment-column center-column\">\n            <!-- 투구 -->\n            <div class=\"equipment-slot-diablo helmet-slot\" \n                 id=\"helmet-slot\"\n                 cdkDropList\n                 [cdkDropListData]=\"{slot: 'helmet', item: playerCharacter.equipment?.helmet}\"\n                 (cdkDropListDropped)=\"onEquipmentSlotDrop($event, 'helmet')\"\n                 cdkDropListSortingDisabled\n                 [cdkDropListConnectedTo]=\"['inventory-grid']\"\n                 [class.has-item]=\"playerCharacter.equipment?.helmet\"\n                 [class.rarity-common]=\"playerCharacter.equipment?.helmet?.rarity === 'common'\"\n                 [class.rarity-uncommon]=\"playerCharacter.equipment?.helmet?.rarity === 'uncommon'\"\n                 [class.rarity-rare]=\"playerCharacter.equipment?.helmet?.rarity === 'rare'\"\n                 [class.rarity-epic]=\"playerCharacter.equipment?.helmet?.rarity === 'epic'\"\n                 [class.rarity-legendary]=\"playerCharacter.equipment?.helmet?.rarity === 'legendary'\">\n              <div class=\"slot-icon\">⛑️</div>\n              <div class=\"slot-content\" \n                   *ngIf=\"playerCharacter.equipment?.helmet as helmet; else emptyHelmet\"\n                   cdkDrag\n                   [cdkDragData]=\"{item: helmet, slot: 'helmet'}\">\n                <div class=\"item-tooltip\">\n                  <div class=\"tooltip-name\">{{helmet.name || helmet.baseType}}</div>\n                  <button class=\"btn-unequip-small\" \n                          (mousedown)=\"$event.stopPropagation()\" \n                          (click)=\"unequipItem('helmet'); $event.stopPropagation(); $event.preventDefault()\">✕</button>\n                </div>\n              </div>\n              <ng-template #emptyHelmet>\n                <div class=\"slot-empty-text\">투구</div>\n              </ng-template>\n            </div>\n\n            <!-- 목걸이 -->\n            <div class=\"equipment-slot-diablo amulet-slot\" \n                 id=\"amulet-slot\"\n                 cdkDropList\n                 [cdkDropListData]=\"{slot: 'amulet', item: playerCharacter.equipment?.amulet}\"\n                 (cdkDropListDropped)=\"onEquipmentSlotDrop($event, 'amulet')\"\n                 cdkDropListSortingDisabled\n                 [cdkDropListConnectedTo]=\"['inventory-grid']\"\n                 [class.has-item]=\"playerCharacter.equipment?.amulet\"\n                 [class.rarity-common]=\"playerCharacter.equipment?.amulet?.rarity === 'common'\"\n                 [class.rarity-uncommon]=\"playerCharacter.equipment?.amulet?.rarity === 'uncommon'\"\n                 [class.rarity-rare]=\"playerCharacter.equipment?.amulet?.rarity === 'rare'\"\n                 [class.rarity-epic]=\"playerCharacter.equipment?.amulet?.rarity === 'epic'\"\n                 [class.rarity-legendary]=\"playerCharacter.equipment?.amulet?.rarity === 'legendary'\">\n              <div class=\"slot-icon\">📿</div>\n              <div class=\"slot-content\" \n                   *ngIf=\"playerCharacter.equipment?.amulet as amulet; else emptyAmulet\"\n                   cdkDrag\n                   [cdkDragData]=\"{item: amulet, slot: 'amulet'}\">\n                <div class=\"item-tooltip\">\n                  <div class=\"tooltip-name\">{{amulet.name || amulet.baseType}}</div>\n                  <button class=\"btn-unequip-small\" \n                          (mousedown)=\"$event.stopPropagation()\" \n                          (click)=\"unequipItem('amulet'); $event.stopPropagation(); $event.preventDefault()\">✕</button>\n                </div>\n              </div>\n              <ng-template #emptyAmulet>\n                <div class=\"slot-empty-text\">목걸이</div>\n              </ng-template>\n            </div>\n\n            <!-- 허리띠 -->\n            <div class=\"equipment-slot-diablo belt-slot\" \n                 id=\"belt-slot\"\n                 cdkDropList\n                 [cdkDropListData]=\"{slot: 'belt', item: playerCharacter.equipment?.belt}\"\n                 (cdkDropListDropped)=\"onEquipmentSlotDrop($event, 'belt')\"\n                 cdkDropListSortingDisabled\n                 [cdkDropListConnectedTo]=\"['inventory-grid']\"\n                 [class.has-item]=\"playerCharacter.equipment?.belt\"\n                 [class.rarity-common]=\"playerCharacter.equipment?.belt?.rarity === 'common'\"\n                 [class.rarity-uncommon]=\"playerCharacter.equipment?.belt?.rarity === 'uncommon'\"\n                 [class.rarity-rare]=\"playerCharacter.equipment?.belt?.rarity === 'rare'\"\n                 [class.rarity-epic]=\"playerCharacter.equipment?.belt?.rarity === 'epic'\"\n                 [class.rarity-legendary]=\"playerCharacter.equipment?.belt?.rarity === 'legendary'\">\n              <div class=\"slot-icon\">👔</div>\n              <div class=\"slot-content\" \n                   *ngIf=\"playerCharacter.equipment?.belt as belt; else emptyBelt\"\n                   cdkDrag\n                   [cdkDragData]=\"{item: belt, slot: 'belt'}\">\n                <div class=\"item-tooltip\">\n                  <div class=\"tooltip-name\">{{belt.name || belt.baseType}}</div>\n                  <button class=\"btn-unequip-small\" \n                          (mousedown)=\"$event.stopPropagation()\" \n                          (click)=\"unequipItem('belt'); $event.stopPropagation(); $event.preventDefault()\">✕</button>\n                </div>\n              </div>\n              <ng-template #emptyBelt>\n                <div class=\"slot-empty-text\">허리띠</div>\n              </ng-template>\n            </div>\n          </div>\n\n          <!-- 우측 컬럼 (장갑, 신발, 반지) -->\n          <div class=\"equipment-column right-column\">\n            <!-- 장갑 -->\n            <div class=\"equipment-slot-diablo gloves-slot\" \n                 id=\"gloves-slot\"\n                 cdkDropList\n                 [cdkDropListData]=\"{slot: 'gloves', item: playerCharacter.equipment?.gloves}\"\n                 (cdkDropListDropped)=\"onEquipmentSlotDrop($event, 'gloves')\"\n                 cdkDropListSortingDisabled\n                 [cdkDropListConnectedTo]=\"['inventory-grid']\"\n                 [class.has-item]=\"playerCharacter.equipment?.gloves\"\n                 [class.rarity-common]=\"playerCharacter.equipment?.gloves?.rarity === 'common'\"\n                 [class.rarity-uncommon]=\"playerCharacter.equipment?.gloves?.rarity === 'uncommon'\"\n                 [class.rarity-rare]=\"playerCharacter.equipment?.gloves?.rarity === 'rare'\"\n                 [class.rarity-epic]=\"playerCharacter.equipment?.gloves?.rarity === 'epic'\"\n                 [class.rarity-legendary]=\"playerCharacter.equipment?.gloves?.rarity === 'legendary'\">\n              <div class=\"slot-icon\">🧤</div>\n              <div class=\"slot-content\" \n                   *ngIf=\"playerCharacter.equipment?.gloves as gloves; else emptyGloves\"\n                   cdkDrag\n                   [cdkDragData]=\"{item: gloves, slot: 'gloves'}\">\n                <div class=\"item-tooltip\">\n                  <div class=\"tooltip-name\">{{gloves.name || gloves.baseType}}</div>\n                  <button class=\"btn-unequip-small\" \n                          (mousedown)=\"$event.stopPropagation()\" \n                          (click)=\"unequipItem('gloves'); $event.stopPropagation(); $event.preventDefault()\">✕</button>\n                </div>\n              </div>\n              <ng-template #emptyGloves>\n                <div class=\"slot-empty-text\">장갑</div>\n              </ng-template>\n            </div>\n\n            <!-- 신발 -->\n            <div class=\"equipment-slot-diablo boots-slot\" \n                 id=\"boots-slot\"\n                 cdkDropList\n                 [cdkDropListData]=\"{slot: 'boots', item: playerCharacter.equipment?.boots}\"\n                 (cdkDropListDropped)=\"onEquipmentSlotDrop($event, 'boots')\"\n                 cdkDropListSortingDisabled\n                 [cdkDropListConnectedTo]=\"['inventory-grid']\"\n                 [class.has-item]=\"playerCharacter.equipment?.boots\"\n                 [class.rarity-common]=\"playerCharacter.equipment?.boots?.rarity === 'common'\"\n                 [class.rarity-uncommon]=\"playerCharacter.equipment?.boots?.rarity === 'uncommon'\"\n                 [class.rarity-rare]=\"playerCharacter.equipment?.boots?.rarity === 'rare'\"\n                 [class.rarity-epic]=\"playerCharacter.equipment?.boots?.rarity === 'epic'\"\n                 [class.rarity-legendary]=\"playerCharacter.equipment?.boots?.rarity === 'legendary'\">\n              <div class=\"slot-icon\">👢</div>\n              <div class=\"slot-content\" \n                   *ngIf=\"playerCharacter.equipment?.boots as boots; else emptyBoots\"\n                   cdkDrag\n                   [cdkDragData]=\"{item: boots, slot: 'boots'}\">\n                <div class=\"item-tooltip\">\n                  <div class=\"tooltip-name\">{{boots.name || boots.baseType}}</div>\n                  <button class=\"btn-unequip-small\" \n                          (mousedown)=\"$event.stopPropagation()\" \n                          (click)=\"unequipItem('boots'); $event.stopPropagation(); $event.preventDefault()\">✕</button>\n                </div>\n              </div>\n              <ng-template #emptyBoots>\n                <div class=\"slot-empty-text\">신발</div>\n              </ng-template>\n            </div>\n          </div>\n\n          <!-- 하단: 반지 슬롯 -->\n          <div class=\"equipment-rings-row\">\n            <!-- 반지1 -->\n            <div class=\"equipment-slot-diablo ring-slot ring-left\" \n                 id=\"ring1-slot\"\n                 cdkDropList\n                 [cdkDropListData]=\"{slot: 'ring1', item: playerCharacter.equipment?.ring1}\"\n                 (cdkDropListDropped)=\"onEquipmentSlotDrop($event, 'ring1')\"\n                 cdkDropListSortingDisabled\n                 [cdkDropListConnectedTo]=\"['inventory-grid']\"\n                 [class.has-item]=\"playerCharacter.equipment?.ring1\"\n                 [class.rarity-common]=\"playerCharacter.equipment?.ring1?.rarity === 'common'\"\n                 [class.rarity-uncommon]=\"playerCharacter.equipment?.ring1?.rarity === 'uncommon'\"\n                 [class.rarity-rare]=\"playerCharacter.equipment?.ring1?.rarity === 'rare'\"\n                 [class.rarity-epic]=\"playerCharacter.equipment?.ring1?.rarity === 'epic'\"\n                 [class.rarity-legendary]=\"playerCharacter.equipment?.ring1?.rarity === 'legendary'\">\n              <div class=\"slot-icon\">💍</div>\n              <div class=\"slot-content\" \n                   *ngIf=\"playerCharacter.equipment?.ring1 as ring1; else emptyRing1\"\n                   cdkDrag\n                   [cdkDragData]=\"{item: ring1, slot: 'ring1'}\">\n                <div class=\"item-tooltip\">\n                  <div class=\"tooltip-name\">{{ring1.name || ring1.baseType}}</div>\n                  <button class=\"btn-unequip-small\" \n                          (mousedown)=\"$event.stopPropagation()\" \n                          (click)=\"unequipItem('ring1'); $event.stopPropagation(); $event.preventDefault()\">✕</button>\n                </div>\n              </div>\n              <ng-template #emptyRing1>\n                <div class=\"slot-empty-text\">반지</div>\n              </ng-template>\n            </div>\n\n            <!-- 반지2 -->\n            <div class=\"equipment-slot-diablo ring-slot ring-right\" \n                 id=\"ring2-slot\"\n                 cdkDropList\n                 [cdkDropListData]=\"{slot: 'ring2', item: playerCharacter.equipment?.ring2}\"\n                 (cdkDropListDropped)=\"onEquipmentSlotDrop($event, 'ring2')\"\n                 cdkDropListSortingDisabled\n                 [cdkDropListConnectedTo]=\"['inventory-grid']\"\n                 [class.has-item]=\"playerCharacter.equipment?.ring2\"\n                 [class.rarity-common]=\"playerCharacter.equipment?.ring2?.rarity === 'common'\"\n                 [class.rarity-uncommon]=\"playerCharacter.equipment?.ring2?.rarity === 'uncommon'\"\n                 [class.rarity-rare]=\"playerCharacter.equipment?.ring2?.rarity === 'rare'\"\n                 [class.rarity-epic]=\"playerCharacter.equipment?.ring2?.rarity === 'epic'\"\n                 [class.rarity-legendary]=\"playerCharacter.equipment?.ring2?.rarity === 'legendary'\">\n              <div class=\"slot-icon\">💍</div>\n              <div class=\"slot-content\" \n                   *ngIf=\"playerCharacter.equipment?.ring2 as ring2; else emptyRing2\"\n                   cdkDrag\n                   [cdkDragData]=\"{item: ring2, slot: 'ring2'}\">\n                <div class=\"item-tooltip\">\n                  <div class=\"tooltip-name\">{{ring2.name || ring2.baseType}}</div>\n                  <button class=\"btn-unequip-small\" \n                          (mousedown)=\"$event.stopPropagation()\" \n                          (click)=\"unequipItem('ring2'); $event.stopPropagation(); $event.preventDefault()\">✕</button>\n                </div>\n              </div>\n              <ng-template #emptyRing2>\n                <div class=\"slot-empty-text\">반지</div>\n              </ng-template>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- 인벤토리 그리드 영역 - 장비 탭 내 -->\n      <div class=\"inventory-tab-grid\">\n        <h4 class=\"section-title\">🎒 보유 아이템</h4>\n        \n        <!-- 필터 & 정렬 컨트롤 -->\n        <div class=\"inventory-controls\">\n          <div class=\"filter-buttons\">\n            <button \n              *ngFor=\"let filter of inventoryFilterOptions\"\n              [class.active]=\"inventoryFilter === filter.value\"\n              (click)=\"setInventoryFilter(filter.value)\">\n              {{filter.icon}} {{filter.label}}\n            </button>\n          </div>\n          \n          <div class=\"sort-controls\">\n            <label>정렬:</label>\n            <select [(ngModel)]=\"inventorySortBy\" (change)=\"sortInventory()\">\n              <option value=\"rarity\">희귀도순</option>\n              <option value=\"type\">타입순</option>\n              <option value=\"name\">이름순</option>\n              <option value=\"recent\">최근 획득순</option>\n            </select>\n            <button (click)=\"autoSortInventory()\" class=\"btn-auto-sort\">\n              🔄 자동 정렬\n            </button>\n          </div>\n        </div>\n        \n        <!-- 그리드 컨테이너 -->\n        <div class=\"inventory-grid-container\">\n          <div class=\"inventory-grid-cells\"\n               id=\"inventory-grid\"\n               cdkDropList\n               [cdkDropListData]=\"getFilteredAndSortedInventory()\"\n               (cdkDropListDropped)=\"onInventoryDrop($event)\"\n               [cdkDropListConnectedTo]=\"['weapon-slot', 'armor-slot', 'helmet-slot', 'amulet-slot', 'belt-slot', 'gloves-slot', 'boots-slot', 'ring1-slot', 'ring2-slot']\">\n            <!-- 아이템 셀 -->\n            <div *ngFor=\"let item of getFilteredAndSortedInventory(); let i = index\"\n                 class=\"inventory-cell\"\n                 [class]=\"'rarity-' + item.rarity\"\n                 cdkDrag\n                 [cdkDragData]=\"{item: item, index: i}\"\n                 (click)=\"onInventoryCellClick($event, item, i)\"\n                 (contextmenu)=\"onInventoryCellRightClick($event, item, i)\"\n                 (dblclick)=\"onInventoryCellDoubleClick(item, i)\">\n              \n              <div class=\"cell-content\">\n                <!-- 아이콘 -->\n                <div class=\"cell-icon\">{{getInventoryItemIcon(item)}}</div>\n                \n                <!-- 이름 -->\n                <div class=\"cell-name\" [title]=\"item.nameKo || item.name\">\n                  {{getTruncatedName(item)}}\n                </div>\n                \n                <!-- 수량 -->\n                <div class=\"cell-quantity\" *ngIf=\"item.quantity > 1\">\n                  ×{{item.quantity}}\n                </div>\n                \n                <!-- 모바일용 빠른 착용 버튼 -->\n                <button class=\"quick-equip-btn\" \n                        *ngIf=\"(responsiveService.isMobile$ | async) && isEquippableItem(item)\"\n                        (click)=\"quickEquipItem(item, i); $event.stopPropagation()\"\n                        [title]=\"'착용'\">\n                  ⚡\n                </button>\n              </div>\n              \n              <!-- 드래그 미리보기 -->\n              <div *cdkDragPreview class=\"drag-preview\">\n                <div class=\"preview-icon\">{{getInventoryItemIcon(item)}}</div>\n                <div class=\"preview-name\">{{getTruncatedName(item)}}</div>\n              </div>\n            </div>\n            \n            <!-- 빈 칸 -->\n            <div *ngFor=\"let empty of getEmptyInventorySlots()\"\n                 class=\"inventory-cell empty\">\n              <div class=\"cell-content\">\n                <div class=\"empty-icon\">📦</div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <!-- 하단 정보 -->\n        <div class=\"inventory-footer\">\n          <span class=\"inventory-count\">\n            {{getFilteredAndSortedInventory().length}} / {{maxInventorySize}} 아이템\n          </span>\n        </div>\n      </div>\n\n      </div>\n      <!-- 장비 탭 끝 -->\n\n      <!-- 재화 탭 -->\n      <div class=\"tab-content\" *ngIf=\"inventoryActiveTab === 'currency'\">\n        <div class=\"currency-tab-content\">\n          <div class=\"currency-header\">\n            <h4 class=\"section-title\">💰 보유 재화</h4>\n            <p class=\"currency-subtitle\">모험에 필요한 다양한 화폐를 관리하세요</p>\n          </div>\n          \n          <div class=\"currency-grid\">\n            <!-- 골드 -->\n            <div class=\"currency-card gold-card\">\n              <div class=\"currency-background\"></div>\n              <div class=\"currency-content\">\n                <div class=\"currency-top\">\n                  <div class=\"currency-icon-wrapper\">\n                    <span class=\"currency-icon\">💰</span>\n                  </div>\n                  <span class=\"currency-label\">골드</span>\n                </div>\n                <div class=\"currency-amount-section\">\n                  <div class=\"currency-amount\">\n                    <span class=\"amount-number\">{{gold | number}}</span>\n                    <span class=\"amount-unit\">G</span>\n                  </div>\n                  <p class=\"currency-usage\">상점에서 아이템 구매</p>\n                </div>\n              </div>\n            </div>\n\n            <!-- 보석 -->\n            <div class=\"currency-card gem-card\">\n              <div class=\"currency-background\"></div>\n              <div class=\"currency-content\">\n                <div class=\"currency-top\">\n                  <div class=\"currency-icon-wrapper\">\n                    <span class=\"currency-icon\">💎</span>\n                  </div>\n                  <span class=\"currency-label\">보석</span>\n                </div>\n                <div class=\"currency-amount-section\">\n                  <div class=\"currency-amount\">\n                    <span class=\"amount-number\">{{gem | number}}</span>\n                    <span class=\"amount-unit\">개</span>\n                  </div>\n                  <p class=\"currency-usage\">프리미엄 아이템 구매</p>\n                </div>\n              </div>\n            </div>\n\n            <!-- 크리스탈 -->\n            <div class=\"currency-card crystal-card\">\n              <div class=\"currency-background\"></div>\n              <div class=\"currency-content\">\n                <div class=\"currency-top\">\n                  <div class=\"currency-icon-wrapper\">\n                    <span class=\"currency-icon\">🔮</span>\n                  </div>\n                  <span class=\"currency-label\">크리스탈</span>\n                </div>\n                <div class=\"currency-amount-section\">\n                  <div class=\"currency-amount\">\n                    <span class=\"amount-number\">{{crystal | number}}</span>\n                    <span class=\"amount-unit\">개</span>\n                  </div>\n                  <p class=\"currency-usage\">장비 강화 재료</p>\n                </div>\n              </div>\n            </div>\n\n            <!-- 티켓 -->\n            <div class=\"currency-card ticket-card\">\n              <div class=\"currency-background\"></div>\n              <div class=\"currency-content\">\n                <div class=\"currency-top\">\n                  <div class=\"currency-icon-wrapper\">\n                    <span class=\"currency-icon\">🎫</span>\n                  </div>\n                  <span class=\"currency-label\">티켓</span>\n                </div>\n                <div class=\"currency-amount-section\">\n                  <div class=\"currency-amount\">\n                    <span class=\"amount-number\">{{ticket | number}}</span>\n                    <span class=\"amount-unit\">장</span>\n                  </div>\n                  <p class=\"currency-usage\">던전 & 이벤트 입장</p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- 재화 획득 방법 안내 -->\n          <div class=\"currency-guide\">\n            <h5 class=\"guide-title\">💡 재화 획득 방법</h5>\n            <div class=\"guide-list\">\n              <div class=\"guide-item\">\n                <span class=\"guide-icon\">📖</span>\n                <span class=\"guide-text\">스토리 진행으로 골드 획득</span>\n              </div>\n              <div class=\"guide-item\">\n                <span class=\"guide-icon\">⚔️</span>\n                <span class=\"guide-text\">전투 승리 시 보상 획득</span>\n              </div>\n              <div class=\"guide-item\">\n                <span class=\"guide-icon\">🎯</span>\n                <span class=\"guide-text\">퀘스트 완료로 다양한 재화 획득</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- 재화 탭 끝 -->\n\n      <!-- 상점 탭 -->\n      <div class=\"tab-content\" *ngIf=\"inventoryActiveTab === 'shop'\">\n        <div class=\"shop-wrapper\">\n          <!-- 상점 헤더 -->\n          <div class=\"shop-header\">\n            <div class=\"shop-title-section\">\n              <h4 class=\"shop-title\">🏪 모험가 상점</h4>\n              <p class=\"shop-subtitle\">AI가 생성한 특별한 아이템을 구매하세요</p>\n            </div>\n            <div class=\"shop-wallet\">\n              <div class=\"wallet-icon\">💰</div>\n              <div class=\"wallet-info\">\n                <span class=\"wallet-label\">보유 골드</span>\n                <span class=\"wallet-amount\">{{gold | number}} G</span>\n              </div>\n            </div>\n          </div>\n\n          <!-- 상점 아이템 그리드 -->\n          <div class=\"shop-items-container\" *ngIf=\"savedItems.length > 0\">\n            <div \n              class=\"shop-item-card\"\n              *ngFor=\"let item of savedItems\"\n              [class.grade-legendary]=\"item.grade === '신화' || item.grade === '전설'\"\n              [class.grade-epic]=\"item.grade === '영웅'\"\n              [class.grade-rare]=\"item.grade === '희귀'\"\n              [class.grade-uncommon]=\"item.grade === '고급'\"\n              [class.grade-common]=\"item.grade === '일반'\">\n              \n              <!-- 아이템 배지 -->\n              <div class=\"item-badge-container\">\n                <span class=\"item-grade-badge\">{{item.grade}}</span>\n                <span class=\"item-type-badge\">{{item.type}}</span>\n              </div>\n\n              <!-- 아이템 이미지 영역 -->\n              <div class=\"item-image-section\">\n                <div class=\"item-icon-large\">📦</div>\n              </div>\n\n              <!-- 아이템 정보 -->\n              <div class=\"item-info-section\">\n                <h5 class=\"item-name\">{{item.name}}</h5>\n                <p class=\"item-description\">{{item.description}}</p>\n\n                <!-- 아이템 능력치 -->\n                <div class=\"item-stats-row\" *ngIf=\"item.stats && (item.stats.attack || item.stats.defense || item.stats.hp || item.stats.mp)\">\n                  <div class=\"stat-chip\" *ngIf=\"item.stats.attack\">\n                    <span class=\"stat-icon\">⚔️</span>\n                    <span class=\"stat-value\">+{{item.stats.attack}}</span>\n                  </div>\n                  <div class=\"stat-chip\" *ngIf=\"item.stats.defense\">\n                    <span class=\"stat-icon\">🛡️</span>\n                    <span class=\"stat-value\">+{{item.stats.defense}}</span>\n                  </div>\n                  <div class=\"stat-chip\" *ngIf=\"item.stats.hp\">\n                    <span class=\"stat-icon\">❤️</span>\n                    <span class=\"stat-value\">+{{item.stats.hp}}</span>\n                  </div>\n                  <div class=\"stat-chip\" *ngIf=\"item.stats.mp\">\n                    <span class=\"stat-icon\">💙</span>\n                    <span class=\"stat-value\">+{{item.stats.mp}}</span>\n                  </div>\n                </div>\n\n                <!-- 아이템 효과 -->\n                <div class=\"item-effects\" *ngIf=\"item.effects && item.effects.length > 0\">\n                  <div class=\"effect-item\" *ngFor=\"let effect of item.effects.slice(0, 2)\">\n                    <span class=\"effect-icon\">✨</span>\n                    <span class=\"effect-text\">{{effect}}</span>\n                  </div>\n                </div>\n              </div>\n\n              <!-- 구매 버튼 영역 -->\n              <div class=\"item-purchase-section\">\n                <div class=\"item-price-display\">\n                  <span class=\"price-icon\">💰</span>\n                  <span class=\"price-amount\">{{item.price || calculateItemPriceByGrade(item.grade)}}</span>\n                  <span class=\"price-unit\">G</span>\n                </div>\n                <button \n                  class=\"purchase-button\"\n                  [class.can-buy]=\"gold >= (item.price || calculateItemPriceByGrade(item.grade))\"\n                  [class.cannot-buy]=\"gold < (item.price || calculateItemPriceByGrade(item.grade))\"\n                  [disabled]=\"gold < (item.price || calculateItemPriceByGrade(item.grade))\"\n                  (click)=\"buyItemFromShop(item, $event)\">\n                  <span *ngIf=\"gold >= (item.price || calculateItemPriceByGrade(item.grade))\">\n                    <span class=\"btn-icon\">�</span> 구매하기\n                  </span>\n                  <span *ngIf=\"gold < (item.price || calculateItemPriceByGrade(item.grade))\">\n                    <span class=\"btn-icon\">�</span> 골드 부족\n                  </span>\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <!-- 빈 상점 메시지 -->\n          <div *ngIf=\"savedItems.length === 0\" class=\"empty-shop-state\">\n            <div class=\"empty-icon\">🏪</div>\n            <h5 class=\"empty-title\">상점에 아이템이 없습니다</h5>\n            <p class=\"empty-message\">AI 아이템 생성기로 특별한 아이템을 만들어보세요!</p>\n            <div class=\"empty-hint\">\n              <span class=\"hint-icon\">💡</span>\n              <span class=\"hint-text\">홈 화면의 \"AI 아이템 생성\" 메뉴를 이용하세요</span>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- 상점 탭 끝 -->\n  </div>\n\n  <!-- 아이템 컨텍스트 메뉴 -->\n  <div class=\"item-context-menu\" \n       *ngIf=\"showItemContextMenu\" \n       [style.left.px]=\"contextMenuPosition.x\" \n       [style.top.px]=\"contextMenuPosition.y\"\n       (click)=\"$event.stopPropagation()\">\n    <div class=\"context-menu-item\" (click)=\"equipItemFromMenu()\">\n      <span class=\"menu-icon\">⚔️</span>\n      <span class=\"menu-text\">장착하기</span>\n    </div>\n    <div class=\"context-menu-item\" (click)=\"showItemInfoModal()\">\n      <span class=\"menu-icon\">📋</span>\n      <span class=\"menu-text\">정보 보기</span>\n    </div>\n    <div class=\"context-menu-item danger\" (click)=\"discardItemFromMenu()\">\n      <span class=\"menu-icon\">🗑️</span>\n      <span class=\"menu-text\">버리기</span>\n    </div>\n  </div>\n\n  <!-- 아이템 정보 모달 (드래그 가능) -->\n  <div class=\"item-info-modal\" \n       *ngIf=\"showItemInfo\"\n       [style.left.px]=\"itemInfoPosition.x\" \n       [style.top.px]=\"itemInfoPosition.y\"\n       (mousedown)=\"onItemInfoDragStart($event)\">\n    <div class=\"modal-header\">\n      <h4 class=\"modal-title\">📋 아이템 정보</h4>\n      <button class=\"modal-close-btn\" (click)=\"closeItemInfoModal(); $event.stopPropagation()\">×</button>\n    </div>\n    <div class=\"modal-body\" *ngIf=\"selectedContextItem\">\n      <!-- 아이템 헤더 -->\n      <div class=\"item-info-header\" [class]=\"'rarity-' + selectedContextItem.rarity\">\n        <div class=\"item-info-icon\">{{getInventoryItemIcon(selectedContextItem)}}</div>\n        <div class=\"item-info-title\">\n          <h3>{{selectedContextItem.nameKo || selectedContextItem.name}}</h3>\n          <span class=\"item-rarity-badge\">{{getRarityName(selectedContextItem.rarity)}}</span>\n        </div>\n      </div>\n\n      <!-- 아이템 타입 & 수량 -->\n      <div class=\"item-info-meta\">\n        <span class=\"meta-badge type-badge\">{{getTypeName(selectedContextItem.type)}}</span>\n        <span class=\"meta-badge quantity-badge\" *ngIf=\"selectedContextItem.quantity > 1\">\n          수량: ×{{selectedContextItem.quantity}}\n        </span>\n      </div>\n\n      <!-- 아이템 스탯 -->\n      <div class=\"item-info-stats\" *ngIf=\"selectedContextItem.stats\">\n        <h5 class=\"stats-title\">📊 능력치</h5>\n        <div class=\"stats-grid\">\n          <div class=\"stat-item\" *ngIf=\"selectedContextItem.stats.attack\">\n            <span class=\"stat-icon\">⚔️</span>\n            <span class=\"stat-label\">공격력</span>\n            <span class=\"stat-value\">+{{selectedContextItem.stats.attack}}</span>\n          </div>\n          <div class=\"stat-item\" *ngIf=\"selectedContextItem.stats.defense\">\n            <span class=\"stat-icon\">🛡️</span>\n            <span class=\"stat-label\">방어력</span>\n            <span class=\"stat-value\">+{{selectedContextItem.stats.defense}}</span>\n          </div>\n          <div class=\"stat-item\" *ngIf=\"selectedContextItem.stats.hp\">\n            <span class=\"stat-icon\">❤️</span>\n            <span class=\"stat-label\">체력</span>\n            <span class=\"stat-value\">+{{selectedContextItem.stats.hp}}</span>\n          </div>\n          <div class=\"stat-item\" *ngIf=\"selectedContextItem.stats.mp\">\n            <span class=\"stat-icon\">💙</span>\n            <span class=\"stat-label\">마나</span>\n            <span class=\"stat-value\">+{{selectedContextItem.stats.mp}}</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- 아이템 설명 -->\n      <div class=\"item-info-description\" *ngIf=\"selectedContextItem.description\">\n        <h5 class=\"desc-title\">📝 설명</h5>\n        <p>{{selectedContextItem.description}}</p>\n      </div>\n\n      <!-- 아이템 액션 버튼 -->\n      <div class=\"item-info-actions\">\n        <button class=\"action-btn equip-btn\" (click)=\"equipItemFromModal(); $event.stopPropagation()\">\n          ⚔️ 장착하기\n        </button>\n        <button class=\"action-btn discard-btn\" (click)=\"discardItemFromModal(); $event.stopPropagation()\">\n          🗑️ 버리기\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <!-- 상점 패널 -->\n  <div class=\"game-panel shop-panel\" \n       *ngIf=\"showShopPanel\"\n       [class.mobile]=\"responsiveService.isMobile$ | async\">\n    <div class=\"panel-header\">\n      <h3>🛒 상점</h3>\n      <button class=\"close-btn\" (click)=\"novelState.closeShopPanel()\">×</button>\n    </div>\n    <div class=\"panel-content\">\n      <div>보유 골드: {{gold}}G</div>\n      <div *ngFor=\"let item of shopItems\">\n        {{item.name}} - {{item.price}}G (재고: {{item.stock}})\n        <button (click)=\"buyItem(item)\" [disabled]=\"gold < item.price || item.stock <= 0\">구매</button>\n      </div>\n    </div>\n  </div>\n\n  <!-- AI 캐릭터 생성 패널 -->\n  <div class=\"game-panel character-creator-panel\" *ngIf=\"showCharacterCreatorPanel\">\n    <div class=\"panel-header\">\n      <h3>🎭 AI 캐릭터 생성</h3>\n      <button class=\"close-btn\" (click)=\"novelState.closeCharacterCreator()\">×</button>\n    </div>\n    <div class=\"panel-content\">\n      <div class=\"character-creator-container\">\n        <div class=\"creator-intro\">\n          <h4>✨ Loworld AI로 캐릭터 생성하기</h4>\n          <p>AI가 무협 소설 스타일의 독특한 캐릭터를 생성해드립니다.</p>\n        </div>\n\n        <div class=\"character-type-buttons\">\n          <button class=\"generate-btn primary\" (click)=\"generateAiCharacter('주인공')\" [disabled]=\"isGeneratingCharacter\">\n            <span *ngIf=\"!isGeneratingCharacter\">🦸 주인공 생성</span>\n            <span *ngIf=\"isGeneratingCharacter\">⏳ 생성 중...</span>\n          </button>\n          <button class=\"generate-btn\" (click)=\"generateAiCharacter('무림 고수')\" [disabled]=\"isGeneratingCharacter\">\n            <span *ngIf=\"!isGeneratingCharacter\">⚔️ 무림 고수 생성</span>\n            <span *ngIf=\"isGeneratingCharacter\">⏳ 생성 중...</span>\n          </button>\n          <button class=\"generate-btn\" (click)=\"generateAiCharacter('적대자')\" [disabled]=\"isGeneratingCharacter\">\n            <span *ngIf=\"!isGeneratingCharacter\">🔥 적대자 생성</span>\n            <span *ngIf=\"isGeneratingCharacter\">⏳ 생성 중...</span>\n          </button>\n          <button class=\"generate-btn\" (click)=\"generateAiCharacter('조연')\" [disabled]=\"isGeneratingCharacter\">\n            <span *ngIf=\"!isGeneratingCharacter\">👥 조연 생성</span>\n            <span *ngIf=\"isGeneratingCharacter\">⏳ 생성 중...</span>\n          </button>\n        </div>\n\n        <!-- 에러 메시지 -->\n        <div class=\"error-message\" *ngIf=\"characterGenerationError\">\n          ⚠️ {{characterGenerationError}}\n        </div>\n\n        <!-- 생성된 캐릭터 정보 -->\n        <div class=\"generated-character-info\" *ngIf=\"generatedCharacter\">\n          <h4>🎉 캐릭터가 생성되었습니다!</h4>\n          \n          <div class=\"character-details\">\n            <div class=\"detail-row\">\n              <span class=\"label\">이름:</span>\n              <span class=\"value\">{{generatedCharacter.name}}</span>\n            </div>\n            <div class=\"detail-row\">\n              <span class=\"label\">나이:</span>\n              <span class=\"value\">{{generatedCharacter.age}}세</span>\n            </div>\n            <div class=\"detail-row\">\n              <span class=\"label\">성별:</span>\n              <span class=\"value\">{{generatedCharacter.gender === 'male' ? '남성' : '여성'}}</span>\n            </div>\n            <div class=\"detail-row\">\n              <span class=\"label\">역할:</span>\n              <span class=\"value\">{{generatedCharacter.role}}</span>\n            </div>\n          </div>\n\n          <div class=\"character-description\">\n            <h5>📖 외모</h5>\n            <p>{{generatedCharacter.appearance}}</p>\n          </div>\n\n          <div class=\"character-description\">\n            <h5>💭 성격</h5>\n            <p>{{generatedCharacter.personality}}</p>\n          </div>\n\n          <div class=\"character-description\">\n            <h5>📜 배경</h5>\n            <p>{{generatedCharacter.background}}</p>\n          </div>\n\n          <div class=\"character-abilities\" *ngIf=\"generatedCharacter.abilities\">\n            <h5>⚔️ 능력</h5>\n            <div class=\"abilities-list\">\n              <span class=\"ability-tag\" *ngFor=\"let ability of generatedCharacter.abilities\">{{ability}}</span>\n            </div>\n          </div>\n\n          <div class=\"character-description\">\n            <h5>🎯 목표</h5>\n            <p>{{generatedCharacter.goals}}</p>\n          </div>\n\n          <div class=\"character-traits\" *ngIf=\"generatedCharacter.traits\">\n            <h5>⭐ 특성</h5>\n            <div class=\"traits-list\">\n              <span class=\"trait-tag\" *ngFor=\"let trait of generatedCharacter.traits\">{{trait}}</span>\n            </div>\n          </div>\n\n          <div class=\"action-buttons\">\n            <button class=\"save-btn\" (click)=\"saveGeneratedCharacter()\">\n              💾 캐릭터 저장하기\n            </button>\n            <button class=\"apply-btn\" (click)=\"applyGeneratedCharacter()\">\n              ✅ 이 캐릭터로 플레이하기\n            </button>\n            <button class=\"regenerate-btn\" (click)=\"generateAiCharacter()\">\n              🔄 다시 생성하기\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- AI 시나리오 생성 패널 -->\n  <div class=\"game-panel scenario-creator-panel\" *ngIf=\"showScenarioCreatorPanel\">\n    <div class=\"panel-header\">\n      <h3>🎬 AI 시나리오 생성</h3>\n      <button class=\"close-btn\" (click)=\"novelState.closeScenarioCreator()\">×</button>\n    </div>\n    <div class=\"panel-content\">\n      <div class=\"scenario-creator-container\">\n        <div class=\"creator-intro\">\n          <h4>✨ Loworld AI로 시나리오 생성하기</h4>\n          <p>AI가 무협 소설 스타일의 독특한 시나리오를 생성해드립니다.</p>\n        </div>\n\n        <div class=\"scenario-type-buttons\">\n          <button class=\"generate-btn primary\" (click)=\"generateAiScenario('무협', '전통적인', '긴장감 넘치는')\" [disabled]=\"isGeneratingScenario\">\n            <span *ngIf=\"!isGeneratingScenario\">⚔️ 전통 무협</span>\n            <span *ngIf=\"isGeneratingScenario\">⏳ 생성 중...</span>\n          </button>\n          <button class=\"generate-btn\" (click)=\"generateAiScenario('판타지', '현대적인', '신비로운')\" [disabled]=\"isGeneratingScenario\">\n            <span *ngIf=\"!isGeneratingScenario\">🌟 현대 판타지</span>\n            <span *ngIf=\"isGeneratingScenario\">⏳ 생성 중...</span>\n          </button>\n          <button class=\"generate-btn\" (click)=\"generateAiScenario('무협', '암흑', '어두운')\" [disabled]=\"isGeneratingScenario\">\n            <span *ngIf=\"!isGeneratingScenario\">🌑 암흑 무협</span>\n            <span *ngIf=\"isGeneratingScenario\">⏳ 생성 중...</span>\n          </button>\n          <button class=\"generate-btn\" (click)=\"generateAiScenario('로맨스', '감성적인', '달콤한')\" [disabled]=\"isGeneratingScenario\">\n            <span *ngIf=\"!isGeneratingScenario\">💝 로맨스</span>\n            <span *ngIf=\"isGeneratingScenario\">⏳ 생성 중...</span>\n          </button>\n        </div>\n\n        <!-- 에러 메시지 -->\n        <div class=\"error-message\" *ngIf=\"scenarioGenerationError\">\n          ⚠️ {{scenarioGenerationError}}\n        </div>\n\n        <!-- 생성된 시나리오 정보 -->\n        <div class=\"generated-scenario-info\" *ngIf=\"generatedScenario\">\n          <h4>🎉 시나리오가 생성되었습니다!</h4>\n          \n          <div class=\"scenario-title\">\n            <h2>{{generatedScenario.title}}</h2>\n          </div>\n\n          <div class=\"scenario-description\">\n            <h5>📖 설명</h5>\n            <p>{{generatedScenario.description}}</p>\n          </div>\n\n          <div class=\"scenario-description\">\n            <h5>📍 배경</h5>\n            <p>{{generatedScenario.setting}}</p>\n          </div>\n\n          <div class=\"scenario-characters\" *ngIf=\"generatedScenario.characters\">\n            <h5>👥 등장인물</h5>\n            <ul>\n              <li *ngFor=\"let character of generatedScenario.characters\">{{character}}</li>\n            </ul>\n          </div>\n\n          <div class=\"scenario-description\">\n            <h5>⚔️ 갈등</h5>\n            <p>{{generatedScenario.conflict}}</p>\n          </div>\n\n          <div class=\"scenario-description\">\n            <h5>🎯 목표</h5>\n            <p>{{generatedScenario.goal}}</p>\n          </div>\n\n          <div class=\"scenario-description\">\n            <h5>💭 분위기</h5>\n            <p>{{generatedScenario.mood}}</p>\n          </div>\n\n          <div class=\"scenario-tags\" *ngIf=\"generatedScenario.tags\">\n            <h5>🏷️ 태그</h5>\n            <div class=\"tags-list\">\n              <span class=\"tag-item\" *ngFor=\"let tag of generatedScenario.tags\">{{tag}}</span>\n            </div>\n          </div>\n\n          <div class=\"action-buttons\">\n            <button class=\"apply-btn\" (click)=\"saveGeneratedScenario()\">\n              💾 시나리오 저장하기\n            </button>\n            <button class=\"start-btn\" (click)=\"startGameWithScenario()\">\n              🎮 이 시나리오로 게임 시작\n            </button>\n            <button class=\"regenerate-btn\" (click)=\"generateAiScenario()\">\n              🔄 다시 생성하기\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- AI 아이템 생성 패널 -->\n  <div class=\"game-panel item-creator-panel\" *ngIf=\"showItemCreatorPanel\">\n    <div class=\"panel-header\">\n      <h3>💎 AI 아이템 생성</h3>\n      <button class=\"close-btn\" (click)=\"novelState.closeItemCreator()\">×</button>\n    </div>\n    <div class=\"panel-content\">\n      <div class=\"item-creator-container\">\n        <div class=\"creator-intro\">\n          <h4>✨ Loworld AI로 아이템 생성하기</h4>\n          <p>AI가 무협 소설 스타일의 독특한 아이템을 생성해드립니다.</p>\n        </div>\n\n        <div class=\"item-type-buttons\">\n          <button class=\"generate-btn random\" (click)=\"generateAiItem()\" [disabled]=\"isGeneratingItem\">\n            <span *ngIf=\"!isGeneratingItem\">🎲 랜덤 10개 생성</span>\n            <span *ngIf=\"isGeneratingItem\">⏳ 생성 중...</span>\n          </button>\n          <button class=\"generate-btn weapon\" (click)=\"generateAiItem('무기')\" [disabled]=\"isGeneratingItem\">\n            <span *ngIf=\"!isGeneratingItem\">⚔️ 무기 10개</span>\n            <span *ngIf=\"isGeneratingItem\">⏳ 생성 중...</span>\n          </button>\n          <button class=\"generate-btn armor\" (click)=\"generateAiItem('방어구')\" [disabled]=\"isGeneratingItem\">\n            <span *ngIf=\"!isGeneratingItem\">🛡️ 방어구 10개</span>\n            <span *ngIf=\"isGeneratingItem\">⏳ 생성 중...</span>\n          </button>\n          <button class=\"generate-btn consumable\" (click)=\"generateAiItem('소비품')\" [disabled]=\"isGeneratingItem\">\n            <span *ngIf=\"!isGeneratingItem\">🧪 소비품 10개</span>\n            <span *ngIf=\"isGeneratingItem\">⏳ 생성 중...</span>\n          </button>\n        </div>\n\n        <!-- 에러 메시지 -->\n        <div class=\"error-message\" *ngIf=\"itemGenerationError\">\n          ⚠️ {{itemGenerationError}}\n        </div>\n\n        <!-- 생성된 아이템 목록 -->\n        <div class=\"generated-items-list\" *ngIf=\"generatedItems.length > 0\">\n          <h4>🎉 {{generatedItems.length}}개의 아이템이 생성되었습니다!</h4>\n          \n          <div class=\"items-grid\">\n            <div class=\"item-card\" *ngFor=\"let item of generatedItems; let i = index\" \n                 [class.grade-common]=\"item.grade === '일반'\"\n                 [class.grade-uncommon]=\"item.grade === '고급'\"\n                 [class.grade-rare]=\"item.grade === '희귀'\"\n                 [class.grade-epic]=\"item.grade === '영웅'\"\n                 [class.grade-legendary]=\"item.grade === '전설' || item.grade === '신화'\">\n              \n              <div class=\"item-card-header\">\n                <h5>{{item.name}}</h5>\n                <span class=\"item-grade-badge\" [class]=\"'grade-' + item.grade\">{{item.grade}}</span>\n              </div>\n              \n              <div class=\"item-card-type\">\n                📦 {{item.type}}\n              </div>\n              \n              <div class=\"item-card-description\">\n                {{item.description}}\n              </div>\n              \n              <div class=\"item-card-stats\" *ngIf=\"item.stats\">\n                <span *ngIf=\"item.stats.attack\" class=\"stat-mini\">⚔️ +{{item.stats.attack}}</span>\n                <span *ngIf=\"item.stats.defense\" class=\"stat-mini\">🛡️ +{{item.stats.defense}}</span>\n                <span *ngIf=\"item.stats.hp\" class=\"stat-mini\">❤️ +{{item.stats.hp}}</span>\n                <span *ngIf=\"item.stats.mp\" class=\"stat-mini\">💙 +{{item.stats.mp}}</span>\n              </div>\n              \n              <div class=\"item-card-actions\">\n                <button class=\"save-mini-btn\" (click)=\"saveGeneratedItemByIndex(i)\">\n                  💾 저장\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"bulk-actions\">\n            <button class=\"save-all-btn\" (click)=\"saveAllGeneratedItems()\">\n              💾 모두 저장\n            </button>\n          </div>\n        </div>\n\n        <!-- 기존 단일 아이템 정보 (호환성 유지) -->\n        <div class=\"generated-item-info\" *ngIf=\"generatedItem && generatedItems.length === 0\">\n          <h4>🎉 아이템이 생성되었습니다!</h4>\n          \n          <div class=\"item-title\" [class.grade-legendary]=\"generatedItem.grade === '신화' || generatedItem.grade === '전설'\">\n            <h2>{{generatedItem.name}}</h2>\n            <div class=\"item-grade-badge\" [class]=\"'grade-' + generatedItem.grade\">\n              {{generatedItem.grade}}\n            </div>\n          </div>\n\n          <div class=\"item-type-info\">\n            <span class=\"type-badge\">📦 {{generatedItem.type}}</span>\n          </div>\n\n          <div class=\"item-description\">\n            <h5>📖 설명</h5>\n            <p>{{generatedItem.description}}</p>\n          </div>\n\n          <div class=\"item-stats\" *ngIf=\"generatedItem.stats\">\n            <h5>📊 능력치</h5>\n            <div class=\"stats-grid\">\n              <div class=\"stat-item\" *ngIf=\"generatedItem.stats.attack\">\n                <span class=\"stat-label\">⚔️ 공격력</span>\n                <span class=\"stat-value\">+{{generatedItem.stats.attack}}</span>\n              </div>\n              <div class=\"stat-item\" *ngIf=\"generatedItem.stats.defense\">\n                <span class=\"stat-label\">🛡️ 방어력</span>\n                <span class=\"stat-value\">+{{generatedItem.stats.defense}}</span>\n              </div>\n              <div class=\"stat-item\" *ngIf=\"generatedItem.stats.hp\">\n                <span class=\"stat-label\">❤️ HP</span>\n                <span class=\"stat-value\">+{{generatedItem.stats.hp}}</span>\n              </div>\n              <div class=\"stat-item\" *ngIf=\"generatedItem.stats.mp\">\n                <span class=\"stat-label\">💙 MP</span>\n                <span class=\"stat-value\">+{{generatedItem.stats.mp}}</span>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"item-effects\" *ngIf=\"generatedItem.effects && generatedItem.effects.length > 0\">\n            <h5>✨ 효과</h5>\n            <ul>\n              <li *ngFor=\"let effect of generatedItem.effects\">{{effect}}</li>\n            </ul>\n          </div>\n\n          <div class=\"item-requirements\" *ngIf=\"generatedItem.requirements\">\n            <h5>⚠️ 사용 조건</h5>\n            <p>{{generatedItem.requirements}}</p>\n          </div>\n\n          <div class=\"item-lore\" *ngIf=\"generatedItem.lore\">\n            <h5>📜 전설</h5>\n            <p class=\"lore-text\">{{generatedItem.lore}}</p>\n          </div>\n\n          <div class=\"item-tags\" *ngIf=\"generatedItem.tags && generatedItem.tags.length > 0\">\n            <h5>🏷️ 태그</h5>\n            <div class=\"tags-list\">\n              <span class=\"tag-item\" *ngFor=\"let tag of generatedItem.tags\">{{tag}}</span>\n            </div>\n          </div>\n\n          <div class=\"action-buttons\">\n            <button class=\"save-btn\" (click)=\"saveGeneratedItem()\">\n              💾 아이템 저장하기\n            </button>\n            <button class=\"add-btn\" (click)=\"addGeneratedItemToInventory()\">\n              🎒 인벤토리에 추가\n            </button>\n            <button class=\"regenerate-btn\" (click)=\"generateAiItem()\">\n              🔄 다시 생성하기\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- 스토리 플로우 패널 (최상위 레벨) -->\n<div class=\"story-flow-overlay\" *ngIf=\"showStoryFlowPanel\">\n  <div class=\"story-flow-panel\">\n    <div class=\"flow-header\">\n      <div class=\"header-left\">\n        <h3>🗺️ 스토리 플로우</h3>\n      </div>\n      <button class=\"close-btn\" (click)=\"toggleStoryFlowPanel()\">✕</button>\n    </div>\n\n    <div class=\"flow-info\">\n      <p>현재까지의 선택과 앞으로의 가능한 경로를 보여줍니다.</p>\n      <div class=\"flow-stats\">\n        <span class=\"stat-item\">📊 진행 단계: {{storyBlocks.length}}</span>\n        <span class=\"stat-item\">🔀 선택 횟수: {{currentPath.length}}</span>\n        <span class=\"stat-item\">🎯 현재 선택지: {{choices.length}}</span>\n      </div>\n    </div>\n\n    <div class=\"flow-canvas\">\n      <div class=\"flow-nodes\">\n        <div \n          *ngFor=\"let node of storyFlowNodes; let i = index\" \n          class=\"flow-node\"\n          [ngClass]=\"{\n            'node-start': node.type === 'start',\n            'node-story': node.type === 'story',\n            'node-choice': node.type === 'choice',\n            'node-current': node.type === 'current'\n          }\"\n          [style.margin-left.px]=\"node.level * 40\">\n          \n          <div class=\"node-icon\">\n            <span *ngIf=\"node.type === 'start'\">🎬</span>\n            <span *ngIf=\"node.type === 'story'\">📖</span>\n            <span *ngIf=\"node.type === 'choice'\">🔀</span>\n            <span *ngIf=\"node.type === 'current'\">📍</span>\n          </div>\n          \n          <div class=\"node-content\">\n            <div class=\"node-label\">{{node.label}}</div>\n            <div class=\"node-level\">레벨 {{node.level}}</div>\n            \n            <!-- 현재 노드의 선택지들 -->\n            <div class=\"node-choices\" *ngIf=\"node.type === 'current' && node.choices\">\n              <div class=\"choice-preview\" *ngFor=\"let choice of node.choices\">\n                → {{choice.substring(0, 30)}}{{choice.length > 30 ? '...' : ''}}\n              </div>\n            </div>\n          </div>\n\n          <!-- 연결선 -->\n          <div class=\"flow-connector\" *ngIf=\"i < storyFlowNodes.length - 1\"></div>\n        </div>\n      </div>\n\n      <div class=\"flow-legend\">\n        <h4>범례</h4>\n        <div class=\"legend-items\">\n          <div class=\"legend-item\"><span class=\"legend-icon start\">🎬</span> 시작</div>\n          <div class=\"legend-item\"><span class=\"legend-icon story\">📖</span> 스토리</div>\n          <div class=\"legend-item\"><span class=\"legend-icon choice\">🔀</span> 선택</div>\n          <div class=\"legend-item\"><span class=\"legend-icon current\">📍</span> 현재 위치</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- 시나리오 연결 패널 -->\n<div class=\"scenario-link-overlay\" *ngIf=\"showScenarioLinkPanel\">\n  <div class=\"scenario-link-panel\" cdkDrag cdkDragBoundary=\".scenario-link-overlay\">\n    <div class=\"link-header\" cdkDragHandle>\n      <div class=\"header-left\">\n        <span class=\"drag-indicator\">⋮⋮</span>\n        <h3>🔗 선택지에 시나리오 연결</h3>\n      </div>\n      <button class=\"close-btn\" (click)=\"closeScenarioLinkPanel()\">✕</button>\n    </div>\n\n    <div class=\"link-info\">\n      <p>선택지 <strong>#{{currentLinkingChoiceIndex + 1}}</strong>에 연결할 시나리오를 선택하세요.</p>\n      <p class=\"hint\">💡 선택하면 해당 선택지를 고를 때 저장된 시나리오가 전개됩니다.</p>\n    </div>\n\n    <div class=\"scenario-list\">\n      <div class=\"scenario-grid\">\n        <div \n          *ngFor=\"let scenario of savedScenarios\" \n          class=\"scenario-card\"\n          (click)=\"linkScenarioToChoice(currentLinkingChoiceIndex, scenario.id)\">\n          \n          <div class=\"scenario-header\">\n            <h4>{{scenario.title}}</h4>\n            <span class=\"scenario-genre\">{{scenario.genre}}</span>\n          </div>\n          \n          <div class=\"scenario-body\">\n            <p class=\"scenario-description\">{{scenario.description}}</p>\n            \n            <div class=\"scenario-meta\">\n              <span class=\"meta-item\">📍 {{scenario.setting}}</span>\n              <span class=\"meta-item\">🎭 {{scenario.mood}}</span>\n            </div>\n            \n            <div class=\"scenario-tags\" *ngIf=\"scenario.tags && scenario.tags.length > 0\">\n              <span class=\"tag\" *ngFor=\"let tag of scenario.tags.slice(0, 3)\">{{tag}}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"no-scenarios\" *ngIf=\"savedScenarios.length === 0\">\n        <p>저장된 시나리오가 없습니다.</p>\n        <button class=\"create-scenario-btn\" (click)=\"openScenarioCreator(); closeScenarioLinkPanel()\">\n          🎬 시나리오 생성하기\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- 플로우 패널 (우측 고정) -->\n<div class=\"flow-side-panel\" \n     *ngIf=\"gameStarted && storyNodes.length > 0 && isFlowPanelOpen\"\n     [@slideInOut]>\n  <div class=\"panel-container\">\n    <!-- 헤더 -->\n    <div class=\"panel-header\">\n      <div class=\"status-bar\">\n        <span class=\"time\">{{getCurrentTime()}}</span>\n        <span class=\"progress\">{{calculateExplorationRate()}}%</span>\n      </div>\n      <div class=\"title-bar\">\n        <h3>\n          {{flowPanelTab === 'character' ? '🎭 캐릭터 정보' : \n            flowPanelTab === 'organization' ? '🏛️ 조직 정보' : \n            '🗺️ 스토리 맵'}}\n        </h3>\n        <div class=\"header-actions\">\n          <button class=\"expand-btn\" (click)=\"toggleAdvancedFlowPanel()\" title=\"전체화면\" *ngIf=\"flowPanelTab === 'map'\">\n            ⛶\n          </button>\n          <button class=\"close-btn\" (click)=\"toggleFlowPanel()\" title=\"닫기\">\n            ✕\n          </button>\n        </div>\n      </div>\n    </div>\n    \n    <!-- 컨텐츠 슬라이더 -->\n    <div class=\"panel-content-slider\" [attr.data-tab]=\"flowPanelTab\">\n      <!-- 캐릭터 정보 탭 -->\n      <div class=\"tab-content character-tab\">\n        <div class=\"character-info-card\">\n          <div class=\"character-header\">\n            <div class=\"character-avatar\">\n              <span class=\"avatar-icon\">🎭</span>\n            </div>\n            <div class=\"character-basic\">\n              <div class=\"character-name\">{{playerCharacter.name || '모험가'}}</div>\n              <div class=\"character-level\">Lv.{{playerCharacter.level || 1}}</div>\n            </div>\n          </div>\n          \n          <div class=\"character-stats\">\n            <!-- HP 바 -->\n            <div class=\"stat-row\">\n              <div class=\"stat-label\">\n                <span class=\"stat-icon hp\">❤️</span>\n                <span class=\"stat-name\">HP</span>\n              </div>\n              <div class=\"stat-bar-container\">\n                <div class=\"stat-bar hp\">\n                  <div class=\"stat-bar-fill\" \n                       [style.width.%]=\"playerCharacter.hp && playerCharacter.maxHp ? (playerCharacter.hp / playerCharacter.maxHp * 100) : 100\"></div>\n                </div>\n                <span class=\"stat-value\">{{playerCharacter.hp || 100}}/{{playerCharacter.maxHp || 100}}</span>\n              </div>\n            </div>\n            \n            <!-- MP 바 -->\n            <div class=\"stat-row\">\n              <div class=\"stat-label\">\n                <span class=\"stat-icon mp\">💙</span>\n                <span class=\"stat-name\">MP</span>\n              </div>\n              <div class=\"stat-bar-container\">\n                <div class=\"stat-bar mp\">\n                  <div class=\"stat-bar-fill\" \n                       [style.width.%]=\"playerCharacter.mp && playerCharacter.maxMp ? (playerCharacter.mp / playerCharacter.maxMp * 100) : 100\"></div>\n                </div>\n                <span class=\"stat-value\">{{playerCharacter.mp || 50}}/{{playerCharacter.maxMp || 50}}</span>\n              </div>\n            </div>\n            \n            <!-- 골드 & 화력 -->\n            <div class=\"stat-row inline\">\n              <div class=\"inline-stat\">\n                <span class=\"stat-icon\">💰</span>\n                <span class=\"stat-value\">{{gold || 100}}G</span>\n              </div>\n              <div class=\"inline-stat\">\n                <span class=\"stat-icon\">🔥</span>\n                <span class=\"stat-value\">{{playerInternalPower.current || 100}}/{{playerInternalPower.max || 100}}</span>\n              </div>\n            </div>\n            \n            <!-- 초류 -->\n            <div class=\"stat-row special\">\n              <div class=\"stat-label\">\n                <span class=\"stat-icon\">⭐</span>\n                <span class=\"stat-name\">초류</span>\n              </div>\n              <div class=\"cultivation-badge\">{{playerInternalPower.realm || '초류'}}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <!-- 스토리 맵 탭 -->\n      <div class=\"tab-content map-tab\">\n        <!-- 현재 위치 요약 -->\n    <div class=\"current-status\" *ngIf=\"getCurrentNode()\">\n      <div class=\"status-icon\">{{getNodeIcon(getCurrentNode()!)}}</div>\n      <div class=\"status-info\">\n        <div class=\"status-title\">{{getCurrentNode()!.title}}</div>\n        <div class=\"status-path\">경로: {{storyProgress.visitedNodes.length}}/{{storyNodes.length}}</div>\n      </div>\n    </div>\n    \n    <!-- 미니 플로우 맵 -->\n    <div class=\"mini-flow-map\">\n      <svg [attr.viewBox]=\"flowViewBox\" width=\"100%\" height=\"100%\" preserveAspectRatio=\"xMidYMid meet\">\n        <!-- 연결선 -->\n        <g class=\"mini-connections\">\n          <path *ngFor=\"let conn of storyConnections\"\n                [attr.d]=\"conn.path\"\n                [attr.stroke]=\"conn.color\"\n                [attr.stroke-width]=\"conn.width * 0.5\"\n                fill=\"none\"\n                opacity=\"0.6\">\n          </path>\n        </g>\n        \n        <!-- 노드 -->\n        <g class=\"mini-nodes\">\n          <g *ngFor=\"let node of visibleNodes\"\n             [attr.transform]=\"'translate(' + node.position.x + ',' + node.position.y + ')'\">\n            <circle r=\"20\"\n                    [attr.fill]=\"getNodeColor(node)\"\n                    [attr.stroke]=\"getNodeBorderColor(node)\"\n                    [attr.stroke-width]=\"node.isCurrent ? 3 : 1.5\"\n                    [class.pulse]=\"node.isCurrent\">\n            </circle>\n            <text text-anchor=\"middle\" dy=\"7\" font-size=\"16\">\n              {{getNodeIcon(node)}}\n            </text>\n          </g>\n        </g>\n      </svg>\n    </div>\n    \n    <!-- 퀵 통계 -->\n    <div class=\"quick-stats\">\n      <div class=\"stat-item\">\n        <span class=\"stat-icon\">📍</span>\n        <span class=\"stat-text\">{{storyProgress.visitedNodes.length}}</span>\n      </div>\n      <div class=\"stat-item\">\n        <span class=\"stat-icon\">🔀</span>\n        <span class=\"stat-text\">{{storyProgress.totalChoices}}</span>\n      </div>\n      <div class=\"stat-item\">\n        <span class=\"stat-icon\">⚔️</span>\n        <span class=\"stat-text\">{{storyProgress.battlesWon}}/{{storyProgress.battlesWon + storyProgress.battlesLost}}</span>\n      </div>\n    </div>\n    \n    <!-- 최근 경로 -->\n    <div class=\"recent-path\" *ngIf=\"storyProgress.pathHistory.length > 0\">\n      <div class=\"recent-title\">최근 경로</div>\n      <div class=\"path-dots\">\n        <span *ngFor=\"let step of storyProgress.pathHistory.slice(-8)\"\n              class=\"path-dot\"\n              [class.current]=\"step.nodeId === currentStoryNodeId\"\n              [title]=\"getNodeById(step.nodeId)?.title || '알 수 없음'\">\n          {{getNodeIcon(getNodeById(step.nodeId) || storyNodes[0])}}\n        </span>\n      </div>\n    </div>\n      </div>\n      \n      <!-- 조직 탭 -->\n      <div class=\"tab-content organization-tab\">\n        <div class=\"organization-container\" *ngIf=\"playerOrganization\">\n          <!-- 조직 정보 헤더 -->\n          <div class=\"organization-header\">\n            <div class=\"org-name-section\">\n              <h3 class=\"org-name\">{{playerOrganization.name}}</h3>\n              <span class=\"org-level\">Lv.{{playerOrganization.level}}</span>\n            </div>\n            <div class=\"org-stats\">\n              <div class=\"org-stat\">\n                <span class=\"stat-label\">인원</span>\n                <span class=\"stat-value\">{{playerOrganization.members.length}}/{{playerOrganization.maxMembers}}</span>\n              </div>\n              <div class=\"org-stat\">\n                <span class=\"stat-label\">명성</span>\n                <span class=\"stat-value\">{{playerOrganization.reputation}}</span>\n              </div>\n            </div>\n          </div>\n          \n          <!-- 조직원 목록 -->\n          <div class=\"members-list\">\n            <div class=\"member-card\" \n                 *ngFor=\"let member of playerOrganization.members\"\n                 [class.selected]=\"selectedMember?.id === member.id\"\n                 (click)=\"selectMember(member)\">\n              <!-- 멤버 헤더 -->\n              <div class=\"member-header\">\n                <div class=\"member-avatar\">{{member.avatar || '👤'}}</div>\n                <div class=\"member-basic\">\n                  <div class=\"member-name-row\">\n                    <span class=\"member-name\">{{member.name}}</span>\n                    <span class=\"member-role\" [attr.data-role]=\"member.role\">\n                      {{getRoleName(member.role)}}\n                    </span>\n                  </div>\n                  <div class=\"member-level\">Lv.{{member.level}} | {{member.specialty}}</div>\n                </div>\n                <div class=\"member-status\" [attr.data-status]=\"member.status\">\n                  {{getStatusName(member.status)}}\n                </div>\n              </div>\n              \n              <!-- 멤버 스탯 바 -->\n              <div class=\"member-stats-bars\">\n                <div class=\"stat-bar-row\">\n                  <span class=\"bar-label\">HP</span>\n                  <div class=\"mini-stat-bar hp\">\n                    <div class=\"mini-bar-fill\" \n                         [style.width.%]=\"(member.stats.hp / member.stats.maxHp * 100)\"></div>\n                  </div>\n                  <span class=\"bar-value\">{{member.stats.hp}}/{{member.stats.maxHp}}</span>\n                </div>\n                <div class=\"stat-bar-row\" *ngIf=\"member.internalPower\">\n                  <span class=\"bar-label\">내공</span>\n                  <div class=\"mini-stat-bar mp\">\n                    <div class=\"mini-bar-fill\" \n                         [style.width.%]=\"(member.internalPower.current / member.internalPower.max * 100)\"></div>\n                  </div>\n                  <span class=\"bar-value\">{{member.internalPower.current}}/{{member.internalPower.max}}</span>\n                </div>\n              </div>\n              \n              <!-- 멤버 특성 -->\n              <div class=\"member-details\">\n                <div class=\"detail-row\">\n                  <span class=\"detail-icon\">⚔️</span>\n                  <span class=\"detail-text\">공격 {{member.stats.attack}} | 방어 {{member.stats.defense}}</span>\n                </div>\n                <div class=\"detail-row\">\n                  <span class=\"detail-icon\">💖</span>\n                  <span class=\"detail-text\">충성도: {{member.loyalty}}%</span>\n                  <div class=\"loyalty-bar\">\n                    <div class=\"loyalty-fill\" [style.width.%]=\"member.loyalty\"></div>\n                  </div>\n                </div>\n                <div class=\"detail-row\" *ngIf=\"member.internalPower\">\n                  <span class=\"detail-icon\">⭐</span>\n                  <span class=\"detail-text\">{{member.internalPower.realm}}</span>\n                </div>\n              </div>\n              \n              <!-- 스킬 목록 -->\n              <div class=\"member-skills\" *ngIf=\"member.skills && member.skills.length > 0\">\n                <span class=\"skill-tag\" *ngFor=\"let skill of member.skills.slice(0, 3)\">\n                  {{skill}}\n                </span>\n              </div>\n              \n              <!-- 설명 -->\n              <div class=\"member-description\" *ngIf=\"member.description\">\n                <p>{{member.description}}</p>\n              </div>\n            </div>\n            \n            <!-- 조직원 없을 때 -->\n            <div class=\"no-members\" *ngIf=\"playerOrganization.members.length === 0\">\n              <p>아직 조직원이 없습니다.</p>\n              <p>모험을 통해 동료를 모집하세요!</p>\n            </div>\n          </div>\n        </div>\n        \n        <!-- 조직이 없을 때 -->\n        <div class=\"no-organization\" *ngIf=\"!playerOrganization\">\n          <p>아직 조직이 없습니다.</p>\n          <p>게임을 시작하면 조직이 생성됩니다.</p>\n        </div>\n      </div>\n    </div>\n    \n    <!-- 하단 탭 네비게이션 -->\n    <div class=\"tab-navigation bottom\">\n      <button class=\"tab-btn\" \n              [class.active]=\"flowPanelTab === 'character'\"\n              (click)=\"switchFlowTab('character')\">\n        <span class=\"tab-icon\">🎭</span>\n        <span class=\"tab-label\">캐릭터</span>\n      </button>\n      <button class=\"tab-btn\" \n              [class.active]=\"flowPanelTab === 'organization'\"\n              (click)=\"switchFlowTab('organization')\">\n        <span class=\"tab-icon\">🏛️</span>\n        <span class=\"tab-label\">조직</span>\n      </button>\n      <button class=\"tab-btn\" \n              [class.active]=\"flowPanelTab === 'map'\"\n              (click)=\"switchFlowTab('map')\">\n        <span class=\"tab-icon\">🗺️</span>\n        <span class=\"tab-label\">스토리</span>\n      </button>\n    </div>\n  </div>\n</div>\n\n<!-- 플로우 패널 토글 버튼 (패널이 닫혔을 때 표시) -->\n<button class=\"flow-panel-toggle-btn\" \n        *ngIf=\"gameStarted && storyNodes.length > 0 && !isFlowPanelOpen\"\n        (click)=\"toggleFlowPanel()\"\n        title=\"스토리 맵 열기\">\n  <span class=\"toggle-icon\">🗺️</span>\n  <span class=\"toggle-text\">맵</span>\n</button>\n\n<!-- 고급 스토리 플로우 시각화 패널 (전체화면 모드) -->\n<div class=\"advanced-story-flow-overlay\" *ngIf=\"showAdvancedFlowPanel\">\n  <div class=\"advanced-flow-panel\">\n    <!-- 헤더 -->\n    <div class=\"advanced-flow-header\">\n      <div class=\"header-left\">\n        <h2>🗺️ 비선형 스토리 플로우</h2>\n        <span class=\"subtitle\">선택과 전투가 만드는 당신만의 여정</span>\n      </div>\n      <button class=\"close-btn\" (click)=\"toggleAdvancedFlowPanel()\">\n        ✕\n      </button>\n    </div>\n\n    <!-- 툴바 -->\n    <div class=\"flow-toolbar\" *ngIf=\"storyNodes.length > 0\">\n      <div class=\"toolbar-section\">\n        <button class=\"tool-btn\" (click)=\"zoomIn()\" title=\"확대\">\n          🔍+ 확대\n        </button>\n        <button class=\"tool-btn\" (click)=\"zoomOut()\" title=\"축소\">\n          🔍− 축소\n        </button>\n        <button class=\"tool-btn\" (click)=\"centerView()\" title=\"중앙으로\">\n          🎯 중앙\n        </button>\n        <button class=\"tool-btn\" (click)=\"fitToScreen()\" title=\"화면에 맞추기\">\n          📐 전체\n        </button>\n      </div>\n\n      <div class=\"toolbar-section\">\n        <button class=\"filter-btn\" [class.active]=\"showVisitedOnly\" \n                (click)=\"toggleFilter('visited')\" title=\"방문한 경로만 표시\">\n          ✅ 방문 경로\n        </button>\n        <button class=\"filter-btn\" [class.active]=\"showBattlesOnly\" \n                (click)=\"toggleFilter('battles')\" title=\"전투 노드만 표시\">\n          ⚔️ 전투\n        </button>\n        <button class=\"filter-btn\" [class.active]=\"showEndingsOnly\" \n                (click)=\"toggleFilter('endings')\" title=\"엔딩 노드만 표시\">\n          🏁 엔딩\n        </button>\n      </div>\n\n      <div class=\"toolbar-section\">\n        <select class=\"layout-selector\" [(ngModel)]=\"flowLayoutType\" \n                (change)=\"changeLayout(flowLayoutType)\">\n          <option value=\"hierarchical\">계층형</option>\n          <option value=\"radial\">방사형</option>\n          <option value=\"force\">자유형</option>\n        </select>\n      </div>\n\n      <div class=\"toolbar-section\">\n        <button class=\"tool-btn\" [class.active]=\"showStats\" \n                (click)=\"toggleStats()\" title=\"통계 표시/숨기기\">\n          📊 통계\n        </button>\n      </div>\n      \n      <div class=\"toolbar-section toolbar-hint\">\n        <span class=\"hint-text\">💡 드래그로 노드 이동</span>\n      </div>\n    </div>\n\n    <!-- 캔버스 영역 -->\n    <div class=\"flow-canvas-container\" *ngIf=\"storyNodes.length > 0\"\n         (mousedown)=\"onCanvasMouseDown($event)\"\n         (mousemove)=\"onCanvasMouseMove($event)\"\n         (mouseup)=\"onCanvasMouseUp()\"\n         (mouseleave)=\"onCanvasMouseUp()\"\n         (wheel)=\"onCanvasWheel($event)\">\n      \n      <!-- SVG 캔버스 -->\n      <svg class=\"flow-svg-canvas\" \n           [attr.width]=\"'100%'\"\n           [attr.height]=\"'100%'\">\n        \n        <!-- 정의 (화살표 마커 등) -->\n        <defs>\n          <marker id=\"arrowhead\" markerWidth=\"10\" markerHeight=\"10\" \n                  refX=\"9\" refY=\"3\" orient=\"auto\">\n            <polygon points=\"0 0, 10 3, 0 6\" fill=\"#cbd5e0\"/>\n          </marker>\n          <marker id=\"arrowhead-visited\" markerWidth=\"10\" markerHeight=\"10\" \n                  refX=\"9\" refY=\"3\" orient=\"auto\">\n            <polygon points=\"0 0, 10 3, 0 6\" fill=\"#48bb78\"/>\n          </marker>\n          <marker id=\"arrowhead-current\" markerWidth=\"10\" markerHeight=\"10\" \n                  refX=\"9\" refY=\"3\" orient=\"auto\">\n            <polygon points=\"0 0, 10 3, 0 6\" fill=\"#4299e1\"/>\n          </marker>\n          <marker id=\"arrowhead-battle\" markerWidth=\"10\" markerHeight=\"10\" \n                  refX=\"9\" refY=\"3\" orient=\"auto\">\n            <polygon points=\"0 0, 10 3, 0 6\" fill=\"#fc8181\"/>\n          </marker>\n          \n          <!-- 그리드 패턴 -->\n          <pattern id=\"grid\" width=\"50\" height=\"50\" patternUnits=\"userSpaceOnUse\">\n            <path d=\"M 50 0 L 0 0 0 50\" fill=\"none\" stroke=\"rgba(255,255,255,0.05)\" stroke-width=\"1\"/>\n          </pattern>\n        </defs>\n\n        <!-- 전체 변환 그룹 (패닝 & 줌) -->\n        <g [attr.transform]=\"getCanvasTransform()\">\n          <!-- 그리드 배경 -->\n          <rect x=\"-5000\" y=\"-5000\" width=\"10000\" height=\"10000\" fill=\"url(#grid)\"/>\n          \n          <!-- 연결선 레이어 -->\n          <g class=\"connections-layer\">\n            <path *ngFor=\"let conn of storyConnections\"\n                  [attr.d]=\"conn.path\"\n                  class=\"connection-path\"\n                  [class.visited]=\"conn.isVisited\"\n                  [class.current]=\"conn.isCurrent\"\n                  [attr.stroke]=\"conn.color\"\n                  [attr.stroke-width]=\"conn.width\"\n                  [attr.marker-end]=\"conn.isVisited ? 'url(#arrowhead-visited)' : 'url(#arrowhead)'\">\n            </path>\n          </g>\n\n          <!-- 노드 레이어 -->\n          <g class=\"nodes-layer\">\n            <g *ngFor=\"let node of visibleNodes\"\n               class=\"story-node\"\n               [class.current]=\"node.isCurrent\"\n               [class.visited]=\"node.isVisited\"\n               [class.available]=\"node.isAvailable\"\n               [class.selected]=\"selectedNode?.id === node.id\"\n               [class.dragging]=\"draggingNode?.id === node.id\"\n               [class.battle]=\"node.type === 'battle'\"\n               [class.ending]=\"node.type === 'ending'\"\n               [class.event]=\"node.type === 'event'\"\n               [attr.transform]=\"'translate(' + node.position.x + ',' + node.position.y + ')'\"\n               (mousedown)=\"onNodeMouseDown(node, $event)\"\n               (click)=\"onNodeClick(node, $event)\">\n              \n              <!-- 선택 효과 -->\n              <circle *ngIf=\"selectedNode?.id === node.id\" r=\"55\" \n                      fill=\"none\"\n                      stroke=\"#fbbf24\"\n                      stroke-width=\"3\"\n                      opacity=\"0.8\"\n                      class=\"node-selection-ring\">\n                <animate attributeName=\"r\" values=\"55;60;55\" dur=\"2s\" repeatCount=\"indefinite\"/>\n              </circle>\n              \n              <!-- 노드 배경 원 -->\n              <circle r=\"40\" \n                      [attr.fill]=\"getNodeColor(node)\"\n                      [attr.stroke]=\"getNodeBorderColor(node)\"\n                      stroke-width=\"3\"\n                      class=\"node-circle\">\n              </circle>\n\n              <!-- 현재 노드 외곽 빛 효과 -->\n              <circle *ngIf=\"node.isCurrent\" r=\"50\" \n                      [attr.stroke]=\"getNodeBorderColor(node)\"\n                      stroke-width=\"2\"\n                      fill=\"none\"\n                      opacity=\"0.5\"\n                      class=\"node-glow\">\n              </circle>\n\n              <!-- 노드 아이콘 -->\n              <text class=\"node-icon\" \n                    text-anchor=\"middle\" \n                    dy=\"10\"\n                    font-size=\"28\">\n                {{getNodeIcon(node)}}\n              </text>\n\n              <!-- 노드 제목 -->\n              <text class=\"node-title\" \n                    y=\"60\" \n                    text-anchor=\"middle\"\n                    font-size=\"14\"\n                    font-weight=\"600\">\n                {{node.title.length > 12 ? (node.title.substring(0, 12) + '...') : node.title}}\n              </text>\n\n              <!-- 배지 (방문 횟수, 특별 마크 등) -->\n              <g *ngIf=\"node.badge\" transform=\"translate(25, -25)\">\n                <circle r=\"15\" fill=\"#e53e3e\"></circle>\n                <text class=\"badge-text\" \n                      text-anchor=\"middle\" \n                      dy=\"5\"\n                      font-size=\"16\">\n                  {{node.badge}}\n                </text>\n              </g>\n\n              <!-- 방문 횟수 표시 -->\n              <g *ngIf=\"node.visitCount && node.visitCount > 1\" transform=\"translate(-25, -25)\">\n                <circle r=\"12\" fill=\"#4299e1\"></circle>\n                <text class=\"visit-count\" \n                      text-anchor=\"middle\" \n                      dy=\"4\"\n                      font-size=\"10\"\n                      fill=\"white\">\n                  {{node.visitCount}}\n                </text>\n              </g>\n            </g>\n          </g>\n        </g>\n      </svg>\n\n      <!-- 줌 컨트롤 -->\n      <div class=\"zoom-controls\">\n        <button class=\"zoom-btn\" (click)=\"zoomIn()\" title=\"확대 (Ctrl + Scroll Up)\">\n          <span>🔍+</span>\n        </button>\n        <div class=\"zoom-level\">{{(flowZoomLevel * 100).toFixed(0)}}%</div>\n        <button class=\"zoom-btn\" (click)=\"zoomOut()\" title=\"축소 (Ctrl + Scroll Down)\">\n          <span>🔍-</span>\n        </button>\n        <button class=\"zoom-btn\" (click)=\"resetZoom()\" title=\"초기화 (더블클릭)\">\n          <span>⟲</span>\n        </button>\n        <button class=\"zoom-btn\" (click)=\"focusOnCurrentNode()\" title=\"현재 노드로 이동\">\n          <span>📍</span>\n        </button>\n      </div>\n\n      <!-- 범례 (컴팩트 버전) -->\n      <div class=\"legend-compact\">\n        <div class=\"legend-item\"><span class=\"icon\">🎬</span> 시작</div>\n        <div class=\"legend-item\"><span class=\"icon\">📖</span> 스토리</div>\n        <div class=\"legend-item\"><span class=\"icon\">⚔️</span> 전투</div>\n        <div class=\"legend-item\"><span class=\"icon\">✨</span> 이벤트</div>\n        <div class=\"legend-item\"><span class=\"icon\">🏁</span> 엔딩</div>\n      </div>\n    </div>\n\n    <!-- 노드 상세 정보 패널 -->\n    <div class=\"node-detail-panel\" *ngIf=\"selectedNode\">\n      <div class=\"detail-header\">\n        <h3>{{selectedNode.title}}</h3>\n        <button class=\"detail-close-btn\" (click)=\"selectedNode = null\">✕</button>\n      </div>\n\n      <div class=\"detail-body\">\n        <div class=\"detail-type\">\n          <span class=\"type-badge\" [class.battle]=\"selectedNode.type === 'battle'\"\n                [class.ending]=\"selectedNode.type === 'ending'\"\n                [class.event]=\"selectedNode.type === 'event'\">\n            {{getNodeIcon(selectedNode)}} {{selectedNode.type}}\n          </span>\n        </div>\n\n        <div class=\"detail-content\" *ngIf=\"selectedNode.content && selectedNode.content.length > 0\">\n          <h4>📖 내용 미리보기</h4>\n          <p *ngFor=\"let line of selectedNode.content.slice(0, 3)\">{{line}}</p>\n          <p *ngIf=\"selectedNode.content.length > 3\" class=\"more-indicator\">... 더보기</p>\n        </div>\n\n        <div class=\"detail-stats\" *ngIf=\"selectedNode.isVisited\">\n          <h4>📊 통계</h4>\n          <div class=\"stat-row\">\n            <span class=\"stat-label\">방문 횟수:</span>\n            <span class=\"stat-value\">{{selectedNode.visitCount || 1}}</span>\n          </div>\n        </div>\n\n        <div class=\"detail-conditions\" *ngIf=\"selectedNode.conditions && selectedNode.conditions.length > 0\">\n          <h4>🔒 진입 조건</h4>\n          <ul>\n            <li *ngFor=\"let cond of selectedNode.conditions\">\n              {{cond.description || cond.type}}\n            </li>\n          </ul>\n        </div>\n\n        <div class=\"detail-choices\" *ngIf=\"selectedNode.choices && selectedNode.choices.length > 0\">\n          <h4>🔀 선택지 ({{selectedNode.choices.length}}개)</h4>\n          <div *ngFor=\"let choice of selectedNode.choices\" class=\"choice-preview\">\n            <span class=\"choice-icon\">{{choice.icon || '▶️'}}</span>\n            <span class=\"choice-text\">{{choice.text}}</span>\n          </div>\n        </div>\n\n        <div class=\"detail-battle\" *ngIf=\"selectedNode.type === 'battle' && selectedNode.battleConfig\">\n          <h4>⚔️ 전투 정보</h4>\n          <p><strong>적:</strong> {{selectedNode.battleConfig.enemyName}}</p>\n          <p><strong>난이도:</strong> {{'⭐'.repeat(selectedNode.battleConfig.difficulty)}}</p>\n        </div>\n      </div>\n    </div>\n\n    <!-- 통계 패널 -->\n    <div class=\"stats-overlay\" *ngIf=\"showStats && storyNodes.length > 0\">\n      <h3>📊 진행 통계</h3>\n      \n      <!-- 현재 위치 표시 -->\n      <div class=\"current-location\" *ngIf=\"getCurrentNode()\">\n        <h4>📍 현재 위치</h4>\n        <div class=\"location-card\">\n          <div class=\"location-icon\">{{getNodeIcon(getCurrentNode()!)}}</div>\n          <div class=\"location-info\">\n            <div class=\"location-title\">{{getCurrentNode()!.title}}</div>\n            <div class=\"location-path\">경로: {{currentPath.join(' → ') || '시작'}}</div>\n          </div>\n        </div>\n      </div>\n      \n      <div class=\"stats-grid\">\n        <div class=\"stat-card\">\n          <div class=\"stat-icon\">📍</div>\n          <div class=\"stat-value\">{{storyProgress.visitedNodes.length}}/{{storyNodes.length}}</div>\n          <div class=\"stat-label\">방문한 노드</div>\n        </div>\n        <div class=\"stat-card\">\n          <div class=\"stat-icon\">🔀</div>\n          <div class=\"stat-value\">{{storyProgress.totalChoices}}</div>\n          <div class=\"stat-label\">선택 횟수</div>\n        </div>\n        <div class=\"stat-card\">\n          <div class=\"stat-icon\">⚔️</div>\n          <div class=\"stat-value\">\n            {{storyProgress.battlesWon}}/{{storyProgress.battlesWon + storyProgress.battlesLost}}\n          </div>\n          <div class=\"stat-label\">전투 승률</div>\n        </div>\n        <div class=\"stat-card\">\n          <div class=\"stat-icon\">🗺️</div>\n          <div class=\"stat-value\">{{calculateExplorationRate()}}%</div>\n          <div class=\"stat-label\">탐험률</div>\n        </div>\n      </div>\n      \n      <!-- 최근 경로 이력 -->\n      <div class=\"path-history\" *ngIf=\"storyProgress.pathHistory.length > 0\">\n        <h4>🛤️ 최근 경로</h4>\n        <div class=\"history-list\">\n          <div *ngFor=\"let step of storyProgress.pathHistory.slice(-5).reverse()\" class=\"history-item\">\n            <ng-container *ngIf=\"getNodeById(step.nodeId) as node\">\n              <span class=\"history-icon\">{{getNodeIcon(node)}}</span>\n              <span class=\"history-node\">{{node.title}}</span>\n              <span class=\"history-choice\" *ngIf=\"step.choiceText\">→ {{step.choiceText}}</span>\n            </ng-container>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 빈 상태 -->\n    <div class=\"empty-state\" *ngIf=\"storyNodes.length === 0\">\n      <div class=\"empty-icon\">🗺️</div>\n      <h3>스토리 맵이 비어있습니다</h3>\n      <p>샘플 스토리를 로드하거나 AI로 새로운 스토리를 생성하세요.</p>\n      <div class=\"empty-actions\">\n        <button class=\"primary-btn\" (click)=\"loadSampleStoryMap()\">\n          📥 샘플 스토리 로드\n        </button>\n        <button class=\"secondary-btn\" (click)=\"toggleStoryCreatorPanel()\">\n          ✨ AI 스토리 생성\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- � 여기가 novel-book-container의 끝입니다 -->\n\n<!-- 플로우 기반 시나리오 연결 패널 -->\n<div class=\"flow-scenario-link-overlay\" *ngIf=\"showFlowScenarioLinkPanel\">\n  <div class=\"flow-scenario-link-panel\" cdkDrag cdkDragBoundary=\".flow-scenario-link-overlay\">\n    <div class=\"link-header\" cdkDragHandle>\n      <div class=\"header-left\">\n        <span class=\"drag-indicator\">⋮⋮</span>\n        <h3>🎬 플로우 노드에 시나리오 연결</h3>\n      </div>\n      <button class=\"close-btn\" (click)=\"closeFlowScenarioLinkPanel()\">✕</button>\n    </div>\n\n    <div class=\"link-info\">\n      <div class=\"node-info-card\" *ngIf=\"getNodeById(currentLinkingNodeId) as node\">\n        <div class=\"node-icon-large\">{{getNodeIcon(node)}}</div>\n        <div class=\"node-details\">\n          <h4>{{node.title}}</h4>\n          <p class=\"node-type-badge\">{{node.type}}</p>\n        </div>\n      </div>\n      <div class=\"choice-info\" *ngIf=\"currentLinkingChoiceId\">\n        <span class=\"choice-label\">선택지 ID:</span>\n        <span class=\"choice-value\">{{currentLinkingChoiceId}}</span>\n      </div>\n      <p class=\"hint\">💡 이 선택지에 연결할 시나리오를 선택하세요.</p>\n    </div>\n\n    <div class=\"scenario-list\">\n      <div class=\"scenario-grid\">\n        <div \n          *ngFor=\"let scenario of savedScenarios\" \n          class=\"scenario-card\"\n          [class.linked]=\"getLinkedScenarioId(currentLinkingNodeId, currentLinkingChoiceId) === scenario.id\"\n          (click)=\"linkScenarioToFlowNode(scenario.id)\">\n          \n          <div class=\"scenario-header\">\n            <h4>{{scenario.title}}</h4>\n            <span class=\"scenario-genre\">{{scenario.genre}}</span>\n            <span class=\"linked-badge\" *ngIf=\"getLinkedScenarioId(currentLinkingNodeId, currentLinkingChoiceId) === scenario.id\">\n              ✓ 연결됨\n            </span>\n          </div>\n          \n          <div class=\"scenario-body\">\n            <p class=\"scenario-description\">{{scenario.description}}</p>\n            \n            <div class=\"scenario-meta\">\n              <span class=\"meta-item\">📍 {{scenario.setting}}</span>\n              <span class=\"meta-item\">🎭 {{scenario.mood}}</span>\n            </div>\n            \n            <div class=\"scenario-tags\" *ngIf=\"scenario.tags && scenario.tags.length > 0\">\n              <span class=\"tag\" *ngFor=\"let tag of scenario.tags.slice(0, 3)\">{{tag}}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"no-scenarios\" *ngIf=\"savedScenarios.length === 0\">\n        <div class=\"empty-icon\">🎬</div>\n        <p>저장된 시나리오가 없습니다.</p>\n        <button class=\"create-scenario-btn\" (click)=\"openScenarioCreator(); closeFlowScenarioLinkPanel()\">\n          ✨ 시나리오 생성하기\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- 수련 모드 패널 -->\n<div class=\"wuxia-overlay\" \n     *ngIf=\"showWuxiaPanel\" \n     (click)=\"closeWuxiaPanel()\"\n     [class.mobile]=\"responsiveService.isMobile$ | async\">\n  <div class=\"wuxia-panel\" \n       cdkDrag \n       cdkDragBoundary=\".wuxia-overlay\" \n       (click)=\"$event.stopPropagation()\"\n       [class.mobile]=\"responsiveService.isMobile$ | async\">\n    <div class=\"wuxia-header\" cdkDragHandle>\n      <h2>🎯 수련 모드 修煉模式</h2>\n      <button class=\"close-btn\" (click)=\"closeWuxiaPanel()\">✕</button>\n    </div>\n\n    <div class=\"wuxia-tabs\">\n      <button class=\"tab-btn\" [class.active]=\"wuxiaActiveTab === 'cultivation'\" (click)=\"novelState.setWuxiaTab('cultivation')\">\n        🔥 내공수련\n      </button>\n      <button class=\"tab-btn\" [class.active]=\"wuxiaActiveTab === 'skills'\" (click)=\"novelState.setWuxiaTab('skills')\">\n        📖 무공초식\n      </button>\n      <button class=\"tab-btn\" [class.active]=\"wuxiaActiveTab === 'faction'\" (click)=\"novelState.setWuxiaTab('faction')\">\n        🏛️ 문파\n      </button>\n      <button class=\"tab-btn\" [class.active]=\"wuxiaActiveTab === 'elixir'\" (click)=\"novelState.setWuxiaTab('elixir')\">\n        💊 단약\n      </button>\n      <button class=\"tab-btn\" [class.active]=\"wuxiaActiveTab === 'meridians'\" (click)=\"novelState.setWuxiaTab('meridians')\">\n        ⭕ 혈도\n      </button>\n    </div>\n\n    <!-- 내공 수련 탭 -->\n    <div class=\"tab-content\" *ngIf=\"wuxiaActiveTab === 'cultivation'\">\n      <div class=\"cultivation-section\">\n        <h3>內功修煉 (내공수련)</h3>\n        \n        <!-- 내공 게이지 -->\n        <div class=\"internal-power-gauge\">\n          <div class=\"gauge-header\">\n            <span class=\"gauge-label\">內力 (내력)</span>\n            <span class=\"gauge-value\">{{playerInternalPower.current}} / {{playerInternalPower.max}}</span>\n          </div>\n          <div class=\"gauge-bar\">\n            <div class=\"gauge-fill\" \n                 [style.width.%]=\"(playerInternalPower.current / playerInternalPower.max) * 100\">\n            </div>\n          </div>\n          <div class=\"gauge-info\">\n            <span>회복 속도: {{playerInternalPower.recoveryRate}}/턴</span>\n            <span>순도: {{playerInternalPower.purity}}%</span>\n            <span>안정성: {{playerInternalPower.stability}}%</span>\n          </div>\n        </div>\n\n        <!-- 경지 표시 -->\n        <div class=\"realm-display\">\n          <div class=\"realm-badge\" [class]=\"'realm-' + playerInternalPower.realm\">\n            <span class=\"realm-icon\">⭐</span>\n            <div class=\"realm-info\">\n              <span class=\"realm-name\">{{playerInternalPower.realm}}</span>\n              <span class=\"realm-subtitle\">境界 (경지)</span>\n            </div>\n          </div>\n          <div class=\"realm-progress\">\n            <span class=\"progress-label\">돌파 진행도</span>\n            <div class=\"progress-bar\">\n              <div class=\"progress-fill\" [style.width.%]=\"playerInternalPower.realmProgress\"></div>\n            </div>\n            <span class=\"progress-value\">{{playerInternalPower.realmProgress}}%</span>\n          </div>\n        </div>\n\n        <!-- 수련 버튼 -->\n        <div class=\"cultivation-actions\">\n          <button class=\"cultivation-btn\" (click)=\"cultivateInternalPower(1)\">\n            <span class=\"btn-icon\">🧘</span>\n            <span class=\"btn-text\">1시간 수련</span>\n          </button>\n          <button class=\"cultivation-btn\" (click)=\"cultivateInternalPower(4)\">\n            <span class=\"btn-icon\">🧘‍♂️</span>\n            <span class=\"btn-text\">4시간 수련</span>\n          </button>\n          <button class=\"cultivation-btn\" (click)=\"cultivateInternalPower(12)\">\n            <span class=\"btn-icon\">🧘‍♀️</span>\n            <span class=\"btn-text\">12시간 수련</span>\n          </button>\n        </div>\n\n        <!-- 수련도 -->\n        <div class=\"training-level\">\n          <span class=\"training-label\">修練度 (수련도)</span>\n          <div class=\"training-bar\">\n            <div class=\"training-fill\" [style.width.%]=\"playerInternalPower.trainingLevel\"></div>\n          </div>\n          <span class=\"training-value\">{{playerInternalPower.trainingLevel}}%</span>\n        </div>\n      </div>\n    </div>\n\n    <!-- 무공 초식 탭 -->\n    <div class=\"tab-content\" *ngIf=\"wuxiaActiveTab === 'skills'\">\n      <div class=\"skills-section\">\n        <h3>武功招式 (무공초식)</h3>\n        \n        <div class=\"learned-skills-count\">\n          <span>습득한 무공: {{learnedMartialSkills.length}}개</span>\n        </div>\n\n        <div class=\"skills-grid\">\n          <div *ngFor=\"let skill of learnedMartialSkills\" \n               class=\"skill-card\"\n               [class]=\"'grade-' + skill.grade\">\n            <div class=\"skill-header\">\n              <div class=\"skill-names\">\n                <h4 class=\"skill-name-chinese\">{{skill.chineseName}}</h4>\n                <p class=\"skill-name-korean\">{{skill.name}}</p>\n              </div>\n              <span class=\"skill-grade-badge\">{{skill.grade}}</span>\n            </div>\n            \n            <div class=\"skill-type\">\n              <span class=\"type-icon\" *ngIf=\"skill.type === 'choShik'\">⚔️</span>\n              <span class=\"type-icon\" *ngIf=\"skill.type === 'shimBeop'\">📿</span>\n              <span class=\"type-icon\" *ngIf=\"skill.type === 'gyeongGong'\">🦅</span>\n              <span class=\"type-icon\" *ngIf=\"skill.type === 'amGi'\">🗡️</span>\n              <span class=\"type-label\">\n                {{skill.type === 'choShik' ? '초식' : skill.type === 'shimBeop' ? '심법' : skill.type === 'gyeongGong' ? '경공' : '암기'}}\n              </span>\n            </div>\n\n            <div class=\"skill-stats\">\n              <div class=\"stat-row\">\n                <span class=\"stat-label\">소모 내력:</span>\n                <span class=\"stat-value\">{{skill.internalPowerCost}}</span>\n              </div>\n              <div class=\"stat-row\">\n                <span class=\"stat-label\">위력:</span>\n                <span class=\"stat-value\">×{{skill.damageMultiplier}}</span>\n              </div>\n              <div class=\"stat-row\">\n                <span class=\"stat-label\">명중률:</span>\n                <span class=\"stat-value\">{{(skill.hitRate * 100).toFixed(0)}}%</span>\n              </div>\n              <div class=\"stat-row\">\n                <span class=\"stat-label\">치명타:</span>\n                <span class=\"stat-value\">{{(skill.criticalRate * 100).toFixed(0)}}%</span>\n              </div>\n            </div>\n\n            <div class=\"skill-description\">\n              <p>{{skill.description}}</p>\n              <p class=\"skill-effect\">{{skill.skillEffect}}</p>\n            </div>\n\n            <div class=\"skill-element\" *ngIf=\"skill.element\">\n              <span class=\"element-icon\" [class]=\"'element-' + skill.element\">\n                {{skill.element === 'fire' ? '🔥' : skill.element === 'ice' ? '❄️' : skill.element === 'wind' ? '🌪️' : skill.element === 'thunder' ? '⚡' : '☠️'}}\n              </span>\n              <span class=\"element-name\">{{skill.element}}</span>\n            </div>\n\n            <div class=\"skill-faction\" *ngIf=\"skill.factionId\">\n              <span class=\"faction-label\">소속:</span>\n              <span class=\"faction-name\">{{getFactionName(skill.factionId)}}</span>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"no-skills\" *ngIf=\"learnedMartialSkills.length === 0\">\n          <p>아직 습득한 무공이 없습니다.</p>\n          <p>문파에 입문하거나 무공 비급을 얻으세요!</p>\n        </div>\n      </div>\n    </div>\n\n    <!-- 문파 탭 -->\n    <div class=\"tab-content\" *ngIf=\"wuxiaActiveTab === 'faction'\">\n      <div class=\"faction-section\">\n        <h3>門派 (문파)</h3>\n\n        <div class=\"current-faction\" *ngIf=\"playerFaction\">\n          <div class=\"faction-card current\">\n            <div class=\"faction-header\">\n              <h4>{{playerFaction.chineseName}}</h4>\n              <p class=\"faction-name-korean\">{{playerFaction.name}}</p>\n            </div>\n            <div class=\"faction-type\" [class]=\"'type-' + playerFaction.type\">\n              {{playerFaction.type === 'righteous' ? '正派' : playerFaction.type === 'evil' ? '魔敎' : '中立'}}\n            </div>\n            <div class=\"faction-info\">\n              <p>{{playerFaction.description}}</p>\n              <p><strong>본거지:</strong> {{playerFaction.headquarters}}</p>\n              <p><strong>창시자:</strong> {{playerFaction.founder}}</p>\n            </div>\n            <div class=\"faction-reputation\">\n              <span>평판:</span>\n              <div class=\"reputation-bar\">\n                <div class=\"reputation-fill\" \n                     [style.width]=\"((playerFaction.reputation + 1000) / 2000 * 100) + '%'\">\n                </div>\n              </div>\n              <span>{{playerFaction.reputation}}</span>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"no-faction\" *ngIf=\"!playerFaction\">\n          <p>아직 문파에 소속되지 않았습니다.</p>\n          <h4>입문 가능한 문파:</h4>\n          <div class=\"factions-grid\">\n            <div *ngFor=\"let faction of availableFactions\" \n                 class=\"faction-card\"\n                 [class]=\"'type-' + faction.type\">\n              <div class=\"faction-header\">\n                <h4>{{faction.chineseName}}</h4>\n                <p class=\"faction-name-korean\">{{faction.name}}</p>\n              </div>\n              <div class=\"faction-type\" [class]=\"'type-' + faction.type\">\n                {{faction.type === 'righteous' ? '正派' : faction.type === 'evil' ? '魔敎' : '中立'}}\n              </div>\n              <div class=\"faction-info\">\n                <p>{{faction.description}}</p>\n                <p><strong>본거지:</strong> {{faction.headquarters}}</p>\n              </div>\n              <div class=\"faction-specialties\">\n                <span *ngFor=\"let specialty of faction.specialties\" class=\"specialty-badge\">\n                  {{specialty}}\n                </span>\n              </div>\n              <button class=\"join-faction-btn\" (click)=\"joinFaction(faction.id)\">\n                입문하기\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 단약 탭 -->\n    <div class=\"tab-content\" *ngIf=\"wuxiaActiveTab === 'elixir'\">\n      <div class=\"elixir-section\">\n        <h3>丹藥 (단약)</h3>\n\n        <div class=\"elixir-inventory\">\n          <div *ngFor=\"let elixir of elixirs\" \n               class=\"elixir-card\"\n               [class]=\"'grade-' + elixir.grade\">\n            <div class=\"elixir-header\">\n              <div class=\"elixir-names\">\n                <h4 class=\"elixir-chinese\">{{elixir.chineseName}}</h4>\n                <p class=\"elixir-korean\">{{elixir.name}}</p>\n              </div>\n              <span class=\"elixir-grade\">{{elixir.grade}}</span>\n            </div>\n\n            <div class=\"elixir-type\">\n              <span class=\"type-badge\">{{elixir.type}}</span>\n              <span class=\"rarity-stars\">\n                <span *ngFor=\"let star of [].constructor(elixir.rarity)\" class=\"star\">⭐</span>\n              </span>\n            </div>\n\n            <div class=\"elixir-description\">\n              <p>{{elixir.description}}</p>\n            </div>\n\n            <div class=\"elixir-effects\">\n              <div *ngFor=\"let effect of elixir.effects\" class=\"effect-item\">\n                <span class=\"effect-icon\">✨</span>\n                <span class=\"effect-text\">{{effect.description}}</span>\n              </div>\n            </div>\n\n            <div class=\"elixir-warning\" *ngIf=\"elixir.sideEffect\">\n              <span class=\"warning-icon\">⚠️</span>\n              <span class=\"warning-text\">{{elixir.sideEffect}} ({{(elixir.sideEffectChance! * 100).toFixed(0)}}%)</span>\n            </div>\n\n            <div class=\"elixir-footer\">\n              <span class=\"elixir-price\">💰 {{elixir.price}}G</span>\n              <button class=\"use-elixir-btn\" (click)=\"useElixir(elixir.id)\">\n                사용하기\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"no-elixir\" *ngIf=\"elixirs.length === 0\">\n          <p>보유한 단약이 없습니다.</p>\n        </div>\n      </div>\n    </div>\n\n    <!-- 혈도 탭 -->\n    <div class=\"tab-content\" *ngIf=\"wuxiaActiveTab === 'meridians'\">\n      <div class=\"meridians-section\">\n        <h3>經脈 (경맥)</h3>\n\n        <div class=\"meridian-info\">\n          <p>개통된 혈도: {{playerInternalPower.meridians.opened}} / {{playerInternalPower.meridians.total}}</p>\n        </div>\n\n        <div class=\"meridian-diagram\">\n          <div *ngFor=\"let meridian of playerInternalPower.meridians.meridians; let i = index\" \n               class=\"meridian-point\"\n               [class.opened]=\"meridian.isOpened\"\n               [style.top]=\"getMeridianPosition(i).top\"\n               [style.left]=\"getMeridianPosition(i).left\"\n               [title]=\"meridian.name + ' ' + meridian.chineseName\">\n            <div class=\"point-circle\">\n              <span class=\"point-number\">{{i + 1}}</span>\n            </div>\n            <div class=\"point-info\" *ngIf=\"!meridian.isOpened\">\n              <button class=\"open-meridian-btn\" (click)=\"openMeridian(meridian.id)\">\n                개통\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"meridian-list\">\n          <div *ngFor=\"let meridian of playerInternalPower.meridians.meridians; let i = index\" \n               class=\"meridian-item\"\n               [class.opened]=\"meridian.isOpened\">\n            <div class=\"meridian-number\">{{i + 1}}</div>\n            <div class=\"meridian-details\">\n              <h4>{{meridian.chineseName}}</h4>\n              <p>{{meridian.name}}</p>\n              <div class=\"meridian-progress\" *ngIf=\"!meridian.isOpened\">\n                <div class=\"progress-bar\">\n                  <div class=\"progress-fill\" [style.width.%]=\"meridian.openProgress\"></div>\n                </div>\n                <span>{{meridian.openProgress}}%</span>\n              </div>\n              <div class=\"meridian-bonus\">\n                <span *ngFor=\"let key of getObjectKeys(meridian.bonus)\" class=\"bonus-item\">\n                  {{key}}: +{{meridian.bonus[key]}}\n                </span>\n              </div>\n            </div>\n            <div class=\"meridian-status\">\n              <span *ngIf=\"meridian.isOpened\" class=\"status-opened\">✓ 개통됨</span>\n              <button *ngIf=\"!meridian.isOpened\" \n                      class=\"open-btn\" \n                      (click)=\"openMeridian(meridian.id)\">\n                개통하기\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- 던전 다이얼로그 -->\n<div class=\"dungeon-test-dialog\" *ngIf=\"showDungeonTestDialog\">\n  <div class=\"dialog-overlay\" (click)=\"showDungeonPanel ? null : closeDungeonDialog()\"></div>\n  <div class=\"dialog-content\" [class.dungeon-active]=\"showDungeonPanel\">\n    <div class=\"dialog-header\">\n      <h3>🏰 던전 테스트</h3>\n      <button class=\"close-btn\" (click)=\"closeDungeonDialog()\">×</button>\n    </div>\n\n    <!-- 던전 선택 패널 -->\n    <div class=\"dungeon-panel\" *ngIf=\"!showDungeonPanel\">\n          <h4 class=\"section-title\">⚔️ 장비 슬롯</h4>\n          \n          <div class=\"equipment-grid-diablo\">\n            <!-- 좌측 열 -->\n            <div class=\"equipment-column left-column\">\n              <!-- 투구 -->\n              <div class=\"equipment-slot-diablo helmet-slot\" [attr.data-rarity]=\"playerCharacter.equipment?.helmet?.rarity || 'empty'\" (click)=\"playerCharacter.equipment?.helmet && unequipItem('helmet')\" [style.cursor]=\"playerCharacter.equipment?.helmet ? 'pointer' : 'default'\">\n                <div class=\"slot-label\">투구</div>\n                <div class=\"slot-content\" *ngIf=\"playerCharacter.equipment?.helmet; else emptyHelmet\">\n                  <div class=\"item-icon-diablo\">⛑️</div>\n                  <div class=\"item-name-short\">{{playerCharacter.equipment?.helmet?.baseType}}</div>\n                </div>\n                <ng-template #emptyHelmet>\n                  <div class=\"slot-content empty\">\n                    <div class=\"empty-icon-diablo\">⛑️</div>\n                  </div>\n                </ng-template>\n              </div>\n              \n              <!-- 갑옷 -->\n              <div class=\"equipment-slot-diablo armor-slot\" [attr.data-rarity]=\"playerCharacter.equipment?.armor?.rarity || 'empty'\" (click)=\"playerCharacter.equipment?.armor && unequipItem('armor')\" [style.cursor]=\"playerCharacter.equipment?.armor ? 'pointer' : 'default'\">\n                <div class=\"slot-label\">갑옷</div>\n                <div class=\"slot-content\" *ngIf=\"playerCharacter.equipment?.armor; else emptyArmor\">\n                  <div class=\"item-icon-diablo\">🛡️</div>\n                  <div class=\"item-name-short\">{{playerCharacter.equipment?.armor?.baseType}}</div>\n                </div>\n                <ng-template #emptyArmor>\n                  <div class=\"slot-content empty\">\n                    <div class=\"empty-icon-diablo\">🛡️</div>\n                  </div>\n                </ng-template>\n              </div>\n              \n              <!-- 장갑 -->\n              <div class=\"equipment-slot-diablo gloves-slot\" [attr.data-rarity]=\"playerCharacter.equipment?.gloves?.rarity || 'empty'\" (click)=\"playerCharacter.equipment?.gloves && unequipItem('gloves')\" [style.cursor]=\"playerCharacter.equipment?.gloves ? 'pointer' : 'default'\">\n                <div class=\"slot-label\">장갑</div>\n                <div class=\"slot-content\" *ngIf=\"playerCharacter.equipment?.gloves; else emptyGloves\">\n                  <div class=\"item-icon-diablo\">🧤</div>\n                  <div class=\"item-name-short\">{{playerCharacter.equipment?.gloves?.baseType}}</div>\n                </div>\n                <ng-template #emptyGloves>\n                  <div class=\"slot-content empty\">\n                    <div class=\"empty-icon-diablo\">🧤</div>\n                  </div>\n                </ng-template>\n              </div>\n              \n              <!-- 신발 -->\n              <div class=\"equipment-slot-diablo boots-slot\" [attr.data-rarity]=\"playerCharacter.equipment?.boots?.rarity || 'empty'\" (click)=\"playerCharacter.equipment?.boots && unequipItem('boots')\" [style.cursor]=\"playerCharacter.equipment?.boots ? 'pointer' : 'default'\">\n                <div class=\"slot-label\">신발</div>\n                <div class=\"slot-content\" *ngIf=\"playerCharacter.equipment?.boots; else emptyBoots\">\n                  <div class=\"item-icon-diablo\">👢</div>\n                  <div class=\"item-name-short\">{{playerCharacter.equipment?.boots?.baseType}}</div>\n                </div>\n                <ng-template #emptyBoots>\n                  <div class=\"slot-content empty\">\n                    <div class=\"empty-icon-diablo\">👢</div>\n                  </div>\n                </ng-template>\n              </div>\n            </div>\n            \n            <!-- 중앙 (무기) -->\n            <div class=\"equipment-column center-column\">\n              <div class=\"equipment-slot-diablo weapon-slot large\" [attr.data-rarity]=\"playerCharacter.equipment?.weapon?.rarity || 'empty'\" (click)=\"playerCharacter.equipment?.weapon && unequipItem('weapon')\" [style.cursor]=\"playerCharacter.equipment?.weapon ? 'pointer' : 'default'\">\n                <div class=\"slot-label\">무기</div>\n                <div class=\"slot-content\" *ngIf=\"playerCharacter.equipment?.weapon; else emptyWeapon\">\n                  <div class=\"item-icon-diablo large\">⚔️</div>\n                  <div class=\"item-name-short\">{{playerCharacter.equipment?.weapon?.baseType}}</div>\n                  <div class=\"item-damage\" *ngIf=\"playerCharacter.equipment?.weapon?.baseStats\">\n                    {{playerCharacter.equipment?.weapon?.baseStats?.minDamage}}-{{playerCharacter.equipment?.weapon?.baseStats?.maxDamage}}\n                  </div>\n                </div>\n                <ng-template #emptyWeapon>\n                  <div class=\"slot-content empty\">\n                    <div class=\"empty-icon-diablo large\">⚔️</div>\n                  </div>\n                </ng-template>\n              </div>\n            </div>\n            \n            <!-- 우측 열 -->\n            <div class=\"equipment-column right-column\">\n              <!-- 목걸이 -->\n              <div class=\"equipment-slot-diablo amulet-slot\" [attr.data-rarity]=\"playerCharacter.equipment?.amulet?.rarity || 'empty'\" (click)=\"playerCharacter.equipment?.amulet && unequipItem('amulet')\" [style.cursor]=\"playerCharacter.equipment?.amulet ? 'pointer' : 'default'\">\n                <div class=\"slot-label\">목걸이</div>\n                <div class=\"slot-content\" *ngIf=\"playerCharacter.equipment?.amulet; else emptyAmulet\">\n                  <div class=\"item-icon-diablo\">📿</div>\n                  <div class=\"item-name-short\">{{playerCharacter.equipment?.amulet?.baseType}}</div>\n                </div>\n                <ng-template #emptyAmulet>\n                  <div class=\"slot-content empty\">\n                    <div class=\"empty-icon-diablo\">📿</div>\n                  </div>\n                </ng-template>\n              </div>\n              \n              <!-- 벨트 -->\n              <div class=\"equipment-slot-diablo belt-slot\" [attr.data-rarity]=\"playerCharacter.equipment?.belt?.rarity || 'empty'\" (click)=\"playerCharacter.equipment?.belt && unequipItem('belt')\" [style.cursor]=\"playerCharacter.equipment?.belt ? 'pointer' : 'default'\">\n                <div class=\"slot-label\">벨트</div>\n                <div class=\"slot-content\" *ngIf=\"playerCharacter.equipment?.belt; else emptyBelt\">\n                  <div class=\"item-icon-diablo\">🎗️</div>\n                  <div class=\"item-name-short\">{{playerCharacter.equipment?.belt?.baseType}}</div>\n                </div>\n                <ng-template #emptyBelt>\n                  <div class=\"slot-content empty\">\n                    <div class=\"empty-icon-diablo\">🎗️</div>\n                  </div>\n                </ng-template>\n              </div>\n              \n              <!-- 반지 1 -->\n              <div class=\"equipment-slot-diablo ring-slot\" [attr.data-rarity]=\"playerCharacter.equipment?.ring1?.rarity || 'empty'\" (click)=\"playerCharacter.equipment?.ring1 && unequipItem('ring1')\" [style.cursor]=\"playerCharacter.equipment?.ring1 ? 'pointer' : 'default'\">\n                <div class=\"slot-label\">반지</div>\n                <div class=\"slot-content\" *ngIf=\"playerCharacter.equipment?.ring1; else emptyRing1\">\n                  <div class=\"item-icon-diablo\">💍</div>\n                  <div class=\"item-name-short\">{{playerCharacter.equipment?.ring1?.baseType}}</div>\n                </div>\n                <ng-template #emptyRing1>\n                  <div class=\"slot-content empty\">\n                    <div class=\"empty-icon-diablo\">💍</div>\n                  </div>\n                </ng-template>\n              </div>\n              \n              <!-- 반지 2 -->\n              <div class=\"equipment-slot-diablo ring-slot\" [attr.data-rarity]=\"playerCharacter.equipment?.ring2?.rarity || 'empty'\" (click)=\"playerCharacter.equipment?.ring2 && unequipItem('ring2')\" [style.cursor]=\"playerCharacter.equipment?.ring2 ? 'pointer' : 'default'\">\n                <div class=\"slot-label\">반지</div>\n                <div class=\"slot-content\" *ngIf=\"playerCharacter.equipment?.ring2; else emptyRing2\">\n                  <div class=\"item-icon-diablo\">💍</div>\n                  <div class=\"item-name-short\">{{playerCharacter.equipment?.ring2?.baseType}}</div>\n                </div>\n                <ng-template #emptyRing2>\n                  <div class=\"slot-content empty\">\n                    <div class=\"empty-icon-diablo\">💍</div>\n                  </div>\n                </ng-template>\n              </div>\n            </div>\n          </div>\n          \n          <!-- 장비 효과 요약 (디아블로 스타일) -->\n          <div class=\"equipment-summary-diablo\">\n            <div class=\"summary-item\">\n              <span class=\"summary-icon\">⚔️</span>\n              <span class=\"summary-label\">총 공격력</span>\n              <span class=\"summary-value\">{{getTotalAttack()}}</span>\n            </div>\n            <div class=\"summary-item\">\n              <span class=\"summary-icon\">🛡️</span>\n              <span class=\"summary-label\">총 방어력</span>\n              <span class=\"summary-value\">{{getTotalDefense()}}</span>\n            </div>\n            <div class=\"summary-item\">\n              <span class=\"summary-icon\">✨</span>\n              <span class=\"summary-label\">특수 효과</span>\n              <span class=\"summary-value\">{{getSpecialEffectsCount()}}</span>\n            </div>\n          </div>\n        </div>\n        \n        <!-- 인벤토리 섹션 -->\n        <div class=\"inventory-section\">\n          <div class=\"inventory-header\">\n            <h4 class=\"section-title\">🎒 인벤토리</h4>\n            <button mat-raised-button color=\"accent\" (click)=\"generateRandomItems()\" *ngIf=\"playerCharacter\">\n              <mat-icon>casino</mat-icon>\n              AI 아이템 생성\n            </button>\n          </div>\n          \n          <!-- 인벤토리 필터 버튼 -->\n          <div class=\"inventory-filter-buttons\">\n            <button mat-button \n                    [class.active]=\"inventoryFilter === 'all'\"\n                    (click)=\"setInventoryFilter('all')\">\n              <mat-icon>apps</mat-icon>\n              <span>전체</span>\n            </button>\n            <button mat-button \n                    [class.active]=\"inventoryFilter === 'weapon'\"\n                    (click)=\"setInventoryFilter('weapon')\">\n              <span class=\"filter-icon\">⚔️</span>\n              <span>무기</span>\n            </button>\n            <button mat-button \n                    [class.active]=\"inventoryFilter === 'armor'\"\n                    (click)=\"setInventoryFilter('armor')\">\n              <span class=\"filter-icon\">🛡️</span>\n              <span>방어구</span>\n            </button>\n            <button mat-button \n                    [class.active]=\"inventoryFilter === 'accessory'\"\n                    (click)=\"setInventoryFilter('accessory')\">\n              <span class=\"filter-icon\">💍</span>\n              <span>장신구</span>\n            </button>\n            <button mat-button \n                    [class.active]=\"inventoryFilter === 'consumable'\"\n                    (click)=\"setInventoryFilter('consumable')\">\n              <span class=\"filter-icon\">🧪</span>\n              <span>소모품</span>\n            </button>\n            <button mat-button \n                    [class.active]=\"inventoryFilter === 'material'\"\n                    (click)=\"setInventoryFilter('material')\">\n              <span class=\"filter-icon\">📦</span>\n              <span>기타</span>\n            </button>\n          </div>\n          \n          <div class=\"inventory-grid\" *ngIf=\"getFilteredInventory().length > 0\">\n            <div class=\"inventory-item\" *ngFor=\"let item of getFilteredInventory(); let i = index\"\n                 [ngClass]=\"getItemTypeColorClass(item.type)\">\n              <!-- 메뉴 트리거 버튼 (보이지 않음) -->\n              <button class=\"item-card-trigger\"\n                      [attr.data-rarity]=\"item.rarity\"\n                      [matMenuTriggerFor]=\"itemMenu\"\n                      (menuOpened)=\"selectInventoryItem(item, getOriginalInventoryIndex(item))\">\n                <div class=\"item-card-content\">\n                  <div class=\"item-card-icon\">\n                    <span *ngIf=\"item.type === 'weapon'\">⚔️</span>\n                    <span *ngIf=\"item.type === 'armor'\">🛡️</span>\n                    <span *ngIf=\"item.type === 'helmet'\">⛑️</span>\n                    <span *ngIf=\"item.type === 'gloves'\">🧤</span>\n                    <span *ngIf=\"item.type === 'boots'\">👢</span>\n                    <span *ngIf=\"item.type === 'belt'\">🎗️</span>\n                    <span *ngIf=\"item.type === 'amulet'\">📿</span>\n                    <span *ngIf=\"item.type === 'ring'\">💍</span>\n                    <span *ngIf=\"item.type === 'consumable'\">🧪</span>\n                    <span *ngIf=\"item.type === 'material'\">📦</span>\n                  </div>\n                  <div class=\"item-card-info\">\n                    <div class=\"item-card-name\" [class]=\"'rarity-text-' + item.rarity\">{{item.name}}</div>\n                    <div class=\"item-card-rarity-badge\" [class]=\"'rarity-badge-' + item.rarity\">\n                      {{getRarityText(item.rarity)}}\n                    </div>\n                    <div class=\"item-card-type\">{{getItemTypeText(item.type)}}</div>\n                    <div class=\"item-card-slot\" *ngIf=\"getEquipmentSlotName(item.type)\">\n                      <span class=\"slot-label\">{{getEquipmentSlotName(item.type)}}</span>\n                    </div>\n                    <div class=\"item-card-stats\" *ngIf=\"item.stats\">\n                      <!-- 데미지 -->\n                      <span class=\"mini-stat damage\" *ngIf=\"item.stats.minDamage && item.stats.maxDamage\">⚔️ {{item.stats.minDamage}}-{{item.stats.maxDamage}}</span>\n                      <span class=\"mini-stat damage\" *ngIf=\"item.stats.attack && !item.stats.minDamage\">⚔️ +{{item.stats.attack}}</span>\n                      \n                      <!-- 방어 -->\n                      <span class=\"mini-stat defense\" *ngIf=\"item.stats.armor\">🛡️ +{{item.stats.armor}}</span>\n                      <span class=\"mini-stat defense\" *ngIf=\"item.stats.defense && !item.stats.armor\">🛡️ +{{item.stats.defense}}</span>\n                      \n                      <!-- 생명력/마나 -->\n                      <span class=\"mini-stat vital\" *ngIf=\"item.stats.hp\">❤️ +{{item.stats.hp}}</span>\n                      <span class=\"mini-stat vital\" *ngIf=\"item.stats.mp\">💙 +{{item.stats.mp}}</span>\n                      \n                      <!-- 크리티컬 -->\n                      <span class=\"mini-stat critical\" *ngIf=\"item.stats.critChance\">💥 {{item.stats.critChance}}%</span>\n                      <span class=\"mini-stat critical\" *ngIf=\"item.stats.critDamage\">💢 {{item.stats.critDamage}}%</span>\n                      \n                      <!-- 생명력 흡수 -->\n                      <span class=\"mini-stat lifesteal\" *ngIf=\"item.stats.lifeSteal\">🩸 {{item.stats.lifeSteal}}%</span>\n                      \n                      <!-- 저항 -->\n                      <span class=\"mini-stat resist\" *ngIf=\"item.stats.fireResist\">🔥 +{{item.stats.fireResist}}%</span>\n                      <span class=\"mini-stat resist\" *ngIf=\"item.stats.coldResist\">❄️ +{{item.stats.coldResist}}%</span>\n                      <span class=\"mini-stat resist\" *ngIf=\"item.stats.lightningResist\">⚡ +{{item.stats.lightningResist}}%</span>\n                      <span class=\"mini-stat resist\" *ngIf=\"item.stats.allResist\">✨ +{{item.stats.allResist}}%</span>\n                      \n                      <!-- 특수 효과 -->\n                      <span class=\"mini-stat special\" *ngIf=\"item.stats.magicFind\">🎲 +{{item.stats.magicFind}}%</span>\n                      <span class=\"mini-stat special\" *ngIf=\"item.stats.goldFind\">💰 +{{item.stats.goldFind}}%</span>\n                      <span class=\"mini-stat special\" *ngIf=\"item.stats.movementSpeed\">🏃 +{{item.stats.movementSpeed}}%</span>\n                    </div>\n                    <div class=\"item-card-quantity\" *ngIf=\"item.quantity && item.quantity > 1\">\n                      <span class=\"quantity-badge\">×{{item.quantity}}</span>\n                    </div>\n                  </div>\n                  <div class=\"item-card-rarity\">\n                    {{getRaritySymbol(item.rarity)}}\n                  </div>\n                </div>\n                \n                <!-- 삭제 버튼 (우측 상단 고정) -->\n                <button mat-icon-button class=\"delete-item-btn\" (click)=\"deleteInventoryItem(getOriginalInventoryIndex(item)); $event.stopPropagation()\">\n                  <mat-icon>close</mat-icon>\n                </button>\n              </button>\n            </div>\n          </div>\n          \n          <!-- Angular Material 컨텍스트 메뉴 -->\n          <mat-menu #itemMenu=\"matMenu\" \n                    class=\"item-context-menu-mat\"\n                    xPosition=\"after\"\n                    yPosition=\"below\"\n                    [overlapTrigger]=\"false\">\n            <button mat-menu-item \n                    *ngIf=\"selectedContextItem && \n                           selectedContextItem.type !== 'consumable' && \n                           selectedContextItem.type !== 'material' &&\n                           selectedContextItem.type !== 'quest' &&\n                           selectedContextItem.type !== 'misc'\"\n                    (click)=\"onContextMenuAction('equip')\">\n              <mat-icon>upload</mat-icon>\n              <span>장비하기</span>\n            </button>\n            <button mat-menu-item \n                    *ngIf=\"selectedContextItem && \n                           selectedContextItem.type !== 'consumable' && \n                           selectedContextItem.type !== 'material' &&\n                           selectedContextItem.type !== 'quest' &&\n                           selectedContextItem.type !== 'misc'\"\n                    (click)=\"onContextMenuAction('compare')\">\n              <mat-icon>compare_arrows</mat-icon>\n              <span>비교하기</span>\n            </button>\n            <button mat-menu-item (click)=\"onContextMenuAction('info')\">\n              <mat-icon>info</mat-icon>\n              <span>정보 보기</span>\n            </button>\n            <button mat-menu-item (click)=\"deleteInventoryItem(selectedContextItemIndex)\">\n              <mat-icon color=\"warn\">delete</mat-icon>\n              <span>삭제하기</span>\n            </button>\n          </mat-menu>\n          \n          <div *ngIf=\"getFilteredInventory().length === 0\" class=\"empty-inventory\">\n            <div class=\"empty-icon\">🎒</div>\n            <p *ngIf=\"inventoryFilter === 'all'\">인벤토리가 비어있습니다</p>\n            <p *ngIf=\"inventoryFilter !== 'all'\">해당 타입의 아이템이 없습니다</p>\n            <p class=\"hint\" *ngIf=\"inventoryFilter === 'all'\">AI 아이템 생성 버튼을 클릭하여 아이템을 생성하세요</p>\n            <button mat-raised-button color=\"primary\" (click)=\"generateRandomItems()\" *ngIf=\"playerCharacter && inventoryFilter === 'all'\">\n              <mat-icon>add</mat-icon>\n              첫 아이템 생성하기\n            </button>\n          </div>\n        </div>\n        \n        <!-- 장비가 없을 때 -->\n        <div *ngIf=\"!playerCharacter\" class=\"empty-equipment-state\">\n          <div class=\"empty-icon\">⚔️</div>\n          <h3>캐릭터 정보 없음</h3>\n          <p>캐릭터를 생성하면 장비 정보가 표시됩니다</p>\n        </div>\n      </div>\n</div>\n\n<!-- 던전 다이얼로그 -->\n<div class=\"dungeon-test-dialog\" *ngIf=\"showDungeonTestDialog\">\n  <div class=\"dialog-overlay\" (click)=\"showDungeonPanel ? null : closeDungeonDialog()\"></div>\n  <div class=\"dialog-content\" [class.dungeon-active]=\"showDungeonPanel\">\n    <div class=\"dialog-header\">\n      <h3>🏰 던전 테스트</h3>\n      <button class=\"close-btn\" (click)=\"closeDungeonDialog()\">×</button>\n    </div>\n\n    <!-- 던전 선택 패널 -->\n    <div class=\"dungeon-panel\" *ngIf=\"!showDungeonPanel\">\n      <h2>🏰 던전 선택</h2>\n      <p>탐험할 던전을 선택하세요</p>\n    </div>\n\n    <!-- 던전 진행 패널 -->\n    <div class=\"dungeon-progress-panel\" *ngIf=\"showDungeonPanel\">\n      <h2>⚔️ 던전 진행 중</h2>\n      <p>던전 탐험이 진행 중입니다.</p>\n    </div>\n  </div>\n</div>\n\n<!-- 플로우 미니맵 패널 -->\n<div class=\"flow-minimap-panel\" *ngIf=\"showFlowPanel\">\n  <div class=\"flow-panel-header\">\n    <h3>🗺️ 플로우 미니맵</h3>\n    <button class=\"close-btn\" (click)=\"toggleFlowPanel()\">×</button>\n  </div>\n  <div class=\"flow-panel-content\">\n    <p>스토리 플로우가 표시됩니다</p>\n  </div>\n</div>\n\n<!-- 고급 플로우 패널 -->\n<div class=\"advanced-flow-panel\" *ngIf=\"showAdvancedFlowPanel\">\n  <div class=\"advanced-flow-header\">\n    <h3>🔀 고급 플로우</h3>\n    <button class=\"close-btn\" (click)=\"toggleAdvancedFlowPanel()\">×</button>\n  </div>\n  <div class=\"advanced-flow-content\">\n    <p>고급 플로우 기능이 표시됩니다</p>\n  </div>\n</div>\n\n<!-- 무협 수련 패널 -->\n<div class=\"wuxia-panel\" *ngIf=\"showWuxiaPanel\">\n  <div class=\"wuxia-panel-header\">\n    <h3>⚔️ 무협 수련</h3>\n    <button class=\"close-btn\" (click)=\"toggleWuxiaPanel()\">×</button>\n  </div>\n  <div class=\"wuxia-panel-content\">\n    <p>수련 기능이 표시됩니다</p>\n  </div>\n</div>\n\n<!-- 던전 다이얼로그 -->\n<div class=\"dungeon-test-dialog\" *ngIf=\"showDungeonTestDialog\">\n  <div class=\"dialog-overlay\" (click)=\"showDungeonPanel ? null : closeDungeonDialog()\"></div>\n  <div class=\"dialog-content\" [class.dungeon-active]=\"showDungeonPanel\">\n    <div class=\"dialog-header\">\n      <h2>🏰 {{ showDungeonPanel ? '던전 탐험' : '던전' }}</h2>\n      <button class=\"close-btn\" (click)=\"showDungeonPanel ? onDungeonEscape() : closeDungeonDialog()\">✕</button>\n    </div>\n    \n    <!-- 던전 설정 화면 (던전 시작 전) -->\n    <div class=\"dialog-body\" *ngIf=\"!showDungeonPanel\">\n      <!-- 던전 타입 선택 -->\n      <div class=\"test-section\">\n        <h3>던전 선택</h3>\n        <div class=\"dungeon-type-grid\">\n          <div\n            *ngFor=\"let dungeonType of dungeonTypes\"\n            class=\"dungeon-type-card\"\n            [class.selected]=\"selectedDungeonType?.id === dungeonType.id\"\n            (click)=\"selectDungeonType(dungeonType)\"\n          >\n            <div class=\"skills-list\">\n              <div class=\"skill-item\" *ngFor=\"let skill of playerCharacter.skills\">\n                <div class=\"skill-header\">\n                  <span class=\"skill-name\">{{skill.name}}</span>\n                  <span class=\"skill-level\">Lv.{{skill.level}}/{{skill.maxLevel}}</span>\n                </div>\n                <p class=\"skill-description\">{{skill.description}}</p>\n                <div class=\"skill-type-badge\" [ngClass]=\"'type-' + skill.type\">\n                  {{skill.type === 'combat' ? '전투' : skill.type === 'magic' ? '마법' : '패시브'}}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <!-- 캐릭터가 없을 때 -->\n        <div *ngIf=\"!playerCharacter\" class=\"empty-character-state\">\n          <div class=\"empty-icon\">👤</div>\n          <h3>캐릭터 정보 없음</h3>\n          <p>아직 생성된 캐릭터가 없습니다</p>\n          <p class=\"hint\">소설을 시작하면 캐릭터 정보가 표시됩니다</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n      <h2>� 던전 선택</h2>\n\n\n\n\n<!-- 던전 다이얼로그 -->\n<div class=\"dungeon-test-dialog\" *ngIf=\"showDungeonTestDialog\">\n  <div class=\"dialog-overlay\" (click)=\"showDungeonPanel ? null : closeDungeonDialog()\"></div>\n  <div class=\"dialog-content\" [class.dungeon-active]=\"showDungeonPanel\">\n    <div class=\"dialog-header\">\n      <h2>🏰 {{ showDungeonPanel ? '던전 탐험' : '던전' }}</h2>\n      <button class=\"close-btn\" (click)=\"showDungeonPanel ? onDungeonEscape() : closeDungeonDialog()\">✕</button>\n    </div>\n    \n    <!-- 던전 설정 화면 (던전 시작 전) -->\n    <div class=\"dialog-body\" *ngIf=\"!showDungeonPanel\">\n      <!-- 던전 타입 선택 -->\n      <div class=\"test-section\">\n        <h3>던전 선택</h3>\n        <div class=\"dungeon-type-grid\">\n          <div\n            *ngFor=\"let dungeonType of dungeonTypes\"\n            class=\"dungeon-type-card\"\n            [class.selected]=\"selectedDungeonType?.id === dungeonType.id\"\n            (click)=\"selectDungeonType(dungeonType)\"\n          >\n            <div class=\"dungeon-icon\">{{ dungeonType.icon }}</div>\n            <div class=\"dungeon-name\">{{ dungeonType.koreanName }}</div>\n            <div class=\"dungeon-level\">Lv.{{ dungeonType.minLevel }}-{{ dungeonType.recommendedLevel }}</div>\n            <div class=\"dungeon-floors\">{{ dungeonType.baseFloors }}층</div>\n          </div>\n        </div>\n      </div>\n      \n      <!-- 난이도 선택 -->\n      <div class=\"test-section\" *ngIf=\"selectedDungeonType\">\n        <h3>난이도 선택</h3>\n        <div class=\"difficulty-grid\">\n          <button\n            class=\"difficulty-btn easy\"\n            [class.selected]=\"selectedDifficulty === 'easy'\"\n            (click)=\"selectDifficulty('easy')\"\n          >\n            😊 쉬움\n            <span class=\"difficulty-mult\">×0.75</span>\n          </button>\n          <button\n            class=\"difficulty-btn normal\"\n            [class.selected]=\"selectedDifficulty === 'normal'\"\n            (click)=\"selectDifficulty('normal')\"\n          >\n            😐 보통\n            <span class=\"difficulty-mult\">×1.0</span>\n          </button>\n          <button\n            class=\"difficulty-btn hard\"\n            [class.selected]=\"selectedDifficulty === 'hard'\"\n            (click)=\"selectDifficulty('hard')\"\n          >\n            😰 어려움\n            <span class=\"difficulty-mult\">×1.25</span>\n          </button>\n          <button\n            class=\"difficulty-btn hell\"\n            [class.selected]=\"selectedDifficulty === 'hell'\"\n            (click)=\"selectDifficulty('hell')\"\n          >\n            💀 지옥\n            <span class=\"difficulty-mult\">×1.5</span>\n          </button>\n        </div>\n      </div>\n      \n      <!-- 테스트 옵션 -->\n      <div class=\"test-section\" *ngIf=\"selectedDifficulty\">\n        <h3>테스트 옵션</h3>\n        <div class=\"test-options\">\n          <label class=\"option-item\">\n            <input type=\"checkbox\" [(ngModel)]=\"dungeonTestOptions.godMode\">\n            <span>🛡️ 무적 모드 (HP 자동 회복)</span>\n          </label>\n          <label class=\"option-item\">\n            <input type=\"checkbox\" [(ngModel)]=\"dungeonTestOptions.oneHitKill\">\n            <span>⚔️ 원킬 모드 (몬스터 1타)</span>\n          </label>\n          <label class=\"option-item\">\n            <input type=\"checkbox\" [(ngModel)]=\"dungeonTestOptions.showAllRooms\">\n            <span>🗺️ 전체 맵 공개</span>\n          </label>\n          <label class=\"option-item\">\n            <input type=\"checkbox\" [(ngModel)]=\"dungeonTestOptions.skipCombat\">\n            <span>⏭️ 전투 스킵 (자동 승리)</span>\n          </label>\n          <label class=\"option-item\">\n            <input type=\"checkbox\" [(ngModel)]=\"dungeonTestOptions.unlockAllRooms\">\n            <span>🔓 모든 방 잠금 해제</span>\n          </label>\n        </div>\n      </div>\n      \n      <!-- 플레이어 상태 -->\n      <div class=\"test-section\" *ngIf=\"selectedDifficulty\">\n        <h3>플레이어 상태</h3>\n        <div class=\"player-stats\">\n          <div class=\"stat-row\">\n            <label>레벨:</label>\n            <span>{{ playerCharacter.level }}</span>\n          </div>\n          <div class=\"stat-row\">\n            <label>HP:</label>\n            <span>{{ playerCharacter.hp }} / {{ playerCharacter.maxHp }}</span>\n          </div>\n          <div class=\"stat-row\">\n            <label>MP:</label>\n            <span>{{ playerCharacter.mp }} / {{ playerCharacter.maxMp }}</span>\n          </div>\n          <div class=\"stat-row\">\n            <label>공격력:</label>\n            <span>{{ playerCharacter.attack }}</span>\n          </div>\n          <div class=\"stat-row\">\n            <label>방어력:</label>\n            <span>{{ playerCharacter.defense }}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- 던전 탐험 화면 (던전 시작 후) -->\n    <div class=\"dungeon-container\" *ngIf=\"showDungeonPanel && currentDungeon && currentDungeonRoom\">\n      <app-dungeon-explorer\n        [dungeon]=\"currentDungeon\"\n        [currentRoom]=\"currentDungeonRoom\"\n        [playerHp]=\"playerCharacter.hp\"\n        [playerMaxHp]=\"playerCharacter.maxHp\"\n        [playerMp]=\"playerCharacter.mp\"\n        [playerMaxMp]=\"playerCharacter.maxMp\"\n        [playerName]=\"playerCharacter.name\"\n        [playerLevel]=\"playerCharacter.level\"\n        [playerAttackPower]=\"playerCharacter.attack\"\n        [playerDefensePower]=\"playerCharacter.defense\"\n        [playerEquipment]=\"getPlayerEquipment()\"\n        [playerSkills]=\"getPlayerSkills()\"\n        (roomMove)=\"onDungeonRoomMove($event)\"\n        (monsterAttack)=\"onDungeonMonsterAttack($event)\"\n        (interactableUse)=\"onDungeonInteractableUse($event)\"\n        (dungeonEscape)=\"onDungeonEscape()\"\n        (floorMove)=\"onDungeonFloorMove($event)\"\n        (rewardsClaimed)=\"onDungeonRewardsClaimed($event)\"\n      ></app-dungeon-explorer>\n    </div>\n    \n    <div class=\"dialog-footer\" *ngIf=\"!showDungeonPanel\">\n      <button class=\"btn-secondary\" (click)=\"closeDungeonDialog()\">취소</button>\n      <button\n        class=\"btn-primary\"\n        [disabled]=\"!selectedDungeonType || !selectedDifficulty\"\n        (click)=\"startDungeon()\"\n      >\n        🏰 던전 입장\n      </button>\n    </div>\n  </div>\n</div>\n\n<!-- 던전 탐험 UI (DungeonExplorerComponent) - 전체 화면 오버레이 -->\n<div class=\"dungeon-overlay\" *ngIf=\"showDungeonPanel && currentDungeon && currentDungeonRoom\">\n  <app-dungeon-explorer\n    [dungeon]=\"currentDungeon\"\n    [currentRoom]=\"currentDungeonRoom\"\n    [playerHp]=\"playerCharacter.hp\"\n    [playerMaxHp]=\"playerCharacter.maxHp\"\n    [playerMp]=\"playerCharacter.mp\"\n    [playerMaxMp]=\"playerCharacter.maxMp\"\n    (roomMove)=\"onDungeonRoomMove($event)\"\n    (monsterAttack)=\"onDungeonMonsterAttack($event)\"\n    (interactableUse)=\"onDungeonInteractableUse($event)\"\n    (dungeonEscape)=\"onDungeonEscape()\"\n    (floorMove)=\"onDungeonFloorMove($event)\"\n    (rewardsClaimed)=\"onDungeonRewardsClaimed($event)\"\n  ></app-dungeon-explorer>\n</div>\n\n<!-- 캐릭터 인벤토리 모달 (게임 내 인벤토리 패널과 동일한 디아블로 스타일) -->\n<div class=\"character-inventory-modal-overlay\" *ngIf=\"showCharacterInventoryModal\" (click)=\"closeCharacterInventory()\">\n  <div class=\"character-inventory-modal game-panel inventory-panel\" (click)=\"$event.stopPropagation()\">\n    <div class=\"panel-header\">\n      <h3>🎒 {{ selectedCharacterForInventory?.name }}의 인벤토리 & 장비</h3>\n      <button class=\"close-btn\" (click)=\"closeCharacterInventory()\">×</button>\n    </div>\n    \n    <!-- 캐릭터 정보 표시 -->\n    <div class=\"character-info-bar\" *ngIf=\"selectedCharacterGameData\">\n      <div class=\"info-badges\">\n        <span class=\"stat-badge level\">Lv.{{ selectedCharacterGameData.playerCharacter.level }}</span>\n        <span class=\"stat-badge gold\">💰 {{ selectedCharacterGameData.playerCharacter.gold | number }}G</span>\n      </div>\n    </div>\n    \n    <!-- 탭 메뉴 -->\n    <div class=\"inventory-tabs\">\n      <button \n        class=\"tab-btn\"\n        [class.active]=\"characterInventoryTab === 'equipment'\"\n        (click)=\"characterInventoryTab = 'equipment'\">\n        ⚔️ 장비 & 인벤토리\n      </button>\n      <button \n        class=\"tab-btn\"\n        [class.active]=\"characterInventoryTab === 'shop'\"\n        (click)=\"characterInventoryTab = 'shop'\">\n        🛒 상점\n      </button>\n    </div>\n    \n    <!-- 장비 & 인벤토리 탭 -->\n    <div class=\"tab-content\" *ngIf=\"selectedCharacterGameData && characterInventoryTab === 'equipment'\">\n      <!-- 장비 슬롯 영역 - 디아블로 스타일 -->\n      <div class=\"equipment-slots-section\">\n        <h4 class=\"section-title\">⚔️ 장착 중인 장비</h4>\n        <div class=\"diablo-equipment-layout\">\n          <!-- 좌측 컬럼 (무기, 방어구) -->\n          <div class=\"equipment-column left-column\">\n            <!-- 무기 -->\n            <div class=\"equipment-slot-diablo weapon-slot\" \n                 [class.has-item]=\"selectedCharacterGameData.playerCharacter.equipment?.weapon\"\n                 [class.rarity-common]=\"selectedCharacterGameData.playerCharacter.equipment?.weapon?.rarity === 'common'\"\n                 [class.rarity-uncommon]=\"selectedCharacterGameData.playerCharacter.equipment?.weapon?.rarity === 'uncommon'\"\n                 [class.rarity-rare]=\"selectedCharacterGameData.playerCharacter.equipment?.weapon?.rarity === 'rare'\"\n                 [class.rarity-epic]=\"selectedCharacterGameData.playerCharacter.equipment?.weapon?.rarity === 'epic'\"\n                 [class.rarity-legendary]=\"selectedCharacterGameData.playerCharacter.equipment?.weapon?.rarity === 'legendary'\">\n              <div class=\"slot-icon\">⚔️</div>\n              <div class=\"slot-content\" *ngIf=\"selectedCharacterGameData.playerCharacter.equipment?.weapon as weapon; else emptyWeapon\">\n                <div class=\"item-tooltip\">\n                  <div class=\"tooltip-name\">{{weapon.name || weapon.baseType}}</div>\n                </div>\n              </div>\n              <ng-template #emptyWeapon>\n                <div class=\"slot-empty-text\">무기</div>\n              </ng-template>\n            </div>\n\n            <!-- 방어구 -->\n            <div class=\"equipment-slot-diablo armor-slot\" \n                 [class.has-item]=\"selectedCharacterGameData.playerCharacter.equipment?.armor\"\n                 [class.rarity-common]=\"selectedCharacterGameData.playerCharacter.equipment?.armor?.rarity === 'common'\"\n                 [class.rarity-uncommon]=\"selectedCharacterGameData.playerCharacter.equipment?.armor?.rarity === 'uncommon'\"\n                 [class.rarity-rare]=\"selectedCharacterGameData.playerCharacter.equipment?.armor?.rarity === 'rare'\"\n                 [class.rarity-epic]=\"selectedCharacterGameData.playerCharacter.equipment?.armor?.rarity === 'epic'\"\n                 [class.rarity-legendary]=\"selectedCharacterGameData.playerCharacter.equipment?.armor?.rarity === 'legendary'\">\n              <div class=\"slot-icon\">🛡️</div>\n              <div class=\"slot-content\" *ngIf=\"selectedCharacterGameData.playerCharacter.equipment?.armor as armor; else emptyArmor\">\n                <div class=\"item-tooltip\">\n                  <div class=\"tooltip-name\">{{armor.name || armor.baseType}}</div>\n                </div>\n              </div>\n              <ng-template #emptyArmor>\n                <div class=\"slot-empty-text\">방어구</div>\n              </ng-template>\n            </div>\n          </div>\n\n          <!-- 중앙 컬럼 (머리, 목, 허리) -->\n          <div class=\"equipment-column center-column\">\n            <!-- 투구 -->\n            <div class=\"equipment-slot-diablo helmet-slot\" \n                 [class.has-item]=\"selectedCharacterGameData.playerCharacter.equipment?.helmet\"\n                 [class.rarity-common]=\"selectedCharacterGameData.playerCharacter.equipment?.helmet?.rarity === 'common'\"\n                 [class.rarity-uncommon]=\"selectedCharacterGameData.playerCharacter.equipment?.helmet?.rarity === 'uncommon'\"\n                 [class.rarity-rare]=\"selectedCharacterGameData.playerCharacter.equipment?.helmet?.rarity === 'rare'\"\n                 [class.rarity-epic]=\"selectedCharacterGameData.playerCharacter.equipment?.helmet?.rarity === 'epic'\"\n                 [class.rarity-legendary]=\"selectedCharacterGameData.playerCharacter.equipment?.helmet?.rarity === 'legendary'\">\n              <div class=\"slot-icon\">⛑️</div>\n              <div class=\"slot-content\" *ngIf=\"selectedCharacterGameData.playerCharacter.equipment?.helmet as helmet; else emptyHelmet\">\n                <div class=\"item-tooltip\">\n                  <div class=\"tooltip-name\">{{helmet.name || helmet.baseType}}</div>\n                </div>\n              </div>\n              <ng-template #emptyHelmet>\n                <div class=\"slot-empty-text\">투구</div>\n              </ng-template>\n            </div>\n\n            <!-- 목걸이 -->\n            <div class=\"equipment-slot-diablo amulet-slot\" \n                 [class.has-item]=\"selectedCharacterGameData.playerCharacter.equipment?.amulet\"\n                 [class.rarity-common]=\"selectedCharacterGameData.playerCharacter.equipment?.amulet?.rarity === 'common'\"\n                 [class.rarity-uncommon]=\"selectedCharacterGameData.playerCharacter.equipment?.amulet?.rarity === 'uncommon'\"\n                 [class.rarity-rare]=\"selectedCharacterGameData.playerCharacter.equipment?.amulet?.rarity === 'rare'\"\n                 [class.rarity-epic]=\"selectedCharacterGameData.playerCharacter.equipment?.amulet?.rarity === 'epic'\"\n                 [class.rarity-legendary]=\"selectedCharacterGameData.playerCharacter.equipment?.amulet?.rarity === 'legendary'\">\n              <div class=\"slot-icon\">📿</div>\n              <div class=\"slot-content\" *ngIf=\"selectedCharacterGameData.playerCharacter.equipment?.amulet as amulet; else emptyAmulet\">\n                <div class=\"item-tooltip\">\n                  <div class=\"tooltip-name\">{{amulet.name || amulet.baseType}}</div>\n                </div>\n              </div>\n              <ng-template #emptyAmulet>\n                <div class=\"slot-empty-text\">목걸이</div>\n              </ng-template>\n            </div>\n\n            <!-- 허리띠 -->\n            <div class=\"equipment-slot-diablo belt-slot\" \n                 [class.has-item]=\"selectedCharacterGameData.playerCharacter.equipment?.belt\"\n                 [class.rarity-common]=\"selectedCharacterGameData.playerCharacter.equipment?.belt?.rarity === 'common'\"\n                 [class.rarity-uncommon]=\"selectedCharacterGameData.playerCharacter.equipment?.belt?.rarity === 'uncommon'\"\n                 [class.rarity-rare]=\"selectedCharacterGameData.playerCharacter.equipment?.belt?.rarity === 'rare'\"\n                 [class.rarity-epic]=\"selectedCharacterGameData.playerCharacter.equipment?.belt?.rarity === 'epic'\"\n                 [class.rarity-legendary]=\"selectedCharacterGameData.playerCharacter.equipment?.belt?.rarity === 'legendary'\">\n              <div class=\"slot-icon\">👔</div>\n              <div class=\"slot-content\" *ngIf=\"selectedCharacterGameData.playerCharacter.equipment?.belt as belt; else emptyBelt\">\n                <div class=\"item-tooltip\">\n                  <div class=\"tooltip-name\">{{belt.name || belt.baseType}}</div>\n                </div>\n              </div>\n              <ng-template #emptyBelt>\n                <div class=\"slot-empty-text\">허리띠</div>\n              </ng-template>\n            </div>\n          </div>\n\n          <!-- 우측 컬럼 (장갑, 신발) -->\n          <div class=\"equipment-column right-column\">\n            <!-- 장갑 -->\n            <div class=\"equipment-slot-diablo gloves-slot\" \n                 [class.has-item]=\"selectedCharacterGameData.playerCharacter.equipment?.gloves\"\n                 [class.rarity-common]=\"selectedCharacterGameData.playerCharacter.equipment?.gloves?.rarity === 'common'\"\n                 [class.rarity-uncommon]=\"selectedCharacterGameData.playerCharacter.equipment?.gloves?.rarity === 'uncommon'\"\n                 [class.rarity-rare]=\"selectedCharacterGameData.playerCharacter.equipment?.gloves?.rarity === 'rare'\"\n                 [class.rarity-epic]=\"selectedCharacterGameData.playerCharacter.equipment?.gloves?.rarity === 'epic'\"\n                 [class.rarity-legendary]=\"selectedCharacterGameData.playerCharacter.equipment?.gloves?.rarity === 'legendary'\">\n              <div class=\"slot-icon\">🧤</div>\n              <div class=\"slot-content\" *ngIf=\"selectedCharacterGameData.playerCharacter.equipment?.gloves as gloves; else emptyGloves\">\n                <div class=\"item-tooltip\">\n                  <div class=\"tooltip-name\">{{gloves.name || gloves.baseType}}</div>\n                </div>\n              </div>\n              <ng-template #emptyGloves>\n                <div class=\"slot-empty-text\">장갑</div>\n              </ng-template>\n            </div>\n\n            <!-- 신발 -->\n            <div class=\"equipment-slot-diablo boots-slot\" \n                 [class.has-item]=\"selectedCharacterGameData.playerCharacter.equipment?.boots\"\n                 [class.rarity-common]=\"selectedCharacterGameData.playerCharacter.equipment?.boots?.rarity === 'common'\"\n                 [class.rarity-uncommon]=\"selectedCharacterGameData.playerCharacter.equipment?.boots?.rarity === 'uncommon'\"\n                 [class.rarity-rare]=\"selectedCharacterGameData.playerCharacter.equipment?.boots?.rarity === 'rare'\"\n                 [class.rarity-epic]=\"selectedCharacterGameData.playerCharacter.equipment?.boots?.rarity === 'epic'\"\n                 [class.rarity-legendary]=\"selectedCharacterGameData.playerCharacter.equipment?.boots?.rarity === 'legendary'\">\n              <div class=\"slot-icon\">👢</div>\n              <div class=\"slot-content\" *ngIf=\"selectedCharacterGameData.playerCharacter.equipment?.boots as boots; else emptyBoots\">\n                <div class=\"item-tooltip\">\n                  <div class=\"tooltip-name\">{{boots.name || boots.baseType}}</div>\n                </div>\n              </div>\n              <ng-template #emptyBoots>\n                <div class=\"slot-empty-text\">신발</div>\n              </ng-template>\n            </div>\n          </div>\n\n          <!-- 하단: 반지 슬롯 -->\n          <div class=\"equipment-rings-row\">\n            <!-- 반지1 -->\n            <div class=\"equipment-slot-diablo ring-slot ring-left\" \n                 [class.has-item]=\"selectedCharacterGameData.playerCharacter.equipment?.ring1\"\n                 [class.rarity-common]=\"selectedCharacterGameData.playerCharacter.equipment?.ring1?.rarity === 'common'\"\n                 [class.rarity-uncommon]=\"selectedCharacterGameData.playerCharacter.equipment?.ring1?.rarity === 'uncommon'\"\n                 [class.rarity-rare]=\"selectedCharacterGameData.playerCharacter.equipment?.ring1?.rarity === 'rare'\"\n                 [class.rarity-epic]=\"selectedCharacterGameData.playerCharacter.equipment?.ring1?.rarity === 'epic'\"\n                 [class.rarity-legendary]=\"selectedCharacterGameData.playerCharacter.equipment?.ring1?.rarity === 'legendary'\">\n              <div class=\"slot-icon\">💍</div>\n              <div class=\"slot-content\" *ngIf=\"selectedCharacterGameData.playerCharacter.equipment?.ring1 as ring1; else emptyRing1\">\n                <div class=\"item-tooltip\">\n                  <div class=\"tooltip-name\">{{ring1.name || ring1.baseType}}</div>\n                </div>\n              </div>\n              <ng-template #emptyRing1>\n                <div class=\"slot-empty-text\">반지</div>\n              </ng-template>\n            </div>\n\n            <!-- 반지2 -->\n            <div class=\"equipment-slot-diablo ring-slot ring-right\" \n                 [class.has-item]=\"selectedCharacterGameData.playerCharacter.equipment?.ring2\"\n                 [class.rarity-common]=\"selectedCharacterGameData.playerCharacter.equipment?.ring2?.rarity === 'common'\"\n                 [class.rarity-uncommon]=\"selectedCharacterGameData.playerCharacter.equipment?.ring2?.rarity === 'uncommon'\"\n                 [class.rarity-rare]=\"selectedCharacterGameData.playerCharacter.equipment?.ring2?.rarity === 'rare'\"\n                 [class.rarity-epic]=\"selectedCharacterGameData.playerCharacter.equipment?.ring2?.rarity === 'epic'\"\n                 [class.rarity-legendary]=\"selectedCharacterGameData.playerCharacter.equipment?.ring2?.rarity === 'legendary'\">\n              <div class=\"slot-icon\">💍</div>\n              <div class=\"slot-content\" *ngIf=\"selectedCharacterGameData.playerCharacter.equipment?.ring2 as ring2; else emptyRing2\">\n                <div class=\"item-tooltip\">\n                  <div class=\"tooltip-name\">{{ring2.name || ring2.baseType}}</div>\n                </div>\n              </div>\n              <ng-template #emptyRing2>\n                <div class=\"slot-empty-text\">반지</div>\n              </ng-template>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- 인벤토리 그리드 영역 -->\n      <div class=\"inventory-tab-grid\">\n        <h4 class=\"section-title\">🎒 보유 아이템</h4>\n        \n        <!-- 그리드 컨테이너 -->\n        <div class=\"inventory-grid-container\">\n          <div class=\"inventory-grid-cells\">\n            <!-- 아이템 셀 -->\n            <div *ngFor=\"let item of selectedCharacterGameData.playerCharacter.inventory; let i = index\"\n                 class=\"inventory-cell\"\n                 [class]=\"'rarity-' + (item.rarity || 'common')\"\n                 [title]=\"item.name\">\n              \n              <div class=\"cell-content\">\n                <!-- 아이콘 -->\n                <div class=\"cell-icon\">{{item.icon || '📦'}}</div>\n                \n                <!-- 이름 -->\n                <div class=\"cell-name\" [title]=\"item.name\">\n                  {{item.name}}\n                </div>\n                \n                <!-- 수량 -->\n                <div class=\"cell-quantity\" *ngIf=\"item.quantity && item.quantity > 1\">\n                  ×{{item.quantity}}\n                </div>\n              </div>\n              \n              <!-- 툴팁 -->\n              <div class=\"item-tooltip-detail\">\n                <div class=\"tooltip-header\" [class]=\"'rarity-' + (item.rarity || 'common')\">\n                  <div class=\"tooltip-name\">{{item.name}}</div>\n                  <div class=\"tooltip-rarity\">{{item.rarity || 'common'}}</div>\n                </div>\n                <div class=\"tooltip-type\">{{item.type}}</div>\n                <div class=\"tooltip-stats\" *ngIf=\"item.stats\">\n                  <div *ngIf=\"item.stats.attack\">⚔️ 공격력: +{{item.stats.attack}}</div>\n                  <div *ngIf=\"item.stats.defense\">🛡️ 방어력: +{{item.stats.defense}}</div>\n                </div>\n                <div class=\"tooltip-description\" *ngIf=\"item.description\">{{item.description}}</div>\n              </div>\n            </div>\n            \n            <!-- 빈 칸 (아이템이 없을 때도 그리드 구조 유지) -->\n            <div *ngFor=\"let empty of getEmptyCharacterInventorySlots()\"\n                 class=\"inventory-cell empty\">\n              <div class=\"cell-content\">\n                <div class=\"empty-icon\">📦</div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <!-- 하단 정보 -->\n        <div class=\"inventory-footer\">\n          <span class=\"inventory-count\">\n            {{(selectedCharacterGameData.playerCharacter.inventory || []).length}} / {{maxInventorySize}} 아이템\n          </span>\n        </div>\n      </div>\n    </div>\n    <!-- 장비 & 인벤토리 탭 끝 -->\n    \n    <!-- 상점 탭 -->\n    <div class=\"tab-content\" *ngIf=\"selectedCharacterGameData && characterInventoryTab === 'shop'\">\n      <div class=\"shop-wrapper\">\n        <!-- 상점 헤더 -->\n        <div class=\"shop-header\">\n          <div class=\"shop-title-section\">\n            <h4 class=\"shop-title\">🏪 모험가 상점</h4>\n            <p class=\"shop-subtitle\">AI가 생성한 특별한 아이템을 구매하세요</p>\n          </div>\n          <div class=\"shop-wallet\">\n            <div class=\"wallet-icon\">💰</div>\n            <div class=\"wallet-info\">\n              <span class=\"wallet-label\">보유 골드</span>\n              <span class=\"wallet-amount\">{{selectedCharacterGameData.playerCharacter.gold | number}} G</span>\n            </div>\n          </div>\n        </div>\n\n        <!-- 상점 아이템 그리드 -->\n        <div class=\"shop-items-container\" *ngIf=\"savedItems.length > 0\">\n          <div \n            class=\"shop-item-card\"\n            *ngFor=\"let item of savedItems\"\n            [class.grade-legendary]=\"item.grade === '신화' || item.grade === '전설'\"\n            [class.grade-epic]=\"item.grade === '영웅'\"\n            [class.grade-rare]=\"item.grade === '희귀'\"\n            [class.grade-uncommon]=\"item.grade === '고급'\"\n            [class.grade-common]=\"item.grade === '일반'\">\n            \n            <!-- 아이템 배지 -->\n            <div class=\"item-badge-container\">\n              <span class=\"item-grade-badge\">{{item.grade}}</span>\n              <span class=\"item-type-badge\">{{item.type}}</span>\n            </div>\n\n            <!-- 아이템 이미지 영역 -->\n            <div class=\"item-image-section\">\n              <div class=\"item-icon-large\">📦</div>\n            </div>\n\n            <!-- 아이템 정보 -->\n            <div class=\"item-info-section\">\n              <h5 class=\"item-name\">{{item.name}}</h5>\n              <p class=\"item-description\">{{item.description}}</p>\n\n              <!-- 아이템 능력치 -->\n              <div class=\"item-stats-row\" *ngIf=\"item.stats && (item.stats.attack || item.stats.defense || item.stats.hp || item.stats.mp)\">\n                <div class=\"stat-chip\" *ngIf=\"item.stats.attack\">\n                  <span class=\"stat-icon\">⚔️</span>\n                  <span class=\"stat-value\">+{{item.stats.attack}}</span>\n                </div>\n                <div class=\"stat-chip\" *ngIf=\"item.stats.defense\">\n                  <span class=\"stat-icon\">🛡️</span>\n                  <span class=\"stat-value\">+{{item.stats.defense}}</span>\n                </div>\n                <div class=\"stat-chip\" *ngIf=\"item.stats.hp\">\n                  <span class=\"stat-icon\">❤️</span>\n                  <span class=\"stat-value\">+{{item.stats.hp}}</span>\n                </div>\n                <div class=\"stat-chip\" *ngIf=\"item.stats.mp\">\n                  <span class=\"stat-icon\">💙</span>\n                  <span class=\"stat-value\">+{{item.stats.mp}}</span>\n                </div>\n              </div>\n\n              <!-- 아이템 효과 -->\n              <div class=\"item-effects\" *ngIf=\"item.effects && item.effects.length > 0\">\n                <div class=\"effect-item\" *ngFor=\"let effect of item.effects.slice(0, 2)\">\n                  <span class=\"effect-icon\">✨</span>\n                  <span class=\"effect-text\">{{effect}}</span>\n                </div>\n              </div>\n            </div>\n\n            <!-- 구매 버튼 영역 -->\n            <div class=\"item-purchase-section\">\n              <div class=\"item-price-display\">\n                <span class=\"price-icon\">💰</span>\n                <span class=\"price-amount\">{{item.price || calculateItemPriceByGrade(item.grade)}}</span>\n                <span class=\"price-unit\">G</span>\n              </div>\n              <button \n                class=\"purchase-button\"\n                [class.can-buy]=\"selectedCharacterGameData.playerCharacter.gold >= (item.price || calculateItemPriceByGrade(item.grade))\"\n                [class.cannot-buy]=\"selectedCharacterGameData.playerCharacter.gold < (item.price || calculateItemPriceByGrade(item.grade))\"\n                [disabled]=\"selectedCharacterGameData.playerCharacter.gold < (item.price || calculateItemPriceByGrade(item.grade))\"\n                (click)=\"buyItemForCharacter(item, $event)\">\n                <span *ngIf=\"selectedCharacterGameData.playerCharacter.gold >= (item.price || calculateItemPriceByGrade(item.grade))\">\n                  <span class=\"btn-icon\">🛒</span> 구매하기\n                </span>\n                <span *ngIf=\"selectedCharacterGameData.playerCharacter.gold < (item.price || calculateItemPriceByGrade(item.grade))\">\n                  <span class=\"btn-icon\">💸</span> 골드 부족\n                </span>\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <!-- 빈 상점 메시지 -->\n        <div *ngIf=\"savedItems.length === 0\" class=\"empty-shop-state\">\n          <div class=\"empty-icon\">🏪</div>\n          <h5 class=\"empty-title\">상점에 아이템이 없습니다</h5>\n          <p class=\"empty-message\">AI 아이템 생성기로 특별한 아이템을 만들어보세요!</p>\n          <div class=\"empty-hint\">\n            <span class=\"hint-icon\">💡</span>\n            <span class=\"hint-text\">홈 화면의 \"AI 아이템 생성\" 메뉴를 이용하세요</span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 상점 탭 끝 -->\n    \n    <div class=\"panel-footer\">\n      <button class=\"btn-secondary\" (click)=\"closeCharacterInventory()\">닫기</button>\n    </div>\n  </div>\n</div>\n\n", "import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { NovelAuthService } from '../../services/novel-auth.service';\nimport { LoginConfig, UnifiedLoginComponent } from '../../../shared/components/unified-login/unified-login.component';\n\n@Component({\n  selector: 'app-novel-login',\n  standalone: false,\n  template: '<app-unified-login #loginComponent [config]=\"loginConfig\" (loginSubmit)=\"onLogin($event)\"></app-unified-login>'\n})\nexport class NovelLogin implements OnInit {\n  @ViewChild('loginComponent') loginComponent?: UnifiedLoginComponent;\n\n  loginConfig: LoginConfig = {\n    title: '📖 소설 라이브러리',\n    subtitle: '인터랙티브 소설 세계에 오신 것을 환영합니다',\n    moduleName: 'novel',\n    showSocialLogin: false,\n    showRegisterLink: false,\n    backgroundAnimation: ['📖', '📚', '✨', '🎭', '⚔️', '🏰', '🔮', '📜'],\n    themeColors: {\n      primary: '#8b5cf6',    // 보라색 (소설/문학)\n      secondary: '#6366f1',  // 인디고\n      accent: '#a855f7'      // 밝은 보라\n    }\n  };\n\n  constructor(\n    private authService: NovelAuthService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    // 이미 로그인되어 있으면 novel 페이지로 리다이렉트\n    if (this.authService.isLoggedIn()) {\n      this.router.navigate(['/novel']);\n    }\n  }\n\n  /**\n   * 로그인 처리 - 통합 로그인 컴포넌트에서 호출\n   */\n  onLogin(credentials: { username: string; password: string }): void {\n    const success = this.authService.login(credentials.username, credentials.password);\n    \n    if (success) {\n      this.router.navigate(['/novel']);\n    } else {\n      // 통합 로그인 컴포넌트에 에러 표시\n      if (this.loginComponent) {\n        this.loginComponent.setError('사용자 이름 또는 비밀번호가 올바르지 않습니다.');\n      }\n    }\n  }\n}\n", "import { Component, Input, Output, EventEmitter, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\nexport interface NovelTopMenuAction {\n  action: string;\n  data?: any;\n}\n\nexport interface NovelMenuItem {\n  name: string;\n  active: boolean;\n  disabled?: boolean;\n  icon?: string;\n}\n\nexport interface NovelToolbarAction {\n  action: string;\n  icon: string;\n  tooltip: string;\n  disabled?: boolean;\n}\n\n@Component({\n  selector: 'app-novel-top-menu',\n  templateUrl: './novel-top-menu.component.html',\n  styleUrls: ['./novel-top-menu.component.scss'],\n  standalone: false\n})\nexport class NovelTopMenuComponent {\n  constructor(\n    private router: Router\n  ) {}\n  \n  @Input() activeMenu = '홈';\n  @Input() currentActiveMenu = '홈';\n  @Input() novelTitle = '';\n  @Input() isGenerating = false;\n  @Input() wordCount = 0;\n  @Input() isSearchMode = false;\n  @Input() searchResults = { current: 0, total: 0 };\n  @Input() generatedNovel = '';\n  @Output() menuAction = new EventEmitter<NovelTopMenuAction>();\n  @Output() menuChange = new EventEmitter<string>();\n  @Output() toolbarAction = new EventEmitter<string>();\n  @Output() search = new EventEmitter<string>();\n  @Output() leftPanelToggle = new EventEmitter<void>();\n  @Output() rightPanelToggle = new EventEmitter<void>();\n\n  searchQuery = '';\n  searchResultCount: number | null = null;\n  isSearching = false;\n  lastSelectedMenu = '새소설'; // 마지막으로 선택한 메뉴 추적\n\n  // 소설 전용 메뉴 아이템들\n  menuItems: NovelMenuItem[] = [\n    { name: '새소설', active: false },\n    { name: '저장', active: false },\n    { name: '불러오기', active: false },\n    { name: '내보내기', active: false },\n    { name: '설정', active: false }\n  ];\n\n  // 소설 전용 툴바 액션들\n  toolbarActions: NovelToolbarAction[] = [\n    {\n      action: 'new-novel',\n      icon: '/images/btn-gnb-doc@3x.png',\n      tooltip: '새 소설 생성'\n    },\n    {\n      action: 'save-novel',\n      icon: '/images/ico-save@3x.png',\n      tooltip: '소설 저장'\n    },\n    {\n      action: 'open-novel',\n      icon: '/images/ico-file@3x.png',\n      tooltip: '소설 열기'\n    },\n    {\n      action: 'export-novel',\n      icon: '/images/btn-gnb-download@3x.png',\n      tooltip: '소설 내보내기'\n    },\n    {\n      action: 'novel-settings',\n      icon: '/images/btn-gnb-setting.png',\n      tooltip: '소설 설정'\n    },\n    {\n      action: 'writing-tools',\n      icon: '/images/btn-gnb-edit@3x.png',\n      tooltip: '작성 도구'\n    }\n  ];\n\n  onMenuItemClick(item: NovelMenuItem) {\n    if (item.disabled) return;\n\n    // 마지막 선택 메뉴 업데이트\n    this.lastSelectedMenu = item.name;\n\n    // 모든 메뉴 비활성화 후 선택된 메뉴만 활성화\n    this.menuItems.forEach(menuItem => menuItem.active = false);\n    item.active = true;\n\n    // 메뉴 이름에 따라 적절한 툴바 액션 실행\n    switch (item.name) {\n      case '새소설':\n        this.toolbarAction.emit('new-novel');\n        break;\n      case '저장':\n        this.toolbarAction.emit('save-novel');\n        break;\n      case '불러오기':\n        this.toolbarAction.emit('open-novel');\n        break;\n      case '내보내기':\n        this.toolbarAction.emit('export-novel');\n        break;\n      case '설정':\n        this.toolbarAction.emit('settings');\n        break;\n    }\n\n    this.menuAction.emit({\n      action: 'menu-change',\n      data: { menu: item.name }\n    });\n    \n    this.menuChange.emit(item.name);\n  }\n\n  getMenuIcon(menuName: string): string {\n    switch (menuName) {\n      case '새소설': return 'note_add';\n      case '저장': return 'save';\n      case '불러오기': return 'folder_open';\n      case '내보내기': return 'download';\n      case '설정': return 'settings';\n      default: return 'menu';\n    }\n  }\n\n  onToolbarAction(action: string) {\n    this.toolbarAction.emit(action);\n  }\n\n  onSearchChange(queryOrEvent: string | Event) {\n    let query: string;\n    \n    if (typeof queryOrEvent === 'string') {\n      query = queryOrEvent;\n    } else {\n      const target = queryOrEvent.target as HTMLInputElement;\n      query = target ? target.value : '';\n    }\n    \n    this.searchQuery = query;\n    this.search.emit(query);\n    \n    if (query.trim()) {\n      this.isSearching = true;\n      // 소설 내용에서 검색 로직 구현\n      setTimeout(() => {\n        this.isSearching = false;\n        this.searchResultCount = Math.floor(Math.random() * 10) + 1; // 임시 결과\n      }, 500);\n    } else {\n      this.searchResultCount = null;\n    }\n  }\n\n  onSearchEnter() {\n    if (this.searchQuery.trim()) {\n      this.menuAction.emit({\n        action: 'search',\n        data: { query: this.searchQuery }\n      });\n    }\n  }\n\n  onFileSelected(event: any) {\n    const file = event.target.files[0];\n    if (file) {\n      // 텍스트 파일 로드 로직 구현\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        const content = e.target?.result as string;\n        this.loadNovelFromFile(content, file.name);\n      };\n      reader.readAsText(file);\n    }\n  }\n\n  private loadNovelFromFile(content: string, fileName: string) {\n    // 파일에서 소설 로드\n    this.novelTitle = fileName.replace(/\\.[^/.]+$/, \"\"); // 확장자 제거\n    this.wordCount = content.length;\n    this.toolbarAction.emit('load-file');\n    // 실제 로드 로직 구현 필요\n  }\n\n  isMenuDisabled(menuName: string): boolean {\n    // 소설이 생성 중일 때는 일부 메뉴 비활성화\n    if (this.isGenerating) {\n      return ['저장', '내보내기'].includes(menuName);\n    }\n    \n    // 모든 메뉴 항상 활성화\n    return false;\n  }\n\n  getWordCountText(): string {\n    if (this.wordCount === 0) return '';\n    \n    if (this.wordCount < 1000) {\n      return `${this.wordCount}자`;\n    } else if (this.wordCount < 10000) {\n      return `${(this.wordCount / 1000).toFixed(1)}천자`;\n    } else {\n      return `${(this.wordCount / 10000).toFixed(1)}만자`;\n    }\n  }\n\n  onMenuChange(menuName: string) {\n    this.menuChange.emit(menuName);\n  }\n}", "<div *ngIf=\"isSearching\" class=\"search-progress-bar\">\n  <div class=\"search-progress\"></div>\n</div>\n\n<!-- 소설 전용 상단 메뉴바 -->\n<nav class=\"top-menu-bar\">\n  <!-- 숨겨진 파일 입력 -->\n  <input \n    #fileInput \n    type=\"file\" \n    accept=\".txt,.docx,.md\" \n    style=\"display: none;\" \n    (change)=\"onFileSelected($event)\">\n\n  <div class=\"brand\">\n    <!-- 좌측 패널 토글 버튼 (ERP 스타일) -->\n    <button \n      class=\"panel-toggle-btn left\" \n      (click)=\"leftPanelToggle.emit()\" \n      title=\"메뉴 패널\">\n      <div class=\"hamburger-icon\">\n        <span></span>\n        <span></span>\n        <span></span>\n      </div>\n    </button>\n    \n    <!-- 타이틀 영역 -->\n    <div class=\"title-section\">\n      <span class=\"app-title\">소설 작성</span>\n      <span class=\"menu-separator\">•</span>\n      <span class=\"last-menu\">{{ lastSelectedMenu }}</span>\n    </div>\n  </div>\n\n  <div class=\"menu-center\">\n    <!-- 중앙 영역 비움 -->\n  </div>\n\n  <div class=\"menu-right\" style=\"display: flex; align-items: center; gap: 8px;\">\n    <!-- Angular Material 메뉴 드롭다운 -->\n    <button mat-icon-button [matMenuTriggerFor]=\"mainMenu\" class=\"app-menu-trigger\" title=\"메뉴\">\n      <mat-icon>apps</mat-icon>\n    </button>\n    \n    <mat-menu #mainMenu=\"matMenu\">\n      <button mat-menu-item *ngFor=\"let item of menuItems\" \n              [disabled]=\"isMenuDisabled(item.name)\"\n              (click)=\"onMenuItemClick(item)\">\n        <mat-icon>{{ getMenuIcon(item.name) }}</mat-icon>\n        <span>{{ item.name }}</span>\n      </button>\n    </mat-menu>\n    \n    <!-- 소설 상태 정보 -->\n    <div class=\"novel-status\" *ngIf=\"novelTitle || wordCount > 0\">\n      <span class=\"novel-title\" *ngIf=\"novelTitle\">{{ novelTitle }}</span>\n      <span class=\"word-count\" *ngIf=\"wordCount > 0\">{{ getWordCountText() }}</span>\n      <span class=\"generation-status\" *ngIf=\"isGenerating\">생성 중...</span>\n    </div>\n    \n    <!-- 검색 결과 표시 -->\n    <span *ngIf=\"searchResultCount !== null && !isSearching\" class=\"search-result-count-inline\">\n      <b>{{searchResultCount}}</b>개\n    </span>\n    \n    <!-- 검색 입력창 -->\n    <input type=\"text\" \n           class=\"search-box\" \n           placeholder=\"🔍 소설 내용 검색\"\n           [(ngModel)]=\"searchQuery\"\n           (input)=\"onSearchChange(searchQuery)\"\n           (keydown.enter)=\"onSearchEnter()\">\n    \n    <!-- 우측 패널 토글 버튼 (ERP 스타일) -->\n    <button \n      class=\"panel-toggle-btn\" \n      (click)=\"rightPanelToggle.emit()\" \n      title=\"메뉴 패널\">\n      <div class=\"hamburger-icon\">\n        <span></span>\n        <span></span>\n        <span></span>\n      </div>\n    </button>\n  </div>\n</nav>", "import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-novel-header',\n  templateUrl: './novel-header.component.html',\n  styleUrls: ['./novel-header.component.scss'],\n  standalone: false\n})\nexport class NovelHeaderComponent {\n  @Input() novelTitle: string = '';\n  @Input() activeMenu: string = '작성';\n  @Input() wordCount: number = 0;\n  @Input() isSearchMode: boolean = false;\n  @Input() searchResults: any = { current: 0, total: 0 };\n  @Input() isGenerating: boolean = false;\n  @Input() generatedNovel: string = '';\n\n  @Output() menuChange = new EventEmitter<string>();\n  @Output() toolbarAction = new EventEmitter<string>();\n  @Output() search = new EventEmitter<string>();\n  @Output() rightPanelToggle = new EventEmitter<void>();\n  @Output() leftPanelToggle = new EventEmitter<void>();\n\n  constructor(private router: Router) {}\n\n  onMenuChange(menu: string): void {\n    this.menuChange.emit(menu);\n  }\n\n  onToolbarAction(action: string): void {\n    this.toolbarAction.emit(action);\n  }\n\n  onSearch(searchTerm: string): void {\n    this.search.emit(searchTerm);\n  }\n\n  onRightPanelToggle(): void {\n    this.rightPanelToggle.emit();\n  }\n\n  onLeftPanelToggle(): void {\n    this.leftPanelToggle.emit();\n  }\n\n  goToHome(): void {\n    // Novel 모드에서는 현재 페이지에 머물거나 메인 대시보드로 이동\n    // 필요에 따라 라우팅 로직 수정 가능\n  }\n}", "<!-- Novel 모드 전용 헤더 (Docs 스타일 적용) -->\n<div class=\"novel-header\">\n  <!-- Novel 전용 상단 메뉴 바 -->\n  <app-novel-top-menu\n    [activeMenu]=\"activeMenu\"\n    [novelTitle]=\"novelTitle\"\n    [wordCount]=\"wordCount\"\n    [isSearchMode]=\"isSearchMode\"\n    [searchResults]=\"searchResults\"\n    [isGenerating]=\"isGenerating\"\n    [generatedNovel]=\"generatedNovel\"\n    (menuChange)=\"onMenuChange($event)\"\n    (toolbarAction)=\"onToolbarAction($event)\"\n    (search)=\"onSearch($event)\"\n    (rightPanelToggle)=\"onRightPanelToggle()\"\n    (leftPanelToggle)=\"onLeftPanelToggle()\">\n  </app-novel-top-menu>\n</div>", "import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\n\nexport interface MenuItem {\n  id: string;\n  title: string;\n  icon: string;\n  items: MenuItemChild[];\n}\n\nexport interface MenuItemChild {\n  id: string;\n  label: string;\n  description: string;\n}\n\nexport interface NovelLeftMenuAction {\n  type: 'NEW_NOVEL' | 'OPEN_NOVEL' | 'SAVE_NOVEL' | 'TEMPLATE' | 'CHARACTER' | 'PLOT' | 'DATA' | 'TOOLS' | 'EXPORT';\n  data?: any;\n}\n\n@Component({\n  selector: 'app-novel-left-menu',\n  templateUrl: './novel-left-menu.component.html',\n  styleUrls: ['./novel-left-menu.component.scss'],\n  standalone: false,\n  animations: [\n    trigger('expandCollapse', [\n      state('expanded', style({\n        height: '*',\n        opacity: 1,\n        overflow: 'visible'\n      })),\n      state('collapsed', style({\n        height: '0px',\n        opacity: 0,\n        overflow: 'hidden'\n      })),\n      transition('expanded <=> collapsed', [\n        animate('300ms ease-in-out')\n      ])\n    ])\n  ]\n})\nexport class NovelLeftMenuComponent {\n  @Input() recentWorks: any[] = [];\n  @Input() isCollapsed: boolean = false;\n  @Output() menuAction = new EventEmitter<NovelLeftMenuAction>();\n  @Output() close = new EventEmitter<void>();\n  @Output() itemClick = new EventEmitter<any>();\n  @Output() expand = new EventEmitter<void>();\n\n  expandedMenuId: string | null = null;\n\n  onExpand(): void {\n    this.expand.emit();\n  }\n\n  // ERP 스타일 메뉴 그룹 - 소설 작성 기능 포함\n  menuGroups: MenuItem[] = [\n    {\n      id: 'novel',\n      title: '소설 작성',\n      icon: '📖',\n      items: [\n        { id: 'new-novel', label: '새 소설', description: '빈 소설 생성' },\n        { id: 'open-novel', label: '소설 열기', description: '기존 소설 불러오기' },\n        { id: 'recent-novels', label: '최근 소설', description: '최근 작업한 소설 목록' },\n        { id: 'save-novel', label: '소설 저장', description: '현재 소설 저장' }\n      ]\n    },\n    {\n      id: 'templates',\n      title: '템플릿',\n      icon: '📄',\n      items: [\n        { id: 'wuxia-template', label: '무협 템플릿', description: '무협 소설 기본 구조' },\n        { id: 'romance-template', label: '로맨스 템플릿', description: '로맨스 소설 기본 구조' },\n        { id: 'fantasy-template', label: '판타지 템플릿', description: '판타지 소설 기본 구조' },\n        { id: 'modern-template', label: '현대 템플릿', description: '현대 소설 기본 구조' }\n      ]\n    },\n    {\n      id: 'characters',\n      title: '캐릭터 관리',\n      icon: '👥',\n      items: [\n        { id: 'add-character', label: '캐릭터 추가', description: '새 캐릭터 생성' },\n        { id: 'character-list', label: '캐릭터 목록', description: '기존 캐릭터 관리' },\n        { id: 'character-relation', label: '관계도', description: '캐릭터 간 관계 설정' },\n        { id: 'character-profile', label: '프로필 편집', description: '캐릭터 상세 정보' }\n      ]\n    },\n    {\n      id: 'plot',\n      title: '플롯 관리',\n      icon: '📊',\n      items: [\n        { id: 'plot-outline', label: '플롯 개요', description: '전체 스토리 구조' },\n        { id: 'chapter-plan', label: '챕터 계획', description: '챕터별 계획 수립' },\n        { id: 'timeline', label: '타임라인', description: '시간순 사건 정리' },\n        { id: 'plot-analysis', label: '플롯 분석', description: '스토리 구조 분석' }\n      ]\n    },\n    {\n      id: 'data',\n      title: '데이터 관리',\n      icon: '🗂️',\n      items: [\n        { id: 'manage-characters', label: '캐릭터 관리', description: '등장인물 생성 및 관리' },\n        { id: 'manage-scenarios', label: '상황 관리', description: '시나리오 및 상황 설정' },\n        { id: 'manage-items', label: '아이템 관리', description: '소품 및 도구 관리' },\n        { id: 'data-export', label: '데이터 내보내기', description: '설정 데이터 백업' }\n      ]\n    },\n    {\n      id: 'tools',\n      title: '창작 도구',\n      icon: '🔧',\n      items: [\n        { id: 'word-count', label: '글자 수 계산', description: '작품 분량 확인' },\n        { id: 'name-generator', label: '이름 생성기', description: '캐릭터 이름 추천' },\n        { id: 'grammar-check', label: '맞춤법 검사', description: '텍스트 오류 검사' },\n        { id: 'writing-tips', label: '창작 팁', description: '글쓰기 가이드' }\n      ]\n    },\n    {\n      id: 'export',\n      title: '내보내기',\n      icon: '📤',\n      items: [\n        { id: 'export-txt', label: 'TXT로 저장', description: '텍스트 파일로 내보내기' },\n        { id: 'export-docx', label: 'DOCX로 변환', description: 'Word 문서로 저장' },\n        { id: 'export-pdf', label: 'PDF로 저장', description: 'PDF 파일로 내보내기' },\n        { id: 'export-epub', label: 'EPUB로 변환', description: '전자책 형태로 저장' }\n      ]\n    }\n  ];\n\n  toggleMenu(menuId: string): void {\n    if (this.expandedMenuId === menuId) {\n      this.expandedMenuId = null;\n    } else {\n      this.expandedMenuId = menuId;\n    }\n  }\n\n  onItemClick(item: MenuItemChild, groupId: string): void {\n    this.itemClick.emit({ item, groupId });\n    \n    // 각 아이템별 액션 발생\n    switch (item.id) {\n      case 'new-novel':\n        this.menuAction.emit({ type: 'NEW_NOVEL' });\n        break;\n      case 'open-novel':\n        this.menuAction.emit({ type: 'OPEN_NOVEL' });\n        break;\n      case 'save-novel':\n        this.menuAction.emit({ type: 'SAVE_NOVEL' });\n        break;\n      // 데이터 관리 관련 아이템들\n      case 'manage-characters':\n      case 'manage-scenarios':\n      case 'manage-items':\n      case 'data-export':\n        this.menuAction.emit({ type: 'DATA', data: item.id });\n        break;\n      default:\n        this.menuAction.emit({ type: 'NEW_NOVEL', data: item });\n        break;\n    }\n  }\n\n  isMenuExpanded(menuId: string): boolean {\n    return this.expandedMenuId === menuId;\n  }\n\n  onClose(): void {\n    this.close.emit();\n  }\n\n  getExpandedItems(): MenuItemChild[] {\n    const menu = this.menuGroups.find(m => m.id === this.expandedMenuId);\n    return menu ? menu.items : [];\n  }\n\n  getExpandedMenuTitle(): string {\n    const menu = this.menuGroups.find(m => m.id === this.expandedMenuId);\n    return menu ? menu.title : '';\n  }\n\n  onMenuClick(menuId: string): void {\n    this.toggleMenu(menuId);\n  }\n\n  onBack(): void {\n    this.expandedMenuId = null;\n  }\n\n  getMenuTitle(): string {\n    return this.getExpandedMenuTitle();\n  }\n\n  getMenuItems(): MenuItemChild[] {\n    return this.getExpandedItems();\n  }\n\n  onSubItemClick(itemId: string): void {\n    const menu = this.menuGroups.find(m => m.id === this.expandedMenuId);\n    if (menu) {\n      const item = menu.items.find(i => i.id === itemId);\n      if (item) {\n        this.onItemClick(item, menu.id);\n      }\n    }\n  }\n}\n", "<div class=\"novel-left-menu\" [class.collapsed]=\"isCollapsed\">\n  <!-- 축소된 상태 (48px 너비, 아이콘만 표시) -->\n  <div class=\"collapsed-view\" *ngIf=\"isCollapsed\" (click)=\"onExpand()\">\n    <div class=\"icon-list\">\n      <div class=\"menu-icon\" *ngFor=\"let menu of menuGroups\" [title]=\"menu.title\">\n        {{ menu.icon }}\n      </div>\n    </div>\n  </div>\n\n  <!-- 확장된 상태 (메인 카테고리 메뉴) -->\n  <div class=\"main-menu\" *ngIf=\"!expandedMenuId && !isCollapsed\">\n    <div class=\"panel-header\">\n      <h3>메뉴</h3>\n      <button class=\"close-btn\" (click)=\"onClose()\" title=\"축소\">×</button>\n    </div>\n    <div class=\"category-list\">\n      <div class=\"category-item\" \n           *ngFor=\"let menu of menuGroups\" \n           (click)=\"onMenuClick(menu.id)\">\n        <div class=\"category-icon\">{{ menu.icon }}</div>\n        <div class=\"category-content\">\n          <div class=\"category-title\">{{ menu.title }}</div>\n          <div class=\"category-count\">{{ menu.items.length }}개 항목</div>\n        </div>\n        <div class=\"category-arrow\">›</div>\n      </div>\n    </div>\n  </div>\n\n  <!-- 서브 메뉴 패널 (expandedMenuId가 있을 때) -->\n  <div class=\"expanded-panel\" *ngIf=\"expandedMenuId && !isCollapsed\">\n    <div class=\"panel-content\">\n      <div class=\"panel-header\">\n        <button class=\"back-btn\" (click)=\"onBack()\">‹</button>\n        <h3>{{ getMenuTitle() }}</h3>\n        <button class=\"close-btn\" (click)=\"onClose()\" title=\"축소\">×</button>\n      </div>\n      <div class=\"panel-items\">\n        <div class=\"menu-item\" *ngFor=\"let item of getMenuItems()\" (click)=\"onSubItemClick(item.id)\">\n          <div class=\"item-content\">\n            <div class=\"item-label\">{{ item.label }}</div>\n            <div class=\"item-description\" *ngIf=\"item.description\">{{ item.description }}</div>\n          </div>\n          <div class=\"item-arrow\">›</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>", "import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\n\nexport interface BattleCharacter {\n  id: string;\n  name: string;\n  type: 'player' | 'enemy';\n  maxHp: number;\n  currentHp: number;\n  maxMp: number;\n  currentMp: number;\n  attack: number;\n  defense: number;\n  agility: number;\n  skills: BattleSkill[];\n  items: BattleItem[];\n}\n\nexport interface BattleSkill {\n  id: string;\n  name: string;\n  description: string;\n  mpCost: number;\n  damage: number;\n  type: 'attack' | 'defense' | 'heal' | 'buff';\n  isAOE?: boolean; // 광역 스킬 여부\n}\n\nexport interface BattleItem {\n  id: string;\n  name: string;\n  description: string;\n  type: 'weapon' | 'armor' | 'consumable';\n  effect: number;\n  durability?: number;\n}\n\nexport interface BattleLog {\n  id: string;\n  timestamp: Date;\n  message: string;\n  type: 'action' | 'damage' | 'heal' | 'status' | 'system';\n  character?: string;\n}\n\n@Component({\n  selector: 'app-battle-modal',\n  templateUrl: './battle-modal.component.html',\n  styleUrls: ['./battle-modal.component.scss'],\n  standalone: false\n})\nexport class BattleModalComponent {\n  \n  playerCharacter!: BattleCharacter;\n  enemyCharacters: BattleCharacter[] = []; // 단일 적 → 여러 적 배열\n  battleLogs: BattleLog[] = [];\n  currentTurn: 'player' | 'enemy' = 'player';\n  battleEnded = false;\n  winner: string = '';\n  isProcessing = false;\n  isAutoBattle = false;\n  selectedEnemyIndex = 0; // 타겟 선택된 적의 인덱스\n\n  constructor(\n    public dialogRef: MatDialogRef<BattleModalComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: any\n  ) {\n    this.initializeBattle();\n  }\n\n  initializeBattle(): void {\n    // data에서 캐릭터 정보가 전달되었으면 사용, 아니면 샘플 데이터\n    if (this.data && this.data.playerCharacter) {\n      // NovelCharacter를 BattleCharacter로 변환\n      this.playerCharacter = this.convertToBattleCharacter(this.data.playerCharacter, 'player');\n      \n      // 적 캐릭터들 초기화\n      if (this.data.enemyCharacters && Array.isArray(this.data.enemyCharacters)) {\n        // 여러 적이 이미 배열로 전달된 경우\n        this.enemyCharacters = this.data.enemyCharacters.map((enemy: any) => \n          this.convertToBattleCharacter(enemy, 'enemy')\n        );\n      } else if (this.data.enemyCharacter) {\n        // 단일 적이 전달된 경우 → 2~3마리로 복제 및 변형\n        const baseEnemy = this.convertToBattleCharacter(this.data.enemyCharacter, 'enemy');\n        const enemyCount = 2 + Math.floor(Math.random() * 2); // 2~3마리\n        \n        this.enemyCharacters = Array.from({ length: enemyCount }, (_, i) => {\n          if (i === 0) {\n            // 첫 번째는 원본\n            return baseEnemy;\n          } else {\n            // 나머지는 약간 변형된 복제본\n            return {\n              ...baseEnemy,\n              id: `${baseEnemy.id}_${i}`,\n              name: `${baseEnemy.name} ${i + 1}`,\n              maxHp: Math.floor(baseEnemy.maxHp * (0.8 + Math.random() * 0.4)), // 80~120%\n              currentHp: Math.floor(baseEnemy.maxHp * (0.8 + Math.random() * 0.4)),\n              attack: Math.floor(baseEnemy.attack * (0.9 + Math.random() * 0.2)), // 90~110%\n              defense: Math.floor(baseEnemy.defense * (0.9 + Math.random() * 0.2))\n            };\n          }\n        });\n      } else {\n        // 적 정보가 없으면 랜덤 적 2~3마리\n        const enemyCount = 2 + Math.floor(Math.random() * 2);\n        this.enemyCharacters = Array.from({ length: enemyCount }, (_, i) => \n          this.generateRandomEnemy(i)\n        );\n      }\n    } else {\n      // 샘플 데이터로 초기화\n      this.playerCharacter = {\n        id: 'player1',\n        name: '주인공',\n        type: 'player',\n        maxHp: 100,\n        currentHp: 100,\n        maxMp: 50,\n        currentMp: 50,\n        attack: 35,\n        defense: 15,\n        agility: 18,\n        skills: [\n          { id: 'skill1', name: '연속베기', description: '적에게 2회 연속 공격', mpCost: 10, damage: 25, type: 'attack', isAOE: false },\n          { id: 'skill2', name: '강타', description: '강력한 일격', mpCost: 15, damage: 40, type: 'attack', isAOE: false },\n          { id: 'skill3', name: '회전베기', description: '모든 적에게 광역 공격', mpCost: 20, damage: 30, type: 'attack', isAOE: true }, // 새로운 광역 스킬\n          { id: 'skill4', name: '회복술', description: 'HP를 회복', mpCost: 15, damage: -25, type: 'heal', isAOE: false }\n        ],\n        items: [\n          { id: 'item1', name: '강철검', description: '공격력 +10', type: 'weapon', effect: 10 },\n          { id: 'item2', name: '가죽갑옷', description: '방어력 +8', type: 'armor', effect: 8 },\n          { id: 'item3', name: '체력포션', description: 'HP +30 회복', type: 'consumable', effect: 30 }\n        ]\n      };\n\n      // 적 캐릭터 초기화 (2~3마리 랜덤 생성)\n      const enemyCount = 2 + Math.floor(Math.random() * 2);\n      this.enemyCharacters = Array.from({ length: enemyCount }, (_, i) => \n        this.generateRandomEnemy(i)\n      );\n    }\n\n    // 전투 시작 로그\n    this.addBattleLog('전투가 시작되었습니다!', 'system');\n    const enemyNames = this.enemyCharacters.map(e => e.name).join(', ');\n    this.addBattleLog(`${this.playerCharacter.name} vs ${enemyNames} (총 ${this.enemyCharacters.length}마리)`, 'system');\n  }\n\n  // NovelCharacter를 BattleCharacter로 변환\n  private convertToBattleCharacter(novelChar: any, type: 'player' | 'enemy'): BattleCharacter {\n    // notes에서 전투 정보 추출 (정규식 사용)\n    const hp = this.extractStat(novelChar.notes, 'HP') || 100;\n    const attack = this.extractStat(novelChar.notes, '공격력') || 20;\n    const defense = this.extractStat(novelChar.notes, '방어력') || 15;\n    const speed = this.extractStat(novelChar.notes, '속도') || 18;\n\n    // 능력을 스킬로 변환\n    const skills: BattleSkill[] = (novelChar.abilities || []).map((ability: string, index: number) => ({\n      id: `skill${index + 1}`,\n      name: ability,\n      description: `${ability} 기술`,\n      mpCost: 10 + index * 5,\n      damage: 15 + index * 5,\n      type: 'attack' as const\n    }));\n\n    // 기본 스킬 추가\n    if (skills.length === 0) {\n      skills.push(\n        { id: 'skill1', name: '일반 공격', description: '기본 공격', mpCost: 0, damage: 10, type: 'attack' }\n      );\n    }\n\n    return {\n      id: novelChar.id,\n      name: novelChar.name,\n      type,\n      maxHp: hp,\n      currentHp: hp,\n      maxMp: 50,\n      currentMp: 50,\n      attack,\n      defense,\n      agility: speed,\n      skills,\n      items: []\n    };\n  }\n\n  // notes에서 능력치 추출\n  private extractStat(notes: string, statName: string): number | null {\n    if (!notes) return null;\n    \n    const regex = new RegExp(`${statName}:\\\\s*(\\\\d+)`, 'i');\n    const match = notes.match(regex);\n    return match ? parseInt(match[1], 10) : null;\n  }\n\n  generateRandomEnemy(index: number = 0): BattleCharacter {\n    const enemyNames = ['오크 전사', '스켈레톤 마법사', '고블린 도적', '다크엘프 암살자', '트롤 거인'];\n    const randomName = enemyNames[Math.floor(Math.random() * enemyNames.length)];\n    \n    const baseHp = 80 + Math.floor(Math.random() * 40);\n    const baseMp = 30 + Math.floor(Math.random() * 30);\n    \n    return {\n      id: `enemy${index + 1}`,\n      name: randomName,\n      type: 'enemy',\n      maxHp: baseHp,\n      currentHp: baseHp,\n      maxMp: baseMp,\n      currentMp: baseMp,\n      attack: 15 + Math.floor(Math.random() * 10),\n      defense: 10 + Math.floor(Math.random() * 8),\n      agility: 12 + Math.floor(Math.random() * 12),\n      skills: [\n        { id: `enemy${index + 1}_skill1`, name: '강타', description: '강력한 공격', mpCost: 8, damage: 18, type: 'attack', isAOE: false },\n        { id: `enemy${index + 1}_skill2`, name: '마법 방패', description: '마법으로 방어', mpCost: 6, damage: 0, type: 'defense', isAOE: false }\n      ],\n      items: [\n        { id: `enemy${index + 1}_item1`, name: '녹슨 도끼', description: '공격력 +5', type: 'weapon', effect: 5 },\n        { id: `enemy${index + 1}_item2`, name: '낡은 갑옷', description: '방어력 +3', type: 'armor', effect: 3 }\n      ]\n    };\n  }\n\n  // 적 선택\n  selectEnemy(index: number): void {\n    if (this.enemyCharacters[index].currentHp > 0) {\n      this.selectedEnemyIndex = index;\n    }\n  }\n\n  // 살아있는 적들만 반환\n  getAliveEnemies(): BattleCharacter[] {\n    return this.enemyCharacters.filter(e => e.currentHp > 0);\n  }\n\n  playerAttack(): void {\n    if (this.battleEnded || this.currentTurn !== 'player') return;\n    \n    const aliveEnemies = this.getAliveEnemies();\n    if (aliveEnemies.length === 0) return;\n    \n    // 현재 선택된 적이 죽었으면 첫 번째 살아있는 적 선택\n    if (this.enemyCharacters[this.selectedEnemyIndex].currentHp <= 0) {\n      this.selectedEnemyIndex = this.enemyCharacters.findIndex(e => e.currentHp > 0);\n    }\n    \n    const targetEnemy = this.enemyCharacters[this.selectedEnemyIndex];\n    \n    const attackVariations = [\n      `${this.playerCharacter.name}이 검을 휠두르며 ${targetEnemy.name}에게 전진합니다!`,\n      `${this.playerCharacter.name}이 빠른 동작으로 ${targetEnemy.name}을 공격합니다!`,\n      `${this.playerCharacter.name}이 전투자세를 취하고 ${targetEnemy.name}을 공격합니다!`\n    ];\n    const attackMsg = attackVariations[Math.floor(Math.random() * attackVariations.length)];\n    this.addBattleLog(attackMsg, 'status');\n    \n    const damage = this.calculateDamage(this.playerCharacter, targetEnemy, 'normal');\n    this.applyDamage(targetEnemy, damage);\n    \n    this.addBattleLog(`공격이 명중해 ${targetEnemy.name}에게 ${damage}의 피해를 입혔습니다!`, 'action', this.playerCharacter.name);\n    \n    this.checkBattleEnd();\n    if (!this.battleEnded) {\n      this.switchTurn();\n    }\n  }\n\n  playerUseSkill(skill: BattleSkill): void {\n    if (this.battleEnded || this.currentTurn !== 'player') return;\n    if (this.playerCharacter.currentMp < skill.mpCost) {\n      this.addBattleLog('MP가 부족합니다!', 'status');\n      return;\n    }\n    \n    this.addBattleLog(`${this.playerCharacter.name}이 집중하며 ${skill.name}을 발동준비를 합니다...`, 'status');\n    \n    this.playerCharacter.currentMp -= skill.mpCost;\n    \n    if (skill.type === 'attack') {\n      if (skill.isAOE) {\n        // 광역 스킬 - 모든 적 공격\n        this.addBattleLog(`${skill.name}이 발동되어 모든 적을 휩쓸었습니다!`, 'action', this.playerCharacter.name);\n        let totalDamage = 0;\n        \n        this.enemyCharacters.forEach(enemy => {\n          if (enemy.currentHp > 0) {\n            const damage = this.calculateDamage(this.playerCharacter, enemy, 'skill', skill);\n            this.applyDamage(enemy, damage);\n            this.addBattleLog(`${enemy.name}에게 ${damage}의 피해!`, 'damage');\n            totalDamage += damage;\n          }\n        });\n        \n        this.addBattleLog(`총 ${totalDamage}의 광역 피해를 입혔습니다!`, 'action', this.playerCharacter.name);\n      } else {\n        // 단일 타겟 스킬\n        const aliveEnemies = this.getAliveEnemies();\n        if (aliveEnemies.length === 0) return;\n        \n        if (this.enemyCharacters[this.selectedEnemyIndex].currentHp <= 0) {\n          this.selectedEnemyIndex = this.enemyCharacters.findIndex(e => e.currentHp > 0);\n        }\n        \n        const targetEnemy = this.enemyCharacters[this.selectedEnemyIndex];\n        const damage = this.calculateDamage(this.playerCharacter, targetEnemy, 'skill', skill);\n        this.applyDamage(targetEnemy, damage);\n        this.addBattleLog(`${skill.name}이 성공적으로 발동되어 ${targetEnemy.name}에게 ${damage}의 강력한 피해를 입혔습니다!`, 'action', this.playerCharacter.name);\n      }\n    } else if (skill.type === 'heal') {\n      const healAmount = Math.abs(skill.damage);\n      this.playerCharacter.currentHp = Math.min(this.playerCharacter.maxHp, this.playerCharacter.currentHp + healAmount);\n      this.addBattleLog(`${skill.name}의 치유 에너지가 몸을 감싸며 ${healAmount}의 HP를 회복했습니다.`, 'heal', this.playerCharacter.name);\n    } else if (skill.type === 'defense') {\n      this.addBattleLog(`${skill.name}을 사용하여 강력한 방어 자세를 취했습니다.`, 'action', this.playerCharacter.name);\n    }\n    \n    this.checkBattleEnd();\n    if (!this.battleEnded) {\n      this.switchTurn();\n    }\n  }\n\n  enemyTurn(): void {\n    if (this.battleEnded || this.currentTurn !== 'enemy') return;\n    \n    // 살아있는 적들이 차례로 공격\n    const aliveEnemies = this.getAliveEnemies();\n    \n    for (const enemy of aliveEnemies) {\n      const enemyHpPercent = (enemy.currentHp / enemy.maxHp) * 100;\n      const enemyMpPercent = (enemy.currentMp / enemy.maxMp) * 100;\n      \n      this.addBattleLog(`${enemy.name}이 날카로운 눈빛으로 적을 노려보고 있습니다... (HP: ${Math.round(enemyHpPercent)}%)`, 'status');\n      \n      // 적 AI: 랜덤으로 행동 선택\n      const useSkillChance = enemyMpPercent > 30 ? 0.6 : 0.2;\n      \n      if (Math.random() < useSkillChance && enemy.skills.length > 0) {\n        const availableSkills = enemy.skills.filter((skill: BattleSkill) => skill.mpCost <= enemy.currentMp);\n        if (availableSkills.length > 0) {\n          const skill = availableSkills[Math.floor(Math.random() * availableSkills.length)];\n          this.addBattleLog(`${enemy.name}이 어둠 속에서 특수한 기술을 준비합니다!`, 'status');\n          \n          enemy.currentMp -= skill.mpCost;\n          \n          if (skill.type === 'attack') {\n            const damage = this.calculateDamage(enemy, this.playerCharacter, 'skill', skill);\n            this.applyDamage(this.playerCharacter, damage);\n            this.addBattleLog(`${enemy.name}이 ${skill.name}로 강력한 공격을 가해 ${damage}의 피해를 입혔습니다!`, 'action', enemy.name);\n          }\n        } else {\n          // MP 부족시 일반 공격\n          this.addBattleLog(`${enemy.name}이 마력이 부족해 기본 공격으로 대신합니다.`, 'status');\n          const damage = this.calculateDamage(enemy, this.playerCharacter, 'normal');\n          this.applyDamage(this.playerCharacter, damage);\n          this.addBattleLog(`${enemy.name}의 일반 공격이 ${damage}의 피해를 입혔습니다.`, 'action', enemy.name);\n        }\n      } else {\n        // 일반 공격\n        const attackVariations = [\n          `${enemy.name}이 거칠게 달려듭니다!`,\n          `${enemy.name}이 날카로운 발톱으로 공격합니다!`,\n          `${enemy.name}이 힘찬 주먹을 휘두릅니다!`\n        ];\n        const attackMsg = attackVariations[Math.floor(Math.random() * attackVariations.length)];\n        this.addBattleLog(attackMsg, 'status');\n        \n        const damage = this.calculateDamage(enemy, this.playerCharacter, 'normal');\n        this.applyDamage(this.playerCharacter, damage);\n        this.addBattleLog(`공격이 성공해 ${damage}의 피해를 입혔습니다!`, 'action', enemy.name);\n      }\n    }\n    \n    this.checkBattleEnd();\n    if (!this.battleEnded) {\n      this.switchTurn();\n    }\n  }\n\n  calculateDamage(attacker: BattleCharacter, defender: BattleCharacter, type: 'normal' | 'skill', skill?: BattleSkill): number {\n    let baseDamage = attacker.attack;\n    \n    if (type === 'skill' && skill) {\n      // 스킬 데미지 대폭 강화 (2.5배)\n      baseDamage += skill.damage * 2.5;\n    } else {\n      // 일반 공격도 강화 (1.5배)\n      baseDamage *= 1.5;\n    }\n    \n    // 방어력 적용 (영향력 감소)\n    const defense = defender.defense;\n    let finalDamage = Math.max(1, baseDamage - (defense * 0.5)); // 방어력 영향 50%로 감소\n    \n    // 랜덤 요소 추가 (±25% → 더 높은 변동성)\n    const randomFactor = 0.85 + Math.random() * 0.5;\n    finalDamage = Math.floor(finalDamage * randomFactor);\n    \n    // 크리티컬 히트 (25% 확률로 2.5배) - 확률과 배율 대폭 증가!\n    if (Math.random() < 0.25) {\n      finalDamage = Math.floor(finalDamage * 2.5);\n      this.addBattleLog('💥 크리티컬 히트!', 'status');\n    }\n    \n    // 방어 성공 확률 감소 (너무 자주 방어하지 않도록)\n    const defenseChance = Math.min(0.15, defense / 150); // 30% → 15%로 감소\n    if (Math.random() < defenseChance) {\n      finalDamage = Math.floor(finalDamage * 0.7); // 0.5 → 0.7로 변경 (방어 성공해도 더 많은 데미지)\n      this.addBattleLog(`${defender.name}이(가) 방어에 성공했습니다! (방어력: ${defense})`, 'status');\n    }\n    \n    return Math.max(1, finalDamage);\n  }\n\n  applyDamage(target: BattleCharacter, damage: number): void {\n    target.currentHp = Math.max(0, target.currentHp - damage);\n  }\n\n  switchTurn(): void {\n    this.currentTurn = this.currentTurn === 'player' ? 'enemy' : 'player';\n    \n    // 수동 모드에서만 적 턴 자동 실행 (빠른 전환)\n    if (this.currentTurn === 'enemy' && !this.isAutoBattle) {\n      setTimeout(() => {\n        this.enemyTurn();\n      }, 100); // 300ms에서 100ms로 단축 - 3배 빠르게!\n    }\n  }\n\n  checkBattleEnd(): void {\n    const aliveEnemies = this.getAliveEnemies();\n    \n    if (this.playerCharacter.currentHp <= 0) {\n      this.battleEnded = true;\n      this.isAutoBattle = false;\n      this.winner = '적들';\n      this.addBattleLog(`적들이 승리했습니다!`, 'system');\n    } else if (aliveEnemies.length === 0) {\n      this.battleEnded = true;\n      this.isAutoBattle = false;\n      this.winner = this.playerCharacter.name;\n      this.addBattleLog(`${this.playerCharacter.name}이(가) 모든 적을 물리치고 승리했습니다!`, 'system');\n    }\n  }\n\n  addBattleLog(message: string, type: BattleLog['type'], character?: string): void {\n    const log: BattleLog = {\n      id: Date.now().toString(),\n      timestamp: new Date(),\n      message,\n      type,\n      character\n    };\n    \n    this.battleLogs.push(log);\n    \n    // 스크롤을 맨 아래로\n    setTimeout(() => {\n      const logContainer = document.querySelector('.battle-log-container');\n      if (logContainer) {\n        logContainer.scrollTop = logContainer.scrollHeight;\n      }\n    }, 100);\n  }\n\n  getHpPercentage(character: BattleCharacter): number {\n    return (character.currentHp / character.maxHp) * 100;\n  }\n\n  getMpPercentage(character: BattleCharacter): number {\n    return (character.currentMp / character.maxMp) * 100;\n  }\n\n  restartBattle(): void {\n    this.battleEnded = false;\n    this.winner = '';\n    this.currentTurn = 'player';\n    this.battleLogs = [];\n    this.isProcessing = false;\n    this.isAutoBattle = false;\n    this.initializeBattle();\n  }\n\n  startAutoBattle(): void {\n    if (this.battleEnded || this.isProcessing) return;\n    \n    this.isAutoBattle = true;\n    this.addBattleLog('자동 전투가 시작됩니다!', 'system');\n    \n    // 전투가 끝날 때까지 계속 진행\n    this.processBattleTurn();\n  }\n\n  processBattleTurn(): void {\n    if (this.battleEnded || !this.isAutoBattle) return;\n    \n    // 턴 시작 알림\n    const turnName = this.currentTurn === 'player' ? this.playerCharacter.name : '적들';\n    this.addBattleLog(`--- ${turnName}의 턴 ---`, 'system');\n    \n    setTimeout(() => {\n      if (this.currentTurn === 'player') {\n        this.autoPlayerAction();\n      } else {\n        this.enemyTurn();\n      }\n      \n      // 전투가 끝나지 않았다면 다음 턴 계속 (매우 빠른 전투)\n      if (!this.battleEnded && this.isAutoBattle) {\n        setTimeout(() => {\n          this.processBattleTurn();\n        }, 250); // 800ms에서 250ms로 단축 - 3배 이상 빠른 전투!\n      }\n    }, 60); // 200ms에서 60ms로 단축 - 3배 이상 빠른 전투!\n  }\n\n  autoPlayerAction(): void {\n    // AI로 플레이어 행동 결정\n    const hpPercent = (this.playerCharacter.currentHp / this.playerCharacter.maxHp) * 100;\n    const mpPercent = (this.playerCharacter.currentMp / this.playerCharacter.maxMp) * 100;\n    \n    this.addBattleLog(`${this.playerCharacter.name}이 전술을 고민하고 있습니다... (HP: ${Math.round(hpPercent)}%, MP: ${Math.round(mpPercent)}%)`, 'status');\n    \n    // HP가 30% 이하이고 회복 스킬이 있으면 회복 우선\n    if (hpPercent < 30) {\n      const healSkill = this.playerCharacter.skills.find(skill => skill.type === 'heal' && skill.mpCost <= this.playerCharacter.currentMp);\n      if (healSkill) {\n        this.addBattleLog(`${this.playerCharacter.name}이 위험을 느끼고 회복을 시도합니다!`, 'status');\n        this.playerUseSkill(healSkill);\n        return;\n      }\n    }\n    \n    // 스킬 사용 결정 (50% 확률)\n    if (Math.random() < 0.5 && this.playerCharacter.skills.length > 0) {\n      const availableSkills = this.playerCharacter.skills.filter(skill => skill.mpCost <= this.playerCharacter.currentMp && skill.type === 'attack');\n      if (availableSkills.length > 0) {\n        const skill = availableSkills[Math.floor(Math.random() * availableSkills.length)];\n        this.addBattleLog(`${this.playerCharacter.name}이 다양한 기술 중 ${skill.name}을 선택합니다!`, 'status');\n        this.playerUseSkill(skill);\n        return;\n      }\n    }\n    \n    // 기본적으로 일반 공격\n    this.addBattleLog(`${this.playerCharacter.name}이 기본 공격으로 승부를 걸겠습니다!`, 'status');\n    this.playerAttack();\n  }\n\n  stopAutoBattle(): void {\n    this.isAutoBattle = false;\n    this.isProcessing = false;\n    this.addBattleLog('자동 전투가 중단되었습니다.', 'system');\n  }\n\n  closeBattle(): void {\n    // 전투 결과를 반환\n    if (this.battleEnded) {\n      this.dialogRef.close({\n        winner: this.winner,\n        logs: this.battleLogs,\n        playerCharacter: this.playerCharacter,\n        enemyCharacters: this.enemyCharacters\n      });\n    } else {\n      this.dialogRef.close();\n    }\n  }\n}", "<div class=\"battle-modal\">\n  <div class=\"battle-header\">\n    <h2>전투 시뮬레이션</h2>\n    <button mat-icon-button (click)=\"closeBattle()\" class=\"close-btn\">\n      <mat-icon>close</mat-icon>\n    </button>\n  </div>\n\n  <div class=\"battle-content\">\n    <!-- 캐릭터 상태 표시 -->\n    <div class=\"characters-status\">\n      <!-- 플레이어 캐릭터 -->\n      <div class=\"character-panel player\" [class.active]=\"currentTurn === 'player'\">\n        <div class=\"character-info\">\n          <h3>{{ playerCharacter.name }}</h3>\n          <div class=\"character-avatar player-avatar\">👤</div>\n        </div>\n        <div class=\"status-bars\">\n          <div class=\"status-bar hp\">\n            <label>HP</label>\n            <div class=\"bar-container\">\n              <div class=\"bar-fill hp-bar\" [style.width.%]=\"getHpPercentage(playerCharacter)\"></div>\n              <span class=\"bar-text\">{{ playerCharacter.currentHp }}/{{ playerCharacter.maxHp }}</span>\n            </div>\n          </div>\n          <div class=\"status-bar mp\">\n            <label>MP</label>\n            <div class=\"bar-container\">\n              <div class=\"bar-fill mp-bar\" [style.width.%]=\"getMpPercentage(playerCharacter)\"></div>\n              <span class=\"bar-text\">{{ playerCharacter.currentMp }}/{{ playerCharacter.maxMp }}</span>\n            </div>\n          </div>\n        </div>\n        <div class=\"character-stats\">\n          <span>공격력: {{ playerCharacter.attack }}</span>\n          <span>방어력: {{ playerCharacter.defense }}</span>\n          <span>민첩성: {{ playerCharacter.agility }}</span>\n        </div>\n      </div>\n\n      <!-- VS 표시 -->\n      <div class=\"vs-indicator\">\n        <span>VS</span>\n        <div class=\"turn-indicator\" *ngIf=\"!battleEnded\">\n          <span *ngIf=\"currentTurn === 'player'\">플레이어 턴</span>\n          <span *ngIf=\"currentTurn === 'enemy'\">적 턴</span>\n        </div>\n        <div class=\"battle-result\" *ngIf=\"battleEnded\">\n          <span class=\"winner\">{{ winner }} 승리!</span>\n        </div>\n      </div>\n\n      <!-- 적 캐릭터들 -->\n      <div class=\"enemies-container\">\n        <div class=\"character-panel enemy\" \n             *ngFor=\"let enemy of enemyCharacters; let i = index\"\n             [class.active]=\"currentTurn === 'enemy'\"\n             [class.selected]=\"i === selectedEnemyIndex && currentTurn === 'player'\"\n             [class.defeated]=\"enemy.currentHp <= 0\"\n             (click)=\"selectEnemy(i)\">\n          <div class=\"character-info\">\n            <h3>{{ enemy.name }}</h3>\n            <div class=\"character-avatar enemy-avatar\">👹</div>\n          </div>\n          <div class=\"status-bars\">\n            <div class=\"status-bar hp\">\n              <label>HP</label>\n              <div class=\"bar-container\">\n                <div class=\"bar-fill hp-bar\" [style.width.%]=\"getHpPercentage(enemy)\"></div>\n                <span class=\"bar-text\">{{ enemy.currentHp }}/{{ enemy.maxHp }}</span>\n              </div>\n            </div>\n            <div class=\"status-bar mp\">\n              <label>MP</label>\n              <div class=\"bar-container\">\n                <div class=\"bar-fill mp-bar\" [style.width.%]=\"getMpPercentage(enemy)\"></div>\n                <span class=\"bar-text\">{{ enemy.currentMp }}/{{ enemy.maxMp }}</span>\n              </div>\n            </div>\n          </div>\n          <div class=\"character-stats\">\n            <span>공격: {{ enemy.attack }}</span>\n            <span>방어: {{ enemy.defense }}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 전투 로그 -->\n    <div class=\"battle-log-section\">\n      <h4>전투 로그</h4>\n      <div class=\"battle-log-container\">\n        <div \n          *ngFor=\"let log of battleLogs\" \n          class=\"log-entry\"\n          [ngClass]=\"'log-' + log.type\">\n          <span class=\"log-time\">{{ log.timestamp | date:'HH:mm:ss' }}</span>\n          <span class=\"log-message\">{{ log.message }}</span>\n        </div>\n      </div>\n    </div>\n\n    <!-- 플레이어 액션 버튼 -->\n    <div class=\"action-buttons\" *ngIf=\"!battleEnded && !isAutoBattle\">\n      <div class=\"action-section\">\n        <h4>행동 선택</h4>\n        \n        <!-- 자동 전투 시작 버튼 -->\n        <div class=\"auto-battle-section\">\n          <button \n            mat-raised-button \n            color=\"primary\"\n            (click)=\"startAutoBattle()\">\n            🤖 자동 전투 시작\n          </button>\n        </div>\n        \n        <!-- 수동 액션 버튼들 (플레이어 턴일 때만) -->\n        <div class=\"manual-actions\" *ngIf=\"currentTurn === 'player'\">\n          <div class=\"button-row\">\n            <button \n              mat-raised-button \n              color=\"warn\"\n              (click)=\"playerAttack()\">\n              ⚔️ 일반 공격\n            </button>\n          </div>\n          \n          <div class=\"skills-section\" *ngIf=\"playerCharacter.skills.length > 0\">\n            <h5>기술</h5>\n            <div class=\"skills-grid\">\n              <button \n                *ngFor=\"let skill of playerCharacter.skills\"\n                mat-stroked-button\n                [color]=\"skill.type === 'attack' ? 'warn' : skill.type === 'heal' ? 'primary' : 'accent'\"\n                (click)=\"playerUseSkill(skill)\"\n                [disabled]=\"playerCharacter.currentMp < skill.mpCost\"\n                class=\"skill-button\"\n                [title]=\"skill.description + ' (MP: ' + skill.mpCost + ')'\">\n                <div class=\"skill-info\">\n                  <span class=\"skill-name\">{{ skill.name }}</span>\n                  <span class=\"skill-cost\">MP: {{ skill.mpCost }}</span>\n                </div>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 자동 전투 진행 중 표시 -->\n    <div class=\"auto-battle-status\" *ngIf=\"isAutoBattle && !battleEnded\">\n      <div class=\"auto-battle-info\">\n        <mat-spinner diameter=\"30\"></mat-spinner>\n        <span>🤖 자동 전투 진행 중... ({{ currentTurn === 'player' ? '플레이어' : '적' }} 턴)</span>\n        <button mat-button color=\"warn\" (click)=\"stopAutoBattle()\">중단</button>\n      </div>\n    </div>\n\n    <!-- 전투 종료 버튼 -->\n    <div class=\"battle-end-actions\" *ngIf=\"battleEnded\">\n      <button mat-raised-button color=\"primary\" (click)=\"restartBattle()\">\n        다시 전투\n      </button>\n      <button mat-raised-button (click)=\"closeBattle()\">\n        전투 종료\n      </button>\n    </div>\n  </div>\n</div>", "import { Component, Input, Output, EventEmitter, OnInit, OnChanges, SimpleChanges } from '@angular/core';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport { MatDialog } from '@angular/material/dialog';\nimport { BattleModalComponent } from '../battle-modal/battle-modal.component';\n\nexport interface NovelRightSidebarAction {\n  type: 'generate-full' | 'generate-chapter' | 'edit-novel' | 'save-novel' | 'export-novel' |\n        'novel-settings' | 'manage-characters' | 'manage-scenarios' | 'manage-items' | 'writing-tools' |\n        'battle-simulation' | 'character-battle';\n  data?: any;\n}\n\nexport interface MenuItem {\n  id: string;\n  label: string;\n  icon?: string;\n  description?: string;\n}\n\nexport interface MenuGroup {\n  id: string;\n  title: string;\n  icon: string;\n  items: MenuItem[];\n}\n\n@Component({\n  selector: 'app-novel-right-sidebar',\n  templateUrl: './novel-right-sidebar.component.html',\n  styleUrls: ['./novel-right-sidebar.component.scss'],\n  standalone: false,\n  animations: [\n    trigger('slideAnimation', [\n      state('expanded', style({\n        height: '*',\n        opacity: 1,\n        overflow: 'visible'\n      })),\n      state('collapsed', style({\n        height: '0px',\n        opacity: 0,\n        overflow: 'hidden'\n      })),\n      transition('expanded <=> collapsed', [\n        animate('300ms ease-in-out')\n      ])\n    ])\n  ]\n})\nexport class NovelRightSidebarComponent implements OnInit {\n  @Input() isVisible = true;\n  @Input() isCollapsed = true; // 기본값을 true로 변경하여 닫힌 상태로 시작\n  @Input() novelLength = 0;\n  @Input() wordCount = 0;\n  @Input() chapterCount = 1;\n  @Input() characterCount = 0;\n  @Input() isGenerating = false;\n  @Input() currentStep = '';\n  @Input() generatedContent = '';\n  \n  @Output() action = new EventEmitter<NovelRightSidebarAction>();\n  @Output() close = new EventEmitter<void>();\n  @Output() expand = new EventEmitter<void>();\n\n  // 확장된 메뉴 ID (드릴다운 네비게이션용)\n  expandedMenuId: string | null = null;\n\n  menuGroups: MenuGroup[] = [\n    {\n      id: 'generation',\n      title: 'AI 생성',\n      icon: '🤖',\n      items: [\n        { id: 'generate-full', label: '전체 소설 생성', icon: '🤖', description: 'AI로 완전한 소설 생성' },\n        { id: 'generate-chapter', label: '챕터 생성', icon: '📖', description: '현재 챕터 자동 생성' }\n      ]\n    },\n    {\n      id: 'editing',\n      title: '편집 도구',\n      icon: '✏️',\n      items: [\n        { id: 'edit-novel', label: '소설 편집', icon: '✏️', description: '소설 내용 수정' },\n        { id: 'save-novel', label: '소설 저장', icon: '💾', description: '현재 작업 저장' },\n        { id: 'writing-tools', label: '작성 도구', icon: '🛠️', description: '작성 보조 도구' }\n      ]\n    },\n    {\n      id: 'management',\n      title: '데이터 관리',\n      icon: '📊',\n      items: [\n        { id: 'manage-characters', label: '인물 관리', icon: '👥', description: '캐릭터 생성 및 관리' },\n        { id: 'manage-scenarios', label: '시나리오 관리', icon: '📋', description: '스토리 시나리오 관리' },\n        { id: 'manage-items', label: '소품 관리', icon: '⚔️', description: '아이템 및 소품 관리' }\n      ]\n    },\n    {\n      id: 'settings',\n      title: '설정',\n      icon: '⚙️',\n      items: [\n        { id: 'novel-settings', label: '소설 설정', icon: '⚙️', description: '장르, 스타일 등 설정' },\n        { id: 'export-novel', label: '소설 내보내기', icon: '📤', description: 'PDF, TXT 등으로 내보내기' }\n      ]\n    },\n    {\n      id: 'simulation',\n      title: '시뮬레이션',\n      icon: '⚔️',\n      items: [\n        { id: 'battle-simulation', label: '전투 시뮬레이션', icon: '⚔️', description: '전투 장면 시뮬레이션' },\n        { id: 'character-battle', label: '캐릭터 전투', icon: '🥊', description: '캐릭터 간 대결' }\n      ]\n    }\n  ];\n\n  constructor(private dialog: MatDialog) { }\n\n  ngOnInit(): void {\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    // Handle input changes if needed\n  }\n\n  onClose(): void {\n    this.close.emit();\n  }\n\n  onExpand(): void {\n    this.expand.emit();\n  }\n\n  // 드릴다운 네비게이션 메서드\n  onMenuClick(menuId: string): void {\n    this.expandedMenuId = this.expandedMenuId === menuId ? null : menuId;\n  }\n\n  onSubItemClick(itemId: string): void {\n    // 하위 항목 클릭 시 액션 발생\n    this.onActionClick(itemId as NovelRightSidebarAction['type']);\n  }\n\n  onBack(): void {\n    this.expandedMenuId = null;\n  }\n\n  getMenuTitle(): string {\n    const menu = this.menuGroups.find(m => m.id === this.expandedMenuId);\n    return menu ? menu.title : '';\n  }\n\n  getMenuItems(): MenuItem[] {\n    const menu = this.menuGroups.find(m => m.id === this.expandedMenuId);\n    return menu ? menu.items : [];\n  }\n\n  onActionClick(type: NovelRightSidebarAction['type'], data?: any): void {\n    \n    // 전투 관련 액션 처리\n    if (type === 'battle-simulation' || type === 'character-battle') {\n      this.openBattleModal();\n      return;\n    }\n    \n    this.action.emit({ type, data });\n  }\n\n  openBattleModal(): void {\n    const dialogRef = this.dialog.open(BattleModalComponent, {\n      width: '900px',\n      height: '700px',\n      maxWidth: '95vw',\n      maxHeight: '90vh',\n      disableClose: false,\n      panelClass: 'battle-modal-panel'\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n    });\n  }\n\n  // Specific action handlers\n  onGenerateFull(): void {\n    this.onActionClick('generate-full');\n  }\n\n  onGenerateChapter(): void {\n    this.onActionClick('generate-chapter');\n  }\n\n  onEditNovel(): void {\n    this.onActionClick('edit-novel');\n  }\n\n  onSaveNovel(): void {\n    this.onActionClick('save-novel');\n  }\n\n  onExportNovel(): void {\n    this.onActionClick('export-novel');\n  }\n\n  onNovelSettings(): void {\n    this.onActionClick('novel-settings');\n  }\n\n  // Data management handlers\n  onManageCharacters(): void {\n    this.onActionClick('manage-characters');\n  }\n\n  onManageScenarios(): void {\n    this.onActionClick('manage-scenarios');\n  }\n\n  onManageItems(): void {\n    this.onActionClick('manage-items');\n  }\n\n  // Writing tools handler\n  onWritingTools(): void {\n    this.onActionClick('writing-tools');\n  }\n\n  // Computed properties\n  get generationStatusText(): string {\n    switch (this.currentStep) {\n      case 'analyzing':\n        return '분석 중...';\n      case 'generating':\n        return '생성 중...';\n      case 'complete':\n        return '완료';\n      default:\n        return '대기 중';\n    }\n  }\n\n  get estimatedReadTime(): number {\n    // Assuming average reading speed of 200 words per minute\n    return Math.ceil(this.novelLength / 200);\n  }\n\n  getIconText(iconName: string): string {\n    const iconMap: { [key: string]: string } = {\n      'ico-ai': '🤖',\n      'ico-edit': '✏️',\n      'ico-save': '💾',\n      'ico-tools': '🛠️',\n      'ico-character': '👥',\n      'ico-scenario': '🎬',\n      'ico-item': '🏺',\n      'ico-setting': '⚙️',\n      'ico-export': '📤'\n    };\n    return iconMap[iconName] || '📄';\n  }\n\n  getGroupIcon(groupTitle: string): string {\n    const groupIconMap: { [key: string]: string } = {\n      'AI 생성': '🤖',\n      '작성 도구': '✏️',\n      '스토리 관리': '📚',\n      '서식': '⚙️',\n      '액션관리': '⚔️',\n      '내보내기': '📤'\n    };\n    return groupIconMap[groupTitle] || '📄';\n  }\n}\n", "<div class=\"novel-right-sidebar\" [class.collapsed]=\"isCollapsed\">\n  <!-- 축소된 상태 -->\n  <div class=\"collapsed-view\" *ngIf=\"isCollapsed\" (click)=\"onExpand()\">\n    <div class=\"icon-list\">\n      <div class=\"menu-icon\" *ngFor=\"let menu of menuGroups\" [title]=\"menu.title + ' - 클릭하여 열기'\">\n        {{ getGroupIcon(menu.title) }}\n      </div>\n    </div>\n  </div>\n\n  <!-- 확장된 상태 (메인 카테고리 메뉴) -->\n  <div class=\"main-menu\" *ngIf=\"!expandedMenuId && !isCollapsed\">\n    <div class=\"sidebar-header\">\n      <h3>소설 도구</h3>\n      <button class=\"close-panel-btn\" \n              title=\"닫기\"\n              (click)=\"onClose()\">\n        ×\n      </button>\n    </div>\n\n    <!-- AI 생성 상태 표시 -->\n    <div class=\"generation-status\" *ngIf=\"isGenerating\" [class.generating]=\"isGenerating\">\n      <span class=\"status-text\">{{ generationStatusText }}</span>\n    </div>\n    \n    <div class=\"category-list\">\n      <div class=\"category-item\" \n           *ngFor=\"let menu of menuGroups\" \n           (click)=\"onMenuClick(menu.id)\">\n        <div class=\"category-icon\">{{ menu.icon }}</div>\n        <div class=\"category-content\">\n          <div class=\"category-title\">{{ menu.title }}</div>\n          <div class=\"category-count\">{{ menu.items.length }}개 항목</div>\n        </div>\n        <div class=\"category-arrow\">›</div>\n      </div>\n    </div>\n    \n    <!-- 소설 정보 섹션 -->\n    <div class=\"novel-info-section\" *ngIf=\"novelLength > 0\">\n      <div class=\"info-title\">소설 정보</div>\n      <div class=\"info-items\">\n        <div class=\"info-item\">\n          <span class=\"info-label\">분량</span>\n          <span class=\"info-value\">{{ novelLength.toLocaleString() }}자</span>\n        </div>\n        <div class=\"info-item\">\n          <span class=\"info-label\">예상 독서시간</span>\n          <span class=\"info-value\">{{ estimatedReadTime }}분</span>\n        </div>\n        <div class=\"info-item\" *ngIf=\"chapterCount > 1\">\n          <span class=\"info-label\">챕터</span>\n          <span class=\"info-value\">{{ chapterCount }}개</span>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- 서브 메뉴 패널 (expandedMenuId가 있을 때) -->\n  <div class=\"expanded-panel\" *ngIf=\"expandedMenuId && !isCollapsed\">\n    <div class=\"panel-content\">\n      <div class=\"panel-header\">\n        <button class=\"back-btn\" (click)=\"onBack()\">‹</button>\n        <h3>{{ getMenuTitle() }}</h3>\n        <button class=\"close-panel-btn\" (click)=\"onClose()\" title=\"닫기\">×</button>\n      </div>\n      \n      <!-- AI 생성 상태 표시 (서브 메뉴에서도) -->\n      <div class=\"generation-status\" *ngIf=\"isGenerating\" [class.generating]=\"isGenerating\">\n        <span class=\"status-text\">{{ generationStatusText }}</span>\n      </div>\n      \n      <div class=\"panel-items\">\n        <div class=\"menu-item\" \n             *ngFor=\"let item of getMenuItems()\" \n             (click)=\"onSubItemClick(item.id)\">\n          <div class=\"item-content\">\n            <div class=\"item-icon\" *ngIf=\"item.icon\">{{ item.icon }}</div>\n            <div class=\"item-text\">\n              <div class=\"item-label\">{{ item.label }}</div>\n              <div class=\"item-description\" *ngIf=\"item.description\">{{ item.description }}</div>\n            </div>\n          </div>\n          <div class=\"item-arrow\">›</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n", "import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\n\nexport interface NovelSidebarItem {\n  id: string;\n  title: string;\n  description: string;\n  icon: string;\n  category: 'recent' | 'template' | 'inspiration';\n  createdDate?: string;\n  wordCount?: number;\n}\n\n@Component({\n  selector: 'app-novel-sidebar',\n  templateUrl: './novel-sidebar.component.html',\n  styleUrls: ['./novel-sidebar.component.scss'],\n  standalone: false,\n  animations: [\n    trigger('slideAnimation', [\n      state('expanded', style({\n        height: '*',\n        opacity: 1,\n        overflow: 'visible'\n      })),\n      state('collapsed', style({\n        height: '0px',\n        opacity: 0,\n        overflow: 'hidden'\n      })),\n      transition('expanded <=> collapsed', [\n        animate('300ms ease-in-out')\n      ])\n    ])\n  ]\n})\nexport class NovelSidebarComponent {\n  @Input() isVisible = true;\n  @Output() close = new EventEmitter<void>();\n  @Output() itemClick = new EventEmitter<NovelSidebarItem>();\n\n  // 섹션 펼침/접힘 상태\n  sectionsExpanded = {\n    recent: true,\n    template: true,\n    inspiration: true\n  };\n\n  // 샘플 데이터\n  sidebarItems: NovelSidebarItem[] = [\n    // 최근 작품\n    {\n      id: 'recent-1',\n      title: '검황의 귀환',\n      description: '십년간 실종되었던 검황이 돌아오다',\n      icon: '⚔️',\n      category: 'recent',\n      createdDate: '2024-01-15',\n      wordCount: 25000\n    },\n    {\n      id: 'recent-2',\n      title: '화산신검',\n      description: '화산파의 신비한 검술',\n      icon: '🔥',\n      category: 'recent',\n      createdDate: '2024-01-10',\n      wordCount: 18500\n    },\n    {\n      id: 'recent-3',\n      title: '무림맹주',\n      description: '무림의 새로운 맹주 탄생기',\n      icon: '👑',\n      category: 'recent',\n      createdDate: '2024-01-05',\n      wordCount: 32100\n    },\n\n    // 템플릿\n    {\n      id: 'template-1',\n      title: '복수 스토리',\n      description: '가족의 원수를 갚는 주인공',\n      icon: '⚡',\n      category: 'template'\n    },\n    {\n      id: 'template-2',\n      title: '사랑과 무공',\n      description: '사랑을 위해 강해지는 이야기',\n      icon: '💖',\n      category: 'template'\n    },\n    {\n      id: 'template-3',\n      title: '정의의 구현',\n      description: '올바른 무림을 만들어가는 여정',\n      icon: '⚖️',\n      category: 'template'\n    },\n\n    // 영감\n    {\n      id: 'inspiration-1',\n      title: '전설의 무기',\n      description: '고대부터 내려온 신비로운 무기들',\n      icon: '🗡️',\n      category: 'inspiration'\n    },\n    {\n      id: 'inspiration-2',\n      title: '무림 문파',\n      description: '다양한 무림 문파와 그들의 특징',\n      icon: '🏯',\n      category: 'inspiration'\n    },\n    {\n      id: 'inspiration-3',\n      title: '내공 수련법',\n      description: '강력한 내공을 기르는 방법들',\n      icon: '🧘',\n      category: 'inspiration'\n    }\n  ];\n\n  get recentItems(): NovelSidebarItem[] {\n    return this.sidebarItems.filter(item => item.category === 'recent');\n  }\n\n  get templateItems(): NovelSidebarItem[] {\n    return this.sidebarItems.filter(item => item.category === 'template');\n  }\n\n  get inspirationItems(): NovelSidebarItem[] {\n    return this.sidebarItems.filter(item => item.category === 'inspiration');\n  }\n\n  onItemClick(item: NovelSidebarItem) {\n    this.itemClick.emit(item);\n  }\n\n  onClose() {\n    this.close.emit();\n  }\n\n  // 섹션 토글\n  toggleSection(section: 'recent' | 'template' | 'inspiration') {\n    this.sectionsExpanded[section] = !this.sectionsExpanded[section];\n  }\n\n  // 섹션이 펼쳐져 있는지 확인\n  isSectionExpanded(section: 'recent' | 'template' | 'inspiration'): boolean {\n    return this.sectionsExpanded[section];\n  }\n\n  formatWordCount(count: number): string {\n    if (count >= 10000) {\n      return `${Math.floor(count / 1000)}k자`;\n    }\n    return `${count.toLocaleString()}자`;\n  }\n\n  formatDate(dateString: string): string {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffTime = Math.abs(now.getTime() - date.getTime());\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    \n    if (diffDays === 1) return '오늘';\n    if (diffDays === 2) return '어제';\n    if (diffDays <= 7) return `${diffDays - 1}일 전`;\n    return date.toLocaleDateString('ko-KR');\n  }\n}", "<div class=\"novel-sidebar\" \n     [class.closed]=\"!isVisible\"\n     [style.display]=\"isVisible ? '' : 'none'\">\n  <div class=\"sidebar-header\">\n    <h3>작품 관리</h3>\n    <button class=\"close-panel-btn\" \n            title=\"닫기\"\n            (click)=\"onClose()\">\n      ×\n    </button>\n  </div>\n  \n  <div class=\"sidebar-content\">\n    <!-- 최근 작품 섹션 -->\n    <div class=\"section\">\n      <div class=\"section-title\" (click)=\"toggleSection('recent')\">\n        <span class=\"title-text\">\n          <span class=\"expand-arrow\" [class.expanded]=\"isSectionExpanded('recent')\">▶</span>\n          최근 작품\n        </span>\n        <span class=\"count\">({{recentItems.length}})</span>\n      </div>\n      <div class=\"items-container\" \n           [class.collapsed]=\"!isSectionExpanded('recent')\"\n           [@slideAnimation]=\"isSectionExpanded('recent') ? 'expanded' : 'collapsed'\">\n        <div class=\"sidebar-item\" \n             *ngFor=\"let item of recentItems\"\n             (click)=\"onItemClick(item)\">\n          <div class=\"item-content\">\n            <div class=\"item-title\">{{ item.title }}</div>\n            <div class=\"item-description\">{{ item.description }}</div>\n            <div class=\"item-meta\">\n              <span class=\"date\">{{ formatDate(item.createdDate!) }}</span>\n              <span class=\"word-count\" *ngIf=\"item.wordCount\">{{ formatWordCount(item.wordCount) }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 템플릿 섹션 -->\n    <div class=\"section\">\n      <div class=\"section-title\" (click)=\"toggleSection('template')\">\n        <span class=\"title-text\">\n          <span class=\"expand-arrow\" [class.expanded]=\"isSectionExpanded('template')\">▶</span>\n          스토리 템플릿\n        </span>\n        <span class=\"count\">({{templateItems.length}})</span>\n      </div>\n      <div class=\"items-container\"\n           [class.collapsed]=\"!isSectionExpanded('template')\"\n           [@slideAnimation]=\"isSectionExpanded('template') ? 'expanded' : 'collapsed'\">\n        <div class=\"sidebar-item\" \n             *ngFor=\"let item of templateItems\"\n             (click)=\"onItemClick(item)\">\n          <div class=\"item-content\">\n            <div class=\"item-title\">{{ item.title }}</div>\n            <div class=\"item-description\">{{ item.description }}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 영감 섹션 -->\n    <div class=\"section\">\n      <div class=\"section-title\" (click)=\"toggleSection('inspiration')\">\n        <span class=\"title-text\">\n          <span class=\"expand-arrow\" [class.expanded]=\"isSectionExpanded('inspiration')\">▶</span>\n          창작 영감\n        </span>\n        <span class=\"count\">({{inspirationItems.length}})</span>\n      </div>\n      <div class=\"items-container\"\n           [class.collapsed]=\"!isSectionExpanded('inspiration')\"\n           [@slideAnimation]=\"isSectionExpanded('inspiration') ? 'expanded' : 'collapsed'\">\n        <div class=\"sidebar-item\" \n             *ngFor=\"let item of inspirationItems\"\n             (click)=\"onItemClick(item)\">\n          <div class=\"item-content\">\n            <div class=\"item-title\">{{ item.title }}</div>\n            <div class=\"item-description\">{{ item.description }}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \n  <!-- 빈 상태 메시지 -->\n  <div class=\"empty-state\" *ngIf=\"sidebarItems.length === 0\">\n    <div class=\"empty-icon\">📝</div>\n    <p>아직 작성된 무협지가 없습니다.<br>새로운 작품을 시작해보세요!</p>\n  </div>\n</div>", "import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\n\nexport interface NovelMenuAction {\n  type: 'generate' | 'manage' | 'data' | 'tools' | 'settings' | 'export';\n  subAction?: string;\n  data?: any;\n}\n\nexport interface NovelMenuItem {\n  id: string;\n  icon: string;\n  title: string;\n  description: string;\n  actions: {\n    id: string;\n    label: string;\n    description: string;\n    disabled?: boolean;\n  }[];\n}\n\n@Component({\n  selector: 'app-novel-vertical-menu',\n  templateUrl: './novel-vertical-menu.component.html',\n  styleUrls: ['./novel-vertical-menu.component.scss'],\n  standalone: false,\n  animations: [\n    trigger('slideIn', [\n      state('collapsed', style({\n        width: '0px',\n        opacity: 0,\n        transform: 'translateX(100%)' // 우측에서 나타나도록\n      })),\n      state('expanded', style({\n        width: '190px', // 패널 너비\n        opacity: 1,\n        transform: 'translateX(0)'\n      })),\n      transition('collapsed <=> expanded', [\n        animate('250ms cubic-bezier(0.4, 0.0, 0.2, 1)')\n      ])\n    ]),\n    trigger('fadeIn', [\n      state('hidden', style({\n        opacity: 0,\n        transform: 'translateX(20px)'\n      })),\n      state('visible', style({\n        opacity: 1,\n        transform: 'translateX(0)'\n      })),\n      transition('hidden => visible', [\n        animate('300ms 100ms ease-out')\n      ]),\n      transition('visible => hidden', [\n        animate('200ms ease-in')\n      ])\n    ])\n  ]\n})\nexport class NovelVerticalMenuComponent {\n  @Input() isGenerating = false;\n  @Input() generatedNovel = '';\n  @Input() currentStep = 'setup';\n  @Output() menuAction = new EventEmitter<NovelMenuAction>();\n\n  expandedMenuId: string | null = null;\n  hoveredMenuId: string | null = null;\n\n  menuItems: NovelMenuItem[] = [\n    {\n      id: 'generate',\n      icon: '✨',\n      title: '소설 생성',\n      description: 'AI로 무협지 생성',\n      actions: [\n        { id: 'full', label: '전체 생성', description: '완전한 소설을 한번에 생성' },\n        { id: 'chapter', label: '장별 생성', description: '한 장씩 순차적으로 생성' },\n        { id: 'continue', label: '이어쓰기', description: '기존 소설에 이어서 작성' }\n      ]\n    },\n    {\n      id: 'manage',\n      icon: '💾',\n      title: '작품 관리',\n      description: '저장 및 편집',\n      actions: [\n        { id: 'save', label: '작품 저장', description: '내 작품목록에 저장' },\n        { id: 'edit', label: '소설 편집', description: '생성된 소설 수정' },\n        { id: 'delete', label: '작품 삭제', description: '선택한 작품 삭제' }\n      ]\n    },\n    {\n      id: 'data',\n      icon: '🗂️',\n      title: '데이터 관리',\n      description: '리소스 관리',\n      actions: [\n        { id: 'manage-characters', label: '👥 캐릭터 관리', description: '등장인물을 생성하고 관리합니다' },\n        { id: 'manage-scenarios', label: '📖 상황 관리', description: '시나리오와 상황을 생성합니다' },\n        { id: 'manage-items', label: '⚔️ 아이템 관리', description: '무기, 물품 등을 관리합니다' }\n      ]\n    },\n    {\n      id: 'tools',\n      icon: '🔧',\n      title: '작성 도구',\n      description: '분석 및 도구',\n      actions: [\n        { id: 'analyze', label: '문체 분석', description: '소설의 문체와 특징 분석' },\n        { id: 'plot', label: '플롯 구조', description: '스토리 구조 시각화' },\n        { id: 'grammar', label: '맞춤법 검사', description: '오탈자 및 문법 검사' }\n      ]\n    },\n    {\n      id: 'export',\n      icon: '📤',\n      title: '내보내기',\n      description: '파일 저장',\n      actions: [\n        { id: 'txt', label: 'TXT 파일', description: '텍스트 파일로 저장' },\n        { id: 'pdf', label: 'PDF 파일', description: 'PDF 문서로 저장' },\n        { id: 'epub', label: 'EPUB 파일', description: '전자책 형식으로 저장' },\n        { id: 'docx', label: 'Word 파일', description: 'Word 문서로 저장' }\n      ]\n    },\n    {\n      id: 'settings',\n      icon: '⚙️',\n      title: '설정',\n      description: '환경 설정',\n      actions: [\n        { id: 'novel-settings', label: '작품 설정', description: '제목, 장르, 태그 설정' },\n        { id: 'ai-settings', label: 'AI 설정', description: 'AI 생성 옵션 조정' },\n        { id: 'ui-settings', label: 'UI 설정', description: '인터페이스 개인화' }\n      ]\n    }\n  ];\n\n  onIconClick(menuId: string) {\n    // 아이콘 클릭 시 첫 번째 액션을 실행\n    const menuItem = this.getMenuItemById(menuId);\n    if (menuItem && menuItem.actions.length > 0) {\n      const firstAction = menuItem.actions[0];\n      if (!this.isActionDisabled(menuId, firstAction.id)) {\n        this.onActionClick(menuId, firstAction.id);\n      }\n    }\n  }\n\n  onMenuHover(menuId: string) {\n    this.hoveredMenuId = menuId;\n    this.expandedMenuId = menuId;\n  }\n\n  onMenuLeave() {\n    this.hoveredMenuId = null;\n    // 약간의 지연 후 메뉴 닫기 (빠른 이동 허용)\n    setTimeout(() => {\n      if (!this.hoveredMenuId) {\n        this.expandedMenuId = null;\n      }\n    }, 200);\n  }\n\n  onPanelHover() {\n    // 패널에 마우스가 있을 때는 닫지 않음\n    this.hoveredMenuId = 'panel';\n  }\n\n  onPanelLeave() {\n    this.hoveredMenuId = null;\n    setTimeout(() => {\n      if (!this.hoveredMenuId) {\n        this.expandedMenuId = null;\n      }\n    }, 200);\n  }\n\n  onActionClick(menuType: string, actionId: string) {\n    const action: NovelMenuAction = {\n      type: menuType as any,\n      subAction: actionId\n    };\n    \n    this.menuAction.emit(action);\n    this.expandedMenuId = null;\n    this.hoveredMenuId = null;\n  }\n\n  isActionDisabled(menuId: string, actionId: string): boolean {\n    // 소설이 없을 때 비활성화할 액션들\n    const requiresNovel = ['edit', 'save', 'analyze', 'txt', 'pdf', 'epub', 'docx'];\n    \n    if (requiresNovel.includes(actionId) && !this.generatedNovel) {\n      return true;\n    }\n\n    // 생성 중일 때 비활성화할 액션들\n    if (this.isGenerating && ['full', 'chapter', 'continue'].includes(actionId)) {\n      return true;\n    }\n\n    return false;\n  }\n\n  getMenuItemById(id: string): NovelMenuItem | undefined {\n    return this.menuItems.find(item => item.id === id);\n  }\n}", "<div class=\"novel-vertical-menu\">\n  <!-- 확장 패널 (좌측에 배치) -->\n  <div \n    class=\"expanded-panel\"\n    *ngIf=\"expandedMenuId\"\n    [@slideIn]=\"expandedMenuId ? 'expanded' : 'collapsed'\"\n    (mouseenter)=\"onPanelHover()\"\n    (mouseleave)=\"onPanelLeave()\"\n  >\n    <div class=\"panel-content\" [@fadeIn]=\"expandedMenuId ? 'visible' : 'hidden'\">\n      <ng-container *ngIf=\"getMenuItemById(expandedMenuId) as menuItem\">\n        <!-- 패널 헤더 -->\n        <div class=\"panel-header\">\n          <div class=\"panel-title\">\n            <span class=\"panel-icon\">{{ menuItem.icon }}</span>\n            <h3>{{ menuItem.title }}</h3>\n          </div>\n          <p class=\"panel-description\">{{ menuItem.description }}</p>\n        </div>\n\n        <!-- 액션 목록 -->\n        <div class=\"panel-actions\">\n          <div \n            *ngFor=\"let action of menuItem.actions\"\n            class=\"action-item\"\n            [class.disabled]=\"isActionDisabled(menuItem.id, action.id)\"\n            (click)=\"!isActionDisabled(menuItem.id, action.id) && onActionClick(menuItem.id, action.id)\"\n          >\n            <div class=\"action-content\">\n              <div class=\"action-label\">{{ action.label }}</div>\n              <div class=\"action-description\">{{ action.description }}</div>\n            </div>\n            <div class=\"action-arrow\" *ngIf=\"!isActionDisabled(menuItem.id, action.id)\">\n              <span>←</span>\n            </div>\n          </div>\n        </div>\n\n        <!-- 소설 생성 메뉴 특별 처리 -->\n        <div *ngIf=\"menuItem.id === 'generate'\" class=\"generation-status\">\n          <div *ngIf=\"isGenerating\" class=\"status-item generating\">\n            <span class=\"status-icon\">⏳</span>\n            <span class=\"status-text\">소설 생성 중...</span>\n          </div>\n          <div *ngIf=\"generatedNovel && !isGenerating\" class=\"status-item completed\">\n            <span class=\"status-icon\">✅</span>\n            <span class=\"status-text\">소설 생성 완료</span>\n          </div>\n          <div *ngIf=\"currentStep !== 'setup'\" class=\"current-step\">\n            <span class=\"step-label\">현재 단계:</span>\n            <span class=\"step-value\">{{ currentStep }}</span>\n          </div>\n        </div>\n\n        <!-- 내보내기 메뉴 특별 처리 -->\n        <div *ngIf=\"menuItem.id === 'export' && generatedNovel\" class=\"export-info\">\n          <div class=\"info-item\">\n            <span class=\"info-label\">생성된 소설:</span>\n            <span class=\"info-value\">{{ generatedNovel.length > 50 ? generatedNovel.substring(0, 50) + '...' : generatedNovel }}</span>\n          </div>\n        </div>\n      </ng-container>\n    </div>\n  </div>\n\n  <!-- 수직 아이콘 메뉴 (우측에 배치) -->\n  <div class=\"icon-menu\">\n    <div \n      *ngFor=\"let item of menuItems\"\n      class=\"menu-icon\"\n      [class.active]=\"expandedMenuId === item.id\"\n      (mouseenter)=\"onMenuHover(item.id)\"\n      (mouseleave)=\"onMenuLeave()\"\n      [title]=\"item.title\"\n    >\n      <span class=\"icon\">{{ item.icon }}</span>\n    </div>\n  </div>\n</div>", "import { Injectable } from '@angular/core';\nimport {\n  WuxiaScene, WuxiaChoice, ChoiceCondition, JudgmentCheck,\n  Consequence, WuxiaRPGCharacter, WuxiaGameState\n} from '../models/wuxia-rpg.model';\nimport { InventoryItem } from '../models/inventory.model';\n\n/**\n * 장면 진행 엔진\n * 동적 선택지, 조건 평가, 판정 시스템\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class WuxiaSceneService {\n  \n  // 장면 데이터베이스\n  private scenes = new Map<string, WuxiaScene>();\n  \n  // 현재 장면\n  private currentScene: WuxiaScene | null = null;\n  \n  constructor() {}\n  \n  /**\n   * 장면 등록\n   */\n  registerScene(scene: WuxiaScene): void {\n    this.scenes.set(scene.id, scene);\n  }\n  \n  /**\n   * 여러 장면 일괄 등록\n   */\n  registerScenes(scenes: WuxiaScene[]): void {\n    scenes.forEach(scene => this.registerScene(scene));\n  }\n  \n  /**\n   * 장면 로드\n   */\n  loadScene(sceneId: string): WuxiaScene | null {\n    const scene = this.scenes.get(sceneId);\n    if (scene) {\n      this.currentScene = scene;\n      return scene;\n    }\n    return null;\n  }\n  \n  /**\n   * 현재 장면의 선택지를 플레이어 상태에 맞게 평가\n   */\n  evaluateChoices(\n    scene: WuxiaScene,\n    player: WuxiaRPGCharacter\n  ): WuxiaChoice[] {\n    const evaluatedChoices: WuxiaChoice[] = [];\n    \n    for (const choice of scene.choices) {\n      const evaluatedChoice = { ...choice };\n      \n      // 조건이 있다면 평가\n      if (choice.conditions && choice.conditions.length > 0) {\n        const { isAvailable, reason } = this.checkConditions(choice.conditions, player);\n        evaluatedChoice.isDisabled = !isAvailable;\n        evaluatedChoice.disabledReason = reason;\n      } else {\n        evaluatedChoice.isDisabled = false;\n      }\n      \n      evaluatedChoices.push(evaluatedChoice);\n    }\n    \n    return evaluatedChoices;\n  }\n  \n  /**\n   * 조건 체크\n   */\n  private checkConditions(\n    conditions: ChoiceCondition[],\n    player: WuxiaRPGCharacter\n  ): { isAvailable: boolean; reason?: string } {\n    for (const condition of conditions) {\n      const result = this.evaluateCondition(condition, player);\n      if (!result.isAvailable) {\n        return result;\n      }\n    }\n    return { isAvailable: true };\n  }\n  \n  /**\n   * 개별 조건 평가\n   */\n  private evaluateCondition(\n    condition: ChoiceCondition,\n    player: WuxiaRPGCharacter\n  ): { isAvailable: boolean; reason?: string } {\n    switch (condition.type) {\n      case 'stat':\n        return this.checkStatCondition(condition, player);\n      \n      case 'item':\n        return this.checkItemCondition(condition, player);\n      \n      case 'flag':\n        return this.checkFlagCondition(condition, player);\n      \n      case 'injury':\n        return this.checkInjuryCondition(condition, player);\n      \n      case 'skill':\n        return this.checkSkillCondition(condition, player);\n      \n      case 'sect':\n        return this.checkSectCondition(condition, player);\n      \n      case 'personality':\n        return this.checkPersonalityCondition(condition, player);\n      \n      case 'tendency':\n        return this.checkTendencyCondition(condition, player);\n      \n      case 'relationship':\n        return this.checkRelationshipCondition(condition, player);\n      \n      default:\n        return { isAvailable: false, reason: '알 수 없는 조건 타입' };\n    }\n  }\n  \n  /**\n   * 스탯 조건 체크\n   */\n  private checkStatCondition(\n    condition: ChoiceCondition,\n    player: WuxiaRPGCharacter\n  ): { isAvailable: boolean; reason?: string } {\n    const statValue = (player.stats as any)[condition.param];\n    \n    if (statValue === undefined) {\n      return { isAvailable: false, reason: `스탯을 찾을 수 없음: ${condition.param}` };\n    }\n    \n    const result = this.compareValues(statValue, condition.operator, condition.value);\n    \n    if (!result) {\n      const displayText = condition.displayText || \n        `${condition.param} ${condition.operator} ${condition.value} 필요 (현재: ${statValue})`;\n      return { isAvailable: false, reason: displayText };\n    }\n    \n    return { isAvailable: true };\n  }\n  \n  /**\n   * 아이템 조건 체크\n   */\n  private checkItemCondition(\n    condition: ChoiceCondition,\n    player: WuxiaRPGCharacter\n  ): { isAvailable: boolean; reason?: string } {\n    const hasItem = player.inventory.some(item => item.id === condition.param);\n    \n    if (condition.operator === '==' && !hasItem) {\n      return { isAvailable: false, reason: `필요 아이템: ${condition.param}` };\n    }\n    \n    if (condition.operator === '!=' && hasItem) {\n      return { isAvailable: false, reason: `불가능 (아이템 소지 중: ${condition.param})` };\n    }\n    \n    return { isAvailable: true };\n  }\n  \n  /**\n   * 플래그 조건 체크\n   */\n  private checkFlagCondition(\n    condition: ChoiceCondition,\n    player: WuxiaRPGCharacter\n  ): { isAvailable: boolean; reason?: string } {\n    const hasFlag = player.flags.has(condition.param);\n    \n    if (condition.operator === '==' && !hasFlag) {\n      return { isAvailable: false, reason: condition.displayText || `필요 조건 미충족` };\n    }\n    \n    if (condition.operator === '!=' && hasFlag) {\n      return { isAvailable: false, reason: condition.displayText || `이미 완료됨` };\n    }\n    \n    return { isAvailable: true };\n  }\n  \n  /**\n   * 부상 조건 체크\n   */\n  private checkInjuryCondition(\n    condition: ChoiceCondition,\n    player: WuxiaRPGCharacter\n  ): { isAvailable: boolean; reason?: string } {\n    const hasInjury = player.injuries.some(injury => injury.type === condition.param);\n    \n    if (hasInjury) {\n      return { isAvailable: false, reason: `부상으로 인해 불가능: ${condition.param}` };\n    }\n    \n    return { isAvailable: true };\n  }\n  \n  /**\n   * 무공 조건 체크\n   */\n  private checkSkillCondition(\n    condition: ChoiceCondition,\n    player: WuxiaRPGCharacter\n  ): { isAvailable: boolean; reason?: string } {\n    const hasSkill = player.learnedSkills.includes(condition.param);\n    \n    if (!hasSkill) {\n      return { isAvailable: false, reason: `필요 무공: ${condition.param}` };\n    }\n    \n    return { isAvailable: true };\n  }\n  \n  /**\n   * 문파 조건 체크\n   */\n  private checkSectCondition(\n    condition: ChoiceCondition,\n    player: WuxiaRPGCharacter\n  ): { isAvailable: boolean; reason?: string } {\n    if (player.sect !== condition.value) {\n      return { isAvailable: false, reason: `${condition.value} 문파만 가능` };\n    }\n    \n    return { isAvailable: true };\n  }\n  \n  /**\n   * 성격 조건 체크\n   */\n  private checkPersonalityCondition(\n    condition: ChoiceCondition,\n    player: WuxiaRPGCharacter\n  ): { isAvailable: boolean; reason?: string } {\n    if (player.personality !== condition.value) {\n      return { isAvailable: false, reason: condition.displayText || `성격 조건 미충족` };\n    }\n    \n    return { isAvailable: true };\n  }\n  \n  /**\n   * 성향 조건 체크\n   */\n  private checkTendencyCondition(\n    condition: ChoiceCondition,\n    player: WuxiaRPGCharacter\n  ): { isAvailable: boolean; reason?: string } {\n    const result = this.compareValues(player.tendency.value, condition.operator, condition.value);\n    \n    if (!result) {\n      return { \n        isAvailable: false, \n        reason: `성향 조건 미충족 (현재: ${player.tendency.label})` \n      };\n    }\n    \n    return { isAvailable: true };\n  }\n  \n  /**\n   * 관계도 조건 체크\n   */\n  private checkRelationshipCondition(\n    condition: ChoiceCondition,\n    player: WuxiaRPGCharacter\n  ): { isAvailable: boolean; reason?: string } {\n    const relationship = player.relationships.get(condition.param) || 0;\n    const result = this.compareValues(relationship, condition.operator, condition.value);\n    \n    if (!result) {\n      return { \n        isAvailable: false, \n        reason: `관계도 부족 (${condition.param}: ${relationship})` \n      };\n    }\n    \n    return { isAvailable: true };\n  }\n  \n  /**\n   * 판정 실행\n   */\n  executeJudgment(\n    judgment: JudgmentCheck,\n    player: WuxiaRPGCharacter\n  ): {\n    success: boolean;\n    nextSceneId: string;\n    resultText: string;\n    isCritical: boolean;\n  } {\n    const playerStat = player.stats[judgment.stat];\n    const difficulty = judgment.difficulty;\n    const difference = playerStat - difficulty;\n    \n    // 기본 성공/실패\n    const success = playerStat >= difficulty;\n    \n    // 대성공/대실패 체크 (20 이상 차이)\n    const isCriticalSuccess = difference >= 20;\n    const isCriticalFailure = difference <= -20;\n    \n    let nextSceneId: string;\n    let resultText: string;\n    let isCritical = false;\n    \n    if (isCriticalSuccess && judgment.criticalSuccess) {\n      nextSceneId = judgment.criticalSuccess;\n      resultText = `[대성공!] (${judgment.stat}: ${playerStat} / 필요: ${difficulty})`;\n      isCritical = true;\n    } else if (success) {\n      nextSceneId = judgment.successSceneId;\n      resultText = `[성공!] (${judgment.stat}: ${playerStat} / 필요: ${difficulty})`;\n    } else if (isCriticalFailure && judgment.criticalFailure) {\n      nextSceneId = judgment.criticalFailure;\n      resultText = `[대실패!] (${judgment.stat}: ${playerStat} / 필요: ${difficulty})`;\n      isCritical = true;\n    } else {\n      nextSceneId = judgment.failureSceneId;\n      resultText = `[실패] (${judgment.stat}: ${playerStat} / 필요: ${difficulty})`;\n    }\n    \n    return {\n      success,\n      nextSceneId,\n      resultText,\n      isCritical\n    };\n  }\n  \n  /**\n   * 결과 적용\n   */\n  applyConsequences(\n    consequences: Consequence[],\n    player: WuxiaRPGCharacter\n  ): string[] {\n    const logs: string[] = [];\n    \n    for (const consequence of consequences) {\n      const log = this.applyConsequence(consequence, player);\n      if (log) logs.push(log);\n    }\n    \n    return logs;\n  }\n  \n  /**\n   * 개별 결과 적용\n   */\n  private applyConsequence(\n    consequence: Consequence,\n    player: WuxiaRPGCharacter\n  ): string {\n    switch (consequence.type) {\n      case 'stat_change':\n        return this.applyStatChange(consequence, player);\n      \n      case 'health_change':\n        return this.applyHealthChange(consequence, player);\n      \n      case 'injury_add':\n        return this.applyInjuryAdd(consequence, player);\n      \n      case 'injury_remove':\n        return this.applyInjuryRemove(consequence, player);\n      \n      case 'item_gain':\n        return this.applyItemGain(consequence, player);\n      \n      case 'item_lose':\n        return this.applyItemLose(consequence, player);\n      \n      case 'flag_set':\n        return this.applyFlagSet(consequence, player);\n      \n      case 'flag_remove':\n        return this.applyFlagRemove(consequence, player);\n      \n      case 'relationship_change':\n        return this.applyRelationshipChange(consequence, player);\n      \n      case 'tendency_change':\n        return this.applyTendencyChange(consequence, player);\n      \n      case 'skill_learn':\n        return this.applySkillLearn(consequence, player);\n      \n      default:\n        return '';\n    }\n  }\n  \n  private applyStatChange(consequence: Consequence, player: WuxiaRPGCharacter): string {\n    const stat = consequence.param as keyof typeof player.stats;\n    const oldValue = player.stats[stat];\n    (player.stats[stat] as number) += consequence.value;\n    return `${stat} ${oldValue} → ${player.stats[stat]}`;\n  }\n  \n  private applyHealthChange(consequence: Consequence, player: WuxiaRPGCharacter): string {\n    const oldHealth = player.health;\n    player.health = Math.max(0, Math.min(player.maxHealth, player.health + consequence.value));\n    return `생명력 ${oldHealth} → ${player.health}`;\n  }\n  \n  private applyInjuryAdd(consequence: Consequence, player: WuxiaRPGCharacter): string {\n    // consequence.value should be InjuryFlag\n    player.injuries.push(consequence.value);\n    return `부상 획득: ${consequence.value.description}`;\n  }\n  \n  private applyInjuryRemove(consequence: Consequence, player: WuxiaRPGCharacter): string {\n    const index = player.injuries.findIndex(inj => inj.type === consequence.param);\n    if (index !== -1) {\n      const removed = player.injuries.splice(index, 1)[0];\n      return `부상 치료: ${removed.description}`;\n    }\n    return '';\n  }\n  \n  private applyItemGain(consequence: Consequence, player: WuxiaRPGCharacter): string {\n    // consequence.value should be InventoryItem or item ID\n    if (typeof consequence.value === 'string') {\n      return `아이템 획득: ${consequence.value} (미구현)`;\n    } else {\n      player.inventory.push(consequence.value);\n      return `아이템 획득: ${consequence.value.name}`;\n    }\n  }\n  \n  private applyItemLose(consequence: Consequence, player: WuxiaRPGCharacter): string {\n    const index = player.inventory.findIndex(item => item.id === consequence.param);\n    if (index !== -1) {\n      const removed = player.inventory.splice(index, 1)[0];\n      return `아이템 상실: ${removed.name}`;\n    }\n    return '';\n  }\n  \n  private applyFlagSet(consequence: Consequence, player: WuxiaRPGCharacter): string {\n    player.flags.add(consequence.param);\n    return consequence.description || `플래그 설정: ${consequence.param}`;\n  }\n  \n  private applyFlagRemove(consequence: Consequence, player: WuxiaRPGCharacter): string {\n    player.flags.delete(consequence.param);\n    return `플래그 제거: ${consequence.param}`;\n  }\n  \n  private applyRelationshipChange(consequence: Consequence, player: WuxiaRPGCharacter): string {\n    const npcId = consequence.param;\n    const current = player.relationships.get(npcId) || 0;\n    const newValue = current + consequence.value;\n    player.relationships.set(npcId, newValue);\n    \n    const change = consequence.value > 0 ? `+${consequence.value}` : `${consequence.value}`;\n    return `${npcId} 호감도 ${change} (${current} → ${newValue})`;\n  }\n  \n  private applyTendencyChange(consequence: Consequence, player: WuxiaRPGCharacter): string {\n    const oldValue = player.tendency.value;\n    player.tendency.value = Math.max(-100, Math.min(100, player.tendency.value + consequence.value));\n    \n    // 레이블 업데이트\n    this.updateTendencyLabel(player.tendency);\n    \n    const change = consequence.value > 0 ? `+${consequence.value}` : `${consequence.value}`;\n    return `성향 ${change} (${player.tendency.label})`;\n  }\n  \n  private applySkillLearn(consequence: Consequence, player: WuxiaRPGCharacter): string {\n    if (!player.learnedSkills.includes(consequence.param)) {\n      player.learnedSkills.push(consequence.param);\n      return `무공 습득: ${consequence.param}`;\n    }\n    return '';\n  }\n  \n  /**\n   * 성향 레이블 업데이트\n   */\n  private updateTendencyLabel(tendency: any): void {\n    if (tendency.value <= -60) {\n      tendency.label = '정도의 화신';\n      tendency.description = '정의로움이 온 몸에서 뿜어져 나온다.';\n    } else if (tendency.value <= -20) {\n      tendency.label = '정파';\n      tendency.description = '바른 길을 걷고 있다.';\n    } else if (tendency.value < 20) {\n      tendency.label = '중립';\n      tendency.description = '선과 악 사이를 오간다.';\n    } else if (tendency.value < 60) {\n      tendency.label = '사파';\n      tendency.description = '어두운 길로 접어들고 있다.';\n    } else {\n      tendency.label = '마도의 화신';\n      tendency.description = '협기가 온 몸을 감싸고 있다.';\n    }\n  }\n  \n  /**\n   * 값 비교 헬퍼\n   */\n  private compareValues(actual: any, operator: string, expected: any): boolean {\n    switch (operator) {\n      case '>': return actual > expected;\n      case '<': return actual < expected;\n      case '>=': return actual >= expected;\n      case '<=': return actual <= expected;\n      case '==': return actual === expected;\n      case '!=': return actual !== expected;\n      default: return false;\n    }\n  }\n  \n  /**\n   * 현재 장면 가져오기\n   */\n  getCurrentScene(): WuxiaScene | null {\n    return this.currentScene;\n  }\n  \n  /**\n   * 장면 데이터베이스 가져오기\n   */\n  getSceneDatabase(): Map<string, WuxiaScene> {\n    return this.scenes;\n  }\n}\n", "import { Injectable } from '@angular/core';\nimport { \n  SituationTemplate, SituationInstance, SituationPrerequisite,\n  WuxiaRPGCharacter, WuxiaNPC, ChoiceCondition\n} from '../models/wuxia-rpg.model';\n\n/**\n * 동적 상황 시스템 서비스\n * 상황 템플릿 관리, 트리거 감지, 참여자 할당\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class WuxiaSituationService {\n  \n  // 등록된 템플릿\n  private templates = new Map<string, SituationTemplate>();\n  \n  // 활성 상황\n  private activeInstances: SituationInstance[] = [];\n  \n  // 완료된 상황\n  private completedSituations = new Set<string>();\n  \n  constructor() {\n    this.initializeDefaultTemplates();\n  }\n  \n  /**\n   * 기본 템플릿 초기화\n   */\n  private initializeDefaultTemplates(): void {\n    // 예시: 다리 위 만남 (연애)\n    const bridgeEncounter: SituationTemplate = {\n      id: 'LOVE_ENCOUNTER_BRIDGE',\n      name: '소월교 위의 만남',\n      category: 'romance',\n      priority: 5,\n      canRepeat: false,\n      \n      roles: [\n        {\n          roleId: 'hero',\n          roleName: '주인공'\n        },\n        {\n          roleId: 'love_interest',\n          roleName: '운명의 상대',\n          criteria: {\n            npcTags: ['potential_romance'],\n            state: 'idle'\n          }\n        }\n      ],\n      \n      prerequisites: [\n        {\n          type: 'location',\n          param: 'soweol_bridge',\n          description: '소월교 다리에 위치'\n        },\n        {\n          type: 'time',\n          param: 'timeOfDay',\n          operator: '==',\n          value: 'evening',\n          description: '해질녘'\n        },\n        {\n          type: 'tendency',\n          param: 'tendency.value',\n          operator: '>',\n          value: 20,\n          description: '정파 성향'\n        }\n      ],\n      \n      stages: [\n        {\n          stageId: 'stage_1_meeting',\n          stageNumber: 1,\n          scene: {\n            id: 'bridge_encounter_s1',\n            title: '소월교의 그림자',\n            narrativeText: [\n              '석양이 강물을 붉게 물들이는 소월교.',\n              '다리 난간에 기댄 한 여인의 뒷모습이 눈에 들어온다.',\n              '그녀는 슬픈 눈으로 강물을 바라보고 있다.'\n            ],\n            choices: [\n              {\n                id: 'choice_ask',\n                text: '무슨 일이냐고 묻는다.',\n                nextSceneId: 'bridge_encounter_s2_ask'\n              },\n              {\n                id: 'choice_handkerchief',\n                text: '바람에 날리는 그녀의 손수건을 잡아준다.',\n                nextSceneId: 'bridge_encounter_s2_kind',\n                conditions: [\n                  {\n                    type: 'personality',\n                    param: 'personality',\n                    operator: '==',\n                    value: 'calm',\n                    displayText: '[성격: 냉철함]'\n                  }\n                ],\n                consequences: [\n                  {\n                    type: 'relationship_change',\n                    param: '{love_interest}',\n                    value: 10,\n                    description: '호감도 +10'\n                  }\n                ]\n              },\n              {\n                id: 'choice_pass',\n                text: '그냥 지나간다.',\n                nextSceneId: 'bridge_encounter_end',\n                consequences: [\n                  {\n                    type: 'flag_set',\n                    param: 'missed_bridge_encounter',\n                    value: true\n                  }\n                ]\n              }\n            ]\n          }\n        },\n        {\n          stageId: 'stage_2_interaction',\n          stageNumber: 2,\n          scene: {\n            id: 'bridge_encounter_s2_kind',\n            title: '손수건',\n            narrativeText: [\n              '당신은 바람에 날리는 하얀 손수건을 낚아채듯 잡았다.',\n              '여인이 놀란 눈으로 당신을 돌아본다.',\n              '\"...감사합니다.\" 그녀의 뺨이 살짝 붉어진다.'\n            ],\n            choices: [\n              {\n                id: 'choice_name',\n                text: '이름을 묻는다.',\n                nextSceneId: 'bridge_encounter_s3_name',\n                consequences: [\n                  {\n                    type: 'flag_set',\n                    param: 'bridge_encounter_asked_name',\n                    value: true\n                  }\n                ]\n              },\n              {\n                id: 'choice_leave',\n                text: '미소만 짓고 자리를 뜬다.',\n                nextSceneId: 'bridge_encounter_s3_mysterious',\n                consequences: [\n                  {\n                    type: 'relationship_change',\n                    param: '{love_interest}',\n                    value: 5,\n                    description: '호감도 +5 (신비로움)'\n                  },\n                  {\n                    type: 'flag_set',\n                    param: 'bridge_encounter_mysterious',\n                    value: true\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      ],\n      \n      outcomes: [\n        {\n          outcomeId: 'outcome_romance_start',\n          triggerCondition: 'choice_name',\n          consequences: [\n            {\n              type: 'flag_set',\n              param: 'romance_{love_interest}_started',\n              value: true\n            },\n            {\n              type: 'relationship_change',\n              param: '{love_interest}',\n              value: 15\n            }\n          ],\n          unlockedSituations: ['LOVE_TEA_HOUSE', 'LOVE_RESCUE'],\n          description: '연애 루트 시작'\n        }\n      ]\n    };\n    \n    this.registerTemplate(bridgeEncounter);\n    \n    // 추가 템플릿: 무공 기연\n    const martialOpportunity: SituationTemplate = {\n      id: 'MARTIAL_OPPORTUNITY_CAVE',\n      name: '비밀 동굴의 무공 비급',\n      category: 'opportunity',\n      priority: 7,\n      canRepeat: false,\n      \n      roles: [\n        {\n          roleId: 'hero',\n          roleName: '주인공'\n        }\n      ],\n      \n      prerequisites: [\n        {\n          type: 'location',\n          param: 'hidden_cave',\n          description: '숨겨진 동굴 발견'\n        },\n        {\n          type: 'stat',\n          param: 'insight',\n          operator: '>=',\n          value: 40,\n          description: '통찰력 40 이상'\n        }\n      ],\n      \n      stages: [\n        {\n          stageId: 'stage_1_discovery',\n          stageNumber: 1,\n          scene: {\n            id: 'cave_discovery',\n            title: '비밀의 동굴',\n            narrativeText: [\n              '벼랑 뒤에 숨겨진 좁은 틈새를 발견했다.',\n              '예리한 관찰력이 아니었다면 평생 지나칠 뻔했다.',\n              '안으로 들어가자 희미한 빛이 보인다.'\n            ],\n            choices: [\n              {\n                id: 'choice_enter',\n                text: '조심스럽게 들어간다.',\n                nextSceneId: 'cave_interior',\n                judgment: {\n                  stat: 'dexterity',\n                  difficulty: 30,\n                  successSceneId: 'cave_safe_entry',\n                  failureSceneId: 'cave_trap_trigger'\n                }\n              },\n              {\n                id: 'choice_leave',\n                text: '의심스럽다. 나중에 다시 온다.',\n                nextSceneId: 'cave_abandoned'\n              }\n            ]\n          }\n        },\n        {\n          stageId: 'stage_2_manual',\n          stageNumber: 2,\n          scene: {\n            id: 'cave_safe_entry',\n            title: '해골과 비급',\n            narrativeText: [\n              '동굴 깊숙한 곳, 오래된 해골 옆에 먼지 쌓인 책이 놓여있다.',\n              '『천산육양장』이라는 글자가 희미하게 보인다.',\n              '절학급 무공이다!'\n            ],\n            choices: [\n              {\n                id: 'choice_learn',\n                text: '무공을 익힌다. (2시간 소요)',\n                nextSceneId: 'cave_learn_success',\n                consequences: [\n                  {\n                    type: 'skill_learn',\n                    param: 'tianshan_liuyang',\n                    value: true,\n                    description: '천산육양장 습득'\n                  },\n                  {\n                    type: 'stat_change',\n                    param: 'innerPower',\n                    value: 10,\n                    description: '내공 +10'\n                  }\n                ]\n              },\n              {\n                id: 'choice_take',\n                text: '비급을 가져간다. (나중에 배운다)',\n                nextSceneId: 'cave_take_manual',\n                consequences: [\n                  {\n                    type: 'item_gain',\n                    param: 'tianshan_manual',\n                    value: 1\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      ],\n      \n      outcomes: [\n        {\n          outcomeId: 'outcome_learned',\n          triggerCondition: 'choice_learn',\n          consequences: [\n            {\n              type: 'flag_set',\n              param: 'tianshan_master',\n              value: true\n            }\n          ],\n          description: '천산육양장 마스터'\n        }\n      ]\n    };\n    \n    this.registerTemplate(martialOpportunity);\n  }\n  \n  /**\n   * 템플릿 등록\n   */\n  registerTemplate(template: SituationTemplate): void {\n    const id = template.id || template.templateId || `template_${Date.now()}`;\n    this.templates.set(id, template);\n  }\n  \n  /**\n   * 상황 트리거 체크\n   * @returns 발동 가능한 상황 템플릿 ID 배열\n   */\n  checkTriggers(\n    player: WuxiaRPGCharacter,\n    currentLocation: string,\n    timeOfDay: string,\n    availableNPCs: WuxiaNPC[]\n  ): string[] {\n    const triggeredSituations: string[] = [];\n    \n    for (const [templateId, template] of this.templates) {\n      // 이미 완료된 상황이고 반복 불가면 스킵\n      if (this.completedSituations.has(templateId) && !template.canRepeat) {\n        continue;\n      }\n      \n      // 이미 활성화된 상황이면 스킵\n      if (this.activeInstances.some(inst => inst.templateId === templateId)) {\n        continue;\n      }\n      \n      // Prerequisites 체크\n      if (!template.prerequisites || this.checkPrerequisites(template.prerequisites, player, currentLocation, timeOfDay)) {\n        // 참여자 할당 가능한지 체크\n        if (this.canAssignParticipants(template, player, availableNPCs)) {\n          triggeredSituations.push(templateId);\n        }\n      }\n    }\n    \n    // 우선순위 정렬\n    return triggeredSituations.sort((a, b) => {\n      const templateA = this.templates.get(a)!;\n      const templateB = this.templates.get(b)!;\n      return templateB.priority - templateA.priority;\n    });\n  }\n  \n  /**\n   * Prerequisites 체크\n   */\n  private checkPrerequisites(\n    prerequisites: SituationPrerequisite[],\n    player: WuxiaRPGCharacter,\n    currentLocation: string,\n    timeOfDay: string\n  ): boolean {\n    for (const prereq of prerequisites) {\n      if (!this.evaluatePrerequisite(prereq, player, currentLocation, timeOfDay)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  \n  /**\n   * 개별 Prerequisite 평가\n   */\n  private evaluatePrerequisite(\n    prereq: SituationPrerequisite,\n    player: WuxiaRPGCharacter,\n    currentLocation: string,\n    timeOfDay: string\n  ): boolean {\n    switch (prereq.type) {\n      case 'location':\n        return currentLocation === prereq.param;\n      \n      case 'time':\n        if (prereq.param === 'timeOfDay') {\n          return timeOfDay === prereq.value;\n        }\n        return false;\n      \n      case 'stat':\n        const statValue = (player.stats as any)[prereq.param];\n        return this.compareValues(statValue, prereq.operator!, prereq.value);\n      \n      case 'tendency':\n        if (prereq.param === 'tendency.value') {\n          return this.compareValues(player.tendency.value, prereq.operator!, prereq.value);\n        }\n        return false;\n      \n      case 'item':\n        return player.inventory.some(item => item.id === prereq.param);\n      \n      case 'flag':\n        return player.flags.has(prereq.param);\n      \n      case 'npc':\n        // NPC 관련 조건 (예: 특정 NPC와 대화 횟수)\n        return true; // TODO: 구현 필요\n      \n      default:\n        return false;\n    }\n  }\n  \n  /**\n   * 참여자 할당 가능 여부\n   */\n  private canAssignParticipants(\n    template: SituationTemplate,\n    player: WuxiaRPGCharacter,\n    availableNPCs: WuxiaNPC[]\n  ): boolean {\n    if (!template.roles) return true;  // roles가 없으면 항상 가능\n    \n    for (const role of template.roles) {\n      if (role.roleId === 'hero') {\n        continue; // 주인공은 항상 가능\n      }\n      \n      // NPC 역할 할당 가능 여부\n      const suitableNPC = this.findSuitableNPC(role, availableNPCs, player);\n      if (!suitableNPC) {\n        return false;\n      }\n    }\n    return true;\n  }\n  \n  /**\n   * 적합한 NPC 찾기\n   */\n  private findSuitableNPC(\n    role: any,\n    availableNPCs: WuxiaNPC[],\n    player: WuxiaRPGCharacter\n  ): WuxiaNPC | null {\n    if (!role.criteria) {\n      return availableNPCs[0] || null;\n    }\n    \n    for (const npc of availableNPCs) {\n      // 태그 체크\n      if (role.criteria.npcTags) {\n        const hasAllTags = role.criteria.npcTags.every((tag: string) => npc.tags.includes(tag));\n        if (!hasAllTags) continue;\n      }\n      \n      // 상태 체크\n      if (role.criteria.state && npc.state !== role.criteria.state) {\n        continue;\n      }\n      \n      // 관계도 체크\n      if (role.criteria.relationship !== undefined) {\n        const relationship = player.relationships.get(npc.id) || npc.initialRelationship;\n        if (relationship < role.criteria.relationship) {\n          continue;\n        }\n      }\n      \n      return npc;\n    }\n    \n    return null;\n  }\n  \n  /**\n   * 상황 시작\n   */\n  startSituation(\n    templateId: string,\n    player: WuxiaRPGCharacter,\n    availableNPCs: WuxiaNPC[]\n  ): SituationInstance | null {\n    const template = this.templates.get(templateId);\n    if (!template) return null;\n    \n    // 참여자 할당\n    const participants = new Map<string, string>();\n    \n    if (template.roles) {\n      for (const role of template.roles) {\n        if (role.roleId === 'hero') {\n          participants.set('hero', 'player');\n        } else {\n          const npc = this.findSuitableNPC(role, availableNPCs, player);\n          if (npc) {\n            participants.set(role.roleId, npc.id);\n          }\n        }\n      }\n    }\n    \n    // 인스턴스 생성\n    const instance: SituationInstance = {\n      templateId,\n      instanceId: `${templateId}_${Date.now()}`,\n      participants,\n      currentStage: 1,\n      isActive: true,\n      startedAt: new Date(),\n      choiceHistory: []\n    };\n    \n    this.activeInstances.push(instance);\n    return instance;\n  }\n  \n  /**\n   * 상황 종료\n   */\n  completeSituation(instanceId: string): void {\n    const index = this.activeInstances.findIndex(inst => inst.instanceId === instanceId);\n    if (index !== -1) {\n      const instance = this.activeInstances[index];\n      this.completedSituations.add(instance.templateId);\n      this.activeInstances.splice(index, 1);\n    }\n  }\n  \n  /**\n   * 값 비교 헬퍼\n   */\n  private compareValues(actual: any, operator: string, expected: any): boolean {\n    switch (operator) {\n      case '>': return actual > expected;\n      case '<': return actual < expected;\n      case '>=': return actual >= expected;\n      case '<=': return actual <= expected;\n      case '==': return actual === expected;\n      case '!=': return actual !== expected;\n      default: return false;\n    }\n  }\n  \n  /**\n   * 활성 상황 가져오기\n   */\n  getActiveInstances(): SituationInstance[] {\n    return this.activeInstances;\n  }\n  \n  /**\n   * 템플릿 가져오기\n   */\n  getTemplate(templateId: string): SituationTemplate | undefined {\n    return this.templates.get(templateId);\n  }\n}\n", "// 무협 RPG와 전투 시스템 통합 어댑터\n\nimport { WuxiaRPGCharacter, WuxiaNPC } from '../models/wuxia-rpg.model';\nimport { BattleCharacter, BattleSkill, BattleItem } from '../components/battle-modal/battle-modal.component';\nimport { EquipmentService } from './equipment.service';\n\n/**\n * 무협 RPG 캐릭터를 전투 캐릭터로 변환\n */\nexport class WuxiaBattleAdapter {\n  \n  /**\n   * WuxiaRPGCharacter → BattleCharacter 변환\n   * @param equipmentService - 장비 서비스 (옵션)\n   */\n  static convertPlayerToBattle(wuxiaChar: WuxiaRPGCharacter, equipmentService?: EquipmentService): BattleCharacter {\n    // 장비 보너스 계산\n    let equipBonus = {\n      attack: 0,\n      defense: 0,\n      hp: 0,\n      mp: 0,\n      critChance: 0,\n      evasion: 0\n    };\n\n    if (equipmentService) {\n      equipBonus = equipmentService.calculateEquipmentBonusWuxia(wuxiaChar);\n    }\n\n    const battleChar: BattleCharacter = {\n      id: 'player',\n      name: wuxiaChar.name,\n      type: 'player',\n      maxHp: wuxiaChar.maxHealth + equipBonus.hp, // 장비 보너스 HP 추가\n      currentHp: wuxiaChar.health,\n      maxMp: (wuxiaChar.stats.innerPower * 10) + equipBonus.mp,\n      currentMp: (wuxiaChar.stats.innerPower * 10) + equipBonus.mp,\n      attack: this.calculateAttack(wuxiaChar) + equipBonus.attack,\n      defense: this.calculateDefense(wuxiaChar) + equipBonus.defense,\n      agility: wuxiaChar.stats.dexterity,\n      skills: this.convertSkills(wuxiaChar),\n      items: this.convertItems(wuxiaChar)\n    };\n    \n    return battleChar;\n  }\n  \n  /**\n   * WuxiaNPC → BattleCharacter 변환\n   */\n  static convertNPCToBattle(npc: WuxiaNPC): BattleCharacter {\n    // NPC 스탯 추정 (레벨 기반)\n    const level = 5; // 기본 레벨\n    const baseHp = 100 + (level * 20);\n    const baseMp = 50 + (level * 10);\n    \n    const battleChar: BattleCharacter = {\n      id: npc.id,\n      name: npc.name,\n      type: 'enemy',\n      maxHp: baseHp,\n      currentHp: baseHp,\n      maxMp: baseMp,\n      currentMp: baseMp,\n      attack: 15 + (level * 3),\n      defense: 10 + (level * 2),\n      agility: 12 + level,\n      skills: this.generateNPCSkills(npc),\n      items: []\n    };\n    \n    return battleChar;\n  }\n  \n  /**\n   * 공격력 계산\n   */\n  private static calculateAttack(char: WuxiaRPGCharacter): number {\n    // 근력 + 내공의 조합\n    return Math.floor(\n      (char.stats.strength * 0.6) + \n      (char.stats.innerPower * 0.4)\n    );\n  }\n  \n  /**\n   * 방어력 계산\n   */\n  private static calculateDefense(char: WuxiaRPGCharacter): number {\n    // 근력 + 내공의 조합\n    return Math.floor(\n      (char.stats.strength * 0.4) + \n      (char.stats.innerPower * 0.3) +\n      (char.stats.dexterity * 0.3)\n    );\n  }\n  \n  /**\n   * 스킬 변환\n   */\n  private static convertSkills(char: WuxiaRPGCharacter): BattleSkill[] {\n    const skills: BattleSkill[] = [];\n    \n    // 화산파 기본검법\n    if (char.sect === 'huashan') {\n      skills.push({\n        id: 'huashan_basic_thrust',\n        name: '화산검법: 기본자세',\n        description: '화산파의 기본 찌르기 검법',\n        mpCost: 10,\n        damage: 25,\n        type: 'attack'\n      });\n      \n      skills.push({\n        id: 'huashan_triple_strike',\n        name: '화산검법: 삼연격',\n        description: '세 번 연속 베기',\n        mpCost: 20,\n        damage: 40,\n        type: 'attack'\n      });\n    }\n    \n    // 내공 회복\n    skills.push({\n      id: 'qi_meditation',\n      name: '내공 운용',\n      description: '내공을 운용하여 체력을 회복',\n      mpCost: 15,\n      damage: 0,\n      type: 'heal'\n    });\n    \n    // 방어 자세\n    skills.push({\n      id: 'defensive_stance',\n      name: '방어 자세',\n      description: '다음 공격의 피해를 감소',\n      mpCost: 5,\n      damage: 0,\n      type: 'defense'\n    });\n    \n    return skills;\n  }\n  \n  /**\n   * 아이템 변환\n   */\n  private static convertItems(char: WuxiaRPGCharacter): BattleItem[] {\n    const battleItems: BattleItem[] = [];\n    \n    for (const item of char.inventory) {\n      if (item.type === 'consumable') {\n        battleItems.push({\n          id: item.id,\n          name: item.name,\n          description: item.description || '',\n          type: 'consumable',\n          effect: 50 // 기본 회복량\n        });\n      }\n    }\n    \n    return battleItems;\n  }\n  \n  /**\n   * NPC 스킬 생성\n   */\n  private static generateNPCSkills(npc: WuxiaNPC): BattleSkill[] {\n    const skills: BattleSkill[] = [];\n    \n    // 기본 공격\n    skills.push({\n      id: 'basic_attack',\n      name: '일반 공격',\n      description: '기본 공격',\n      mpCost: 0,\n      damage: 15,\n      type: 'attack'\n    });\n    \n    // 보스급 NPC는 특수 스킬 추가\n    if (npc.tags?.includes('boss')) {\n      skills.push({\n        id: 'special_attack',\n        name: '필살기',\n        description: `${npc.name}의 강력한 일격`,\n        mpCost: 30,\n        damage: 50,\n        type: 'attack'\n      });\n    }\n    \n    return skills;\n  }\n  \n  /**\n   * 전투 결과를 무협 캐릭터에 반영\n   */\n  static applyBattleResult(\n    wuxiaChar: WuxiaRPGCharacter,\n    battleChar: BattleCharacter,\n    victory: boolean\n  ): void {\n    // HP 반영\n    wuxiaChar.health = Math.max(0, battleChar.currentHp);\n    \n    // 승리 시 경험치/스탯 증가\n    if (victory) {\n      wuxiaChar.stats.strength += 1;\n      wuxiaChar.stats.innerPower += 1;\n    }\n    \n    // 패배 시 부상 추가\n    if (!victory && wuxiaChar.health <= 0) {\n      wuxiaChar.injuries.push({\n        type: 'internal_injury',\n        severity: 5,\n        duration: 3,\n        description: '전투 중 입은 내상',\n        penalties: {\n          stats: {\n            strength: -5,\n            innerPower: -3\n          }\n        }\n      });\n    }\n  }\n}\n", "// 묵향지연 - 챕터 1: 사라진 사형\n// 메인 시나리오 장면 데이터\n\nimport { WuxiaScene } from '../models/wuxia-rpg.model';\n\nexport const CHAPTER_1_SCENES: WuxiaScene[] = [\n  // ===== 기존 장면들 =====\n  {\n    id: 'scene_start',\n    title: '혼탁한 강호',\n    type: 'narrative',\n    autoProgress: true,\n    autoDelay: 3000,\n    narrativeText: [\n      '화산파의 막내 제자인 당신은 심각한 소식을 들었다.',\n      '가장 아끼던 사형 `청운`이 흑풍채로 떠난 뒤 소식이 끊겼다는 것이다.',\n      '',\n      '장문인께서는 당신을 부르셨다.',\n      '\"네가 가거라. 사형을 찾아오너라. 그러나... 무리하지는 말거라.\"'\n    ],\n    choices: [\n      {\n        id: 'choice_continue_journey',\n        text: '낙양으로 출발한다.',\n        nextSceneId: 'scene_road_to_luoyang'\n      }\n    ],\n    tags: ['chapter_1', 'main_quest', 'intro'],\n    location: 'huashan_sect',\n    timeOfDay: 'morning'\n  },\n\n  {\n    id: 'scene_road_to_luoyang',\n    title: '낙양으로 가는 길',\n    type: 'decision',\n    narrativeText: [\n      '낙양으로 가는 길목, 당신은 한 주막 앞에 멈춰 섰다.',\n      '이곳에서 정보를 얻을 수도 있고, 서둘러 흑풍채로 향할 수도 있다.'\n    ],\n    choices: [\n      {\n        id: 'choice_enter_inn',\n        text: '주막에 들어가 정보를 얻는다.',\n        importance: 'major',\n        nextSceneId: 'scene_inn_inside'\n      },\n      {\n        id: 'choice_continue',\n        text: '서두른다. 곧장 흑풍채로 향한다.',\n        importance: 'major',\n        nextSceneId: 'scene_forest_path',\n        conditions: [\n          {\n            type: 'stat',\n            param: 'dexterity',\n            operator: '>=',\n            value: 15,\n            displayText: '[민첩 15 이상]'\n          }\n        ]\n      },\n      {\n        id: 'choice_meditate',\n        text: '근처 바위에 앉아 내공을 운용한다.',\n        importance: 'minor',\n        nextSceneId: 'scene_meditation',\n        consequences: [\n          {\n            type: 'stat_change',\n            param: 'innerPower',\n            value: 2,\n            description: '내공 +2'\n          }\n        ]\n      }\n    ],\n    tags: ['chapter_1', 'main_quest'],\n    location: 'road_to_luoyang',\n    timeOfDay: 'afternoon'\n  },\n\n  // ===== 주막 내부 =====\n  {\n    id: 'scene_inn_inside',\n    title: '은은한 술 냄새',\n    narrativeText: [\n      '주막 안은 시끌벅적하다.',\n      '한쪽 구석에서 수상한 사내들이 웅성거리고 있다.',\n      '주모가 다가와 묻는다. \"무엇을 드시겠습니까, 소협?\"'\n    ],\n    choices: [\n      {\n        id: 'choice_order_wine',\n        text: '술 한 잔을 시킨다. (금화 5)',\n        nextSceneId: 'scene_inn_wine',\n        consequences: [\n          {\n            type: 'stat_change',\n            param: 'gold',\n            value: -5,\n            description: '금화 -5'\n          }\n        ]\n      },\n      {\n        id: 'choice_ask_info',\n        text: '[통찰 20 이상] 주모에게 흑풍채에 대해 은밀히 물어본다.',\n        nextSceneId: 'scene_inn_information',\n        conditions: [\n          {\n            type: 'stat',\n            param: 'insight',\n            operator: '>=',\n            value: 20,\n            displayText: '[통찰 20 이상]'\n          }\n        ]\n      },\n      {\n        id: 'choice_approach_thugs',\n        text: '수상한 사내들에게 다가간다.',\n        nextSceneId: 'scene_inn_confrontation',\n        judgment: {\n          stat: 'insight',\n          difficulty: 25,\n          successSceneId: 'scene_inn_info_success',\n          failureSceneId: 'scene_inn_fight'\n        }\n      }\n    ],\n    location: 'inn',\n    timeOfDay: 'afternoon'\n  },\n\n  // ===== 주막 - 술 =====\n  {\n    id: 'scene_inn_wine',\n    title: '탁주 한 잔',\n    narrativeText: [\n      '주모가 탁주를 따라준다.',\n      '잔을 기울이며 주변을 살핀다.',\n      '한쪽에서 들려오는 대화가 귓가를 스친다.',\n      '',\n      '\"...흑풍채 놈들이 요즘 수상하다더군...\"',\n      '\"쉿! 목숨이 아깝지 않나!\"'\n    ],\n    choices: [\n      {\n        id: 'choice_listen_more',\n        text: '[통찰 25 이상] 대화에 집중한다.',\n        nextSceneId: 'scene_overhear_info',\n        conditions: [\n          {\n            type: 'stat',\n            param: 'insight',\n            operator: '>=',\n            value: 25,\n            displayText: '[통찰 25 이상]'\n          }\n        ]\n      },\n      {\n        id: 'choice_leave_inn',\n        text: '술값을 치르고 주막을 나선다.',\n        nextSceneId: 'scene_forest_path'\n      }\n    ],\n    location: 'inn',\n    timeOfDay: 'afternoon'\n  },\n\n  // ===== 주막 - 정보 성공 =====\n  {\n    id: 'scene_inn_information',\n    title: '주모의 정보',\n    type: 'narrative',\n    autoProgress: true,\n    autoDelay: 4000,\n    narrativeText: [\n      '당신은 은자 몇 냥을 슬쩍 주모의 손에 쥐여준다.',\n      '주모가 눈치를 살피더니 낮은 목소리로 말한다.',\n      '',\n      '\"흑풍채라... 위험한 곳이오. 최근 들어 더욱 흉악해졌다고 하더군요.\"',\n      '\"화산파 제자라는 분이 일주일 전쯤 이 길을 지나갔소.\"',\n      '\"푸른 도복을 입은... 눈빛이 강인한 청년이었지요.\"',\n      '',\n      '청운 사형이 분명하다!',\n      '',\n      '\"산적들이 밤에 활동한다고 하니, 조심하시오.\"'\n    ],\n    choices: [\n      {\n        id: 'choice_thank_and_leave',\n        text: '감사를 표하고 주막을 나선다.',\n        nextSceneId: 'scene_forest_path',\n        consequences: [\n          {\n            type: 'flag_set',\n            param: 'got_inn_information',\n            value: true,\n            description: '주모로부터 정보 획득'\n          }\n        ]\n      }\n    ],\n    location: 'inn',\n    timeOfDay: 'afternoon'\n  },\n\n  // ===== 주막 - 엿듣기 =====\n  {\n    id: 'scene_overhear_info',\n    title: '엿들은 대화',\n    narrativeText: [\n      '귀를 기울이자 대화가 더 선명하게 들린다.',\n      '',\n      '\"흑풍채 놈들이 최근 화산파 제자를 잡았다던데...\"',\n      '\"쉿! 그런 말 함부로 하는 거 아냐! 들키면 목이 달아난다고!\"',\n      '',\n      '심장이 쿵쾅거린다. 사형이 위험에 처한 것인가!',\n      '',\n      '\"저녁이 되면 산적들이 순찰을 돈다더군. 조심해야 해.\"'\n    ],\n    choices: [\n      {\n        id: 'choice_rush_to_stronghold',\n        text: '당장 흑풍채로 향한다!',\n        nextSceneId: 'scene_forest_path_urgent',\n        consequences: [\n          {\n            type: 'flag_set',\n            param: 'knows_seongun_captured',\n            value: true\n          },\n          {\n            type: 'tendency_change',\n            param: 'tendency',\n            value: -5,\n            description: '정의로운 선택 (성향 -5)'\n          }\n        ]\n      },\n      {\n        id: 'choice_plan_carefully',\n        text: '신중하게 계획을 세운다.',\n        nextSceneId: 'scene_planning',\n        consequences: [\n          {\n            type: 'flag_set',\n            param: 'knows_seongun_captured',\n            value: true\n          }\n        ]\n      }\n    ],\n    location: 'inn',\n    timeOfDay: 'afternoon'\n  },\n\n  // ===== 숲길 =====\n  {\n    id: 'scene_forest_path',\n    title: '어두운 숲',\n    type: 'narrative',\n    autoProgress: true,\n    autoDelay: 3000,\n    narrativeText: [\n      '주막을 나서자 울창한 숲이 펼쳐진다.',\n      '흑풍채로 가는 길은 험하고 어둡다.',\n      '',\n      '잠시 걷자, 갈림길이 나타난다.'\n    ],\n    choices: [\n      {\n        id: 'choice_continue_forest',\n        text: '계속 전진한다.',\n        nextSceneId: 'scene_forest_fork'\n      }\n    ],\n    location: 'dark_forest',\n    timeOfDay: 'evening'\n  },\n\n  {\n    id: 'scene_forest_fork',\n    title: '갈림길',\n    type: 'decision',\n    narrativeText: [\n      '왼쪽은 험한 산길, 오른쪽은 평탄한 길이다.',\n      '어느 길로 갈 것인가?'\n    ],\n    choices: [\n      {\n        id: 'choice_mountain_path',\n        text: '[민첩 30 이상] 험한 산길로 간다. (지름길)',\n        importance: 'major',\n        nextSceneId: 'scene_mountain_path',\n        judgment: {\n          stat: 'dexterity',\n          difficulty: 30,\n          successSceneId: 'scene_mountain_success',\n          failureSceneId: 'scene_mountain_fall'\n        }\n      },\n      {\n        id: 'choice_flat_road',\n        text: '평탄한 길로 간다.',\n        nextSceneId: 'scene_flat_road'\n      },\n      {\n        id: 'choice_scout',\n        text: '[통찰 28 이상] 주변을 살핀다.',\n        nextSceneId: 'scene_hidden_path',\n        conditions: [\n          {\n            type: 'stat',\n            param: 'insight',\n            operator: '>=',\n            value: 28,\n            displayText: '[통찰 28 이상]'\n          }\n        ]\n      }\n    ],\n    location: 'dark_forest',\n    timeOfDay: 'evening'\n  },\n\n  // ===== 산길 성공 =====\n  {\n    id: 'scene_mountain_success',\n    title: '날렵한 경공',\n    type: 'narrative',\n    autoProgress: true,\n    autoDelay: 3500,\n    narrativeText: [\n      '[판정 성공!]',\n      '',\n      '당신은 가벼운 경공으로 험한 바위들을 뛰어넘는다.',\n      '숨결을 조절하며 위험한 절벽을 지나친다.',\n      '',\n      '순식간에 평지로 내려선다.',\n      '빠른 길을 택한 덕에 시간을 아꼈다!',\n      '',\n      '저 멀리 흑풍채의 망루가 보인다.'\n    ],\n    choices: [\n      {\n        id: 'choice_approach_stronghold',\n        text: '흑풍채에 접근한다.',\n        nextSceneId: 'scene_stronghold_approach'\n      }\n    ],\n    location: 'mountain_path',\n    timeOfDay: 'evening'\n  },\n\n  // ===== 산길 실패 =====\n  {\n    id: 'scene_mountain_fall',\n    title: '실족',\n    type: 'narrative',\n    autoProgress: true,\n    autoDelay: 3500,\n    narrativeText: [\n      '[판정 실패!]',\n      '',\n      '발이 미끄러진다!',\n      '\"큭!\"',\n      '',\n      '당신은 가파른 경사면을 굴러떨어진다.',\n      '나무뿌리를 붙잡아 간신히 멈춘다.',\n      '',\n      '온몸이 쑤신다. 팔에 찰과상을 입었다.',\n      '',\n      '[생명력 -15]',\n      '[부상: 경미한 타박상 획득]'\n    ],\n    choices: [\n      {\n        id: 'choice_continue_injured',\n        text: '이를 악물고 일어선다.',\n        nextSceneId: 'scene_flat_road',\n        consequences: [\n          {\n            type: 'health_change',\n            param: 'health',\n            value: -15,\n            description: '생명력 -15'\n          },\n          {\n            type: 'injury_add',\n            param: 'injury',\n            value: {\n              type: 'minor_wound',\n              severity: 3,\n              duration: 20,\n              description: '경미한 타박상',\n              penalties: {\n                stats: { dexterity: -2 }\n              }\n            },\n            description: '타박상으로 민첩 -2'\n          }\n        ]\n      }\n    ],\n    location: 'mountain_path',\n    timeOfDay: 'evening'\n  },\n\n  // ===== 평탄한 길 =====\n  {\n    id: 'scene_flat_road',\n    title: '긴 우회로',\n    narrativeText: [\n      '평탄한 길을 따라 한참을 걷는다.',\n      '안전하지만 시간이 많이 걸린다.',\n      '',\n      '해가 지고 어둠이 깔린다.',\n      '저 멀리서 횃불 빛이 보인다.',\n      '',\n      '흑풍채가 가까워졌다.'\n    ],\n    choices: [\n      {\n        id: 'choice_approach_night',\n        text: '밤에 접근한다.',\n        nextSceneId: 'scene_stronghold_night'\n      },\n      {\n        id: 'choice_rest',\n        text: '먼저 쉬었다가 간다.',\n        nextSceneId: 'scene_camp_rest',\n        consequences: [\n          {\n            type: 'health_change',\n            param: 'health',\n            value: 10,\n            description: '생명력 +10 회복'\n          }\n        ]\n      }\n    ],\n    location: 'flat_road',\n    timeOfDay: 'night'\n  },\n\n  // ===== 숨겨진 길 발견 =====\n  {\n    id: 'scene_hidden_path',\n    title: '숨겨진 지름길',\n    narrativeText: [\n      '[통찰력 발휘!]',\n      '',\n      '주변을 주의깊게 살피자, 숨겨진 오솔길이 눈에 들어온다.',\n      '풀숲에 가려진 좁은 길이다.',\n      '',\n      '이 길은... 산적들이 사용하는 비밀 통로인 것 같다!',\n      '발자국이 여럿 보인다.',\n      '',\n      '이 길을 따라가면 흑풍채 뒤편으로 접근할 수 있을 것이다.'\n    ],\n    choices: [\n      {\n        id: 'choice_use_secret_path',\n        text: '비밀 통로를 이용한다.',\n        nextSceneId: 'scene_secret_entrance',\n        consequences: [\n          {\n            type: 'flag_set',\n            param: 'found_secret_path',\n            value: true\n          }\n        ]\n      },\n      {\n        id: 'choice_ignore',\n        text: '의심스럽다. 정면으로 간다.',\n        nextSceneId: 'scene_stronghold_approach'\n      }\n    ],\n    location: 'dark_forest',\n    timeOfDay: 'evening'\n  },\n\n  // ===== 흑풍채 접근 =====\n  {\n    id: 'scene_stronghold_approach',\n    title: '흑풍채 입구',\n    narrativeText: [\n      '험준한 산길 끝에 흑풍채가 모습을 드러낸다.',\n      '거대한 목책이 둘러싸고 있고, 입구에는 무장한 산적들이 보인다.',\n      '',\n      '한 산적이 당신을 발견하고 외친다.',\n      '\"누구냐! 섣불리 다가오지 마라!\"',\n      '',\n      '검에 손을 얹은 채 경계하고 있다.'\n    ],\n    choices: [\n      {\n        id: 'choice_announce_huashan',\n        text: '[화산파 제자] \"화산파 제자다. 사형을 찾으러 왔다.\"',\n        nextSceneId: 'scene_negotiate_huashan',\n        conditions: [\n          {\n            type: 'sect',\n            param: 'sect',\n            operator: '==',\n            value: 'huashan',\n            displayText: '[화산파 제자만]'\n          }\n        ]\n      },\n      {\n        id: 'choice_bribe',\n        text: '[금화 50 이상] 은자를 건넨다.',\n        nextSceneId: 'scene_bribe_guards',\n        conditions: [\n          {\n            type: 'stat',\n            param: 'gold',\n            operator: '>=',\n            value: 50,\n            displayText: '[금화 50 이상]'\n          }\n        ]\n      },\n      {\n        id: 'choice_fight_guards',\n        text: '⚔️ 정면 돌파! 검을 뽑는다!',\n        nextSceneId: 'scene_battle_guards',\n        consequences: [\n          {\n            type: 'tendency_change',\n            param: 'tendency',\n            value: 5,\n            description: '폭력적 선택 (성향 +5)'\n          },\n          {\n            type: 'battle_start',\n            param: 'battle',\n            value: {\n              enemies: ['bandit_guard_1', 'bandit_guard_2'],\n              onVictory: 'scene_guards_defeated',\n              onDefeat: 'scene_captured'\n            },\n            description: '산적 경비병들과 전투 시작'\n          }\n        ]\n      },\n      {\n        id: 'choice_sneak',\n        text: '[민첩 35 이상] 경공으로 담을 넘는다.',\n        judgment: {\n          stat: 'dexterity',\n          difficulty: 35,\n          successSceneId: 'scene_sneak_success',\n          failureSceneId: 'scene_sneak_caught',\n          criticalSuccess: 'scene_sneak_critical'\n        }\n      }\n    ],\n    location: 'stronghold_entrance',\n    timeOfDay: 'evening'\n  },\n\n  // ===== 엔딩 장면 (샘플) =====\n  {\n    id: 'scene_chapter1_end',\n    title: '챕터 1 완료',\n    narrativeText: [\n      '━'.repeat(50),\n      '',\n      '【 챕터 1: 사라진 사형 - 완료 】',\n      '',\n      '당신은 흑풍채에 잠입하는 데 성공했다.',\n      '이제 청운 사형을 찾아야 한다.',\n      '',\n      '하지만 채내는 위험으로 가득하다...',\n      '',\n      '━'.repeat(50),\n      '',\n      '[ 챕터 2에서 계속 ]'\n    ],\n    choices: [\n      {\n        id: 'choice_continue_ch2',\n        text: '계속하기 (미구현)',\n        nextSceneId: 'scene_start'\n      }\n    ],\n    location: 'stronghold_inside',\n    timeOfDay: 'night'\n  },\n\n  // ===== 전투 관련 장면 =====\n  \n  // 경비병 격파 후\n  {\n    id: 'scene_guards_defeated',\n    title: '혈로 개척',\n    narrativeText: [\n      '⚔️ [전투 승리!]',\n      '',\n      '두 명의 산적이 신음하며 쓰러진다.',\n      '\"크윽... 이런 실력이...\"',\n      '',\n      '당신은 검을 거두고 목책 안으로 걸어 들어간다.',\n      '멀리서 고함소리가 들린다. 더 많은 산적들이 달려오고 있다!',\n      '',\n      '서둘러 움직여야 한다.'\n    ],\n    choices: [\n      {\n        id: 'choice_search_prison',\n        text: '감옥이 있을 법한 곳으로 달려간다.',\n        nextSceneId: 'scene_rescue_seongun'\n      },\n      {\n        id: 'choice_hide',\n        text: '일단 숨어서 상황을 살핀다.',\n        nextSceneId: 'scene_hide_observe'\n      }\n    ],\n    location: 'stronghold_entrance',\n    timeOfDay: 'evening'\n  },\n\n  // 포로로 잡힘\n  {\n    id: 'scene_captured',\n    title: '패배...',\n    type: 'narrative',\n    autoProgress: true,\n    autoDelay: 3000,\n    narrativeText: [\n      '💀 [전투 패배...]',\n      '',\n      '검이 손에서 미끄러진다.',\n      '온몸이 천근만근이다. 더 이상 싸울 힘이 없다.',\n      '',\n      '의식이 흐려진다...',\n      '',\n      '🏥 누군가가 당신을 발견하여 낙양 의원으로 긴급 이송한다...'\n    ],\n    choices: [\n      {\n        id: 'choice_auto_hospital',\n        text: '(자동 진행)',\n        nextSceneId: 'scene_hospital'\n      }\n    ],\n    location: 'stronghold_entrance',\n    timeOfDay: 'evening',\n    tags: ['defeat', 'hospital_redirect']\n  },\n\n  // 병원 - 치료소\n  {\n    id: 'scene_hospital',\n    title: '낙양 의원 (洛陽醫院)',\n    type: 'decision',\n    narrativeText: [\n      '💊 [낙양 의원]',\n      '',\n      '정신을 차리니 낙양의 한 의원에 누워있다.',\n      '백발의 의원이 당신을 내려다본다.',\n      '',\n      '\"깨어나셨군요. 중상을 입고 쓰러져 계셨습니다.\"',\n      '\"다행히 생명에는 지장이 없으나, 완전한 회복을 위해선 치료가 필요합니다.\"',\n      '',\n      '현재 상태를 확인한다...'\n    ],\n    choices: [\n      {\n        id: 'choice_basic_treatment',\n        text: '기본 치료를 받는다 (금화 20, HP 50 회복)',\n        nextSceneId: 'scene_hospital_treated',\n        importance: 'major',\n        conditions: [\n          {\n            type: 'stat',\n            param: 'gold',\n            operator: '>=',\n            value: 20,\n            displayText: '[금화 20 필요]'\n          }\n        ],\n        consequences: [\n          {\n            type: 'stat_change',\n            param: 'gold',\n            value: -20,\n            description: '금화 -20'\n          },\n          {\n            type: 'health_change',\n            param: 'health',\n            value: 50,\n            description: 'HP +50'\n          }\n        ]\n      },\n      {\n        id: 'choice_advanced_treatment',\n        text: '고급 치료를 받는다 (금화 50, HP 완전 회복 + 버프)',\n        nextSceneId: 'scene_hospital_advanced_treated',\n        importance: 'major',\n        conditions: [\n          {\n            type: 'stat',\n            param: 'gold',\n            operator: '>=',\n            value: 50,\n            displayText: '[금화 50 필요]'\n          }\n        ],\n        consequences: [\n          {\n            type: 'stat_change',\n            param: 'gold',\n            value: -50,\n            description: '금화 -50'\n          },\n          {\n            type: 'health_change',\n            param: 'health',\n            value: 9999,\n            description: 'HP 완전 회복'\n          },\n          {\n            type: 'stat_change',\n            param: 'strength',\n            value: 1,\n            description: '근력 +1'\n          },\n          {\n            type: 'stat_change',\n            param: 'innerPower',\n            value: 1,\n            description: '내공 +1'\n          }\n        ]\n      },\n      {\n        id: 'choice_rest_only',\n        text: '그냥 쉬기만 한다 (무료, HP 30 회복)',\n        nextSceneId: 'scene_hospital_rested',\n        importance: 'minor',\n        consequences: [\n          {\n            type: 'health_change',\n            param: 'health',\n            value: 30,\n            description: 'HP +30'\n          }\n        ]\n      },\n      {\n        id: 'choice_leave_hospital',\n        text: '치료를 거부하고 떠난다',\n        nextSceneId: 'scene_hospital_leave',\n        importance: 'minor'\n      }\n    ],\n    location: 'luoyang_hospital',\n    timeOfDay: 'afternoon',\n    tags: ['hospital', 'recovery']\n  },\n\n  // 기본 치료 후\n  {\n    id: 'scene_hospital_treated',\n    title: '치료 완료',\n    type: 'narrative',\n    autoProgress: true,\n    autoDelay: 3000,\n    narrativeText: [\n      '✨ [치료 완료]',\n      '',\n      '의원이 당신의 상처를 치료한다.',\n      '침을 놓고, 약초를 달여 마시게 한다.',\n      '',\n      '\"이제 괜찮을 겁니다. 하지만 무리는 금물이오.\"',\n      '',\n      '상처가 아물고, 기운이 돌아온다.',\n      '다시 싸울 수 있을 것 같다.'\n    ],\n    choices: [\n      {\n        id: 'choice_continue',\n        text: '의원을 나선다',\n        nextSceneId: 'scene_road_to_luoyang'\n      }\n    ],\n    location: 'luoyang_hospital',\n    timeOfDay: 'afternoon',\n    tags: ['hospital', 'recovery']\n  },\n\n  // 고급 치료 후\n  {\n    id: 'scene_hospital_advanced_treated',\n    title: '완벽한 회복',\n    type: 'narrative',\n    autoProgress: true,\n    autoDelay: 3500,\n    narrativeText: [\n      '✨ [완벽한 회복]',\n      '',\n      '의원이 비전의 치료법을 시전한다.',\n      '침술과 함께 특제 영약을 복용한다.',\n      '',\n      '\"이 약은 내공 운행과 근력 강화에도 도움이 될 것이오.\"',\n      '',\n      '온몸에 따뜻한 기운이 퍼진다.',\n      '상처가 완전히 아물고, 오히려 전보다 더 강해진 기분이다!',\n      '',\n      '💪 근력과 내공이 강화되었다!'\n    ],\n    choices: [\n      {\n        id: 'choice_continue',\n        text: '감사 인사를 하고 의원을 나선다',\n        nextSceneId: 'scene_road_to_luoyang'\n      }\n    ],\n    location: 'luoyang_hospital',\n    timeOfDay: 'afternoon',\n    tags: ['hospital', 'recovery', 'buff']\n  },\n\n  // 휴식만 한 경우\n  {\n    id: 'scene_hospital_rested',\n    title: '휴식',\n    type: 'narrative',\n    autoProgress: true,\n    autoDelay: 2500,\n    narrativeText: [\n      '😌 [휴식]',\n      '',\n      '당신은 침상에 누워 쉰다.',\n      '시간이 지나면서 조금씩 기운이 돌아온다.',\n      '',\n      '완전히 회복되지는 않았지만, 어느 정도 움직일 수 있을 것 같다.',\n      '',\n      '\"무리하지 마시오. 아직 완치되지 않았소.\"'\n    ],\n    choices: [\n      {\n        id: 'choice_continue',\n        text: '의원을 나선다',\n        nextSceneId: 'scene_road_to_luoyang'\n      }\n    ],\n    location: 'luoyang_hospital',\n    timeOfDay: 'afternoon',\n    tags: ['hospital', 'recovery']\n  },\n\n  // 치료 거부\n  {\n    id: 'scene_hospital_leave',\n    title: '의원을 떠나다',\n    type: 'narrative',\n    autoProgress: true,\n    autoDelay: 2000,\n    narrativeText: [\n      '⚠️ [치료 거부]',\n      '',\n      '\"치료가 필요하신데... 무리하지 마시오.\"',\n      '',\n      '당신은 고개를 저으며 의원을 나선다.',\n      '아직 몸이 온전치 않지만, 시간이 없다.',\n      '',\n      '조심스럽게 걸음을 옮긴다...'\n    ],\n    choices: [\n      {\n        id: 'choice_continue',\n        text: '길을 나선다',\n        nextSceneId: 'scene_road_to_luoyang'\n      }\n    ],\n    location: 'luoyang_hospital',\n    timeOfDay: 'afternoon',\n    tags: ['hospital', 'no_recovery']\n  },\n\n  // 청운 구출 성공\n  {\n    id: 'scene_rescue_seongun',\n    title: '사형 구출',\n    narrativeText: [\n      '어두운 감옥 안, 당신은 사형을 발견한다.',\n      '',\n      '\"청운 사형!\"',\n      '\"...후배? 네가 왜 여기에...\"',\n      '',\n      '청운의 얼굴은 상처투성이다. 하지만 눈빛만은 여전히 강렬하다.',\n      '',\n      '\"늦지 않았습니다, 사형!\"',\n      '',\n      '━'.repeat(50),\n      '',\n      '[ 챕터 1 완료 - 청운 사형 구출 성공 ]'\n    ],\n    choices: [\n      {\n        id: 'choice_continue_to_chapter2',\n        text: '계속...',\n        nextSceneId: 'scene_chapter1_end'\n      }\n    ],\n    location: 'stronghold_prison',\n    timeOfDay: 'evening',\n    tags: ['main_quest', 'success']\n  },\n\n  // 은신 후 관찰\n  {\n    id: 'scene_hide_observe',\n    title: '어둠 속에서',\n    type: 'narrative',\n    autoProgress: true,\n    autoDelay: 3500,\n    narrativeText: [\n      '당신은 재빠르게 창고 뒤에 숨는다.',\n      '산적들이 우르르 지나간다.',\n      '',\n      '\"침입자는 어디 갔어?\"',\n      '\"찾아라! 분명 채내에 있을 것이다!\"',\n      '',\n      '그들이 지나간 후, 당신은 조용히 움직인다.',\n      '멀리 창살이 보이는 건물이 눈에 띈다. 감옥일 것이다!'\n    ],\n    choices: [\n      {\n        id: 'choice_approach_prison',\n        text: '감옥으로 조심스럽게 다가간다.',\n        nextSceneId: 'scene_rescue_seongun'\n      }\n    ],\n    location: 'stronghold_inside',\n    timeOfDay: 'evening'\n  },\n\n  // ===== 명상 장면 =====\n  {\n    id: 'scene_meditation',\n    title: '내공 운용',\n    type: 'narrative',\n    autoProgress: true,\n    autoDelay: 3000,\n    narrativeText: [\n      '당신은 근처 바위에 앉아 눈을 감는다.',\n      '숨을 고르고 단전에 기운을 모은다.',\n      '',\n      '맑은 기운이 경맥을 따라 흐른다.',\n      '잠시 후, 몸 상태가 한결 나아진 것을 느낀다.',\n      '',\n      '[내공 +2]'\n    ],\n    choices: [\n      {\n        id: 'choice_continue_after_meditation',\n        text: '수련을 마치고 길을 떠난다.',\n        nextSceneId: 'scene_forest_path'\n      }\n    ],\n    location: 'road_to_luoyang',\n    timeOfDay: 'afternoon'\n  },\n\n  // ===== 던전 입장 장면 =====\n  {\n    id: 'scene_dungeon_entrance',\n    title: '비밀 동굴 입구',\n    type: 'decision',\n    narrativeText: [\n      '낙양 근처 숲길을 걷던 중, 당신은 이상한 동굴 입구를 발견했다.',\n      '입구 근처에서 오래된 핏자국과 검은 기운이 느껴진다.',\n      '',\n      '동굴 안에서 희미하게 보물의 기운이 느껴진다.',\n      '하지만 동시에 위험한 기운도 함께 감지된다.',\n      '',\n      '들어갈 것인가?'\n    ],\n    choices: [\n      {\n        id: 'choice_enter_dungeon',\n        text: '동굴로 들어간다. (던전 진입)',\n        importance: 'major',\n        nextSceneId: 'dungeon_entry_point'\n      },\n      {\n        id: 'choice_explore_forest',\n        text: '위험해 보인다. 다른 길을 찾는다.',\n        nextSceneId: 'scene_forest_path'\n      }\n    ],\n    location: 'road_to_luoyang',\n    timeOfDay: 'afternoon',\n    tags: ['dungeon_entrance', 'exploration']\n  }\n];\n\n", "// 묵향지연 - NPC 데이터베이스\n// 챕터 1에 등장하는 NPC들\n\nimport { WuxiaNPC } from '../models/wuxia-rpg.model';\n\nexport const CHAPTER_1_NPCS: WuxiaNPC[] = [\n  // ===== 주모 =====\n  {\n    id: 'npc_innkeeper',\n    name: '주모',\n    title: '취향루 주모',\n    sect: 'none',\n    personality: ['shrewd', 'observant'],\n    state: 'idle',\n    currentLocation: 'inn',\n    initialRelationship: 0,\n    tags: ['merchant', 'information_broker'],\n    dialogues: [\n      {\n        dialogueId: 'dia_greeting',\n        text: '무엇을 드시겠습니까, 소협?',\n        priority: 1\n      },\n      {\n        dialogueId: 'dia_after_bribe',\n        text: '흑풍채라... 위험한 곳이오. 조심하시오.',\n        conditions: [\n          {\n            type: 'flag',\n            param: 'got_inn_information',\n            operator: '==',\n            value: true\n          }\n        ],\n        priority: 10\n      },\n      {\n        dialogueId: 'dia_high_affection',\n        text: '소협은 좋은 분이시오. 무운을 빌겠소.',\n        conditions: [\n          {\n            type: 'relationship',\n            param: 'npc_innkeeper',\n            operator: '>=',\n            value: 20\n          }\n        ],\n        priority: 15\n      }\n    ]\n  },\n\n  // ===== 산적 두목 =====\n  {\n    id: 'npc_bandit_leader',\n    name: '흑풍',\n    title: '흑풍채 두목',\n    sect: 'none',\n    personality: ['cruel', 'cunning', 'greedy'],\n    state: 'busy',\n    currentLocation: 'stronghold_inside',\n    initialRelationship: -50,\n    tags: ['boss', 'enemy', 'important'],\n    dialogues: [\n      {\n        dialogueId: 'dia_threat',\n        text: '화산파 놈이 또 왔군. 네놈도 잡아가두어라!',\n        priority: 1\n      },\n      {\n        dialogueId: 'dia_negotiation',\n        text: '흥, 화산파가 뭐 대단하다고... 은자를 내놓으면 살려주지.',\n        conditions: [\n          {\n            type: 'tendency',\n            param: 'tendency.value',\n            operator: '>',\n            value: 30\n          }\n        ],\n        priority: 10\n      }\n    ]\n  },\n\n  // ===== 정보원 =====\n  {\n    id: 'npc_informant',\n    name: '무영',\n    title: '떠돌이 협객',\n    sect: 'none',\n    personality: ['mysterious', 'helpful'],\n    state: 'idle',\n    currentLocation: 'inn',\n    initialRelationship: 5,\n    tags: ['informant', 'potential_ally'],\n    dialogues: [\n      {\n        dialogueId: 'dia_greeting',\n        text: '...혼자 흑풍채에 가려는 건가? 무모하군.',\n        priority: 1\n      },\n      {\n        dialogueId: 'dia_hint',\n        text: '밤에 동쪽 담이 허술하다네. 조심하게.',\n        conditions: [\n          {\n            type: 'stat',\n            param: 'insight',\n            operator: '>=',\n            value: 30\n          }\n        ],\n        priority: 10\n      },\n      {\n        dialogueId: 'dia_friendship',\n        text: '자네는 믿을 만한 사람이군. 다음에 또 만나기를.',\n        conditions: [\n          {\n            type: 'relationship',\n            param: 'npc_informant',\n            operator: '>=',\n            value: 30\n          }\n        ],\n        priority: 15\n      }\n    ]\n  },\n\n  // ===== 청운 사형 (목표 NPC) =====\n  {\n    id: 'npc_seongun',\n    name: '청운',\n    title: '화산파 제자',\n    sect: 'huashan',\n    personality: ['righteous', 'brave', 'loyal'],\n    state: 'in_danger',\n    currentLocation: 'stronghold_prison',\n    initialRelationship: 80,\n    tags: ['important', 'quest_target', 'ally'],\n    dialogues: [\n      {\n        dialogueId: 'dia_rescue',\n        text: '사제! 무사하구나! 어서 이곳을 벗어나자!',\n        priority: 1\n      },\n      {\n        dialogueId: 'dia_warning',\n        text: '조심해라. 흑풍은 고수다. 섣불리 덤비지 마라.',\n        priority: 5\n      }\n    ]\n  },\n\n  // ===== 초선 (연애 이벤트용) =====\n  {\n    id: 'npc_choseon',\n    name: '초선',\n    title: '낙양 제일미인',\n    sect: 'none',\n    personality: ['gentle', 'mysterious', 'kind'],\n    state: 'idle',\n    currentLocation: 'soweol_bridge',\n    initialRelationship: 0,\n    tags: ['potential_romance', 'important'],\n    dialogues: [\n      {\n        dialogueId: 'dia_first_meet',\n        text: '...감사합니다.',\n        priority: 1\n      },\n      {\n        dialogueId: 'dia_handkerchief',\n        text: '제 손수건을... 정말 감사드립니다.',\n        conditions: [\n          {\n            type: 'flag',\n            param: 'bridge_encounter_handkerchief',\n            operator: '==',\n            value: true\n          }\n        ],\n        priority: 10\n      },\n      {\n        dialogueId: 'dia_affection',\n        text: '당신을 다시 만날 줄은... 운명인가 봅니다.',\n        conditions: [\n          {\n            type: 'relationship',\n            param: 'npc_choseon',\n            operator: '>=',\n            value: 30\n          }\n        ],\n        priority: 15\n      },\n      {\n        dialogueId: 'dia_high_affection',\n        text: '당신과 함께 있으면... 마음이 편안합니다.',\n        conditions: [\n          {\n            type: 'relationship',\n            param: 'npc_choseon',\n            operator: '>=',\n            value: 60\n          }\n        ],\n        priority: 20\n      }\n    ]\n  },\n\n  // ===== 산적 병졸 =====\n  {\n    id: 'npc_bandit_soldier',\n    name: '산적 병졸',\n    title: '흑풍채 병사',\n    sect: 'none',\n    personality: ['cowardly', 'greedy'],\n    state: 'idle',\n    currentLocation: 'stronghold_entrance',\n    initialRelationship: -20,\n    tags: ['enemy', 'guard'],\n    dialogues: [\n      {\n        dialogueId: 'dia_challenge',\n        text: '누구냐! 당장 물러서지 못할까!',\n        priority: 1\n      },\n      {\n        dialogueId: 'dia_bribe',\n        text: '흠... 이 정도면... 못 본 척 해주지.',\n        conditions: [\n          {\n            type: 'flag',\n            param: 'bribed_guard',\n            operator: '==',\n            value: true\n          }\n        ],\n        priority: 10\n      }\n    ]\n  },\n\n  // ===== 전투용 산적 NPC =====\n  {\n    id: 'bandit_guard_1',\n    name: '흑풍채 경비병 (갑)',\n    title: '흑풍채 졸개',\n    sect: 'none',\n    personality: ['aggressive', 'greedy'],\n    state: 'hostile',\n    currentLocation: 'stronghold_entrance',\n    initialRelationship: -50,\n    tags: ['enemy', 'bandit', 'combatant'],\n    dialogues: [\n      {\n        dialogueId: 'dia_challenge',\n        text: '화산파 놈이 감히! 목숨을 내놔라!',\n        priority: 1\n      }\n    ]\n  },\n\n  {\n    id: 'bandit_guard_2',\n    name: '흑풍채 경비병 (을)',\n    title: '흑풍채 졸개',\n    sect: 'none',\n    personality: ['aggressive', 'cruel'],\n    state: 'hostile',\n    currentLocation: 'stronghold_entrance',\n    initialRelationship: -50,\n    tags: ['enemy', 'bandit', 'combatant'],\n    dialogues: [\n      {\n        dialogueId: 'dia_taunt',\n        text: '네 사형처럼 꼼짝 못하게 해주마!',\n        priority: 1\n      }\n    ]\n  }\n];\n", "// 묵향지연 - 추가 상황 템플릿\n// 기존 WuxiaSituationService 형식의 간소화된 버전\n\nimport { SituationTemplate } from '../models/wuxia-rpg.model';\n\nexport const ADDITIONAL_SITUATION_TEMPLATES: SituationTemplate[] = [\n  // ===== 1. 무림 결투 도전 =====\n  {\n    id: 'RIVALRY_MARTIAL_DUEL',\n    name: '무림 결투 도전',\n    category: 'rivalry',\n    priority: 15,\n    canRepeat: true,\n    cooldown: 3,\n    \n    roles: [\n      { roleId: 'hero', roleName: '주인공' },\n      { \n        roleId: 'rival', \n        roleName: '경쟁자',\n        criteria: {\n          npcTags: ['rival', 'martial_artist'],\n          state: 'idle'\n        }\n      }\n    ],\n    \n    prerequisites: [\n      {\n        type: 'stat',\n        param: 'martial_arts',\n        operator: '>=',\n        value: 40,\n        description: '무공 수준 40 이상'\n      },\n      {\n        type: 'tendency',\n        param: 'tendency.value',\n        operator: '<',\n        value: 0,\n        description: '정파 성향'\n      }\n    ],\n    \n    stages: [\n      {\n        stageId: 'stage_1',\n        stageNumber: 1,\n        scene: {\n          id: 'rivalry_duel_s1',\n          title: '도전',\n          narrativeText: [\n            '{npc_name}이(가) 당신 앞을 가로막았다.',\n            '\"네놈의 실력이 얼마나 늘었는지 보자!\"'\n          ],\n          choices: [\n            {\n              id: 'accept',\n              text: '정면으로 승부한다',\n              nextSceneId: 'rivalry_duel_result'\n            },\n            {\n              id: 'decline',\n              text: '싸움을 피한다',\n              consequences: [\n                { type: 'stat_change', param: 'reputation', value: -5 }\n              ]\n            }\n          ]\n        }\n      }\n    ],\n    \n    outcomes: []\n  },\n\n  // ===== 2. 무공 비급 발견 =====\n  {\n    id: 'MARTIAL_SECRET_DISCOVERY',\n    name: '무공 비급 발견',\n    category: 'opportunity',\n    priority: 20,\n    canRepeat: false,\n    cooldown: 5,\n    \n    roles: [\n      { roleId: 'hero', roleName: '주인공' }\n    ],\n    \n    prerequisites: [\n      {\n        type: 'stat',\n        param: 'luck',\n        operator: '>=',\n        value: 30,\n        description: '운 30 이상'\n      }\n    ],\n    \n    stages: [\n      {\n        stageId: 'stage_1',\n        stageNumber: 1,\n        scene: {\n          id: 'secret_discovery_s1',\n          title: '발견',\n          narrativeText: [\n            '오래된 나무 밑동에서 무언가 반짝이는 것이 보인다.',\n            '낡은 상자 안에는 고서가 들어있다!'\n          ],\n          choices: [\n            {\n              id: 'study',\n              text: '신중하게 연구한다',\n              nextSceneId: 'secret_study_result'\n            },\n            {\n              id: 'practice',\n              text: '즉시 수련한다',\n              nextSceneId: 'secret_practice_result'\n            },\n            {\n              id: 'keep',\n              text: '나중을 위해 보관한다',\n              consequences: [\n                { type: 'item_gain', param: 'secret_manual', value: 1 }\n              ]\n            }\n          ]\n        }\n      }\n    ],\n    \n    outcomes: []\n  },\n\n  // ===== 3. 독살 위기 =====\n  {\n    id: 'CRISIS_POISONING',\n    name: '독살 위기',\n    category: 'crisis',\n    priority: 25,\n    canRepeat: true,\n    cooldown: 4,\n    \n    roles: [\n      { roleId: 'hero', roleName: '주인공' }\n    ],\n    \n    prerequisites: [\n      {\n        type: 'stat',\n        param: 'reputation',\n        operator: '>=',\n        value: 30,\n        description: '명성 30 이상'\n      },\n      {\n        type: 'flag',\n        param: 'made_enemies',\n        operator: '==',\n        value: true,\n        description: '적을 만든 상태'\n      }\n    ],\n    \n    stages: [\n      {\n        stageId: 'stage_1',\n        stageNumber: 1,\n        scene: {\n          id: 'poison_crisis_s1',\n          title: '위기',\n          narrativeText: [\n            '객점에서 술을 마시려는 순간, 미묘한 냄새가 느껴진다.',\n            '이것은... 독의 기운인가?'\n          ],\n          choices: [\n            {\n              id: 'detect',\n              text: '독을 탐지하고 중화한다',\n              nextSceneId: 'poison_detect_result',\n              conditions: [\n                {\n                  type: 'stat',\n                  param: 'insight',\n                  operator: '>=',\n                  value: 45\n                }\n              ]\n            },\n            {\n              id: 'pretend',\n              text: '마신 척하고 범인을 추적한다',\n              nextSceneId: 'poison_pretend_result',\n              conditions: [\n                {\n                  type: 'stat',\n                  param: 'insight',\n                  operator: '>=',\n                  value: 40\n                }\n              ]\n            },\n            {\n              id: 'resist',\n              text: '내공으로 독을 억제한다',\n              nextSceneId: 'poison_resist_result',\n              conditions: [\n                {\n                  type: 'stat',\n                  param: 'martial_arts',\n                  operator: '>=',\n                  value: 50\n                }\n              ]\n            }\n          ]\n        }\n      }\n    ],\n    \n    outcomes: []\n  },\n\n  // ===== 4. 약자 구조 =====\n  {\n    id: 'HELP_WEAK',\n    name: '약자 구조',\n    category: 'moral_choice',\n    priority: 10,\n    canRepeat: true,\n    cooldown: 2,\n    \n    roles: [\n      { roleId: 'hero', roleName: '주인공' },\n      {\n        roleId: 'victim',\n        roleName: '피해자',\n        criteria: {\n          npcTags: ['victim', 'civilian']\n        }\n      }\n    ],\n    \n    prerequisites: [\n      {\n        type: 'tendency',\n        param: 'tendency.value',\n        operator: '<',\n        value: 20,\n        description: '정파 성향'\n      }\n    ],\n    \n    stages: [\n      {\n        stageId: 'stage_1',\n        stageNumber: 1,\n        scene: {\n          id: 'help_weak_s1',\n          title: '구조',\n          narrativeText: [\n            '길 앞에서 비명소리가 들린다.',\n            '상인이 산적들에게 습격당하고 있다!'\n          ],\n          choices: [\n            {\n              id: 'rescue',\n              text: '산적들과 싸워 구한다',\n              nextSceneId: 'help_rescue_result'\n            },\n            {\n              id: 'negotiate',\n              text: '산적들과 협상한다',\n              nextSceneId: 'help_negotiate_result',\n              conditions: [\n                {\n                  type: 'stat',\n                  param: 'insight',\n                  operator: '>=',\n                  value: 35\n                }\n              ]\n            },\n            {\n              id: 'ignore',\n              text: '모른 척 지나간다',\n              consequences: [\n                { type: 'tendency_change', param: 'tendency.value', value: 15 },\n                { type: 'stat_change', param: 'reputation', value: -5 }\n              ]\n            }\n          ]\n        }\n      }\n    ],\n    \n    outcomes: []\n  }\n];\n\n", "// 묵향지연 - 장비 아이템 데이터\n// 무협 세계관의 무기, 방어구, 악세사리\n\nimport { InventoryItem } from '../models/inventory.model';\n\n/**\n * 무기 아이템\n */\nexport const WEAPONS: InventoryItem[] = [\n  // ===== 일반 무기 =====\n  {\n    id: 'weapon_wooden_sword',\n    name: '목검',\n    description: '훈련용 나무 검. 기본적인 무기.',\n    type: 'weapon',\n    quantity: 1,\n    buyPrice: 50,\n    sellPrice: 10,\n    rarity: 'common',\n    stats: {\n      attack: 5,\n      minDamage: 3,\n      maxDamage: 8\n    }\n  },\n  {\n    id: 'weapon_iron_sword',\n    name: '철검',\n    description: '일반적인 철제 검. 무난한 성능.',\n    type: 'weapon',\n    quantity: 1,\n    buyPrice: 200,\n    sellPrice: 50,\n    rarity: 'common',\n    stats: {\n      attack: 15,\n      minDamage: 10,\n      maxDamage: 20\n    }\n  },\n  {\n    id: 'weapon_steel_sword',\n    name: '강철검',\n    description: '단련된 강철로 만든 검. 우수한 품질.',\n    type: 'weapon',\n    quantity: 1,\n    buyPrice: 500,\n    sellPrice: 125,\n    rarity: 'uncommon',\n    stats: {\n      attack: 30,\n      minDamage: 20,\n      maxDamage: 40,\n      critChance: 5\n    }\n  },\n\n  // ===== 고급 무기 =====\n  {\n    id: 'weapon_azure_cloud_sword',\n    name: '청운검',\n    description: '화산파의 제자들이 사용하는 명검. 푸른 빛이 감돈다.',\n    type: 'weapon',\n    quantity: 1,\n    buyPrice: 1500,\n    sellPrice: 375,\n    rarity: 'rare',\n    stats: {\n      attack: 50,\n      minDamage: 35,\n      maxDamage: 65,\n      critChance: 10,\n      attackSpeed: 10\n    },\n    uniqueEffect: '화산파 검법 위력 +15%'\n  },\n  {\n    id: 'weapon_cold_moon_blade',\n    name: '한월도',\n    description: '달빛처럼 차가운 기운을 뿜는 도. 빠른 공격에 특화.',\n    type: 'weapon',\n    quantity: 1,\n    buyPrice: 2000,\n    sellPrice: 500,\n    rarity: 'rare',\n    stats: {\n      attack: 45,\n      minDamage: 30,\n      maxDamage: 60,\n      attackSpeed: 20,\n      critDamage: 25\n    }\n  },\n\n  // ===== 전설 무기 =====\n  {\n    id: 'weapon_dragon_slayer',\n    name: '용린검',\n    description: '전설의 용을 쓰러뜨렸다는 명검. 엄청난 파괴력을 자랑한다.',\n    type: 'weapon',\n    quantity: 1,\n    buyPrice: 5000,\n    sellPrice: 1250,\n    rarity: 'epic',\n    stats: {\n      attack: 80,\n      minDamage: 60,\n      maxDamage: 120,\n      critChance: 15,\n      critDamage: 50,\n      lifeSteal: 5\n    },\n    uniqueEffect: '용족에게 추가 피해 +30%'\n  },\n  {\n    id: 'weapon_heavenly_demon_sword',\n    name: '천마검',\n    description: '천마신교의 비전 검. 사악한 기운이 느껴진다.',\n    type: 'weapon',\n    quantity: 1,\n    buyPrice: 8000,\n    sellPrice: 2000,\n    rarity: 'legendary',\n    stats: {\n      attack: 100,\n      minDamage: 80,\n      maxDamage: 150,\n      critChance: 20,\n      critDamage: 75,\n      lifeSteal: 10,\n      attackSpeed: 15\n    },\n    uniqueEffect: '마공 사용 시 위력 +25%, 성향 +1/일'\n  }\n];\n\n/**\n * 방어구 아이템\n */\nexport const ARMORS: InventoryItem[] = [\n  // ===== 일반 의복 =====\n  {\n    id: 'armor_cloth_robe',\n    name: '천의',\n    description: '일반적인 천으로 만든 옷.',\n    type: 'armor',\n    quantity: 1,\n    buyPrice: 30,\n    sellPrice: 7,\n    rarity: 'common',\n    stats: {\n      defense: 5,\n      armor: 3,\n      hp: 20\n    }\n  },\n  {\n    id: 'armor_leather_armor',\n    name: '가죽 갑옷',\n    description: '질긴 가죽으로 만든 갑옷. 적당한 방어력.',\n    type: 'armor',\n    quantity: 1,\n    buyPrice: 150,\n    sellPrice: 37,\n    rarity: 'common',\n    stats: {\n      defense: 15,\n      armor: 10,\n      hp: 50,\n      evasion: 5\n    }\n  },\n\n  // ===== 고급 의복 =====\n  {\n    id: 'armor_huashan_robe',\n    name: '화산도복',\n    description: '화산파의 정식 제자가 입는 도복. 푸른색이 아름답다.',\n    type: 'armor',\n    quantity: 1,\n    buyPrice: 800,\n    sellPrice: 200,\n    rarity: 'uncommon',\n    stats: {\n      defense: 30,\n      armor: 20,\n      hp: 100,\n      mp: 50,\n      evasion: 10\n    },\n    uniqueEffect: '화산파 무공 수련 속도 +20%'\n  },\n  {\n    id: 'armor_silkworm_armor',\n    name: '천잠갑의',\n    description: '전설의 천잠사로 짠 갑옷. 가볍지만 강하다.',\n    type: 'armor',\n    quantity: 1,\n    buyPrice: 2500,\n    sellPrice: 625,\n    rarity: 'rare',\n    stats: {\n      defense: 50,\n      armor: 40,\n      hp: 200,\n      evasion: 20,\n      allResist: 10\n    },\n    uniqueEffect: '독 저항 +50%'\n  },\n\n  // ===== 전설 방어구 =====\n  {\n    id: 'armor_dragon_scale',\n    name: '용린갑',\n    description: '용의 비늘로 만든 갑옷. 거의 무적에 가까운 방어력.',\n    type: 'armor',\n    quantity: 1,\n    buyPrice: 6000,\n    sellPrice: 1500,\n    rarity: 'epic',\n    stats: {\n      defense: 80,\n      armor: 70,\n      hp: 300,\n      allResist: 25,\n      lifeRegen: 5\n    },\n    uniqueEffect: '화염 공격 무효화'\n  },\n  {\n    id: 'armor_heavenly_silk',\n    name: '천잠신의',\n    description: '천년 천잠사로 만든 신의. 모든 공격을 부드럽게 흘린다.',\n    type: 'armor',\n    quantity: 1,\n    buyPrice: 10000,\n    sellPrice: 2500,\n    rarity: 'legendary',\n    stats: {\n      defense: 100,\n      armor: 90,\n      hp: 400,\n      mp: 200,\n      evasion: 30,\n      allResist: 35,\n      lifeRegen: 10\n    },\n    uniqueEffect: '모든 상태이상 저항 +50%'\n  }\n];\n\n/**\n * 악세사리 아이템\n */\nexport const ACCESSORIES: InventoryItem[] = [\n  // ===== 목걸이 =====\n  {\n    id: 'accessory_jade_pendant',\n    name: '옥패',\n    description: '맑은 옥으로 만든 패. 기운을 안정시킨다.',\n    type: 'amulet',\n    quantity: 1,\n    buyPrice: 300,\n    sellPrice: 75,\n    rarity: 'uncommon',\n    stats: {\n      hp: 50,\n      mp: 30,\n      manaRegen: 2\n    }\n  },\n  {\n    id: 'accessory_inner_power_amulet',\n    name: '내공 부적',\n    description: '내공 수련에 도움을 주는 부적.',\n    type: 'amulet',\n    quantity: 1,\n    buyPrice: 1000,\n    sellPrice: 250,\n    rarity: 'rare',\n    stats: {\n      mp: 100,\n      manaRegen: 5,\n      attack: 20\n    },\n    uniqueEffect: '내공 회복 속도 +25%'\n  },\n\n  // ===== 반지 =====\n  {\n    id: 'accessory_strength_ring',\n    name: '력량의 반지',\n    description: '착용자의 힘을 증폭시키는 반지.',\n    type: 'ring',\n    quantity: 1,\n    buyPrice: 500,\n    sellPrice: 125,\n    rarity: 'uncommon',\n    stats: {\n      attack: 15,\n      minDamage: 5,\n      maxDamage: 10\n    }\n  },\n  {\n    id: 'accessory_swift_ring',\n    name: '신속의 반지',\n    description: '착용자의 민첩함을 높여주는 반지.',\n    type: 'ring',\n    quantity: 1,\n    buyPrice: 500,\n    sellPrice: 125,\n    rarity: 'uncommon',\n    stats: {\n      evasion: 10,\n      attackSpeed: 10,\n      critChance: 5\n    }\n  },\n\n  // ===== 전설 악세사리 =====\n  {\n    id: 'accessory_phoenix_feather',\n    name: '봉황의 깃털',\n    description: '불사조의 깃털로 만든 목걸이. 생명력이 넘친다.',\n    type: 'amulet',\n    quantity: 1,\n    buyPrice: 5000,\n    sellPrice: 1250,\n    rarity: 'epic',\n    stats: {\n      hp: 300,\n      lifeRegen: 10,\n      lifeSteal: 5,\n      fireResist: 50\n    },\n    uniqueEffect: '생명력 30% 이하 시 자동 회복 (1회/전투)'\n  },\n  {\n    id: 'accessory_dragon_heart',\n    name: '용의 심장',\n    description: '전설의 용이 남긴 심장 결정. 엄청난 힘이 느껴진다.',\n    type: 'ring',\n    quantity: 1,\n    buyPrice: 8000,\n    sellPrice: 2000,\n    rarity: 'legendary',\n    stats: {\n      attack: 50,\n      hp: 200,\n      mp: 100,\n      critChance: 15,\n      critDamage: 30,\n      allResist: 20\n    },\n    uniqueEffect: '모든 능력치 +10%'\n  }\n];\n\n/**\n * 모든 장비 아이템\n */\nexport const ALL_EQUIPMENT_ITEMS: InventoryItem[] = [\n  ...WEAPONS,\n  ...ARMORS,\n  ...ACCESSORIES\n];\n\n/**\n * ID로 장비 아이템 찾기\n */\nexport function getEquipmentById(id: string): InventoryItem | undefined {\n  return ALL_EQUIPMENT_ITEMS.find(item => item.id === id);\n}\n\n/**\n * 초보자 장비 세트\n */\nexport const STARTER_EQUIPMENT: InventoryItem[] = [\n  { ...WEAPONS[0] }, // 목검\n  { ...ARMORS[0] }   // 천의\n];\n", "import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nexport type ModalType = 'info' | 'success' | 'warning' | 'error' | 'confirm';\n\n@Component({\n  selector: 'app-game-modal',\n  standalone: true,\n  imports: [CommonModule],\n  templateUrl: './game-modal.component.html',\n  styleUrls: ['./game-modal.component.scss']\n})\nexport class GameModalComponent {\n  @Input() isOpen = false;\n  @Input() type: ModalType = 'info';\n  @Input() title = '';\n  @Input() message = '';\n  @Input() confirmText = '확인';\n  @Input() cancelText = '취소';\n  @Input() showCancel = false;\n  \n  @Output() confirm = new EventEmitter<void>();\n  @Output() cancel = new EventEmitter<void>();\n  @Output() close = new EventEmitter<void>();\n\n  onConfirm(): void {\n    this.confirm.emit();\n    this.isOpen = false;\n  }\n\n  onCancel(): void {\n    this.cancel.emit();\n    this.isOpen = false;\n  }\n\n  onClose(): void {\n    this.close.emit();\n    this.isOpen = false;\n  }\n\n  onBackdropClick(event: MouseEvent): void {\n    if (event.target === event.currentTarget) {\n      this.onClose();\n    }\n  }\n\n  getIcon(): string {\n    switch (this.type) {\n      case 'success': return '✓';\n      case 'warning': return '⚠';\n      case 'error': return '✕';\n      case 'confirm': return '?';\n      default: return 'ℹ';\n    }\n  }\n}\n", "<!-- 무협 게임 공통 모달 -->\n<div class=\"modal-overlay\" *ngIf=\"isOpen\" (click)=\"onBackdropClick($event)\">\n  <div class=\"modal-container\" [class]=\"'modal-' + type\">\n    <!-- 모달 헤더 -->\n    <div class=\"modal-header\">\n      <div class=\"modal-icon\">{{ getIcon() }}</div>\n      <h3 class=\"modal-title\">{{ title }}</h3>\n      <button class=\"modal-close\" (click)=\"onClose()\" aria-label=\"닫기\">✕</button>\n    </div>\n\n    <!-- 모달 바디 -->\n    <div class=\"modal-body\">\n      <p class=\"modal-message\" [innerHTML]=\"message\"></p>\n    </div>\n\n    <!-- 모달 푸터 -->\n    <div class=\"modal-footer\">\n      <button \n        *ngIf=\"showCancel\" \n        class=\"modal-btn modal-btn-cancel\" \n        (click)=\"onCancel()\">\n        {{ cancelText }}\n      </button>\n      <button \n        class=\"modal-btn modal-btn-confirm\" \n        [class]=\"'modal-btn-' + type\"\n        (click)=\"onConfirm()\">\n        {{ confirmText }}\n      </button>\n    </div>\n  </div>\n</div>\n", "import { Component, OnInit, OnDestroy, inject, ChangeDetectorRef } from '@angular/core';\nimport { \n  WuxiaScene, WuxiaChoice, WuxiaRPGCharacter, WuxiaGameState,\n  WuxiaNPC, SituationInstance\n} from '../../models/wuxia-rpg.model';\nimport { InventoryItem } from '../../models/inventory.model';\nimport { WuxiaSceneService } from '../../services/wuxia-scene.service';\nimport { WuxiaSituationService } from '../../services/wuxia-situation.service';\nimport { NotificationService } from '../../../../services/notification.service';\nimport { BattleCharacter } from '../battle-modal/battle-modal.component';\nimport { WuxiaBattleAdapter } from '../../services/wuxia-battle.adapter';\nimport { EquipmentService } from '../../services/equipment.service';\nimport { DebugLoggerService } from '../../../../shared/services/debug-logger.service';\nimport { DungeonGeneratorService } from '../../services/dungeon-generator.service';\nimport { DungeonService } from '../../services/dungeon.service';\nimport { GameStorageService } from '../../services/game-storage.service';\nimport { GameModalService, ModalConfig } from '../../services/game-modal.service';\nimport { DifficultyLevel } from '../../models/dungeon.model';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n// 데이터 임포트\nimport { CHAPTER_1_SCENES } from '../../data/chapter1-scenes.data';\nimport { CHAPTER_1_NPCS } from '../../data/chapter1-npcs.data';\nimport { ADDITIONAL_SITUATION_TEMPLATES } from '../../data/situation-templates.data';\nimport { WEAPONS, ARMORS, STARTER_EQUIPMENT } from '../../data/equipment-items.data';\n\n/**\n * 묵향지연 - 텍스트 기반 무협 RPG 게임 진행 컴포넌트\n */\n@Component({\n  selector: 'app-wuxia-game',\n  templateUrl: './wuxia-game.component.html',\n  styleUrls: ['./wuxia-game.component.scss'],\n  standalone: false\n})\nexport class WuxiaGameComponent implements OnInit, OnDestroy {\n  private destroy$ = new Subject<void>();\n  \n  // Services\n  private sceneService = inject(WuxiaSceneService);\n  private situationService = inject(WuxiaSituationService);\n  private notification = inject(NotificationService);\n  private equipmentService = inject(EquipmentService);\n  private debugLogger = inject(DebugLoggerService);\n  private dungeonGenerator = inject(DungeonGeneratorService);\n  private dungeonService = inject(DungeonService);\n  private gameStorage = inject(GameStorageService);\n  private modalService = inject(GameModalService);\n  private cdr = inject(ChangeDetectorRef);\n  \n  // 모달 상태\n  modalState: ModalConfig | null = null;\n  isModalOpen = false;\n  \n  // ===== 게임 상태 =====\n  gameState: WuxiaGameState | null = null;\n  player: WuxiaRPGCharacter | null = null;\n  \n  // ===== 현재 장면 =====\n  currentScene: WuxiaScene | null = null;\n  availableChoices: WuxiaChoice[] = [];\n  \n  // ===== 전투 상태 =====\n  inBattle = false;\n  battleState: {\n    player: BattleCharacter;\n    enemies: BattleCharacter[];\n    currentTurn: 'player' | 'enemy';\n    targetedEnemyIndex: number;\n    logs: { message: string }[];\n    isAutoBattle: boolean;\n    ended: boolean;\n    victory: boolean;\n    onVictoryScene: string;\n    onDefeatScene: string;\n  } | null = null;\n  showSkillMenu = false;\n  private autoBattleInterval: any;\n  \n  // ===== UI 상태 =====\n  showInventory = false;\n  showCharacterSheet = false;\n  showHelp = false;\n  \n  // ===== 게임 로그 =====\n  gameLog: string[] = [];\n  maxLogLines = 100;\n  \n  // ===== 자동 진행 =====\n  private autoProgressTimer: any;\n  isAutoProgressing = false;\n  autoProgressCountdown = 0;\n  \n  // ===== 임시: NPC 데이터 =====\n  availableNPCs: WuxiaNPC[] = [];\n  \n  // ===== 메타 =====\n  currentLocation = 'start_village';\n  currentTimeOfDay: 'dawn' | 'morning' | 'afternoon' | 'evening' | 'night' = 'morning';\n  \n  ngOnInit(): void {\n    // 전투 상태 명시적 초기화 (캐시 문제 방지)\n    this.inBattle = false;\n    this.battleState = null;\n    this.showSkillMenu = false;\n    \n    // 던전 상태 명시적 초기화\n    this.showDungeonExplorer = false;\n    this.currentDungeon = null;\n    this.currentDungeonRoom = null;\n    \n    this.initializeGame();\n    this.setupKeyboardListeners();\n    this.subscribeToModal();\n  }\n  \n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n    this.clearAutoProgress();\n  }\n  \n  /**\n   * 모달 구독 설정\n   */\n  private subscribeToModal(): void {\n    this.modalService.modal$\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(state => {\n        this.isModalOpen = state.isOpen;\n        this.modalState = state.config;\n        this.cdr.detectChanges();\n      });\n  }\n  \n  /**\n   * 모달 확인\n   */\n  onModalConfirm(): void {\n    if (this.modalState?.onConfirm) {\n      this.modalState.onConfirm();\n    }\n    this.modalService.close();\n  }\n  \n  /**\n   * 모달 취소\n   */\n  onModalCancel(): void {\n    if (this.modalState?.onCancel) {\n      this.modalState.onCancel();\n    }\n    this.modalService.close();\n  }\n  \n  /**\n   * 모달 닫기\n   */\n  onModalClose(): void {\n    this.modalService.close();\n  }\n  \n  /**\n   * 키보드 리스너 설정\n   */\n  private setupKeyboardListeners(): void {\n    document.addEventListener('keydown', (event) => {\n      if (event.code === 'Space' && !this.inBattle) {\n        event.preventDefault();\n        this.handleSpaceKey();\n      }\n    });\n  }\n  \n  /**\n   * 게임 초기화\n   */\n  private async initializeGame(): Promise<void> {\n    // 챕터 1 장면 데이터 로드\n    this.loadChapter1Scenes();\n    \n    // 챕터 1 NPC 로드\n    this.loadChapter1NPCs();\n    \n    // 추가 상황 템플릿 등록\n    this.loadAdditionalSituations();\n    \n    // 저장된 게임이 있는지 확인하고 자동 로드\n    const hasSavedGame = await this.checkAndLoadSavedGame();\n    \n    if (!hasSavedGame) {\n      // 저장된 게임이 없으면 새 게임 시작\n      this.startNewGameInternal();\n    }\n  }\n  \n  /**\n   * 저장된 게임 확인 및 자동 로드\n   */\n  private async checkAndLoadSavedGame(): Promise<boolean> {\n    try {\n      const saveData = await this.gameStorage.loadGame('slot_1');\n      \n      if (saveData) {\n        // 전투 상태 초기화 (저장된 게임은 전투 중이 아님)\n        this.inBattle = false;\n        this.battleState = null;\n        this.showSkillMenu = false;\n        \n        // 플레이어 데이터 복원 (배열을 Set과 Map으로 변환)\n        const player = saveData.playerCharacter;\n        this.player = {\n          ...player,\n          flags: new Set(player.flags || []),\n          relationships: new Map(player.relationships || [])\n        };\n        \n        if (!this.player) {\n          return false;\n        }\n        \n        // 게임 상태 복원\n        this.gameState = {\n          gameId: 'wuxia_rpg',\n          currentChapter: saveData.currentChapter,\n          chapterProgress: 0,\n          player: this.player,\n          currentSceneId: '',\n          visitedScenes: [],\n          completedSituations: [],\n          activeSituations: [],\n          currentObjective: '',\n          completedObjectives: [],\n          playTime: 0,\n          saveDate: new Date(saveData.saveDate)\n        };\n        \n        // 던전 진행 상태 복원\n        if (saveData.dungeonProgress && saveData.dungeonProgress.isInDungeon) {\n          // 던전 데이터 저장은 하지만 자동으로 활성화하지 않음\n          // (전투 중 상태 방지)\n          this.currentDungeon = saveData.dungeonProgress.currentDungeon;\n          this.currentDungeonRoom = saveData.dungeonProgress.currentRoom;\n          \n          // 던전 탐험 화면은 기본적으로 비활성화\n          this.showDungeonExplorer = false;\n          \n          // 던전 복원 시에도 전투 상태는 초기화 (전투는 저장하지 않음)\n          this.inBattle = false;\n          this.battleState = null;\n          this.showSkillMenu = false;\n          \n          this.addLog('🏰 [던전 데이터 복원됨]');\n          this.addLog('⚠️ [전투 방지를 위해 던전 화면은 비활성화됩니다]');\n          this.addLog('💡 [던전 입장 버튼을 눌러 다시 입장하세요]');\n        } else {\n          // 던전이 아니면 시작 장면 로드\n          this.loadScene('scene_start');\n        }\n        \n        // 복원 메시지\n        this.addLog('=== 묵향지연 (墨香之緣) ===');\n        this.addLog('📂 [저장된 게임을 불러왔습니다]');\n        this.addLog(`레벨: ${this.player.level} | 경험치: ${this.player.experience}/${this.player.experienceToNext}`);\n        this.addLog(`전투력: ${saveData.combatPower || 0}`);\n        this.addLog(`진행도: 챕터 ${this.gameState.currentChapter}`);\n        this.addLog('');\n        \n        this.debugLogger.info('WuxiaGame', '저장된 게임 자동 로드 완료');\n        return true;\n      }\n      \n      return false;\n    } catch (error) {\n      this.debugLogger.error('WuxiaGame', `자동 로드 실패: ${error}`);\n      return false;\n    }\n  }\n  \n  /**\n   * 새 게임 시작 (내부용)\n   */\n  private startNewGameInternal(): void {\n    this.debugLogger.info('WuxiaGame', '=== 새 게임 시작 ===');\n    \n    // 전투 상태 초기화\n    this.inBattle = false;\n    this.battleState = null;\n    this.showSkillMenu = false;\n    this.debugLogger.info('WuxiaGame', `전투 상태 초기화: inBattle=${this.inBattle}`);\n    \n    // 던전 상태 초기화\n    this.showDungeonExplorer = false;\n    this.currentDungeon = null;\n    this.currentDungeonRoom = null;\n    this.debugLogger.info('WuxiaGame', `던전 상태 초기화: showDungeonExplorer=${this.showDungeonExplorer}`);\n    \n    // UI 상태 초기화\n    this.showInventory = false;\n    this.showCharacterSheet = false;\n    this.showHelp = false;\n    \n    // 변경 감지 강제 트리거\n    this.cdr.detectChanges();\n    \n    // 플레이어 캐릭터 생성\n    this.player = this.createDefaultPlayer();\n    \n    // 게임 상태 초기화\n    this.gameState = {\n      gameId: `game_${Date.now()}`,\n      saveDate: new Date(),\n      playTime: 0,\n      player: this.player,\n      currentSceneId: 'scene_start',\n      visitedScenes: [],\n      activeSituations: [],\n      completedSituations: [],\n      currentChapter: 1,\n      chapterProgress: 0,\n      currentObjective: '사라진 사형을 찾아라',\n      completedObjectives: []\n    };\n    \n    // 시작 장면 로드\n    this.loadScene('scene_start');\n    \n    // 환영 메시지\n    this.addLog('=== 묵향지연 (墨香之緣) ===');\n    this.addLog('텍스트 기반 무협 RPG에 오신 것을 환영합니다.');\n    this.addLog('');\n    \n    // 최종 변경 감지\n    this.cdr.detectChanges();\n    \n    this.debugLogger.info('WuxiaGame', `새 게임 시작 완료 - inBattle: ${this.inBattle}, showDungeonExplorer: ${this.showDungeonExplorer}`);\n  }\n  \n  /**\n   * 기본 플레이어 생성\n   */\n  private createDefaultPlayer(): WuxiaRPGCharacter {\n    // 초보자 장비 복사\n    const starterWeapon = { ...STARTER_EQUIPMENT[0], isEquipped: true };\n    const starterArmor = { ...STARTER_EQUIPMENT[1], isEquipped: true };\n    \n    // 추가 테스트 장비\n    const testWeapon = { ...WEAPONS[2] }; // 강철검\n    const testArmor = { ...ARMORS[2] };   // 화산도복\n    \n    return {\n      name: '검객',\n      level: 1,\n      experience: 0,\n      experienceToNext: 100,  // 레벨 2까지 100 경험치\n      stats: {\n        strength: 18,         // 근력\n        dexterity: 20,        // 민첩\n        innerPower: 15,       // 내공\n        insight: 22           // 통찰\n      },\n      health: 100,\n      maxHealth: 100,\n      injuries: [],\n      sect: 'huashan',        // 화산파\n      personality: 'righteous',\n      tendency: {\n        value: -10,           // 정파 성향\n        label: '정파',\n        description: '정의로운 협객의 길을 걷는다.'\n      },\n      learnedSkills: ['huashan_basic_sword'],\n      inventory: [\n        starterWeapon,        // 목검 (장착중)\n        starterArmor,         // 천의 (장착중)\n        testWeapon,           // 강철검 (테스트용)\n        testArmor,            // 화산도복 (테스트용)\n        {\n          id: 'silver',\n          name: '은자',\n          type: 'misc',\n          rarity: 'common',\n          description: '강호에서 통용되는 화폐',\n          quantity: 100\n        }\n      ],\n      equippedItems: {\n        weapon: starterWeapon.id,\n        armor: starterArmor.id\n      },\n      flags: new Set<string>(),\n      relationships: new Map<string, number>()\n    };\n  }\n  \n  /**\n   * 챕터 1 장면 데이터 로드\n   */\n  private loadChapter1Scenes(): void {\n    this.sceneService.registerScenes(CHAPTER_1_SCENES);\n    this.addLog(`✓ 챕터 1 장면 ${CHAPTER_1_SCENES.length}개 로드 완료`);\n  }\n  \n  /**\n   * 챕터 1 NPC 로드\n   */\n  private loadChapter1NPCs(): void {\n    this.availableNPCs = CHAPTER_1_NPCS;\n    this.addLog(`✓ NPC ${CHAPTER_1_NPCS.length}명 로드 완료`);\n  }\n  \n  /**\n   * 추가 상황 템플릿 등록\n   */\n  private loadAdditionalSituations(): void {\n    ADDITIONAL_SITUATION_TEMPLATES.forEach(template => {\n      this.situationService.registerTemplate(template);\n    });\n    this.addLog(`✓ 상황 템플릿 ${ADDITIONAL_SITUATION_TEMPLATES.length}개 등록 완료`);\n  }\n  \n  /**\n   * 샘플 장면 데이터 로드 (레거시 - 제거 예정)\n   */\n  private loadSampleScenes(): void {\n    const scenes: WuxiaScene[] = [\n      {\n        id: 'scene_start',\n        title: '혼탁한 강호',\n        narrativeText: [\n          '화산파의 막내 제자인 당신은 심각한 소식을 들었다.',\n          '가장 아끼던 사형 `청운`이 흑풍채로 떠난 뒤 소식이 끊겼다는 것이다.',\n          '',\n          '장문인께서는 당신을 부르셨다.',\n          '\"네가 가거라. 사형을 찾아오너라. 그러나... 무리하지는 말거라.\"',\n          '',\n          '낙양으로 가는 길목, 당신은 한 주막 앞에 멈춰 섰다.'\n        ],\n        choices: [\n          {\n            id: 'choice_enter_inn',\n            text: '주막에 들어가 정보를 얻는다.',\n            nextSceneId: 'scene_inn_inside'\n          },\n          {\n            id: 'choice_continue',\n            text: '서두른다. 곧장 흑풍채로 향한다.',\n            nextSceneId: 'scene_forest_path',\n            conditions: [\n              {\n                type: 'stat',\n                param: 'dexterity',\n                operator: '>=',\n                value: 15,\n                displayText: '[민첩 15 이상]'\n              }\n            ]\n          },\n          {\n            id: 'choice_meditate',\n            text: '근처 바위에 앉아 내공을 운용한다.',\n            nextSceneId: 'scene_meditation',\n            consequences: [\n              {\n                type: 'stat_change',\n                param: 'innerPower',\n                value: 2,\n                description: '내공 +2'\n              }\n            ]\n          }\n        ],\n        tags: ['chapter_1', 'main_quest'],\n        location: 'road_to_luoyang',\n        timeOfDay: 'afternoon'\n      },\n      {\n        id: 'scene_inn_inside',\n        title: '은은한 술 냄새',\n        narrativeText: [\n          '주막 안은 시끌벅적하다.',\n          '한쪽 구석에서 수상한 사내들이 웅성거리고 있다.',\n          '주모가 다가와 묻는다. \"무엇을 드시겠습니까, 소협?\"'\n        ],\n        choices: [\n          {\n            id: 'choice_order_wine',\n            text: '술 한 잔을 시킨다.',\n            nextSceneId: 'scene_inn_wine',\n            consequences: [\n              {\n                type: 'item_lose',\n                param: 'gold',\n                value: 5,\n                description: '금화 -5'\n              }\n            ]\n          },\n          {\n            id: 'choice_ask_info',\n            text: '[통찰 20 이상] 주모에게 흑풍채에 대해 은밀히 물어본다.',\n            nextSceneId: 'scene_inn_information',\n            conditions: [\n              {\n                type: 'stat',\n                param: 'insight',\n                operator: '>=',\n                value: 20,\n                displayText: '[통찰 20 이상]'\n              }\n            ]\n          },\n          {\n            id: 'choice_approach_thugs',\n            text: '수상한 사내들에게 다가간다.',\n            nextSceneId: 'scene_inn_confrontation',\n            judgment: {\n              stat: 'insight',\n              difficulty: 25,\n              successSceneId: 'scene_inn_info_success',\n              failureSceneId: 'scene_inn_fight'\n            }\n          }\n        ],\n        location: 'inn',\n        timeOfDay: 'afternoon'\n      },\n      {\n        id: 'scene_meditation',\n        title: '고요한 수련',\n        narrativeText: [\n          '바위에 앉아 숨을 가다듬는다.',\n          '단전에 기운이 모이는 것을 느낀다.',\n          '잠시 후, 머릿속이 한결 맑아진 기분이다.',\n          '',\n          '[내공 +2]'\n        ],\n        choices: [\n          {\n            id: 'choice_continue_meditation',\n            text: '조금 더 수련한다.',\n            nextSceneId: 'scene_meditation_deep',\n            conditions: [\n              {\n                type: 'stat',\n                param: 'innerPower',\n                operator: '>=',\n                value: 12,\n                displayText: '[내공 12 이상]'\n              }\n            ]\n          },\n          {\n            id: 'choice_stop',\n            text: '그만하고 길을 떠난다.',\n            nextSceneId: 'scene_forest_path'\n          }\n        ],\n        location: 'road_to_luoyang',\n        timeOfDay: 'evening'\n      }\n    ];\n    \n    this.sceneService.registerScenes(scenes);\n  }\n  \n  /**\n   * 샘플 NPC 로드\n   */\n  private loadSampleNPCs(): void {\n    this.availableNPCs = [\n      {\n        id: 'npc_choseon',\n        name: '초선',\n        title: '낙양 제일미인',\n        sect: 'none',\n        personality: ['gentle', 'mysterious'],\n        state: 'idle',\n        currentLocation: 'soweol_bridge',\n        initialRelationship: 0,\n        dialogues: [\n          {\n            dialogueId: 'dia_1',\n            text: '...감사합니다.',\n            priority: 1\n          }\n        ],\n        tags: ['potential_romance', 'important']\n      }\n    ];\n  }\n  \n  /**\n   * 장면 로드\n   */\n  loadScene(sceneId: string): void {\n    const scene = this.sceneService.loadScene(sceneId);\n    \n    if (!scene) {\n      this.addLog(`[오류] 장면을 찾을 수 없습니다: ${sceneId}`);\n      return;\n    }\n    \n    this.currentScene = scene;\n    \n    // 방문 기록\n    if (this.gameState && !this.gameState.visitedScenes.includes(sceneId)) {\n      this.gameState.visitedScenes.push(sceneId);\n    }\n    \n    // 메타 정보 업데이트\n    if (scene.location) {\n      this.currentLocation = scene.location;\n    }\n    if (scene.timeOfDay) {\n      this.currentTimeOfDay = scene.timeOfDay;\n    }\n    \n    // 동적 상황 트리거 체크\n    this.checkSituationTriggers();\n    \n    // 장면 출력\n    this.displayScene(scene);\n    \n    // 선택지 평가\n    if (this.player) {\n      this.availableChoices = this.sceneService.evaluateChoices(scene, this.player);\n      this.debugLogger.info('WuxiaGame', `[장면: ${scene.id}] 선택지 개수: ${this.availableChoices.length}`);\n      this.availableChoices.forEach((choice, idx) => {\n        this.debugLogger.info('WuxiaGame', `  ${idx + 1}. ${choice.text} (disabled: ${choice.isDisabled})`);\n      });\n    }\n    \n    // 자동 진행 체크\n    this.checkAutoProgress();\n  }\n  \n  /**\n   * 자동 진행 체크 및 시작\n   */\n  private checkAutoProgress(): void {\n    if (!this.currentScene) return;\n    \n    const scene = this.currentScene;\n    const sceneType = scene.type || 'decision';\n    const autoProgress = scene.autoProgress ?? (sceneType === 'narrative' || sceneType === 'cutscene');\n    \n    if (autoProgress && scene.choices.length === 1 && scene.choices[0].nextSceneId) {\n      const delay = scene.autoDelay ?? 2000;\n      this.startAutoProgress(scene.choices[0], delay);\n    }\n  }\n  \n  /**\n   * 자동 진행 시작\n   */\n  private startAutoProgress(choice: WuxiaChoice, delay: number): void {\n    this.clearAutoProgress();\n    this.isAutoProgressing = true;\n    this.autoProgressCountdown = delay / 1000;\n    \n    this.debugLogger.info('WuxiaGame', `자동 진행 시작: ${delay}ms 후 다음 장면으로`);\n    \n    // 카운트다운\n    const countdownInterval = setInterval(() => {\n      this.autoProgressCountdown -= 0.1;\n      if (this.autoProgressCountdown <= 0) {\n        clearInterval(countdownInterval);\n      }\n    }, 100);\n    \n    // 자동 진행 타이머\n    this.autoProgressTimer = setTimeout(() => {\n      clearInterval(countdownInterval);\n      this.isAutoProgressing = false;\n      this.selectChoice(choice);\n    }, delay);\n  }\n  \n  /**\n   * 자동 진행 취소\n   */\n  clearAutoProgress(): void {\n    if (this.autoProgressTimer) {\n      clearTimeout(this.autoProgressTimer);\n      this.autoProgressTimer = null;\n    }\n    this.isAutoProgressing = false;\n    this.autoProgressCountdown = 0;\n  }\n  \n  /**\n   * Space 키 핸들러\n   */\n  private handleSpaceKey(): void {\n    // 자동 진행 중이면 즉시 진행\n    if (this.isAutoProgressing) {\n      this.clearAutoProgress();\n      if (this.currentScene && this.currentScene.choices.length === 1) {\n        this.selectChoice(this.currentScene.choices[0]);\n      }\n      return;\n    }\n    \n    // 선택지가 하나뿐이면 자동 선택\n    if (this.availableChoices.length === 1 && !this.availableChoices[0].isDisabled) {\n      this.selectChoice(this.availableChoices[0]);\n    }\n  }\n  \n  /**\n   * 장면 출력\n   */\n  private displayScene(scene: WuxiaScene): void {\n    // 생명력이 10 이하이고 병원이 아닌 장면이면 강제 병원 이송\n    if (this.player && this.player.health <= 10 && scene.id !== 'scene_hospital' \n        && !scene.id.startsWith('scene_hospital')) {\n      this.addLog('');\n      this.addLog('⚠️ [위급 상황]');\n      this.addLog('생명력이 위험 수준입니다!');\n      this.addLog('🏥 긴급 치료가 필요합니다...');\n      this.addLog('');\n      \n      // 병원으로 강제 이송\n      setTimeout(() => {\n        this.loadScene('scene_hospital');\n      }, 2000);\n      return;\n    }\n    \n    this.addLog('');\n    this.addLog('─'.repeat(50));\n    \n    if (scene.title) {\n      this.addLog(`【 ${scene.title} 】`);\n      this.addLog('');\n    }\n    \n    for (const text of scene.narrativeText) {\n      this.addLog(text);\n    }\n    \n    this.addLog('');\n    this.addLog('─'.repeat(50));\n  }\n  \n  /**\n   * 선택지 선택\n   */\n  selectChoice(choice: WuxiaChoice): void {\n    if (choice.isDisabled) {\n      this.notification.show(choice.disabledReason || '조건을 만족하지 않습니다.', 3000);\n      return;\n    }\n    \n    this.addLog('');\n    this.addLog(`▶ ${choice.text}`);\n    this.addLog('');\n    \n    // 던전 진입 체크\n    if (choice.nextSceneId === 'dungeon_entry_point') {\n      this.enterDungeon();\n      return;\n    }\n    \n    // 즉시 결과 적용 (battle_start 제외)\n    if (choice.consequences && this.player) {\n      // 전투 시작 확인\n      const battleConsequence = choice.consequences.find(c => c.type === 'battle_start');\n      \n      if (battleConsequence && battleConsequence.value) {\n        const battleData = battleConsequence.value as {\n          enemies: string[];\n          onVictory: string;\n          onDefeat: string;\n        };\n        \n        this.debugLogger.info('WuxiaGame', `전투 시작 요청: 적 ${battleData.enemies.length}명`);\n        \n        // 전투 시작\n        this.startBattle(\n          battleData.enemies,\n          battleData.onVictory,\n          battleData.onDefeat\n        );\n        return;\n      }\n      \n      // 다른 결과 적용\n      const otherConsequences = choice.consequences.filter(c => c.type !== 'battle_start');\n      if (otherConsequences.length > 0) {\n        const logs = this.sceneService.applyConsequences(otherConsequences, this.player);\n        logs.forEach(log => this.addLog(`  ${log}`));\n      }\n    }\n    \n    // 판정이 필요한 경우\n    if (choice.judgment && this.player) {\n      const result = this.sceneService.executeJudgment(choice.judgment, this.player);\n      this.addLog(result.resultText);\n      \n      if (result.isCritical) {\n        this.addLog('━'.repeat(50));\n        // 대성공 시 경험치 보너스\n        this.gainExperience(20);\n      } else if (result.success) {\n        // 성공 시 경험치 획득\n        this.gainExperience(10);\n      }\n      \n      this.loadScene(result.nextSceneId);\n      return;\n    }\n    \n    // 다음 장면으로\n    if (choice.nextSceneId) {\n      this.loadScene(choice.nextSceneId);\n    }\n  }\n  \n  /**\n   * 동적 상황 트리거 체크\n   */\n  private checkSituationTriggers(): void {\n    if (!this.player) return;\n    \n    const triggered = this.situationService.checkTriggers(\n      this.player,\n      this.currentLocation,\n      this.currentTimeOfDay,\n      this.availableNPCs\n    );\n    \n    if (triggered.length > 0) {\n      // 가장 우선순위가 높은 상황 발동\n      const situationId = triggered[0];\n      this.addLog('');\n      this.addLog(`[특수 상황 발동!]`);\n      this.startSituation(situationId);\n    }\n  }\n  \n  /**\n   * 상황 시작\n   */\n  private startSituation(templateId: string): void {\n    if (!this.player) return;\n    \n    const instance = this.situationService.startSituation(\n      templateId,\n      this.player,\n      this.availableNPCs\n    );\n    \n    if (instance && this.gameState) {\n      this.gameState.activeSituations.push(instance);\n      \n      // 첫 장면 로드\n      const template = this.situationService.getTemplate(templateId);\n      if (template && template.stages && template.stages.length > 0) {\n        const firstScene = template.stages[0].scene;\n        this.sceneService.registerScene(firstScene);\n        this.loadScene(firstScene.id);\n      }\n    }\n  }\n  \n  /**\n   * 로그 추가\n   */\n  private addLog(message: string): void {\n    this.gameLog.push(message);\n    \n    // 로그 길이 제한\n    if (this.gameLog.length > this.maxLogLines) {\n      this.gameLog = this.gameLog.slice(-this.maxLogLines);\n    }\n  }\n  \n  /**\n   * 인벤토리 토글\n   */\n  toggleInventory(): void {\n    this.showInventory = !this.showInventory;\n    this.showCharacterSheet = false;\n    this.showHelp = false;\n  }\n  \n  /**\n   * 새 게임 시작\n   */\n  startNewGame(): void {\n    this.modalService.showConfirm(\n      '새 게임을 시작하시겠습니까?<br>현재 진행 중인 게임은 저장되지 않습니다.',\n      () => {\n        // 완전한 상태 초기화\n        this.gameLog = [];\n        this.inBattle = false;\n        this.battleState = null;\n        this.showSkillMenu = false;\n        this.showDungeonExplorer = false;\n        this.currentDungeon = null;\n        this.currentDungeonRoom = null;\n        this.showInventory = false;\n        this.showCharacterSheet = false;\n        this.showHelp = false;\n        \n        // 새 게임 시작\n        this.startNewGameInternal();\n        this.modalService.showSuccess('새 게임이 시작되었습니다.', '게임 시작');\n      },\n      '새 게임',\n      '시작',\n      '취소'\n    );\n  }\n  \n  /**\n   * 캐릭터 시트 토글\n   */\n  toggleCharacterSheet(): void {\n    this.showCharacterSheet = !this.showCharacterSheet;\n    this.showInventory = false;\n    this.showHelp = false;\n  }\n  \n  /**\n   * 도움말 토글\n   */\n  toggleHelp(): void {\n    this.showHelp = !this.showHelp;\n    this.showInventory = false;\n    this.showCharacterSheet = false;\n  }\n  \n  /**\n   * 게임 저장\n   */\n  async saveGame(): Promise<void> {\n    if (!this.gameState || !this.player) {\n      this.modalService.showWarning('저장할 게임 데이터가 없습니다.');\n      return;\n    }\n    \n    // 전투 중에는 저장 불가\n    if (this.inBattle) {\n      this.modalService.showWarning('전투 중에는 저장할 수 없습니다.<br>전투를 종료한 후 저장하세요.', '저장 불가');\n      this.addLog('⚠️ [전투 중에는 저장할 수 없습니다]');\n      return;\n    }\n    \n    try {\n      this.gameState.saveDate = new Date();\n      \n      // Set과 Map을 배열로 변환한 플레이어 데이터\n      const playerWithArrays = {\n        ...this.player,\n        flags: Array.from(this.player.flags),\n        relationships: Array.from(this.player.relationships.entries())\n      };\n      \n      // IndexedDB에 저장할 데이터 준비\n      const saveData: any = {\n        id: 'slot_1',\n        novelId: 'wuxia_rpg',\n        novelTitle: '묵향지연',\n        novelTemplate: null,\n        playerCharacter: playerWithArrays,\n        storyBlocks: [],\n        currentPath: [],\n        choices: [],\n        gameStarted: true,\n        gold: 0, // TODO: 골드 시스템 추가 시 연동\n        inventory: this.player.inventory || [],\n        completedQuests: [],\n        currentChapter: this.gameState.currentChapter,\n        saveDate: this.gameState.saveDate,\n        // 무협 게임 추가 정보\n        combatPower: this.getTotalCombatPower(),\n        experience: this.player.experience,\n        experienceToNext: this.player.experienceToNext,\n        level: this.player.level,\n        equippedItems: this.player.equippedItems,\n        stats: this.player.stats,\n        health: this.player.health,\n        maxHealth: this.player.maxHealth,\n        // 던전 진행 상태\n        dungeonProgress: {\n          currentDungeon: this.currentDungeon,\n          currentRoom: this.currentDungeonRoom,\n          currentFloor: this.currentDungeon?.currentFloor || 0,\n          isInDungeon: this.showDungeonExplorer\n        }\n      };\n      \n      await this.gameStorage.saveGame(saveData);\n      \n      this.modalService.showSuccess('게임이 저장되었습니다.', '저장 완료');\n      this.addLog('💾 [게임 저장됨]');\n      this.debugLogger.info('WuxiaGame', '게임 저장 완료 (IndexedDB)');\n    } catch (error) {\n      this.debugLogger.error('WuxiaGame', `저장 실패: ${error}`);\n      this.modalService.showError('게임 저장에 실패했습니다.', '저장 실패');\n    }\n  }\n  \n  /**\n   * 게임 불러오기\n   */\n  async loadGame(): Promise<void> {\n    try {\n      const saveData = await this.gameStorage.loadGame('slot_1');\n      \n      if (!saveData) {\n        this.modalService.showInfo('저장된 게임이 없습니다.');\n        return;\n      }\n      \n      // 전투 상태 초기화 (저장된 게임은 전투 중이 아님)\n      this.inBattle = false;\n      this.battleState = null;\n      this.showSkillMenu = false;\n      \n      // 플레이어 데이터 복원 (배열을 Set과 Map으로 변환)\n      const player = saveData.playerCharacter;\n      this.player = {\n        ...player,\n        flags: new Set(player.flags || []),\n        relationships: new Map(player.relationships || [])\n      };\n      \n      // 플레이어가 복원되었는지 확인\n      if (!this.player) {\n        this.modalService.showError('플레이어 데이터 복원에 실패했습니다.', '복원 실패');\n        return;\n      }\n      \n      // 게임 상태 복원\n      this.gameState = {\n        gameId: 'wuxia_rpg',\n        currentChapter: saveData.currentChapter,\n        chapterProgress: 0,\n        player: this.player,\n        currentSceneId: '',\n        visitedScenes: [],\n        completedSituations: [],\n        activeSituations: [],\n        currentObjective: '',\n        completedObjectives: [],\n        playTime: 0,\n        saveDate: new Date(saveData.saveDate)\n      };\n      \n      // 던전 진행 상태 복원\n      if (saveData.dungeonProgress && saveData.dungeonProgress.isInDungeon) {\n        // 던전 데이터 저장은 하지만 자동으로 활성화하지 않음\n        // (전투 중 상태 방지)\n        this.currentDungeon = saveData.dungeonProgress.currentDungeon;\n        this.currentDungeonRoom = saveData.dungeonProgress.currentRoom;\n        \n        // 던전 탐험 화면은 기본적으로 비활성화\n        this.showDungeonExplorer = false;\n        \n        // 던전 복원 시에도 전투 상태는 초기화 (전투는 저장하지 않음)\n        this.inBattle = false;\n        this.battleState = null;\n        this.showSkillMenu = false;\n        \n        this.addLog('🏰 [던전 데이터 복원]');\n        this.addLog('⚠️ [전투 방지를 위해 던전 화면은 비활성화됩니다]');\n        this.addLog('💡 [던전 입장 버튼을 눌러 다시 입장하세요]');\n      }\n      \n      // 현재 장면 복원 (던전이 아닌 경우)\n      if (!this.currentDungeon) {\n        this.loadScene('scene_start'); // TODO: 마지막 장면 ID 저장 필요\n      }\n      \n      this.modalService.showSuccess('게임을 불러왔습니다.', '불러오기 완료');\n      this.addLog('📂 [게임 불러옴]');\n      this.addLog(`레벨: ${this.player.level} | 경험치: ${this.player.experience}/${this.player.experienceToNext}`);\n      this.addLog(`전투력: ${saveData.combatPower || 0}`);\n      this.addLog(`진행도: 챕터 ${this.gameState.currentChapter}`);\n      \n      this.debugLogger.info('WuxiaGame', '게임 로드 완료 (IndexedDB)');\n    } catch (error) {\n      this.debugLogger.error('WuxiaGame', `로드 실패: ${error}`);\n      this.modalService.showError('게임을 불러오는데 실패했습니다.', '불러오기 실패');\n    }\n  }\n  \n  // ============================================================\n  // 전투 시스템 통합 (인라인)\n  // ============================================================\n  \n  /**\n   * 전투 시작\n   * @param enemyIds 적 NPC ID 배열\n   * @param onVictory 승리 시 이동할 장면 ID\n   * @param onDefeat 패배 시 이동할 장면 ID\n   */\n  startBattle(\n    enemyIds: string[],\n    onVictory: string,\n    onDefeat: string\n  ): void {\n    this.debugLogger.info('WuxiaGame', `전투 시작 함수 호출됨 - 적: ${enemyIds.join(', ')}`);\n    \n    if (!this.player || !this.gameState) {\n      this.debugLogger.error('WuxiaGame', '플레이어 정보가 없습니다.');\n      return;\n    }\n    \n    // 적 NPC 찾기\n    const enemies: BattleCharacter[] = [];\n    for (const enemyId of enemyIds) {\n      const npc = CHAPTER_1_NPCS.find(n => n.id === enemyId);\n      if (npc) {\n        const battleEnemy = WuxiaBattleAdapter.convertNPCToBattle(npc);\n        enemies.push(battleEnemy);\n        this.debugLogger.info('WuxiaGame', `적 추가: ${npc.name} (ID: ${enemyId})`);\n      } else {\n        this.debugLogger.error('WuxiaGame', `적을 찾을 수 없음: ${enemyId}`);\n      }\n    }\n    \n    if (enemies.length === 0) {\n      this.debugLogger.error('WuxiaGame', '적을 찾을 수 없습니다.');\n      return;\n    }\n    \n    // 플레이어를 전투 캐릭터로 변환 (장비 보너스 포함)\n    const battlePlayer = WuxiaBattleAdapter.convertPlayerToBattle(this.player, this.equipmentService);\n    this.debugLogger.info('WuxiaGame', `플레이어 전투 스탯 - 공격: ${battlePlayer.attack}, 방어: ${battlePlayer.defense}, HP: ${battlePlayer.maxHp}`);\n    \n    // 전투 상태 초기화\n    this.battleState = {\n      player: battlePlayer,\n      enemies: enemies,\n      currentTurn: 'player',\n      targetedEnemyIndex: 0,\n      logs: [],\n      isAutoBattle: false,\n      ended: false,\n      victory: false,\n      onVictoryScene: onVictory,\n      onDefeatScene: onDefeat\n    };\n    \n    this.inBattle = true;\n    this.debugLogger.info('WuxiaGame', `전투 상태 초기화 완료 - inBattle: ${this.inBattle}`);\n    \n    this.addBattleLog('⚔️ 전투 시작!');\n    this.addBattleLog('━'.repeat(40));\n    this.addLog('⚔️ [전투 시작]');\n    \n    // 전투력 표시\n    const combatPower = this.getTotalCombatPower();\n    this.addBattleLog(`⚡ 나의 전투력: ${combatPower}`);\n    \n    // 장비 효과 로그\n    const equipBonus = this.equipmentService.calculateEquipmentBonusWuxia(this.player);\n    if (equipBonus.attack > 0 || equipBonus.defense > 0) {\n      this.addBattleLog(`🛡️ 장비 보너스: 공격 +${equipBonus.attack}, 방어 +${equipBonus.defense}`);\n    }\n    if (equipBonus.critChance > 0) {\n      this.addBattleLog(`💥 치명타 확률: ${equipBonus.critChance}%`);\n    }\n    if (equipBonus.evasion > 0) {\n      this.addBattleLog(`✨ 회피 확률: ${equipBonus.evasion}%`);\n    }\n    if (equipBonus.lifeSteal > 0) {\n      this.addBattleLog(`💚 생명력 흡수: ${equipBonus.lifeSteal}%`);\n    }\n    this.addBattleLog('━'.repeat(40));\n  }\n  \n  /**\n   * 던전 몬스터와 전투 시작\n   */\n  private startDungeonBattle(monster: any): void {\n    if (!this.player) return;\n    \n    // 몬스터를 BattleCharacter로 변환\n    const battleEnemy: BattleCharacter = {\n      id: monster.id || `monster_${Date.now()}`,\n      name: monster.name,\n      type: 'enemy',\n      maxHp: monster.maxHp || monster.hp,\n      currentHp: monster.currentHp || monster.hp,\n      attack: monster.attack,\n      defense: monster.defense,\n      agility: monster.agility || 5,\n      skills: monster.skills || [],\n      items: [],\n      currentMp: 0,\n      maxMp: 0\n    };\n    \n    // 플레이어를 전투 캐릭터로 변환 (장비 보너스 포함)\n    const battlePlayer = WuxiaBattleAdapter.convertPlayerToBattle(this.player, this.equipmentService);\n    \n    // 전투 상태 초기화\n    this.battleState = {\n      player: battlePlayer,\n      enemies: [battleEnemy],\n      currentTurn: 'player',\n      targetedEnemyIndex: 0,\n      logs: [],\n      isAutoBattle: false,\n      ended: false,\n      victory: false,\n      onVictoryScene: '', // 던전 전투는 장면 전환 없음\n      onDefeatScene: ''\n    };\n    \n    this.inBattle = true;\n    \n    this.addBattleLog('⚔️ 전투 시작!');\n    this.addBattleLog('━'.repeat(40));\n    \n    // 전투력 표시\n    const combatPower = this.getTotalCombatPower();\n    this.addBattleLog(`⚡ 나의 전투력: ${combatPower}`);\n    \n    // 장비 효과 로그\n    const equipBonus = this.equipmentService.calculateEquipmentBonusWuxia(this.player);\n    if (equipBonus.attack > 0 || equipBonus.defense > 0) {\n      this.addBattleLog(`🛡️ 장비 보너스: 공격 +${equipBonus.attack}, 방어 +${equipBonus.defense}`);\n    }\n    if (equipBonus.critChance > 0) {\n      this.addBattleLog(`💥 치명타 확률: ${equipBonus.critChance}%`);\n    }\n    if (equipBonus.evasion > 0) {\n      this.addBattleLog(`✨ 회피 확률: ${equipBonus.evasion}%`);\n    }\n    if (equipBonus.lifeSteal > 0) {\n      this.addBattleLog(`💚 생명력 흡수: ${equipBonus.lifeSteal}%`);\n    }\n    this.addBattleLog('━'.repeat(40));\n  }\n  \n  /**\n   * 전투 로그 추가\n   */\n  private addBattleLog(message: string): void {\n    if (!this.battleState) return;\n    \n    this.battleState.logs.push({ message });\n    \n    // 최대 50개 로그만 유지\n    if (this.battleState.logs.length > 50) {\n      this.battleState.logs.shift();\n    }\n    \n    // 변경 감지는 나중에 일괄 처리\n  }\n  \n  /**\n   * 플레이어 일반 공격\n   */\n  playerBattleAttack(): void {\n    if (!this.battleState || this.battleState.currentTurn !== 'player') return;\n    \n    const targetEnemy = this.battleState.enemies[this.battleState.targetedEnemyIndex];\n    if (!targetEnemy || targetEnemy.currentHp <= 0) {\n      // 다음 살아있는 적 찾기\n      this.findNextAliveEnemy();\n      return;\n    }\n    \n    // 개선된 데미지 계산: 공격력 - (방어력 × 0.5) + 랜덤(±20%)\n    const baseDamage = this.battleState.player.attack - Math.floor(targetEnemy.defense * 0.5);\n    const variance = baseDamage * 0.2; // ±20% 랜덤성\n    const randomFactor = (Math.random() * variance * 2) - variance;\n    const damage = Math.max(1, Math.floor(baseDamage + randomFactor));\n    \n    targetEnemy.currentHp = Math.max(0, targetEnemy.currentHp - damage);\n    \n    // 크리티컬 확인 (장비 크리티컬 확률 반영)\n    const critChance = this.getEquipmentBonus().critChance || 0;\n    const isCritical = Math.random() * 100 < critChance;\n    \n    if (isCritical) {\n      const critDamage = Math.floor(damage * 0.5);\n      targetEnemy.currentHp = Math.max(0, targetEnemy.currentHp - critDamage);\n      this.addBattleLog(`💥 ${this.battleState.player.name}의 치명타! ${targetEnemy.name}에게 ${damage + critDamage} 데미지!`);\n    } else {\n      this.addBattleLog(`${this.battleState.player.name}의 공격! ${targetEnemy.name}에게 ${damage} 데미지!`);\n    }\n    \n    // 적이 죽었는지 확인하고 죽었다면 다음 적으로 전환\n    if (targetEnemy.currentHp <= 0) {\n      this.addBattleLog(`${targetEnemy.name}을(를) 쓰러뜨렸다!`);\n      this.findNextAliveEnemy();\n    }\n    \n    // 변경 감지 트리거 (한 번만)\n    this.cdr.detectChanges();\n    \n    this.checkBattleEnd();\n    if (!this.battleState.ended) {\n      this.battleState.currentTurn = 'enemy';\n      setTimeout(() => this.enemyTurn(), 800);\n    }\n  }\n  \n  /**\n   * 플레이어 스킬 사용\n   */\n  playerUseSkill(skill: any): void {\n    if (!this.battleState || this.battleState.currentTurn !== 'player') return;\n    \n    if (skill.mpCost > this.battleState.player.currentMp) {\n      this.addBattleLog('MP가 부족합니다!');\n      return;\n    }\n    \n    this.battleState.player.currentMp -= skill.mpCost;\n    this.showSkillMenu = false;\n    \n    if (skill.type === 'heal') {\n      const healAmount = skill.damage || 30;\n      this.battleState.player.currentHp = Math.min(\n        this.battleState.player.maxHp,\n        this.battleState.player.currentHp + healAmount\n      );\n      this.addBattleLog(`${this.battleState.player.name}이(가) ${skill.name} 사용! HP ${healAmount} 회복!`);\n    } else {\n      const targetEnemy = this.battleState.enemies[this.battleState.targetedEnemyIndex];\n      if (targetEnemy && targetEnemy.currentHp > 0) {\n        const damage = skill.damage + Math.floor(this.battleState.player.attack / 2);\n        targetEnemy.currentHp = Math.max(0, targetEnemy.currentHp - damage);\n        this.addBattleLog(`${this.battleState.player.name}이(가) ${skill.name} 사용! ${targetEnemy.name}에게 ${damage} 데미지!`);\n        \n        // 적이 죽었는지 확인하고 죽었다면 다음 적으로 전환\n        if (targetEnemy.currentHp <= 0) {\n          this.addBattleLog(`${targetEnemy.name}을(를) 쓰러뜨렸다!`);\n          this.findNextAliveEnemy();\n        }\n      }\n    }\n    \n    // 변경 감지 트리거 (한 번만)\n    this.cdr.detectChanges();\n    \n    this.checkBattleEnd();\n    if (!this.battleState.ended) {\n      this.battleState.currentTurn = 'enemy';\n      setTimeout(() => this.enemyTurn(), 800);\n    }\n  }\n  \n  /**\n   * 적 턴\n   */\n  private enemyTurn(): void {\n    if (!this.battleState) return;\n    \n    const aliveEnemies = this.battleState.enemies.filter(e => e.currentHp > 0);\n    if (aliveEnemies.length === 0) return;\n    \n    // 랜덤한 적 선택\n    const enemy = aliveEnemies[Math.floor(Math.random() * aliveEnemies.length)];\n    \n    // 개선된 적 공격 계산: 플레이어의 방어력이 데미지를 감소\n    const baseDamage = enemy.attack - Math.floor(this.battleState.player.defense * 0.5);\n    const variance = Math.max(5, baseDamage * 0.2); // 최소 ±5\n    const randomFactor = (Math.random() * variance * 2) - variance;\n    const damage = Math.max(1, Math.floor(baseDamage + randomFactor));\n    \n    this.battleState.player.currentHp = Math.max(0, this.battleState.player.currentHp - damage);\n    \n    // 회피 확인 (장비 회피율 반영)\n    const evasion = this.getEquipmentBonus().evasion || 0;\n    const evaded = Math.random() * 100 < evasion;\n    \n    if (evaded) {\n      this.addBattleLog(`✨ ${this.battleState.player.name}이(가) ${enemy.name}의 공격을 회피했다!`);\n    } else {\n      this.addBattleLog(`${enemy.name}의 공격! ${this.battleState.player.name}에게 ${damage} 데미지!`);\n      \n      // 생명력 흡수 확인\n      const lifeSteal = this.getEquipmentBonus().lifeSteal || 0;\n      if (lifeSteal > 0 && damage > 0) {\n        const healAmount = Math.floor(damage * (lifeSteal / 100));\n        if (healAmount > 0) {\n          this.battleState.player.currentHp = Math.min(\n            this.battleState.player.maxHp,\n            this.battleState.player.currentHp + healAmount\n          );\n          this.addBattleLog(`💚 생명력 흡수로 ${healAmount} HP 회복!`);\n        }\n      }\n    }\n    \n    // 변경 감지 트리거 (한 번만)\n    this.cdr.detectChanges();\n    \n    this.checkBattleEnd();\n    if (!this.battleState.ended) {\n      this.battleState.currentTurn = 'player';\n      \n      // 자동전투 중이면 계속 진행\n      if (this.battleState.isAutoBattle) {\n        setTimeout(() => this.autoPlayerAction(), 600);\n      }\n    }\n  }\n  \n  /**\n   * 전투 종료 확인\n   */\n  private checkBattleEnd(): void {\n    if (!this.battleState) return;\n    \n    // 모든 적 처치\n    const aliveEnemies = this.battleState.enemies.filter(e => e.currentHp > 0);\n    if (aliveEnemies.length === 0) {\n      this.battleState.ended = true;\n      this.battleState.victory = true;\n      this.addBattleLog('🎉 승리!');\n      \n      // 변경 감지 트리거\n      this.cdr.detectChanges();\n      \n      // 자동으로 전투 종료 처리\n      setTimeout(() => this.endBattle(), 1500);\n      return;\n    }\n    \n    // 플레이어 사망\n    if (this.battleState.player.currentHp <= 0) {\n      this.battleState.ended = true;\n      this.battleState.victory = false;\n      this.addBattleLog('💀 패배...');\n      \n      // 변경 감지 트리거\n      this.cdr.detectChanges();\n      \n      // 자동으로 전투 종료 처리\n      setTimeout(() => this.endBattle(), 1500);\n      return;\n    }\n  }\n  \n  /**\n   * 자동전투 시작\n   */\n  startAutoBattle(): void {\n    if (!this.battleState) return;\n    \n    this.battleState.isAutoBattle = true;\n    this.addBattleLog('🤖 자동 전투 시작!');\n    \n    if (this.battleState.currentTurn === 'player') {\n      setTimeout(() => this.autoPlayerAction(), 600);\n    }\n  }\n  \n  /**\n   * 자동전투 중단\n   */\n  stopAutoBattle(): void {\n    if (!this.battleState) return;\n    \n    this.battleState.isAutoBattle = false;\n    this.addBattleLog('⏸️ 자동 전투 중단');\n  }\n  \n  /**\n   * AI 플레이어 행동\n   */\n  private autoPlayerAction(): void {\n    if (!this.battleState || !this.battleState.isAutoBattle) return;\n    \n    const hpPercent = (this.battleState.player.currentHp / this.battleState.player.maxHp) * 100;\n    \n    // HP 30% 이하면 회복 스킬 사용\n    if (hpPercent < 30) {\n      const healSkill = this.battleState.player.skills.find(\n        s => s.type === 'heal' && s.mpCost <= this.battleState!.player.currentMp\n      );\n      if (healSkill) {\n        this.playerUseSkill(healSkill);\n        return;\n      }\n    }\n    \n    // 50% 확률로 스킬 사용\n    if (Math.random() < 0.5) {\n      const availableSkills = this.battleState.player.skills.filter(\n        s => s.type === 'attack' && s.mpCost <= this.battleState!.player.currentMp\n      );\n      if (availableSkills.length > 0) {\n        const skill = availableSkills[Math.floor(Math.random() * availableSkills.length)];\n        this.playerUseSkill(skill);\n        return;\n      }\n    }\n    \n    // 기본 공격\n    this.playerBattleAttack();\n  }\n  \n  /**\n   * 다음 살아있는 적 찾기\n   */\n  private findNextAliveEnemy(): void {\n    if (!this.battleState) return;\n    \n    for (let i = 0; i < this.battleState.enemies.length; i++) {\n      if (this.battleState.enemies[i].currentHp > 0) {\n        this.battleState.targetedEnemyIndex = i;\n        return;\n      }\n    }\n  }\n  \n  /**\n   * 스킬 메뉴 토글\n   */\n  toggleSkillMenu(): void {\n    this.showSkillMenu = !this.showSkillMenu;\n  }\n  \n  /**\n   * 전투 종료 및 결과 처리\n   */\n  endBattle(): void {\n    if (!this.battleState || !this.player) return;\n    \n    const victory = this.battleState.victory;\n    \n    // 전투 결과를 무협 캐릭터에 반영\n    WuxiaBattleAdapter.applyBattleResult(\n      this.player,\n      this.battleState.player,\n      victory\n    );\n    \n    // 승리/패배에 따라 장면 이동\n    if (victory) {\n      this.addLog('⚔️ [전투 승리!]');\n      this.addLog('━'.repeat(40));\n      \n      // 승리 보상: 경험치 획득\n      const expGain = 50; // 전투 승리 기본 경험치\n      const oldLevel = this.player.level;\n      this.gainExperience(expGain);\n      \n      // 스탯 증가\n      this.player.stats.strength += 1;\n      this.player.stats.innerPower += 1;\n      this.addLog('💪 근력 +1, 내공 +1');\n      \n      // 전투력 표시\n      const combatPower = this.getTotalCombatPower();\n      this.addLog(`⚡ 현재 전투력: ${combatPower}`);\n      \n      // 레벨업 확인\n      if (this.player.level > oldLevel) {\n        this.addLog(`🎊 레벨 ${this.player.level}로 상승!`);\n      }\n      \n      this.addLog('━'.repeat(40));\n      \n      // 던전 전투인 경우 (onVictoryScene이 비어있으면 던전)\n      if (!this.battleState.onVictoryScene && this.currentDungeonRoom) {\n        // 던전 방 클리어 처리\n        this.currentDungeonRoom.isCleared = true;\n        \n        // 던전 통계 업데이트\n        if (this.currentDungeon) {\n          this.currentDungeon.stats.monstersKilled += this.battleState.enemies.length;\n        }\n        \n        this.addLog('✅ 방을 클리어했습니다!');\n        this.modalService.showSuccess('전투에서 승리했습니다!<br>방을 클리어했습니다.', '전투 승리');\n      } else if (this.battleState.onVictoryScene) {\n        // 일반 전투는 승리 장면으로 이동\n        this.modalService.showSuccess('전투에서 승리했습니다!', '전투 승리');\n        this.loadScene(this.battleState.onVictoryScene);\n      }\n    } else {\n      this.addLog('💀 [전투 패배...]');\n      this.addLog('━'.repeat(40));\n      \n      // 던전 전투 패배\n      if (!this.battleState.onDefeatScene && this.currentDungeon) {\n        this.addLog('☠️ [던전에서 쓰러졌습니다...]');\n        this.addLog('의식이 흐려지며 어둠 속으로 빠져든다...');\n        this.addLog('');\n        this.addLog('🏥 낙양 의원으로 긴급 이송됩니다...');\n        \n        this.modalService.showWarning(\n          '던전에서 쓰러졌습니다...<br>의원으로 이송됩니다.',\n          '전투 패배'\n        );\n        \n        // 최소 체력 설정 (완전히 죽지 않도록)\n        this.player.health = Math.max(1, this.player.health);\n        \n        // 병원으로 이동\n        setTimeout(() => {\n          this.loadScene('scene_hospital');\n        }, 1500);\n      }\n      // 일반 전투 패배\n      else if (this.battleState.onDefeatScene) {\n        this.addLog('☠️ [전투에서 패배했습니다...]');\n        this.addLog('의식이 흐려진다...');\n        this.addLog('');\n        this.addLog('🏥 치료가 필요합니다...');\n        \n        // 최소 체력 설정 (완전히 죽지 않도록)\n        this.player.health = Math.max(1, this.player.health);\n        \n        // 패배 장면이 'scene_captured'인 경우 병원으로 리다이렉트\n        if (this.battleState.onDefeatScene === 'scene_captured') {\n          this.modalService.showWarning(\n            '전투에서 패배했습니다...<br>의원으로 이송됩니다.',\n            '전투 패배'\n          );\n          \n          // 병원으로 이동\n          setTimeout(() => {\n            this.loadScene('scene_hospital');\n          }, 1500);\n        } else {\n          // 다른 패배 장면들은 정상 진행\n          this.modalService.showWarning('전투에서 패배했습니다...', '전투 패배');\n          this.loadScene(this.battleState.onDefeatScene);\n        }\n      }\n      // 패배 장면이 없는 경우 (던전 외)\n      else {\n        this.addLog('☠️ [전투에서 패배했습니다...]');\n        this.addLog('');\n        this.addLog('🏥 의원으로 이송됩니다...');\n        \n        // 최소 체력 설정\n        this.player.health = Math.max(1, this.player.health);\n        \n        this.modalService.showWarning(\n          '전투에서 패배했습니다...<br>의원으로 이송됩니다.',\n          '전투 패배'\n        );\n        \n        // 병원으로 이동\n        setTimeout(() => {\n          this.loadScene('scene_hospital');\n        }, 1500);\n      }\n    }\n    \n    // 전투 상태 초기화\n    this.inBattle = false;\n    this.battleState = null;\n    this.showSkillMenu = false;\n    \n    // 게임 자동 저장\n    this.saveGame();\n  }\n  \n  /**\n   * 테스트용: 흑풍채 입구로 바로 이동\n   */\n  jumpToStronghold(): void {\n    if (!this.player) {\n      this.notification.show('먼저 게임을 시작하세요.', 2000);\n      return;\n    }\n    \n    this.loadScene('scene_stronghold_approach');\n    this.addLog('🎮 [테스트] 흑풍채 입구로 이동');\n  }\n\n  /**\n   * 테스트용: 병원으로 바로 이동 (생명력 10 이하 시뮬레이션)\n   */\n  testGoToHospital(): void {\n    if (!this.player) {\n      this.notification.show('먼저 게임을 시작하세요.', 2000);\n      return;\n    }\n    \n    // 현재 HP 그대로 유지\n    this.addLog(`🎮 [테스트] 병원으로 이동 (현재 HP: ${this.player.health})`);\n    \n    // 병원 장면으로 이동\n    this.loadScene('scene_hospital');\n  }\n\n  /**\n   * 디버그: 전투 상태 강제 리셋\n   */\n  debugResetBattle(): void {\n    console.log('=== 전투 상태 리셋 전 ===');\n    console.log('inBattle:', this.inBattle);\n    console.log('battleState:', this.battleState);\n    console.log('showDungeonExplorer:', this.showDungeonExplorer);\n    console.log('currentDungeon:', this.currentDungeon);\n    console.log('currentDungeonRoom:', this.currentDungeonRoom);\n    \n    // 강제 리셋\n    this.inBattle = false;\n    this.battleState = null;\n    this.showSkillMenu = false;\n    this.showDungeonExplorer = false;\n    this.currentDungeon = null;\n    this.currentDungeonRoom = null;\n    \n    // 자동 전투 타이머도 정리\n    if (this.autoBattleInterval) {\n      clearInterval(this.autoBattleInterval);\n      this.autoBattleInterval = null;\n    }\n    \n    // 변경 감지 강제 트리거\n    this.cdr.detectChanges();\n    \n    console.log('=== 전투 상태 리셋 후 ===');\n    console.log('inBattle:', this.inBattle);\n    console.log('battleState:', this.battleState);\n    console.log('showDungeonExplorer:', this.showDungeonExplorer);\n    console.log('currentDungeon:', this.currentDungeon);\n    \n    this.addLog('🔧 [디버그] 전투 및 던전 상태가 완전히 리셋되었습니다');\n    this.addLog('🔧 [디버그] 일반 게임 모드로 복귀합니다');\n    \n    // 일반 장면으로 복귀\n    if (this.currentScene) {\n      this.addLog(`📍 현재 장면: ${this.currentScene.title || this.currentScene.id}`);\n    } else {\n      this.addLog('⚠️ 현재 장면이 없습니다. 게임을 다시 시작하세요.');\n    }\n    \n    this.modalService.showSuccess(\n      `전투/던전 상태 리셋 완료<br>` +\n      `inBattle: ${this.inBattle}<br>` +\n      `battleState: ${this.battleState}<br>` +\n      `던전 모드: ${this.showDungeonExplorer}<br>` +\n      `일반 게임으로 복귀`,\n      '디버그'\n    );\n  }\n\n  // ==================== 장비 시스템 메서드 ====================\n\n  /**\n   * 장착된 무기 가져오기\n   */\n  getEquippedWeapon() {\n    if (!this.player?.equippedItems.weapon) return null;\n    return this.player.inventory.find(i => i.id === this.player!.equippedItems.weapon);\n  }\n\n  /**\n   * 장착된 방어구 가져오기\n   */\n  getEquippedArmor() {\n    if (!this.player?.equippedItems.armor) return null;\n    return this.player.inventory.find(i => i.id === this.player!.equippedItems.armor);\n  }\n\n  /**\n   * 장착된 악세사리 가져오기\n   */\n  getEquippedAccessory() {\n    if (!this.player?.equippedItems.accessory) return null;\n    return this.player.inventory.find(i => i.id === this.player!.equippedItems.accessory);\n  }\n\n  /**\n   * 아이템 장착 가능 여부\n   */\n  canEquipItem(item: InventoryItem): boolean {\n    return ['weapon', 'armor', 'amulet', 'accessory'].includes(item.type);\n  }\n\n  /**\n   * 아이템 장착\n   */\n  equipItem(item: InventoryItem): void {\n    if (!this.player) return;\n\n    const result = this.equipmentService.equipItemWuxia(this.player, item);\n    \n    if (result.success) {\n      this.addLog(`✨ ${result.message}`);\n      this.notification.show(result.message, 2000);\n      // 자동 저장\n      this.saveGame();\n    } else {\n      this.notification.show(result.message, 2000);\n    }\n  }\n\n  /**\n   * 슬롯별 장비 해제\n   */\n  unequipItem(slot: string): void {\n    if (!this.player) return;\n\n    const result = this.equipmentService.unequipItemWuxia(this.player, slot);\n    \n    if (result.success) {\n      this.addLog(`🔓 ${result.message}`);\n      this.notification.show(result.message, 2000);\n      // 자동 저장\n      this.saveGame();\n    } else {\n      this.notification.show(result.message, 2000);\n    }\n  }\n\n  /**\n   * 아이템으로 장비 해제\n   */\n  unequipItemByItem(item: InventoryItem): void {\n    if (!this.player) return;\n\n    const slot = this.equipmentService['getEquipmentSlotWuxia'](item);\n    if (slot) {\n      this.unequipItem(slot);\n    }\n  }\n\n  /**\n   * 아이템 스탯 표시용 텍스트\n   */\n  getItemStatsDisplay(item: InventoryItem): string[] {\n    return this.equipmentService.getItemStatsTextWuxia(item);\n  }\n\n  // ==================== 전투력 계산 메서드 ====================\n\n  /**\n   * 장비 보너스 가져오기\n   */\n  getEquipmentBonus() {\n    if (!this.player) {\n      return { \n        attack: 0, \n        defense: 0, \n        hp: 0, \n        mp: 0, \n        critChance: 0, \n        evasion: 0,\n        lifeSteal: 0,\n        attackSpeed: 0\n      };\n    }\n    return this.equipmentService.calculateEquipmentBonusWuxia(this.player);\n  }\n\n  /**\n   * 기본 공격력 (WuxiaBattleAdapter와 동일한 공식)\n   */\n  getBaseAttack(): number {\n    if (!this.player) return 0;\n    return Math.floor(\n      (this.player.stats.strength * 0.6) + \n      (this.player.stats.innerPower * 0.4)\n    );\n  }\n\n  /**\n   * 총 공격력\n   */\n  getTotalAttack(): number {\n    return this.getBaseAttack() + this.getEquipmentBonus().attack;\n  }\n\n  /**\n   * 기본 방어력 (WuxiaBattleAdapter와 동일한 공식)\n   */\n  getBaseDefense(): number {\n    if (!this.player) return 0;\n    return Math.floor(\n      (this.player.stats.strength * 0.4) + \n      (this.player.stats.innerPower * 0.3) +\n      (this.player.stats.dexterity * 0.3)\n    );\n  }\n\n  /**\n   * 총 방어력\n   */\n  getTotalDefense(): number {\n    return this.getBaseDefense() + this.getEquipmentBonus().defense;\n  }\n\n  /**\n   * 기본 최대 HP\n   */\n  getBaseMaxHp(): number {\n    if (!this.player) return 0;\n    return this.player.level * 100;\n  }\n\n  /**\n   * 종합 전투력 계산\n   */\n  getTotalCombatPower(): number {\n    if (!this.player) return 0;\n    \n    const attack = this.getTotalAttack();\n    const defense = this.getTotalDefense();\n    const bonus = this.getEquipmentBonus();\n    const hp = this.player.maxHealth + bonus.hp; // 장비 보너스 HP 포함\n    \n    // 전투력 공식: (공격력 × 2 + 방어력 + HP/10) × (1 + 치명타율/100)\n    const basePower = (attack * 2) + defense + (hp / 10);\n    const critMultiplier = 1 + (bonus.critChance / 100);\n    \n    return Math.floor(basePower * critMultiplier);\n  }\n\n  /**\n   * 전투 중 플레이어 전투력 계산\n   * 참고: battleState.player는 이미 장비 보너스가 적용된 스탯입니다.\n   */\n  getPlayerCombatPower(): number {\n    if (!this.battleState) return this.getTotalCombatPower();\n    \n    const player = this.battleState.player;\n    \n    // 전투력 공식: (공격력 × 2 + 방어력 + HP/10) × (1 + 치명타율/100)\n    // player의 attack, defense는 이미 장비 보너스가 포함된 값\n    const basePower = (player.attack * 2) + player.defense + (player.maxHp / 10);\n    \n    // 치명타율도 이미 player에 반영되어 있음 (WuxiaBattleAdapter에서 처리)\n    // 간단하게 기본 공식만 사용\n    const critChance = this.getEquipmentBonus().critChance || 0;\n    const critMultiplier = 1 + (critChance / 100);\n    \n    return Math.floor(basePower * critMultiplier);\n  }\n\n  /**\n   * 전투 중 적 전투력 계산\n   */\n  getEnemyCombatPower(enemy: any): number {\n    if (!enemy) return 0;\n    \n    // 전투력 공식: (공격력 × 2 + 방어력 + HP/10)\n    const basePower = (enemy.attack * 2) + enemy.defense + (enemy.maxHp / 10);\n    \n    return Math.floor(basePower);\n  }\n\n  // ==================== 경험치 시스템 메서드 ====================\n\n  /**\n   * 경험치 획득\n   */\n  gainExperience(amount: number): void {\n    if (!this.player) return;\n    \n    this.player.experience += amount;\n    this.addLog(`⭐ 경험치 +${amount}`);\n    \n    // 레벨업 체크\n    while (this.player.experience >= this.player.experienceToNext) {\n      this.levelUp();\n    }\n    \n    // 게임 저장\n    this.saveGame();\n  }\n\n  /**\n   * 레벨업 처리\n   */\n  private levelUp(): void {\n    if (!this.player) return;\n    \n    // 레벨업\n    this.player.level++;\n    this.player.experience -= this.player.experienceToNext;\n    \n    // 다음 레벨 필요 경험치 계산 (레벨 × 100)\n    this.player.experienceToNext = this.player.level * 100;\n    \n    // 스탯 증가\n    this.player.stats.strength += 2;\n    this.player.stats.dexterity += 2;\n    this.player.stats.innerPower += 2;\n    this.player.stats.insight += 2;\n    \n    // 최대 체력 증가\n    this.player.maxHealth = this.getBaseMaxHp() + this.getEquipmentBonus().hp;\n    this.player.health = this.player.maxHealth; // 체력 완전 회복\n    \n    // 로그 및 알림\n    this.addLog('🎉 [레벨업!]');\n    this.addLog(`레벨 ${this.player.level}이 되었습니다!`);\n    this.addLog(`근력, 민첩, 내공, 통찰 +2`);\n    this.addLog(`체력 완전 회복!`);\n    \n    this.modalService.showSuccess(\n      `레벨 ${this.player.level}이 되었습니다!<br>근력, 민첩, 내공, 통찰 +2<br>체력 완전 회복!`,\n      '🎉 레벨업!'\n    );\n    \n    // 자동 저장\n    this.saveGame();\n  }\n\n  /**\n   * 경험치 퍼센티지 (프로그레스 바용)\n   */\n  getExperiencePercentage(): number {\n    if (!this.player || this.player.experienceToNext === 0) return 0;\n    return (this.player.experience / this.player.experienceToNext) * 100;\n  }\n\n  /**\n   * 경험치 표시 텍스트\n   */\n  getExperienceText(): string {\n    if (!this.player) return '0 / 0';\n    return `${this.player.experience} / ${this.player.experienceToNext}`;\n  }\n\n  // ===== 던전 시스템 =====\n  showDungeonExplorer = false;\n  currentDungeon: any = null;\n  currentDungeonRoom: any = null;\n\n  /**\n   * 던전 진입\n   */\n  enterDungeon(): void {\n    this.addLog('━'.repeat(50));\n    this.addLog('🏰 [던전 진입]');\n    this.addLog('어둡고 습한 공기가 코를 찌른다...');\n    this.addLog('던전을 생성하는 중...');\n    this.addLog('━'.repeat(50));\n    \n    // 던전 타입 가져오기\n    const dungeonTypes = this.dungeonService.getDefaultDungeonTypes();\n    const dungeonType = dungeonTypes[0]; // 첫 번째 던전 (버려진 지하묘지)\n    const difficulty: DifficultyLevel = 'normal';\n    \n    if (!this.player) return;\n    \n    // 던전 생성\n    const dungeon = this.dungeonService.generateDungeon(\n      dungeonType,\n      difficulty,\n      this.player.level\n    );\n    \n    this.currentDungeon = dungeon;\n    this.currentDungeon.currentFloor = 1; // 첫 번째 층으로 설정\n    \n    // 첫 번째 층의 첫 번째 방으로 시작\n    if (dungeon.floors && dungeon.floors.length > 0) {\n      const firstFloor = dungeon.floors[0];\n      if (firstFloor.rooms && firstFloor.rooms.length > 0) {\n        this.currentDungeonRoom = firstFloor.rooms[0];\n        \n        this.addLog('');\n        this.addLog(`📍 ${dungeonType.koreanName} 입장`);\n        this.addLog(`난이도: 보통`);\n        this.addLog(`총 ${dungeon.totalFloors}층`);\n        this.addLog('');\n        this.addLog(`현재 위치: ${firstFloor.floorNumber}층 - 입구`);\n        this.addLog(this.currentDungeonRoom.description);\n      }\n    }\n    \n    // 던전 탐험 UI 표시\n    this.showDungeonExplorer = true;\n    \n    this.modalService.showSuccess(\n      `${dungeonType.koreanName}에 진입했습니다!<br>난이도: 보통 | 총 ${dungeon.totalFloors}층`,\n      '던전 입장'\n    );\n  }\n\n  /**\n  /**\n   * 테스트: 던전 바로 입장\n   */\n  testEnterDungeon(): void {\n    this.notification.show('던전 테스트 모드 진입!', 2000);\n    this.loadScene('scene_dungeon_entrance');\n  }\n\n  /**\n   * 던전 탈출\n   */\n  onDungeonEscape(): void {\n    this.showDungeonExplorer = false;\n    this.currentDungeon = null;\n    this.currentDungeonRoom = null;\n    \n    this.addLog('━'.repeat(50));\n    this.addLog('🚪 [던전 탈출]');\n    this.addLog('무사히 던전을 빠져나왔다.');\n    this.addLog('━'.repeat(50));\n    \n    // 이전 장면으로 복귀\n    this.loadScene('scene_forest_path');\n  }\n\n  /**\n   * 던전 방 이동\n   */\n  onDungeonRoomMove(roomId: string): void {\n    // 현재 층에서 해당 roomId로 방을 찾아 이동\n    if (this.currentDungeon && this.currentDungeon.floors && this.currentDungeonRoom) {\n      const currentFloorNum = this.currentDungeonRoom.floorNumber;\n      const floor = this.currentDungeon.floors.find((f: any) => f.floorNumber === currentFloorNum);\n      if (floor && floor.rooms) {\n        const nextRoom = floor.rooms.find((room: any) => room.id === roomId);\n        if (nextRoom) {\n          this.currentDungeonRoom = nextRoom;\n          this.currentDungeonRoom.isExplored = true; // 방문한 방으로 표시\n          this.addLog('━'.repeat(40));\n          this.addLog(`→ ${this.getRoomTypeName(nextRoom.type)}로 이동`);\n          this.addLog(nextRoom.description);\n          return;\n        }\n      }\n    }\n    // fallback: 못 찾으면 id만 로그\n    this.addLog(`→ 다음 방으로 이동: ${roomId}`);\n  }\n\n  /**\n   * 방 타입 한글 이름\n   */\n  private getRoomTypeName(type: string): string {\n    const names: { [key: string]: string } = {\n      entrance: '입구',\n      normal: '일반 방',\n      elite: '엘리트 방',\n      boss: '보스 방',\n      treasure: '보물 방',\n      shrine: '성소',\n      shop: '상점',\n      safe: '안전 지대',\n      event: '이벤트 방',\n      exit: '출구'\n    };\n    return names[type] || '알 수 없는 방';\n  }\n\n  /**\n   * 던전 상호작용\n   */\n  onDungeonInteract(interactable: any): void {\n    this.addLog(`🔍 ${interactable.name || interactable}을(를) 조사했다.`);\n  }\n\n  /**\n   * 던전 몬스터 전투\n   */\n  onDungeonMonsterBattle(monster: any): void {\n    if (!this.player || !monster) return;\n    \n    // 몬스터가 이미 죽었으면 경험치만 처리\n    if (monster.isDead) {\n      const expGain = this.calculateMonsterExp(monster);\n      this.gainExperience(expGain);\n      this.addLog(`⚔️ ${monster.name} 처치!`);\n      this.addLog(`✨ 경험치 +${expGain}`);\n      return;\n    }\n    \n    // 살아있는 몬스터면 전투 시작\n    this.addLog('━'.repeat(50));\n    this.addLog(`⚔️ [전투 시작] ${monster.name}와 조우!`);\n    this.addLog('━'.repeat(50));\n    \n    // 던전 몬스터를 BattleCharacter로 변환하여 전투 시작\n    this.startDungeonBattle(monster);\n  }\n\n  /**\n   * 던전 보상 수령\n   */\n  onDungeonRewardsClaimed(rewards: any): void {\n    if (!this.player || !rewards) return;\n    \n    // 경험치 획득\n    if (rewards.exp > 0) {\n      this.gainExperience(rewards.exp);\n      this.addLog(`✨ 경험치 +${rewards.exp}`);\n    }\n    \n    // 골드 획득 (TODO: WuxiaRPGCharacter에 gold 속성 추가 필요)\n    if (rewards.gold > 0) {\n      // this.player.gold += rewards.gold;\n      this.addLog(`💰 골드 +${rewards.gold} (인벤토리 추가 예정)`);\n    }\n    \n    // 아이템 획득\n    if (rewards.items && rewards.items.length > 0) {\n      rewards.items.forEach((item: any) => {\n        this.addLog(`🎁 ${item.name} 획득!`);\n      });\n    }\n    \n    this.notification.show(`전투 보상 획득! 경험치 +${rewards.exp}`, 3000);\n  }\n\n  /**\n   * 몬스터 경험치 계산\n   */\n  private calculateMonsterExp(monster: any): number {\n    const expMultiplier: any = {\n      normal: 20,\n      elite: 50,\n      boss: 150\n    };\n    \n    return monster.level * (expMultiplier[monster.type] || 20);\n  }\n\n  /**\n   * 던전 층 이동\n   */\n  onDungeonFloorChange(floor: number): void {\n    this.addLog(`📍 ${floor}층으로 이동했다.`);\n  }\n}\n", "<!-- 묵향지연 (墨香之緣) - 텍스트 기반 무협 RPG -->\n<div class=\"wuxia-game-container\">\n  \n  <!-- 헤더: 게임 제목 및 조작 버튼 -->\n  <div class=\"game-header\">\n    <h1 class=\"game-title\">묵향지연 (墨香之緣)</h1>\n    <div class=\"game-controls\">\n      <button class=\"btn-control btn-new-game\" (click)=\"startNewGame()\">\n        <i class=\"material-icons\">add_circle</i> 새 게임\n      </button>\n      <button class=\"btn-control btn-test\" (click)=\"jumpToStronghold()\" \n              style=\"background: #ff6b6b; color: white;\">\n        🎮 테스트: 흑풍채 입구\n      </button>\n      <button class=\"btn-control btn-test\" (click)=\"testEnterDungeon()\" \n              style=\"background: #9c27b0; color: white;\">\n        🏰 테스트: 던전 입장\n      </button>\n      <button class=\"btn-control btn-test\" (click)=\"testGoToHospital()\" \n              style=\"background: #26a69a; color: white;\">\n        🏥 테스트: 병원 입장\n      </button>\n      <button class=\"btn-control\" (click)=\"toggleCharacterSheet()\" \n              [class.active]=\"showCharacterSheet\">\n        <i class=\"material-icons\">person</i> 캐릭터\n      </button>\n      <button class=\"btn-control\" (click)=\"toggleInventory()\" \n              [class.active]=\"showInventory\">\n        <i class=\"material-icons\">inventory_2</i> 소지품\n      </button>\n      <button class=\"btn-control\" (click)=\"saveGame()\">\n        <i class=\"material-icons\">save</i> 저장\n      </button>\n      <button class=\"btn-control\" (click)=\"loadGame()\">\n        <i class=\"material-icons\">folder_open</i> 불러오기\n      </button>\n      <button class=\"btn-control\" (click)=\"toggleHelp()\" \n              [class.active]=\"showHelp\">\n        <i class=\"material-icons\">help_outline</i> 도움말\n      </button>\n    </div>\n  </div>\n\n  <!-- 메인 컨텐츠 영역 -->\n  <div class=\"game-content\">\n    \n    <!-- 좌측: 게임 진행 화면 -->\n    <div class=\"main-panel\">\n      \n      <!-- 상태 바 -->\n      <div class=\"status-bar\" *ngIf=\"player\">\n        <div class=\"stat-item\">\n          <span class=\"stat-label\">이름:</span>\n          <span class=\"stat-value\">{{ player.name }}</span>\n        </div>\n        <div class=\"stat-item\">\n          <span class=\"stat-label\">레벨:</span>\n          <span class=\"stat-value\">{{ player.level }}</span>\n        </div>\n        <div class=\"stat-item\">\n          <span class=\"stat-label\">전투력:</span>\n          <span class=\"stat-value combat-power\">{{ getTotalCombatPower() }}</span>\n        </div>\n        <div class=\"stat-item health\">\n          <span class=\"stat-label\">생명력:</span>\n          <span class=\"stat-value\">{{ player.health }} / {{ player.maxHealth }}</span>\n          <div class=\"health-bar\">\n            <div class=\"health-fill\" [style.width.%]=\"(player.health / player.maxHealth) * 100\"></div>\n          </div>\n        </div>\n        <div class=\"stat-item\">\n          <span class=\"stat-label\">성향:</span>\n          <span class=\"stat-value tendency\" [class.righteous]=\"player.tendency.value < -20\"\n                [class.neutral]=\"player.tendency.value >= -20 && player.tendency.value < 20\"\n                [class.evil]=\"player.tendency.value >= 20\">\n            {{ player.tendency.label }}\n          </span>\n        </div>\n      </div>\n      \n      <!-- 경험치 바 (전체 너비) -->\n      <div class=\"experience-bar-container\" *ngIf=\"player\">\n        <div class=\"exp-info-wrapper\">\n          <span class=\"exp-current\">{{ getExperienceText() }}</span>\n        </div>\n        <div class=\"exp-bar\">\n          <div class=\"exp-fill\" [style.width.%]=\"getExperiencePercentage()\"></div>\n        </div>\n        <div class=\"exp-end-bar\"></div>\n      </div>\n      \n  <!-- 탭 메뉴 -->      <!-- 목표 -->\n      <div class=\"objective-panel\" *ngIf=\"gameState\">\n        <div class=\"objective-title\">현재 목표</div>\n        <div class=\"objective-text\">{{ gameState.currentObjective }}</div>\n      </div>\n\n      <!-- 전투 화면 -->\n      <div class=\"battle-screen\" *ngIf=\"inBattle && battleState\">\n        <div class=\"battle-header\">\n          <h2>⚔️ 전투 진행 중</h2>\n          <div class=\"battle-turn-indicator\">\n            <span class=\"turn-label\">현재 턴:</span>\n            <span class=\"turn-value\" [class.player-turn]=\"battleState.currentTurn === 'player'\" \n                                     [class.enemy-turn]=\"battleState.currentTurn === 'enemy'\">\n              {{ battleState.currentTurn === 'player' ? '플레이어' : '적' }}\n            </span>\n          </div>\n        </div>\n\n        <!-- 전투 참가자들 -->\n        <div class=\"battle-participants\">\n          <!-- 플레이어 -->\n          <div class=\"battle-character player-character\">\n            <div class=\"character-name\">\n              {{ battleState.player.name }}\n              <span class=\"character-power\">⚡ {{ getPlayerCombatPower() }}</span>\n            </div>\n            <div class=\"character-stats\">\n              <div class=\"stat-bar hp-bar\">\n                <div class=\"stat-label\">HP</div>\n                <div class=\"stat-progress\">\n                  <div class=\"stat-fill hp-fill\" \n                       [style.width.%]=\"(battleState.player.currentHp / battleState.player.maxHp) * 100\">\n                  </div>\n                </div>\n                <div class=\"stat-text\">{{ battleState.player.currentHp }} / {{ battleState.player.maxHp }}</div>\n              </div>\n              <div class=\"stat-bar mp-bar\">\n                <div class=\"stat-label\">MP</div>\n                <div class=\"stat-progress\">\n                  <div class=\"stat-fill mp-fill\" \n                       [style.width.%]=\"(battleState.player.currentMp / battleState.player.maxMp) * 100\">\n                  </div>\n                </div>\n                <div class=\"stat-text\">{{ battleState.player.currentMp }} / {{ battleState.player.maxMp }}</div>\n              </div>\n            </div>\n          </div>\n\n          <!-- 적들 -->\n          <div class=\"enemy-list\">\n            <div *ngFor=\"let enemy of battleState.enemies; let i = index\" \n                 class=\"battle-character enemy-character\"\n                 [class.defeated]=\"enemy.currentHp <= 0\"\n                 [class.targeted]=\"battleState.targetedEnemyIndex === i\">\n              <div class=\"character-name\">\n                {{ enemy.name }}\n                <span class=\"character-power enemy-power\">⚡ {{ getEnemyCombatPower(enemy) }}</span>\n              </div>\n              <div class=\"character-stats\">\n                <div class=\"stat-bar hp-bar\">\n                  <div class=\"stat-label\">HP</div>\n                  <div class=\"stat-progress\">\n                    <div class=\"stat-fill hp-fill enemy-hp\" \n                         [style.width.%]=\"(enemy.currentHp / enemy.maxHp) * 100\">\n                    </div>\n                  </div>\n                  <div class=\"stat-text\">{{ enemy.currentHp }} / {{ enemy.maxHp }}</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- 전투 로그 -->\n        <div class=\"battle-log\">\n          <div *ngFor=\"let log of battleState.logs\" class=\"battle-log-entry\">\n            {{ log.message }}\n          </div>\n        </div>\n\n        <!-- 전투 액션 (플레이어 턴 && 자동전투 아닐 때) -->\n        <div class=\"battle-actions\" *ngIf=\"battleState.currentTurn === 'player' && !battleState.isAutoBattle && !battleState.ended\">\n          <div class=\"action-buttons\">\n            <button class=\"action-btn auto-battle-btn\" (click)=\"startAutoBattle()\">\n              🤖 자동 전투\n            </button>\n            <button class=\"action-btn attack-btn\" (click)=\"playerBattleAttack()\">\n              ⚔️ 일반 공격\n            </button>\n            <button class=\"action-btn skill-btn\" (click)=\"toggleSkillMenu()\">\n              ✨ 스킬 사용\n            </button>\n          </div>\n\n          <!-- 스킬 선택 메뉴 -->\n          <div class=\"skill-menu\" *ngIf=\"showSkillMenu\">\n            <div class=\"skill-menu-title\">스킬 선택</div>\n            <div class=\"skill-list-battle\">\n              <button *ngFor=\"let skill of battleState.player.skills\" \n                      class=\"skill-button\"\n                      [disabled]=\"skill.mpCost > battleState.player.currentMp\"\n                      (click)=\"playerUseSkill(skill)\">\n                <div class=\"skill-name\">{{ skill.name }}</div>\n                <div class=\"skill-info\">\n                  <span class=\"skill-mp\">MP {{ skill.mpCost }}</span>\n                  <span class=\"skill-damage\">데미지 {{ skill.damage }}</span>\n                </div>\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <!-- 자동전투 중 표시 -->\n        <div class=\"auto-battle-indicator\" *ngIf=\"battleState.isAutoBattle && !battleState.ended\">\n          <span>🤖 자동 전투 진행 중...</span>\n          <button class=\"stop-auto-btn\" (click)=\"stopAutoBattle()\">중단</button>\n        </div>\n\n        <!-- 전투 종료 -->\n        <div class=\"battle-result\" *ngIf=\"battleState.ended\">\n          <h3 *ngIf=\"battleState.victory\">🎉 승리!</h3>\n          <h3 *ngIf=\"!battleState.victory\">💀 패배...</h3>\n          <button class=\"continue-btn\" (click)=\"endBattle()\">계속하기</button>\n        </div>\n      </div>\n\n      <!-- 던전 탐험 화면 -->\n      <div class=\"dungeon-screen\" *ngIf=\"showDungeonExplorer\">\n        <div class=\"dungeon-header\">\n          <h2>🏰 던전 탐험</h2>\n          <button class=\"escape-btn\" (click)=\"onDungeonEscape()\">탈출하기</button>\n        </div>\n        \n        <app-dungeon-explorer\n          *ngIf=\"currentDungeon\"\n          [dungeon]=\"currentDungeon\"\n          [currentRoom]=\"currentDungeonRoom\"\n          [playerHp]=\"player?.health || 100\"\n          [playerMaxHp]=\"player?.maxHealth || 100\"\n          [playerName]=\"player?.name || '플레이어'\"\n          [playerLevel]=\"player?.level || 1\"\n          [playerAttackPower]=\"getTotalAttack()\"\n          [playerDefensePower]=\"getTotalDefense()\"\n          (roomMove)=\"onDungeonRoomMove($event)\"\n          (interactableUse)=\"onDungeonInteract($event)\"\n          (monsterAttack)=\"onDungeonMonsterBattle($event)\"\n          (rewardsClaimed)=\"onDungeonRewardsClaimed($event)\"\n          (floorMove)=\"onDungeonFloorChange($event)\"\n          (dungeonEscape)=\"onDungeonEscape()\">\n        </app-dungeon-explorer>\n        \n        <div class=\"dungeon-placeholder\" *ngIf=\"!currentDungeon\">\n          <p>던전을 생성 중입니다...</p>\n          <p>곧 탐험이 시작됩니다.</p>\n        </div>\n      </div>\n\n      <!-- 게임 로그 (전투 중이 아닐 때만) -->\n      <div class=\"game-log\" *ngIf=\"!inBattle && !showDungeonExplorer\">\n        <div *ngFor=\"let log of gameLog\" class=\"log-line\" [innerHTML]=\"log\"></div>\n      </div>\n\n      <!-- 선택지 패널 (전투 중이 아닐 때만) -->\n      <div class=\"choices-panel\" *ngIf=\"currentScene && availableChoices.length > 0 && !inBattle && !showDungeonExplorer\">\n        <div class=\"choices-title\">\n          ▶ 선택지\n          <span class=\"auto-progress-indicator\" *ngIf=\"isAutoProgressing\">\n            ({{ autoProgressCountdown.toFixed(1) }}초 후 자동 진행... Space로 즉시 진행)\n          </span>\n        </div>\n        <div class=\"choice-list\">\n          <button \n            *ngFor=\"let choice of availableChoices; let i = index\" \n            class=\"choice-button\"\n            [class.disabled]=\"choice.isDisabled\"\n            [class.auto-progressing]=\"isAutoProgressing\"\n            [disabled]=\"choice.isDisabled\"\n            (click)=\"selectChoice(choice)\">\n            <span class=\"choice-number\">{{ i + 1 }}</span>\n            <span class=\"choice-text\">{{ choice.text }}</span>\n            <span *ngIf=\"choice.isDisabled\" class=\"choice-reason\">\n              ({{ choice.disabledReason }})\n            </span>\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- 우측: 정보 패널 (캐릭터 시트 / 인벤토리 / 도움말) -->\n    <div class=\"info-panel\" *ngIf=\"showCharacterSheet || showInventory || showHelp\">\n      \n      <!-- 캐릭터 시트 -->\n      <div class=\"character-sheet\" *ngIf=\"showCharacterSheet && player\">\n        <h2 class=\"panel-title\">캐릭터 정보</h2>\n        \n        <div class=\"character-section\">\n          <h3>기본 정보</h3>\n          <div class=\"info-row\">\n            <span class=\"info-label\">이름:</span>\n            <span class=\"info-value\">{{ player.name }}</span>\n          </div>\n          <div class=\"info-row\">\n            <span class=\"info-label\">레벨:</span>\n            <span class=\"info-value\">{{ player.level }}</span>\n          </div>\n          <div class=\"info-row\">\n            <span class=\"info-label\">경험치:</span>\n            <span class=\"info-value\">\n              {{ player.experience }} / {{ player.experienceToNext }}\n              <span class=\"exp-percentage\">({{ getExperiencePercentage().toFixed(1) }}%)</span>\n            </span>\n            <div class=\"exp-bar-full\">\n              <div class=\"exp-fill-full\" [style.width.%]=\"getExperiencePercentage()\"></div>\n            </div>\n          </div>\n          <div class=\"info-row\">\n            <span class=\"info-label\">문파:</span>\n            <span class=\"info-value\">{{ player.sect || '무소속' }}</span>\n          </div>\n          <div class=\"info-row\">\n            <span class=\"info-label\">성격:</span>\n            <span class=\"info-value\">{{ player.personality }}</span>\n          </div>\n        </div>\n\n        <!-- 전투력 정보 -->\n        <div class=\"character-section combat-power-section\">\n          <h3>⚔️ 전투력</h3>\n          <div class=\"combat-stats\">\n            <div class=\"combat-stat-row total-power\">\n              <span class=\"stat-label\">종합 전투력</span>\n              <span class=\"stat-value total\">{{ getTotalCombatPower() }}</span>\n            </div>\n            <div class=\"combat-stat-breakdown\">\n              <div class=\"combat-stat-row\">\n                <span class=\"stat-label\">공격력</span>\n                <span class=\"stat-value\">\n                  {{ getBaseAttack() }}\n                  <span class=\"bonus\" *ngIf=\"getEquipmentBonus().attack > 0\">\n                    +{{ getEquipmentBonus().attack }}\n                  </span>\n                  <span class=\"total-value\">= {{ getTotalAttack() }}</span>\n                </span>\n              </div>\n              <div class=\"combat-stat-row\">\n                <span class=\"stat-label\">방어력</span>\n                <span class=\"stat-value\">\n                  {{ getBaseDefense() }}\n                  <span class=\"bonus\" *ngIf=\"getEquipmentBonus().defense > 0\">\n                    +{{ getEquipmentBonus().defense }}\n                  </span>\n                  <span class=\"total-value\">= {{ getTotalDefense() }}</span>\n                </span>\n              </div>\n              <div class=\"combat-stat-row\">\n                <span class=\"stat-label\">최대 생명력</span>\n                <span class=\"stat-value\">\n                  {{ getBaseMaxHp() }}\n                  <span class=\"bonus\" *ngIf=\"getEquipmentBonus().hp > 0\">\n                    +{{ getEquipmentBonus().hp }}\n                  </span>\n                  <span class=\"total-value\">= {{ player.maxHealth }}</span>\n                </span>\n              </div>\n              <div class=\"combat-stat-row\" *ngIf=\"getEquipmentBonus().critChance > 0\">\n                <span class=\"stat-label\">치명타율</span>\n                <span class=\"stat-value bonus-only\">+{{ getEquipmentBonus().critChance }}%</span>\n              </div>\n              <div class=\"combat-stat-row\" *ngIf=\"getEquipmentBonus().evasion > 0\">\n                <span class=\"stat-label\">회피율</span>\n                <span class=\"stat-value bonus-only\">+{{ getEquipmentBonus().evasion }}%</span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"character-section\">\n          <h3>능력치</h3>\n          <div class=\"stat-row\">\n            <span class=\"stat-name\">근력 (Strength)</span>\n            <span class=\"stat-number\">{{ player.stats.strength }}</span>\n          </div>\n          <div class=\"stat-row\">\n            <span class=\"stat-name\">민첩 (Dexterity)</span>\n            <span class=\"stat-number\">{{ player.stats.dexterity }}</span>\n          </div>\n          <div class=\"stat-row\">\n            <span class=\"stat-name\">내공 (Inner Power)</span>\n            <span class=\"stat-number\">{{ player.stats.innerPower }}</span>\n          </div>\n          <div class=\"stat-row\">\n            <span class=\"stat-name\">통찰 (Insight)</span>\n            <span class=\"stat-number\">{{ player.stats.insight }}</span>\n          </div>\n        </div>\n\n        <div class=\"character-section\">\n          <h3>상태</h3>\n          <div class=\"info-row\">\n            <span class=\"info-label\">생명력:</span>\n            <span class=\"info-value\">{{ player.health }} / {{ player.maxHealth }}</span>\n          </div>\n          <div *ngIf=\"player.injuries.length > 0\" class=\"injuries-list\">\n            <div class=\"injury-item\" *ngFor=\"let injury of player.injuries\">\n              ⚠ {{ injury.description }} (심각도: {{ injury.severity }})\n            </div>\n          </div>\n          <div *ngIf=\"player.injuries.length === 0\" class=\"no-injuries\">\n            ✓ 부상 없음\n          </div>\n        </div>\n\n        <div class=\"character-section\" *ngIf=\"player.learnedSkills.length > 0\">\n          <h3>습득한 무공</h3>\n          <div class=\"skill-list\">\n            <div class=\"skill-item\" *ngFor=\"let skill of player.learnedSkills\">\n              ⚔ {{ skill }}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- 인벤토리 -->\n      <div class=\"inventory-panel\" *ngIf=\"showInventory && player\">\n        <h2 class=\"panel-title\">소지품</h2>\n        \n        <div class=\"equipped-section\">\n          <h3>장착 중</h3>\n          <div class=\"equipped-slots\">\n            <div class=\"equipped-slot\">\n              <span class=\"slot-label\">무기:</span>\n              <div class=\"slot-item\" *ngIf=\"getEquippedWeapon(); let weapon\">\n                <span class=\"item-name\" [class]=\"'rarity-' + weapon.rarity\">{{ weapon.name }}</span>\n                <button class=\"btn-unequip\" (click)=\"unequipItem('weapon')\">해제</button>\n              </div>\n              <span class=\"slot-empty\" *ngIf=\"!getEquippedWeapon()\">없음</span>\n            </div>\n            \n            <div class=\"equipped-slot\">\n              <span class=\"slot-label\">의복:</span>\n              <div class=\"slot-item\" *ngIf=\"getEquippedArmor(); let armor\">\n                <span class=\"item-name\" [class]=\"'rarity-' + armor.rarity\">{{ armor.name }}</span>\n                <button class=\"btn-unequip\" (click)=\"unequipItem('armor')\">해제</button>\n              </div>\n              <span class=\"slot-empty\" *ngIf=\"!getEquippedArmor()\">없음</span>\n            </div>\n            \n            <div class=\"equipped-slot\">\n              <span class=\"slot-label\">악세사리:</span>\n              <div class=\"slot-item\" *ngIf=\"getEquippedAccessory(); let accessory\">\n                <span class=\"item-name\" [class]=\"'rarity-' + accessory.rarity\">{{ accessory.name }}</span>\n                <button class=\"btn-unequip\" (click)=\"unequipItem('accessory')\">해제</button>\n              </div>\n              <span class=\"slot-empty\" *ngIf=\"!getEquippedAccessory()\">없음</span>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"inventory-section\">\n          <h3>보유 중</h3>\n          <div *ngIf=\"player.inventory.length === 0\" class=\"empty-inventory\">\n            인벤토리가 비어있습니다.\n          </div>\n          <div class=\"inventory-list\">\n            <div class=\"inventory-item\" *ngFor=\"let item of player.inventory\">\n              <div class=\"item-header\">\n                <span class=\"item-name\" [class]=\"'rarity-' + item.rarity\">\n                  {{ item.name }}\n                </span>\n                <span class=\"item-equipped-badge\" *ngIf=\"item.isEquipped\">\n                  [장착중]\n                </span>\n                <span class=\"item-quantity\" *ngIf=\"item.quantity > 1\">\n                  x{{ item.quantity }}\n                </span>\n              </div>\n              <div class=\"item-description\">{{ item.description }}</div>\n              \n              <!-- 장비 스탯 표시 -->\n              <div class=\"item-stats\" *ngIf=\"item.stats\">\n                <div class=\"stat-line\" *ngFor=\"let statLine of getItemStatsDisplay(item)\">\n                  {{ statLine }}\n                </div>\n              </div>\n              \n              <!-- 장착/사용 버튼 -->\n              <div class=\"item-actions\">\n                <button class=\"btn-equip\" \n                        *ngIf=\"canEquipItem(item) && !item.isEquipped\"\n                        (click)=\"equipItem(item)\">\n                  장착\n                </button>\n                <button class=\"btn-unequip-item\" \n                        *ngIf=\"item.isEquipped\"\n                        (click)=\"unequipItemByItem(item)\">\n                  해제\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- 도움말 -->\n      <div class=\"help-panel\" *ngIf=\"showHelp\">\n        <h2 class=\"panel-title\">도움말</h2>\n        \n        <div class=\"help-section\">\n          <h3>게임 소개</h3>\n          <p>\n            묵향지연(墨香之緣)은 100% 텍스트로 진행되는 무협 인터랙티브 픽션 게임입니다.\n            당신의 선택, 능력치, 성향에 따라 이야기가 실시간으로 변화합니다.\n          </p>\n        </div>\n\n        <div class=\"help-section\">\n          <h3>능력치 설명</h3>\n          <ul>\n            <li><strong>근력:</strong> 물리적 판정, 무거운 무기 사용</li>\n            <li><strong>민첩:</strong> 회피, 잠입, 경공, 암기 판정</li>\n            <li><strong>내공:</strong> 무공 위력, 내공 감지, 회복 속도</li>\n            <li><strong>통찰:</strong> 단서 발견, 의도 간파, 함정 발견</li>\n          </ul>\n        </div>\n\n        <div class=\"help-section\">\n          <h3>성향 시스템</h3>\n          <p>\n            당신의 행동에 따라 성향이 변화합니다.<br>\n            <span class=\"tendency-mark righteous\">정도</span> (-100 ~ -20) / \n            <span class=\"tendency-mark neutral\">중립</span> (-19 ~ 19) / \n            <span class=\"tendency-mark evil\">사도</span> (20 ~ 100)\n          </p>\n          <p>\n            성향은 NPC의 반응, 선택지, 특수 이벤트 발동에 영향을 줍니다.\n          </p>\n        </div>\n\n        <div class=\"help-section\">\n          <h3>조작 방법</h3>\n          <ul>\n            <li>숫자 버튼 또는 클릭으로 선택지를 선택합니다.</li>\n            <li>[조건]이 표시된 선택지는 특정 조건이 필요합니다.</li>\n            <li>조건 미달 시 선택지가 비활성화됩니다.</li>\n            <li>판정이 필요한 선택지는 능력치로 성공/실패가 결정됩니다.</li>\n          </ul>\n        </div>\n\n        <div class=\"help-section\">\n          <h3>동적 상황 시스템</h3>\n          <p>\n            특정 조건(장소, 시간, 능력치, 아이템 등)이 충족되면 \n            메인 스토리와 별개로 특수 이벤트가 자동으로 발생합니다.\n          </p>\n          <p>\n            기연, 연애, 라이벌과의 조우 등 다양한 상황을 경험하세요.\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- 공통 모달 -->\n<app-game-modal\n  [isOpen]=\"isModalOpen\"\n  [type]=\"modalState?.type || 'info'\"\n  [title]=\"modalState?.title || ''\"\n  [message]=\"modalState?.message || ''\"\n  [confirmText]=\"modalState?.confirmText || '확인'\"\n  [cancelText]=\"modalState?.cancelText || '취소'\"\n  [showCancel]=\"modalState?.showCancel || false\"\n  (confirm)=\"onModalConfirm()\"\n  (cancel)=\"onModalCancel()\"\n  (close)=\"onModalClose()\">\n</app-game-modal>\n", "import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { NovelAuthService } from '../services/novel-auth.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NovelAuthGuard implements CanActivate {\n  \n  constructor(\n    private authService: NovelAuthService,\n    private router: Router\n  ) {}\n\n  canActivate(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot\n  ): Observable<boolean> | Promise<boolean> | boolean {\n    \n    // 로그인 여부 확인\n    if (this.authService.isLoggedIn()) {\n      return true;\n    }\n\n    // 로그인되지 않은 경우 로그인 페이지로 리다이렉트\n    this.router.navigate(['/novel/login']);\n    return false;\n  }\n}\n", "import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { NovelGeneratorComponent } from './components/novel-generator/novel-generator.component';\nimport { NovelLogin } from './components/novel-login/novel-login';\nimport { NovelAuthGuard } from './guards/novel-auth.guard';\nimport { WuxiaGameComponent } from './components/wuxia-game/wuxia-game.component';\n\nconst routes: Routes = [\n  {\n    path: 'login',\n    component: NovelLogin\n  },\n  {\n    path: 'wuxia-game',\n    component: WuxiaGameComponent,\n    canActivate: [NovelAuthGuard]\n  },\n  {\n    path: 'game/:gameId',\n    component: NovelGeneratorComponent,\n    canActivate: [NovelAuthGuard]\n  },\n  {\n    path: '',\n    component: NovelGeneratorComponent,\n    canActivate: [NovelAuthGuard]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class NovelRoutingModule { }", "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\n\n// Angular Material imports\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatSliderModule } from '@angular/material/slider';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\n\n// Novel 컴포넌트 imports\nimport { NovelGeneratorComponent } from './components/novel-generator/novel-generator.component';\nimport { NovelLogin } from './components/novel-login/novel-login';\nimport { NovelHeaderComponent } from './components/novel-header/novel-header.component';\nimport { NovelLeftMenuComponent } from './components/novel-left-menu/novel-left-menu.component';\nimport { NovelRightSidebarComponent } from './components/novel-right-sidebar/novel-right-sidebar.component';\nimport { NovelSidebarComponent } from './components/novel-sidebar/novel-sidebar.component';\nimport { NovelTopMenuComponent } from './components/novel-top-menu/novel-top-menu.component';\nimport { NovelVerticalMenuComponent } from './components/novel-vertical-menu/novel-vertical-menu.component';\nimport { BattleModalComponent } from './components/battle-modal/battle-modal.component';\nimport { WuxiaGameComponent } from './components/wuxia-game/wuxia-game.component';\nimport { GameModalComponent } from './components/game-modal/game-modal.component';\n\n// Shared Module\nimport { SharedModule } from '../shared/shared.module';\n\n// Novel routing\nimport { NovelRoutingModule } from './novel-routing.module';\nimport { DungeonExplorer } from './components/dungeon-explorer/dungeon-explorer';\n\n@NgModule({\n  declarations: [\n    NovelGeneratorComponent,\n    NovelLogin,\n    NovelHeaderComponent,\n    NovelLeftMenuComponent,\n    NovelRightSidebarComponent,\n    NovelSidebarComponent,\n    NovelTopMenuComponent,\n    NovelVerticalMenuComponent,\n    BattleModalComponent,\n    DungeonExplorer,\n    WuxiaGameComponent\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    NovelRoutingModule,\n    GameModalComponent,\n    MatSelectModule,\n    MatInputModule,\n    MatFormFieldModule,\n    MatCheckboxModule,\n    MatButtonModule,\n    MatSliderModule,\n    MatChipsModule,\n    MatIconModule,\n    MatMenuModule,\n    MatDialogModule,\n    MatProgressSpinnerModule,\n    MatTabsModule,\n    DragDropModule\n  ]\n})\nexport class NovelModule { }"],
  "mappings": "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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAAA,QAAA,CAAA,s90kBAAA,EAAA,CAAA;;UAGA;WAAU,oBAAoB;;;;6EADpB,yBAAuB,EAAA,WAAA,2BAAA,UAAA,iFAAA,YAAA,IAAA,CAAA;AAAA,GAAA;;;;AEjG9B,IAAO,aAAP,MAAO,YAAU;EAkBX;EACA;EAlBmB;EAE7B,cAA2B;IACzB,OAAO;IACP,UAAU;IACV,YAAY;IACZ,iBAAiB;IACjB,kBAAkB;IAClB,qBAAqB,CAAC,aAAM,aAAM,UAAK,aAAM,gBAAM,aAAM,aAAM,WAAI;IACnE,aAAa;MACX,SAAS;;MACT,WAAW;;MACX,QAAQ;;;;EAIZ,YACU,aACA,QAAc;AADd,SAAA,cAAA;AACA,SAAA,SAAA;EACP;EAEH,WAAQ;AAEN,QAAI,KAAK,YAAY,WAAU,GAAI;AACjC,WAAK,OAAO,SAAS,CAAC,QAAQ,CAAC;IACjC;EACF;;;;EAKA,QAAQ,aAAmD;AACzD,UAAM,UAAU,KAAK,YAAY,MAAM,YAAY,UAAU,YAAY,QAAQ;AAEjF,QAAI,SAAS;AACX,WAAK,OAAO,SAAS,CAAC,QAAQ,CAAC;IACjC,OAAO;AAEL,UAAI,KAAK,gBAAgB;AACvB,aAAK,eAAe,SAAS,gIAA4B;MAC3D;IACF;EACF;;qCA3CW,aAAU,4BAAA,gBAAA,GAAA,4BAAA,MAAA,CAAA;EAAA;yEAAV,aAAU,WAAA,CAAA,CAAA,iBAAA,CAAA,GAAA,WAAA,SAAA,iBAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;;;;;;;;;;AAFV,MAAA,yBAAA,GAAA,qBAAA,GAAA,CAAA;AAA0D,MAAA,qBAAA,eAAA,SAAA,6DAAA,QAAA;AAAA,QAAA,wBAAA,GAAA;AAAA,eAAA,sBAAe,IAAA,QAAA,MAAA,CAAe;MAAA,CAAA;AAAE,MAAA,uBAAA;;;AAAvD,MAAA,qBAAA,UAAA,IAAA,WAAA;;;;;sEAEnC,YAAU,CAAA;UALtB;WAAU;MACT,UAAU;MACV,YAAY;MACZ,UAAU;KACX;;UAEE;WAAU,gBAAgB;;;;6EADhB,YAAU,EAAA,WAAA,cAAA,UAAA,+DAAA,YAAA,GAAA,CAAA;AAAA,GAAA;;;;;AEVvB,IAAA,yBAAA,GAAA,OAAA,EAAA;AACE,IAAA,oBAAA,GAAA,OAAA,EAAA;AACF,IAAA,uBAAA;;;;;;AA4CM,IAAA,yBAAA,GAAA,UAAA,EAAA;AAEQ,IAAA,qBAAA,SAAA,SAAA,mEAAA;AAAA,YAAA,UAAA,wBAAA,GAAA,EAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,gBAAA,OAAA,CAAqB;IAAA,CAAA;AACpC,IAAA,yBAAA,GAAA,UAAA;AAAU,IAAA,iBAAA,CAAA;AAA4B,IAAA,uBAAA;AACtC,IAAA,yBAAA,GAAA,MAAA;AAAM,IAAA,iBAAA,CAAA;AAAe,IAAA,uBAAA,EAAO;;;;;AAHtB,IAAA,qBAAA,YAAA,OAAA,eAAA,QAAA,IAAA,CAAA;AAEI,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,OAAA,YAAA,QAAA,IAAA,CAAA;AACJ,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,QAAA,IAAA;;;;;AAMR,IAAA,yBAAA,GAAA,QAAA,EAAA;AAA6C,IAAA,iBAAA,CAAA;AAAgB,IAAA,uBAAA;;;;AAAhB,IAAA,oBAAA;AAAA,IAAA,4BAAA,OAAA,UAAA;;;;;AAC7C,IAAA,yBAAA,GAAA,QAAA,EAAA;AAA+C,IAAA,iBAAA,CAAA;AAAwB,IAAA,uBAAA;;;;AAAxB,IAAA,oBAAA;AAAA,IAAA,4BAAA,OAAA,iBAAA,CAAA;;;;;AAC/C,IAAA,yBAAA,GAAA,QAAA,EAAA;AAAqD,IAAA,iBAAA,GAAA,wBAAA;AAAO,IAAA,uBAAA;;;;;AAH9D,IAAA,yBAAA,GAAA,OAAA,EAAA;AACE,IAAA,qBAAA,GAAA,8CAAA,GAAA,GAAA,QAAA,EAAA,EAA6C,GAAA,8CAAA,GAAA,GAAA,QAAA,EAAA,EACE,GAAA,8CAAA,GAAA,GAAA,QAAA,EAAA;AAEjD,IAAA,uBAAA;;;;AAH6B,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,OAAA,UAAA;AACD,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,OAAA,YAAA,CAAA;AACO,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,OAAA,YAAA;;;;;AAInC,IAAA,yBAAA,GAAA,QAAA,EAAA,EAA4F,GAAA,GAAA;AACvF,IAAA,iBAAA,CAAA;AAAqB,IAAA,uBAAA;AAAI,IAAA,iBAAA,GAAA,SAAA;AAC9B,IAAA,uBAAA;;;;AADK,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,OAAA,iBAAA;;;ADnCH,IAAO,wBAAP,MAAO,uBAAqB;EAEtB;EADV,YACU,QAAc;AAAd,SAAA,SAAA;EACP;EAEM,aAAa;EACb,oBAAoB;EACpB,aAAa;EACb,eAAe;EACf,YAAY;EACZ,eAAe;EACf,gBAAgB,EAAE,SAAS,GAAG,OAAO,EAAC;EACtC,iBAAiB;EAChB,aAAa,IAAI,aAAY;EAC7B,aAAa,IAAI,aAAY;EAC7B,gBAAgB,IAAI,aAAY;EAChC,SAAS,IAAI,aAAY;EACzB,kBAAkB,IAAI,aAAY;EAClC,mBAAmB,IAAI,aAAY;EAE7C,cAAc;EACd,oBAAmC;EACnC,cAAc;EACd,mBAAmB;;;EAGnB,YAA6B;IAC3B,EAAE,MAAM,sBAAO,QAAQ,MAAK;IAC5B,EAAE,MAAM,gBAAM,QAAQ,MAAK;IAC3B,EAAE,MAAM,4BAAQ,QAAQ,MAAK;IAC7B,EAAE,MAAM,4BAAQ,QAAQ,MAAK;IAC7B,EAAE,MAAM,gBAAM,QAAQ,MAAK;;;EAI7B,iBAAuC;IACrC;MACE,QAAQ;MACR,MAAM;MACN,SAAS;;IAEX;MACE,QAAQ;MACR,MAAM;MACN,SAAS;;IAEX;MACE,QAAQ;MACR,MAAM;MACN,SAAS;;IAEX;MACE,QAAQ;MACR,MAAM;MACN,SAAS;;IAEX;MACE,QAAQ;MACR,MAAM;MACN,SAAS;;IAEX;MACE,QAAQ;MACR,MAAM;MACN,SAAS;;;EAIb,gBAAgB,MAAmB;AACjC,QAAI,KAAK;AAAU;AAGnB,SAAK,mBAAmB,KAAK;AAG7B,SAAK,UAAU,QAAQ,cAAY,SAAS,SAAS,KAAK;AAC1D,SAAK,SAAS;AAGd,YAAQ,KAAK,MAAM;MACjB,KAAK;AACH,aAAK,cAAc,KAAK,WAAW;AACnC;MACF,KAAK;AACH,aAAK,cAAc,KAAK,YAAY;AACpC;MACF,KAAK;AACH,aAAK,cAAc,KAAK,YAAY;AACpC;MACF,KAAK;AACH,aAAK,cAAc,KAAK,cAAc;AACtC;MACF,KAAK;AACH,aAAK,cAAc,KAAK,UAAU;AAClC;IACJ;AAEA,SAAK,WAAW,KAAK;MACnB,QAAQ;MACR,MAAM,EAAE,MAAM,KAAK,KAAI;KACxB;AAED,SAAK,WAAW,KAAK,KAAK,IAAI;EAChC;EAEA,YAAY,UAAgB;AAC1B,YAAQ,UAAU;MAChB,KAAK;AAAO,eAAO;MACnB,KAAK;AAAM,eAAO;MAClB,KAAK;AAAQ,eAAO;MACpB,KAAK;AAAQ,eAAO;MACpB,KAAK;AAAM,eAAO;MAClB;AAAS,eAAO;IAClB;EACF;EAEA,gBAAgB,QAAc;AAC5B,SAAK,cAAc,KAAK,MAAM;EAChC;EAEA,eAAe,cAA4B;AACzC,QAAI;AAEJ,QAAI,OAAO,iBAAiB,UAAU;AACpC,cAAQ;IACV,OAAO;AACL,YAAM,SAAS,aAAa;AAC5B,cAAQ,SAAS,OAAO,QAAQ;IAClC;AAEA,SAAK,cAAc;AACnB,SAAK,OAAO,KAAK,KAAK;AAEtB,QAAI,MAAM,KAAI,GAAI;AAChB,WAAK,cAAc;AAEnB,iBAAW,MAAK;AACd,aAAK,cAAc;AACnB,aAAK,oBAAoB,KAAK,MAAM,KAAK,OAAM,IAAK,EAAE,IAAI;MAC5D,GAAG,GAAG;IACR,OAAO;AACL,WAAK,oBAAoB;IAC3B;EACF;EAEA,gBAAa;AACX,QAAI,KAAK,YAAY,KAAI,GAAI;AAC3B,WAAK,WAAW,KAAK;QACnB,QAAQ;QACR,MAAM,EAAE,OAAO,KAAK,YAAW;OAChC;IACH;EACF;EAEA,eAAe,OAAU;AACvB,UAAM,OAAO,MAAM,OAAO,MAAM,CAAC;AACjC,QAAI,MAAM;AAER,YAAM,SAAS,IAAI,WAAU;AAC7B,aAAO,SAAS,CAAC,MAAK;AACpB,cAAM,UAAU,EAAE,QAAQ;AAC1B,aAAK,kBAAkB,SAAS,KAAK,IAAI;MAC3C;AACA,aAAO,WAAW,IAAI;IACxB;EACF;EAEQ,kBAAkB,SAAiB,UAAgB;AAEzD,SAAK,aAAa,SAAS,QAAQ,aAAa,EAAE;AAClD,SAAK,YAAY,QAAQ;AACzB,SAAK,cAAc,KAAK,WAAW;EAErC;EAEA,eAAe,UAAgB;AAE7B,QAAI,KAAK,cAAc;AACrB,aAAO,CAAC,gBAAM,0BAAM,EAAE,SAAS,QAAQ;IACzC;AAGA,WAAO;EACT;EAEA,mBAAgB;AACd,QAAI,KAAK,cAAc;AAAG,aAAO;AAEjC,QAAI,KAAK,YAAY,KAAM;AACzB,aAAO,GAAG,KAAK,SAAS;IAC1B,WAAW,KAAK,YAAY,KAAO;AACjC,aAAO,IAAI,KAAK,YAAY,KAAM,QAAQ,CAAC,CAAC;IAC9C,OAAO;AACL,aAAO,IAAI,KAAK,YAAY,KAAO,QAAQ,CAAC,CAAC;IAC/C;EACF;EAEA,aAAa,UAAgB;AAC3B,SAAK,WAAW,KAAK,QAAQ;EAC/B;;qCAvMW,wBAAqB,4BAAA,MAAA,CAAA;EAAA;yEAArB,wBAAqB,WAAA,CAAA,CAAA,oBAAA,CAAA,GAAA,QAAA,EAAA,YAAA,cAAA,mBAAA,qBAAA,YAAA,cAAA,cAAA,gBAAA,WAAA,aAAA,cAAA,gBAAA,eAAA,iBAAA,gBAAA,iBAAA,GAAA,SAAA,EAAA,YAAA,cAAA,YAAA,cAAA,eAAA,iBAAA,QAAA,UAAA,iBAAA,mBAAA,kBAAA,mBAAA,GAAA,YAAA,OAAA,OAAA,IAAA,MAAA,GAAA,QAAA,CAAA,CAAA,aAAA,EAAA,GAAA,CAAA,YAAA,SAAA,GAAA,CAAA,SAAA,uBAAA,GAAA,MAAA,GAAA,CAAA,GAAA,cAAA,GAAA,CAAA,QAAA,QAAA,UAAA,kBAAA,GAAA,WAAA,QAAA,GAAA,QAAA,GAAA,CAAA,GAAA,OAAA,GAAA,CAAA,SAAA,6BAAA,GAAA,oBAAA,QAAA,GAAA,OAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,GAAA,eAAA,GAAA,CAAA,GAAA,WAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,GAAA,WAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,GAAA,cAAA,GAAA,WAAA,QAAA,eAAA,UAAA,OAAA,KAAA,GAAA,CAAA,mBAAA,IAAA,SAAA,gBAAA,GAAA,oBAAA,GAAA,mBAAA,GAAA,CAAA,iBAAA,IAAA,GAAA,YAAA,SAAA,GAAA,SAAA,SAAA,GAAA,CAAA,SAAA,gBAAA,GAAA,MAAA,GAAA,CAAA,SAAA,8BAAA,GAAA,MAAA,GAAA,CAAA,QAAA,QAAA,eAAA,oDAAA,GAAA,cAAA,GAAA,iBAAA,SAAA,iBAAA,SAAA,GAAA,CAAA,SAAA,6BAAA,GAAA,oBAAA,GAAA,OAAA,GAAA,CAAA,GAAA,qBAAA,GAAA,CAAA,GAAA,iBAAA,GAAA,CAAA,iBAAA,IAAA,GAAA,SAAA,UAAA,GAAA,CAAA,GAAA,cAAA,GAAA,CAAA,SAAA,eAAA,GAAA,MAAA,GAAA,CAAA,SAAA,cAAA,GAAA,MAAA,GAAA,CAAA,SAAA,qBAAA,GAAA,MAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,GAAA,mBAAA,GAAA,CAAA,GAAA,4BAAA,CAAA,GAAA,UAAA,SAAA,+BAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;;AC5BlC,MAAA,qBAAA,GAAA,sCAAA,GAAA,GAAA,OAAA,CAAA;AAKA,MAAA,yBAAA,GAAA,OAAA,CAAA,EAA0B,GAAA,SAAA,GAAA,CAAA;AAOtB,MAAA,qBAAA,UAAA,SAAA,uDAAA,QAAA;AAAA,QAAA,wBAAA,GAAA;AAAA,eAAA,sBAAU,IAAA,eAAA,MAAA,CAAsB;MAAA,CAAA;AALlC,MAAA,uBAAA;AAOA,MAAA,yBAAA,GAAA,OAAA,CAAA,EAAmB,GAAA,UAAA,CAAA;AAIf,MAAA,qBAAA,SAAA,SAAA,yDAAA;AAAA,QAAA,wBAAA,GAAA;AAAA,eAAA,sBAAS,IAAA,gBAAA,KAAA,CAAsB;MAAA,CAAA;AAE/B,MAAA,yBAAA,GAAA,OAAA,CAAA;AACE,MAAA,oBAAA,GAAA,MAAA,EAAa,GAAA,MAAA,EACA,GAAA,MAAA;AAEf,MAAA,uBAAA,EAAM;AAIR,MAAA,yBAAA,IAAA,OAAA,CAAA,EAA2B,IAAA,QAAA,CAAA;AACD,MAAA,iBAAA,IAAA,2BAAA;AAAK,MAAA,uBAAA;AAC7B,MAAA,yBAAA,IAAA,QAAA,EAAA;AAA6B,MAAA,iBAAA,IAAA,QAAA;AAAC,MAAA,uBAAA;AAC9B,MAAA,yBAAA,IAAA,QAAA,EAAA;AAAwB,MAAA,iBAAA,EAAA;AAAsB,MAAA,uBAAA,EAAO,EACjD;AAGR,MAAA,oBAAA,IAAA,OAAA,EAAA;AAIA,MAAA,yBAAA,IAAA,OAAA,EAAA,EAA8E,IAAA,UAAA,EAAA,EAEe,IAAA,UAAA;AAC/E,MAAA,iBAAA,IAAA,MAAA;AAAI,MAAA,uBAAA,EAAW;AAG3B,MAAA,yBAAA,IAAA,YAAA,MAAA,CAAA;AACE,MAAA,qBAAA,IAAA,0CAAA,GAAA,GAAA,UAAA,EAAA;AAMF,MAAA,uBAAA;AAGA,MAAA,qBAAA,IAAA,uCAAA,GAAA,GAAA,OAAA,EAAA,EAA8D,IAAA,wCAAA,GAAA,GAAA,QAAA,EAAA;AAY9D,MAAA,yBAAA,IAAA,SAAA,EAAA;AAGO,MAAA,2BAAA,iBAAA,SAAA,+DAAA,QAAA;AAAA,QAAA,wBAAA,GAAA;AAAA,QAAA,6BAAA,IAAA,aAAA,MAAA,MAAA,IAAA,cAAA;AAAA,eAAA,sBAAA,MAAA;MAAA,CAAA;AACA,MAAA,qBAAA,SAAA,SAAA,yDAAA;AAAA,QAAA,wBAAA,GAAA;AAAA,eAAA,sBAAS,IAAA,eAAA,IAAA,WAAA,CAA2B;MAAA,CAAA,EAAC,iBAAA,SAAA,iEAAA;AAAA,QAAA,wBAAA,GAAA;AAAA,eAAA,sBACpB,IAAA,cAAA,CAAe;MAAA,CAAA;AALvC,MAAA,uBAAA;AAQA,MAAA,yBAAA,IAAA,UAAA,EAAA;AAEE,MAAA,qBAAA,SAAA,SAAA,0DAAA;AAAA,QAAA,wBAAA,GAAA;AAAA,eAAA,sBAAS,IAAA,iBAAA,KAAA,CAAuB;MAAA,CAAA;AAEhC,MAAA,yBAAA,IAAA,OAAA,CAAA;AACE,MAAA,oBAAA,IAAA,MAAA,EAAa,IAAA,MAAA,EACA,IAAA,MAAA;AAEf,MAAA,uBAAA,EAAM,EACC,EACL;;;;AArFF,MAAA,qBAAA,QAAA,IAAA,WAAA;AA+BwB,MAAA,oBAAA,EAAA;AAAA,MAAA,4BAAA,IAAA,gBAAA;AAUF,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,qBAAA,WAAA;AAKiB,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,WAAA,IAAA,SAAA;AASd,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,cAAA,IAAA,YAAA,CAAA;AAOpB,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,sBAAA,QAAA,CAAA,IAAA,WAAA;AAQA,MAAA,oBAAA;AAAA,MAAA,2BAAA,WAAA,IAAA,WAAA;;;;;sED1CE,uBAAqB,CAAA;UANjC;uBACW,sBAAoB,YAGlB,OAAK,UAAA,uiGAAA,QAAA,CAAA,gsgBAAA,EAAA,CAAA;;UAOhB;;UACA;;UACA;;UACA;;UACA;;UACA;;UACA;;UACA;;UACA;;UACA;;UACA;;UACA;;UACA;;UACA;;;;6EAlBU,uBAAqB,EAAA,WAAA,yBAAA,UAAA,+EAAA,YAAA,GAAA,CAAA;AAAA,GAAA;;;AEnB5B,IAAO,uBAAP,MAAO,sBAAoB;EAeX;EAdX,aAAqB;EACrB,aAAqB;EACrB,YAAoB;EACpB,eAAwB;EACxB,gBAAqB,EAAE,SAAS,GAAG,OAAO,EAAC;EAC3C,eAAwB;EACxB,iBAAyB;EAExB,aAAa,IAAI,aAAY;EAC7B,gBAAgB,IAAI,aAAY;EAChC,SAAS,IAAI,aAAY;EACzB,mBAAmB,IAAI,aAAY;EACnC,kBAAkB,IAAI,aAAY;EAE5C,YAAoB,QAAc;AAAd,SAAA,SAAA;EAAiB;EAErC,aAAa,MAAY;AACvB,SAAK,WAAW,KAAK,IAAI;EAC3B;EAEA,gBAAgB,QAAc;AAC5B,SAAK,cAAc,KAAK,MAAM;EAChC;EAEA,SAAS,YAAkB;AACzB,SAAK,OAAO,KAAK,UAAU;EAC7B;EAEA,qBAAkB;AAChB,SAAK,iBAAiB,KAAI;EAC5B;EAEA,oBAAiB;AACf,SAAK,gBAAgB,KAAI;EAC3B;EAEA,WAAQ;EAGR;;qCAxCW,uBAAoB,4BAAA,MAAA,CAAA;EAAA;yEAApB,uBAAoB,WAAA,CAAA,CAAA,kBAAA,CAAA,GAAA,QAAA,EAAA,YAAA,cAAA,YAAA,cAAA,WAAA,aAAA,cAAA,gBAAA,eAAA,iBAAA,cAAA,gBAAA,gBAAA,iBAAA,GAAA,SAAA,EAAA,YAAA,cAAA,eAAA,iBAAA,QAAA,UAAA,kBAAA,oBAAA,iBAAA,kBAAA,GAAA,YAAA,OAAA,OAAA,GAAA,MAAA,GAAA,QAAA,CAAA,CAAA,GAAA,cAAA,GAAA,CAAA,GAAA,cAAA,iBAAA,UAAA,oBAAA,mBAAA,cAAA,cAAA,aAAA,gBAAA,iBAAA,gBAAA,gBAAA,CAAA,GAAA,UAAA,SAAA,8BAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;ACRjC,MAAA,yBAAA,GAAA,OAAA,CAAA,EAA0B,GAAA,sBAAA,CAAA;AAUtB,MAAA,qBAAA,cAAA,SAAA,uEAAA,QAAA;AAAA,eAAc,IAAA,aAAA,MAAA;MAAoB,CAAA,EAAC,iBAAA,SAAA,0EAAA,QAAA;AAAA,eAClB,IAAA,gBAAA,MAAA;MAAuB,CAAA,EAAC,UAAA,SAAA,mEAAA,QAAA;AAAA,eAC/B,IAAA,SAAA,MAAA;MAAgB,CAAA,EAAC,oBAAA,SAAA,+EAAA;AAAA,eACP,IAAA,mBAAA;MAAoB,CAAA,EAAC,mBAAA,SAAA,8EAAA;AAAA,eACtB,IAAA,kBAAA;MAAmB,CAAA;AACxC,MAAA,uBAAA,EAAqB;;;AAZnB,MAAA,oBAAA;AAAA,MAAA,qBAAA,cAAA,IAAA,UAAA,EAAyB,cAAA,IAAA,UAAA,EACA,aAAA,IAAA,SAAA,EACF,gBAAA,IAAA,YAAA,EACM,iBAAA,IAAA,aAAA,EACE,gBAAA,IAAA,YAAA,EACF,kBAAA,IAAA,cAAA;;;;;sEDApB,sBAAoB,CAAA;UANhC;uBACW,oBAAkB,YAGhB,OAAK,UAAA,urBAAA,QAAA,CAAA,63BAAA,EAAA,CAAA;;UAGhB;;UACA;;UACA;;UACA;;UACA;;UACA;;UACA;;UAEA;;UACA;;UACA;;UACA;;UACA;;;;6EAbU,sBAAoB,EAAA,WAAA,wBAAA,UAAA,2EAAA,YAAA,GAAA,CAAA;AAAA,GAAA;;;;;AGL3B,IAAA,yBAAA,GAAA,OAAA,CAAA;AACE,IAAA,iBAAA,CAAA;AACF,IAAA,uBAAA;;;;AAFuD,IAAA,qBAAA,SAAA,QAAA,KAAA;AACrD,IAAA,oBAAA;AAAA,IAAA,6BAAA,KAAA,QAAA,MAAA,GAAA;;;;;;AAHN,IAAA,yBAAA,GAAA,OAAA,CAAA;AAAgD,IAAA,qBAAA,SAAA,SAAA,6DAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,SAAA,CAAU;IAAA,CAAA;AACjE,IAAA,yBAAA,GAAA,OAAA,CAAA;AACE,IAAA,qBAAA,GAAA,6CAAA,GAAA,GAAA,OAAA,CAAA;AAGF,IAAA,uBAAA,EAAM;;;;AAHoC,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,WAAA,OAAA,UAAA;;;;;;AAaxC,IAAA,yBAAA,GAAA,OAAA,EAAA;AAEK,IAAA,qBAAA,SAAA,SAAA,mEAAA;AAAA,YAAA,UAAA,wBAAA,GAAA,EAAA;AAAA,YAAA,SAAA,wBAAA,CAAA;AAAA,aAAA,sBAAS,OAAA,YAAA,QAAA,EAAA,CAAoB;IAAA,CAAA;AAChC,IAAA,yBAAA,GAAA,OAAA,EAAA;AAA2B,IAAA,iBAAA,CAAA;AAAe,IAAA,uBAAA;AAC1C,IAAA,yBAAA,GAAA,OAAA,EAAA,EAA8B,GAAA,OAAA,EAAA;AACA,IAAA,iBAAA,CAAA;AAAgB,IAAA,uBAAA;AAC5C,IAAA,yBAAA,GAAA,OAAA,EAAA;AAA4B,IAAA,iBAAA,CAAA;AAA2B,IAAA,uBAAA,EAAM;AAE/D,IAAA,yBAAA,GAAA,OAAA,EAAA;AAA4B,IAAA,iBAAA,GAAA,QAAA;AAAC,IAAA,uBAAA,EAAM;;;;AALR,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,QAAA,IAAA;AAEG,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,QAAA,KAAA;AACA,IAAA,oBAAA,CAAA;AAAA,IAAA,6BAAA,IAAA,QAAA,MAAA,QAAA,qBAAA;;;;;;AAZpC,IAAA,yBAAA,GAAA,OAAA,CAAA,EAA+D,GAAA,OAAA,CAAA,EACnC,GAAA,IAAA;AACpB,IAAA,iBAAA,GAAA,cAAA;AAAE,IAAA,uBAAA;AACN,IAAA,yBAAA,GAAA,UAAA,EAAA;AAA0B,IAAA,qBAAA,SAAA,SAAA,gEAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,QAAA,CAAS;IAAA,CAAA;AAAa,IAAA,iBAAA,GAAA,MAAA;AAAC,IAAA,uBAAA,EAAS;AAErE,IAAA,yBAAA,GAAA,OAAA,EAAA;AACE,IAAA,qBAAA,GAAA,6CAAA,IAAA,GAAA,OAAA,EAAA;AAUF,IAAA,uBAAA,EAAM;;;;AATkB,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,WAAA,OAAA,UAAA;;;;;AAwBhB,IAAA,yBAAA,GAAA,OAAA,EAAA;AAAuD,IAAA,iBAAA,CAAA;AAAsB,IAAA,uBAAA;;;;AAAtB,IAAA,oBAAA;AAAA,IAAA,4BAAA,QAAA,WAAA;;;;;;AAH3D,IAAA,yBAAA,GAAA,OAAA,EAAA;AAA2D,IAAA,qBAAA,SAAA,SAAA,oEAAA;AAAA,YAAA,UAAA,wBAAA,GAAA,EAAA;AAAA,YAAA,SAAA,wBAAA,CAAA;AAAA,aAAA,sBAAS,OAAA,eAAA,QAAA,EAAA,CAAuB;IAAA,CAAA;AACzF,IAAA,yBAAA,GAAA,OAAA,EAAA,EAA0B,GAAA,OAAA,EAAA;AACA,IAAA,iBAAA,CAAA;AAAgB,IAAA,uBAAA;AACxC,IAAA,qBAAA,GAAA,oDAAA,GAAA,GAAA,OAAA,EAAA;AACF,IAAA,uBAAA;AACA,IAAA,yBAAA,GAAA,OAAA,EAAA;AAAwB,IAAA,iBAAA,GAAA,QAAA;AAAC,IAAA,uBAAA,EAAM;;;;AAHL,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,QAAA,KAAA;AACO,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,QAAA,WAAA;;;;;;AAXzC,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAmE,GAAA,OAAA,EAAA,EACtC,GAAA,OAAA,CAAA,EACC,GAAA,UAAA,EAAA;AACC,IAAA,qBAAA,SAAA,SAAA,gEAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,OAAA,CAAQ;IAAA,CAAA;AAAE,IAAA,iBAAA,GAAA,QAAA;AAAC,IAAA,uBAAA;AAC7C,IAAA,yBAAA,GAAA,IAAA;AAAI,IAAA,iBAAA,CAAA;AAAoB,IAAA,uBAAA;AACxB,IAAA,yBAAA,GAAA,UAAA,EAAA;AAA0B,IAAA,qBAAA,SAAA,SAAA,gEAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,QAAA,CAAS;IAAA,CAAA;AAAa,IAAA,iBAAA,GAAA,MAAA;AAAC,IAAA,uBAAA,EAAS;AAErE,IAAA,yBAAA,GAAA,OAAA,EAAA;AACE,IAAA,qBAAA,IAAA,8CAAA,GAAA,GAAA,OAAA,EAAA;AAOF,IAAA,uBAAA,EAAM,EACF;;;;AAZE,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,OAAA,aAAA,CAAA;AAIoC,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,WAAA,OAAA,aAAA,CAAA;;;ADK1C,IAAO,yBAAP,MAAO,wBAAsB;EACxB,cAAqB,CAAA;EACrB,cAAuB;EACtB,aAAa,IAAI,aAAY;EAC7B,QAAQ,IAAI,aAAY;EACxB,YAAY,IAAI,aAAY;EAC5B,SAAS,IAAI,aAAY;EAEnC,iBAAgC;EAEhC,WAAQ;AACN,SAAK,OAAO,KAAI;EAClB;;EAGA,aAAyB;IACvB;MACE,IAAI;MACJ,OAAO;MACP,MAAM;MACN,OAAO;QACL,EAAE,IAAI,aAAa,OAAO,uBAAQ,aAAa,mCAAS;QACxD,EAAE,IAAI,cAAc,OAAO,6BAAS,aAAa,qDAAY;QAC7D,EAAE,IAAI,iBAAiB,OAAO,6BAAS,aAAa,4DAAc;QAClE,EAAE,IAAI,cAAc,OAAO,6BAAS,aAAa,yCAAU;;;IAG/D;MACE,IAAI;MACJ,OAAO;MACP,MAAM;MACN,OAAO;QACL,EAAE,IAAI,kBAAkB,OAAO,mCAAU,aAAa,sDAAa;QACnE,EAAE,IAAI,oBAAoB,OAAO,yCAAW,aAAa,4DAAc;QACvE,EAAE,IAAI,oBAAoB,OAAO,yCAAW,aAAa,4DAAc;QACvE,EAAE,IAAI,mBAAmB,OAAO,mCAAU,aAAa,sDAAa;;;IAGxE;MACE,IAAI;MACJ,OAAO;MACP,MAAM;MACN,OAAO;QACL,EAAE,IAAI,iBAAiB,OAAO,mCAAU,aAAa,yCAAU;QAC/D,EAAE,IAAI,kBAAkB,OAAO,mCAAU,aAAa,+CAAW;QACjE,EAAE,IAAI,sBAAsB,OAAO,sBAAO,aAAa,sDAAa;QACpE,EAAE,IAAI,qBAAqB,OAAO,mCAAU,aAAa,+CAAW;;;IAGxE;MACE,IAAI;MACJ,OAAO;MACP,MAAM;MACN,OAAO;QACL,EAAE,IAAI,gBAAgB,OAAO,6BAAS,aAAa,+CAAW;QAC9D,EAAE,IAAI,gBAAgB,OAAO,6BAAS,aAAa,+CAAW;QAC9D,EAAE,IAAI,YAAY,OAAO,4BAAQ,aAAa,+CAAW;QACzD,EAAE,IAAI,iBAAiB,OAAO,6BAAS,aAAa,+CAAW;;;IAGnE;MACE,IAAI;MACJ,OAAO;MACP,MAAM;MACN,OAAO;QACL,EAAE,IAAI,qBAAqB,OAAO,mCAAU,aAAa,4DAAc;QACvE,EAAE,IAAI,oBAAoB,OAAO,6BAAS,aAAa,4DAAc;QACrE,EAAE,IAAI,gBAAgB,OAAO,mCAAU,aAAa,gDAAY;QAChE,EAAE,IAAI,eAAe,OAAO,+CAAY,aAAa,+CAAW;;;IAGpE;MACE,IAAI;MACJ,OAAO;MACP,MAAM;MACN,OAAO;QACL,EAAE,IAAI,cAAc,OAAO,oCAAW,aAAa,yCAAU;QAC7D,EAAE,IAAI,kBAAkB,OAAO,mCAAU,aAAa,+CAAW;QACjE,EAAE,IAAI,iBAAiB,OAAO,mCAAU,aAAa,+CAAW;QAChE,EAAE,IAAI,gBAAgB,OAAO,uBAAQ,aAAa,wCAAS;;;IAG/D;MACE,IAAI;MACJ,OAAO;MACP,MAAM;MACN,OAAO;QACL,EAAE,IAAI,cAAc,OAAO,0BAAW,aAAa,iEAAc;QACjE,EAAE,IAAI,eAAe,OAAO,2BAAY,aAAa,uCAAa;QAClE,EAAE,IAAI,cAAc,OAAO,0BAAW,aAAa,kDAAc;QACjE,EAAE,IAAI,eAAe,OAAO,2BAAY,aAAa,qDAAY;;;;EAKvE,WAAW,QAAc;AACvB,QAAI,KAAK,mBAAmB,QAAQ;AAClC,WAAK,iBAAiB;IACxB,OAAO;AACL,WAAK,iBAAiB;IACxB;EACF;EAEA,YAAY,MAAqB,SAAe;AAC9C,SAAK,UAAU,KAAK,EAAE,MAAM,QAAO,CAAE;AAGrC,YAAQ,KAAK,IAAI;MACf,KAAK;AACH,aAAK,WAAW,KAAK,EAAE,MAAM,YAAW,CAAE;AAC1C;MACF,KAAK;AACH,aAAK,WAAW,KAAK,EAAE,MAAM,aAAY,CAAE;AAC3C;MACF,KAAK;AACH,aAAK,WAAW,KAAK,EAAE,MAAM,aAAY,CAAE;AAC3C;;MAEF,KAAK;MACL,KAAK;MACL,KAAK;MACL,KAAK;AACH,aAAK,WAAW,KAAK,EAAE,MAAM,QAAQ,MAAM,KAAK,GAAE,CAAE;AACpD;MACF;AACE,aAAK,WAAW,KAAK,EAAE,MAAM,aAAa,MAAM,KAAI,CAAE;AACtD;IACJ;EACF;EAEA,eAAe,QAAc;AAC3B,WAAO,KAAK,mBAAmB;EACjC;EAEA,UAAO;AACL,SAAK,MAAM,KAAI;EACjB;EAEA,mBAAgB;AACd,UAAM,OAAO,KAAK,WAAW,KAAK,OAAK,EAAE,OAAO,KAAK,cAAc;AACnE,WAAO,OAAO,KAAK,QAAQ,CAAA;EAC7B;EAEA,uBAAoB;AAClB,UAAM,OAAO,KAAK,WAAW,KAAK,OAAK,EAAE,OAAO,KAAK,cAAc;AACnE,WAAO,OAAO,KAAK,QAAQ;EAC7B;EAEA,YAAY,QAAc;AACxB,SAAK,WAAW,MAAM;EACxB;EAEA,SAAM;AACJ,SAAK,iBAAiB;EACxB;EAEA,eAAY;AACV,WAAO,KAAK,qBAAoB;EAClC;EAEA,eAAY;AACV,WAAO,KAAK,iBAAgB;EAC9B;EAEA,eAAe,QAAc;AAC3B,UAAM,OAAO,KAAK,WAAW,KAAK,OAAK,EAAE,OAAO,KAAK,cAAc;AACnE,QAAI,MAAM;AACR,YAAM,OAAO,KAAK,MAAM,KAAK,OAAK,EAAE,OAAO,MAAM;AACjD,UAAI,MAAM;AACR,aAAK,YAAY,MAAM,KAAK,EAAE;MAChC;IACF;EACF;;qCA5KW,yBAAsB;EAAA;yEAAtB,yBAAsB,WAAA,CAAA,CAAA,qBAAA,CAAA,GAAA,QAAA,EAAA,aAAA,eAAA,aAAA,cAAA,GAAA,SAAA,EAAA,YAAA,cAAA,OAAA,SAAA,WAAA,aAAA,QAAA,SAAA,GAAA,YAAA,OAAA,OAAA,GAAA,MAAA,GAAA,QAAA,CAAA,CAAA,GAAA,iBAAA,GAAA,CAAA,SAAA,kBAAA,GAAA,SAAA,GAAA,MAAA,GAAA,CAAA,SAAA,aAAA,GAAA,MAAA,GAAA,CAAA,SAAA,kBAAA,GAAA,MAAA,GAAA,CAAA,GAAA,kBAAA,GAAA,OAAA,GAAA,CAAA,GAAA,WAAA,GAAA,CAAA,SAAA,aAAA,GAAA,SAAA,GAAA,SAAA,SAAA,GAAA,CAAA,GAAA,aAAA,GAAA,OAAA,GAAA,CAAA,GAAA,WAAA,GAAA,CAAA,GAAA,cAAA,GAAA,CAAA,SAAA,gBAAA,GAAA,aAAA,GAAA,OAAA,GAAA,CAAA,GAAA,eAAA,GAAA,CAAA,SAAA,iBAAA,GAAA,SAAA,GAAA,SAAA,SAAA,GAAA,CAAA,GAAA,iBAAA,GAAA,OAAA,GAAA,CAAA,GAAA,eAAA,GAAA,CAAA,GAAA,kBAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,GAAA,eAAA,GAAA,CAAA,GAAA,YAAA,GAAA,OAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,SAAA,aAAA,GAAA,SAAA,GAAA,SAAA,SAAA,GAAA,CAAA,GAAA,aAAA,GAAA,OAAA,GAAA,CAAA,GAAA,cAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,SAAA,oBAAA,GAAA,MAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,GAAA,kBAAA,CAAA,GAAA,UAAA,SAAA,gCAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;AC5CnC,MAAA,yBAAA,GAAA,OAAA,CAAA;AAEE,MAAA,qBAAA,GAAA,uCAAA,GAAA,GAAA,OAAA,CAAA,EAAqE,GAAA,uCAAA,GAAA,GAAA,OAAA,CAAA,EASN,GAAA,uCAAA,IAAA,GAAA,OAAA,CAAA;AAsCjE,MAAA,uBAAA;;;AAjD6B,MAAA,sBAAA,aAAA,IAAA,WAAA;AAEE,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,WAAA;AASL,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,CAAA,IAAA,kBAAA,CAAA,IAAA,WAAA;AAoBK,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,kBAAA,CAAA,IAAA,WAAA;;02PDLjB;IACV,QAAQ,kBAAkB;MACxB,MAAM,YAAY,MAAM;QACtB,QAAQ;QACR,SAAS;QACT,UAAU;OACX,CAAC;MACF,MAAM,aAAa,MAAM;QACvB,QAAQ;QACR,SAAS;QACT,UAAU;OACX,CAAC;MACF,WAAW,0BAA0B;QACnC,QAAQ,mBAAmB;OAC5B;KACF;IACF,EAAA,CAAA;;;sEAEU,wBAAsB,CAAA;UAvBlC;uBACW,uBAAqB,YAGnB,OAAK,YACL;MACV,QAAQ,kBAAkB;QACxB,MAAM,YAAY,MAAM;UACtB,QAAQ;UACR,SAAS;UACT,UAAU;SACX,CAAC;QACF,MAAM,aAAa,MAAM;UACvB,QAAQ;UACR,SAAS;UACT,UAAU;SACX,CAAC;QACF,WAAW,0BAA0B;UACnC,QAAQ,mBAAmB;SAC5B;OACF;OACF,UAAA,wmEAAA,QAAA,CAAA,g8KAAA,EAAA,CAAA;;UAGA;;UACA;;UACA;;UACA;;UACA;;UACA;;;;6EANU,wBAAsB,EAAA,WAAA,0BAAA,UAAA,iFAAA,YAAA,GAAA,CAAA;AAAA,GAAA;;;;;AGAzB,IAAA,yBAAA,GAAA,MAAA;AAAuC,IAAA,iBAAA,GAAA,iCAAA;AAAM,IAAA,uBAAA;;;;;AAC7C,IAAA,yBAAA,GAAA,MAAA;AAAsC,IAAA,iBAAA,GAAA,eAAA;AAAG,IAAA,uBAAA;;;;;AAF3C,IAAA,yBAAA,GAAA,OAAA,EAAA;AACE,IAAA,qBAAA,GAAA,6CAAA,GAAA,GAAA,QAAA,EAAA,EAAuC,GAAA,6CAAA,GAAA,GAAA,QAAA,EAAA;AAEzC,IAAA,uBAAA;;;;AAFS,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,OAAA,gBAAA,QAAA;AACA,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,OAAA,gBAAA,OAAA;;;;;AAET,IAAA,yBAAA,GAAA,OAAA,EAAA,EAA+C,GAAA,QAAA,EAAA;AACxB,IAAA,iBAAA,CAAA;AAAgB,IAAA,uBAAA,EAAO;;;;AAAvB,IAAA,oBAAA,CAAA;AAAA,IAAA,6BAAA,IAAA,OAAA,QAAA,gBAAA;;;;;;AAMvB,IAAA,yBAAA,GAAA,OAAA,EAAA;AAKK,IAAA,qBAAA,SAAA,SAAA,4DAAA;AAAA,YAAA,OAAA,wBAAA,GAAA,EAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,YAAA,IAAA,CAAc;IAAA,CAAA;AAC1B,IAAA,yBAAA,GAAA,OAAA,CAAA,EAA4B,GAAA,IAAA;AACtB,IAAA,iBAAA,CAAA;AAAgB,IAAA,uBAAA;AACpB,IAAA,yBAAA,GAAA,OAAA,EAAA;AAA2C,IAAA,iBAAA,GAAA,WAAA;AAAE,IAAA,uBAAA,EAAM;AAErD,IAAA,yBAAA,GAAA,OAAA,CAAA,EAAyB,GAAA,OAAA,CAAA,EACI,GAAA,OAAA;AAClB,IAAA,iBAAA,GAAA,IAAA;AAAE,IAAA,uBAAA;AACT,IAAA,yBAAA,IAAA,OAAA,EAAA;AACE,IAAA,oBAAA,IAAA,OAAA,EAAA;AACA,IAAA,yBAAA,IAAA,QAAA,EAAA;AAAuB,IAAA,iBAAA,EAAA;AAAuC,IAAA,uBAAA,EAAO,EACjE;AAER,IAAA,yBAAA,IAAA,OAAA,EAAA,EAA2B,IAAA,OAAA;AAClB,IAAA,iBAAA,IAAA,IAAA;AAAE,IAAA,uBAAA;AACT,IAAA,yBAAA,IAAA,OAAA,EAAA;AACE,IAAA,oBAAA,IAAA,OAAA,EAAA;AACA,IAAA,yBAAA,IAAA,QAAA,EAAA;AAAuB,IAAA,iBAAA,EAAA;AAAuC,IAAA,uBAAA,EAAO,EACjE,EACF;AAER,IAAA,yBAAA,IAAA,OAAA,EAAA,EAA6B,IAAA,MAAA;AACrB,IAAA,iBAAA,EAAA;AAAsB,IAAA,uBAAA;AAC5B,IAAA,yBAAA,IAAA,MAAA;AAAM,IAAA,iBAAA,EAAA;AAAuB,IAAA,uBAAA,EAAO,EAChC;;;;;;AA3BH,IAAA,sBAAA,UAAA,OAAA,gBAAA,OAAA,EAAwC,YAAA,SAAA,OAAA,sBAAA,OAAA,gBAAA,QAAA,EAC+B,YAAA,SAAA,aAAA,CAAA;AAIpE,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,SAAA,IAAA;AAO6B,IAAA,oBAAA,CAAA;AAAA,IAAA,sBAAA,SAAA,OAAA,gBAAA,QAAA,GAAA,GAAA;AACN,IAAA,oBAAA,CAAA;AAAA,IAAA,6BAAA,IAAA,SAAA,WAAA,KAAA,SAAA,KAAA;AAMM,IAAA,oBAAA,CAAA;AAAA,IAAA,sBAAA,SAAA,OAAA,gBAAA,QAAA,GAAA,GAAA;AACN,IAAA,oBAAA,CAAA;AAAA,IAAA,6BAAA,IAAA,SAAA,WAAA,KAAA,SAAA,KAAA;AAKrB,IAAA,oBAAA,CAAA;AAAA,IAAA,6BAAA,kBAAA,SAAA,MAAA;AACA,IAAA,oBAAA,CAAA;AAAA,IAAA,6BAAA,kBAAA,SAAA,OAAA;;;;;AAUV,IAAA,yBAAA,GAAA,OAAA,EAAA,EAGgC,GAAA,QAAA,EAAA;AACP,IAAA,iBAAA,CAAA;;AAAqC,IAAA,uBAAA;AAC5D,IAAA,yBAAA,GAAA,QAAA,EAAA;AAA0B,IAAA,iBAAA,CAAA;AAAiB,IAAA,uBAAA,EAAO;;;;AAFlD,IAAA,qBAAA,WAAA,SAAA,OAAA,IAAA;AACuB,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,sBAAA,GAAA,GAAA,OAAA,WAAA,UAAA,CAAA;AACG,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,OAAA,OAAA;;;;;;AAkCtB,IAAA,yBAAA,GAAA,UAAA,EAAA;AAIE,IAAA,qBAAA,SAAA,SAAA,oFAAA;AAAA,YAAA,WAAA,wBAAA,GAAA,EAAA;AAAA,YAAA,SAAA,wBAAA,CAAA;AAAA,aAAA,sBAAS,OAAA,eAAA,QAAA,CAAqB;IAAA,CAAA;AAI9B,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAwB,GAAA,QAAA,EAAA;AACG,IAAA,iBAAA,CAAA;AAAgB,IAAA,uBAAA;AACzC,IAAA,yBAAA,GAAA,QAAA,EAAA;AAAyB,IAAA,iBAAA,CAAA;AAAsB,IAAA,uBAAA,EAAO,EAClD;;;;;AARN,IAAA,qBAAA,SAAA,SAAA,SAAA,WAAA,SAAA,SAAA,SAAA,SAAA,YAAA,QAAA,EAAyF,YAAA,OAAA,gBAAA,YAAA,SAAA,MAAA,EAEpC,SAAA,SAAA,cAAA,WAAA,SAAA,SAAA,GAAA;AAI1B,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,SAAA,IAAA;AACA,IAAA,oBAAA,CAAA;AAAA,IAAA,6BAAA,QAAA,SAAA,MAAA;;;;;AAbjC,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAsE,GAAA,IAAA;AAChE,IAAA,iBAAA,GAAA,cAAA;AAAE,IAAA,uBAAA;AACN,IAAA,yBAAA,GAAA,OAAA,EAAA;AACE,IAAA,qBAAA,GAAA,2DAAA,GAAA,GAAA,UAAA,EAAA;AAaF,IAAA,uBAAA,EAAM;;;;AAZgB,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,WAAA,OAAA,gBAAA,MAAA;;;;;;AAd1B,IAAA,yBAAA,GAAA,OAAA,EAAA,EAA6D,GAAA,OAAA,EAAA,EACnC,GAAA,UAAA,EAAA;AAIpB,IAAA,qBAAA,SAAA,SAAA,qEAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA,CAAA;AAAA,aAAA,sBAAS,OAAA,aAAA,CAAc;IAAA,CAAA;AACvB,IAAA,iBAAA,GAAA,0CAAA;AACF,IAAA,uBAAA,EAAS;AAGX,IAAA,qBAAA,GAAA,kDAAA,GAAA,GAAA,OAAA,EAAA;AAkBF,IAAA,uBAAA;;;;AAlB+B,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,QAAA,OAAA,gBAAA,OAAA,SAAA,CAAA;;;;;;AAzBnC,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAkE,GAAA,OAAA,EAAA,EACpC,GAAA,IAAA;AACtB,IAAA,iBAAA,GAAA,2BAAA;AAAK,IAAA,uBAAA;AAGT,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAiC,GAAA,UAAA,EAAA;AAI7B,IAAA,qBAAA,SAAA,SAAA,+DAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,gBAAA,CAAiB;IAAA,CAAA;AAC1B,IAAA,iBAAA,GAAA,oDAAA;AACF,IAAA,uBAAA,EAAS;AAIX,IAAA,qBAAA,GAAA,4CAAA,GAAA,GAAA,OAAA,EAAA;AA6BF,IAAA,uBAAA,EAAM;;;;AA7ByB,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,QAAA,OAAA,gBAAA,QAAA;;;;;;AAiCjC,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAqE,GAAA,OAAA,EAAA;AAEjE,IAAA,oBAAA,GAAA,eAAA,EAAA;AACA,IAAA,yBAAA,GAAA,MAAA;AAAM,IAAA,iBAAA,CAAA;AAAkE,IAAA,uBAAA;AACxE,IAAA,yBAAA,GAAA,UAAA,EAAA;AAAgC,IAAA,qBAAA,SAAA,SAAA,+DAAA;AAAA,MAAA,wBAAA,IAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,eAAA,CAAgB;IAAA,CAAA;AAAE,IAAA,iBAAA,GAAA,cAAA;AAAE,IAAA,uBAAA,EAAS,EAClE;;;;AAFE,IAAA,oBAAA,CAAA;AAAA,IAAA,6BAAA,gEAAA,OAAA,gBAAA,WAAA,6BAAA,UAAA,UAAA;;;;;;AAMV,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAoD,GAAA,UAAA,EAAA;AACR,IAAA,qBAAA,SAAA,SAAA,+DAAA;AAAA,MAAA,wBAAA,IAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,cAAA,CAAe;IAAA,CAAA;AAChE,IAAA,iBAAA,GAAA,6BAAA;AACF,IAAA,uBAAA;AACA,IAAA,yBAAA,GAAA,UAAA,EAAA;AAA0B,IAAA,qBAAA,SAAA,SAAA,+DAAA;AAAA,MAAA,wBAAA,IAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,YAAA,CAAa;IAAA,CAAA;AAC9C,IAAA,iBAAA,GAAA,6BAAA;AACF,IAAA,uBAAA,EAAS;;;ADnHT,IAAO,uBAAP,MAAO,sBAAoB;EAatB;EACyB;EAZlC;EACA,kBAAqC,CAAA;;EACrC,aAA0B,CAAA;EAC1B,cAAkC;EAClC,cAAc;EACd,SAAiB;EACjB,eAAe;EACf,eAAe;EACf,qBAAqB;;EAErB,YACS,WACyB,MAAS;AADlC,SAAA,YAAA;AACyB,SAAA,OAAA;AAEhC,SAAK,iBAAgB;EACvB;EAEA,mBAAgB;AAEd,QAAI,KAAK,QAAQ,KAAK,KAAK,iBAAiB;AAE1C,WAAK,kBAAkB,KAAK,yBAAyB,KAAK,KAAK,iBAAiB,QAAQ;AAGxF,UAAI,KAAK,KAAK,mBAAmB,MAAM,QAAQ,KAAK,KAAK,eAAe,GAAG;AAEzE,aAAK,kBAAkB,KAAK,KAAK,gBAAgB,IAAI,CAAC,UACpD,KAAK,yBAAyB,OAAO,OAAO,CAAC;MAEjD,WAAW,KAAK,KAAK,gBAAgB;AAEnC,cAAM,YAAY,KAAK,yBAAyB,KAAK,KAAK,gBAAgB,OAAO;AACjF,cAAM,aAAa,IAAI,KAAK,MAAM,KAAK,OAAM,IAAK,CAAC;AAEnD,aAAK,kBAAkB,MAAM,KAAK,EAAE,QAAQ,WAAU,GAAI,CAAC,GAAG,MAAK;AACjE,cAAI,MAAM,GAAG;AAEX,mBAAO;UACT,OAAO;AAEL,mBAAO,iCACF,YADE;cAEL,IAAI,GAAG,UAAU,EAAE,IAAI,CAAC;cACxB,MAAM,GAAG,UAAU,IAAI,IAAI,IAAI,CAAC;cAChC,OAAO,KAAK,MAAM,UAAU,SAAS,MAAM,KAAK,OAAM,IAAK,IAAI;;cAC/D,WAAW,KAAK,MAAM,UAAU,SAAS,MAAM,KAAK,OAAM,IAAK,IAAI;cACnE,QAAQ,KAAK,MAAM,UAAU,UAAU,MAAM,KAAK,OAAM,IAAK,IAAI;;cACjE,SAAS,KAAK,MAAM,UAAU,WAAW,MAAM,KAAK,OAAM,IAAK,IAAI;;UAEvE;QACF,CAAC;MACH,OAAO;AAEL,cAAM,aAAa,IAAI,KAAK,MAAM,KAAK,OAAM,IAAK,CAAC;AACnD,aAAK,kBAAkB,MAAM,KAAK,EAAE,QAAQ,WAAU,GAAI,CAAC,GAAG,MAC5D,KAAK,oBAAoB,CAAC,CAAC;MAE/B;IACF,OAAO;AAEL,WAAK,kBAAkB;QACrB,IAAI;QACJ,MAAM;QACN,MAAM;QACN,OAAO;QACP,WAAW;QACX,OAAO;QACP,WAAW;QACX,QAAQ;QACR,SAAS;QACT,SAAS;QACT,QAAQ;UACN,EAAE,IAAI,UAAU,MAAM,4BAAQ,aAAa,wDAAgB,QAAQ,IAAI,QAAQ,IAAI,MAAM,UAAU,OAAO,MAAK;UAC/G,EAAE,IAAI,UAAU,MAAM,gBAAM,aAAa,mCAAU,QAAQ,IAAI,QAAQ,IAAI,MAAM,UAAU,OAAO,MAAK;UACvG,EAAE,IAAI,UAAU,MAAM,4BAAQ,aAAa,6DAAgB,QAAQ,IAAI,QAAQ,IAAI,MAAM,UAAU,OAAO,KAAI;;UAC9G,EAAE,IAAI,UAAU,MAAM,sBAAO,aAAa,yBAAU,QAAQ,IAAI,QAAQ,KAAK,MAAM,QAAQ,OAAO,MAAK;;QAEzG,OAAO;UACL,EAAE,IAAI,SAAS,MAAM,sBAAO,aAAa,0BAAW,MAAM,UAAU,QAAQ,GAAE;UAC9E,EAAE,IAAI,SAAS,MAAM,4BAAQ,aAAa,yBAAU,MAAM,SAAS,QAAQ,EAAC;UAC5E,EAAE,IAAI,SAAS,MAAM,4BAAQ,aAAa,uBAAa,MAAM,cAAc,QAAQ,GAAE;;;AAKzF,YAAM,aAAa,IAAI,KAAK,MAAM,KAAK,OAAM,IAAK,CAAC;AACnD,WAAK,kBAAkB,MAAM,KAAK,EAAE,QAAQ,WAAU,GAAI,CAAC,GAAG,MAC5D,KAAK,oBAAoB,CAAC,CAAC;IAE/B;AAGA,SAAK,aAAa,kEAAgB,QAAQ;AAC1C,UAAM,aAAa,KAAK,gBAAgB,IAAI,OAAK,EAAE,IAAI,EAAE,KAAK,IAAI;AAClE,SAAK,aAAa,GAAG,KAAK,gBAAgB,IAAI,OAAO,UAAU,YAAO,KAAK,gBAAgB,MAAM,iBAAO,QAAQ;EAClH;;EAGQ,yBAAyB,WAAgB,MAAwB;AAEvE,UAAM,KAAK,KAAK,YAAY,UAAU,OAAO,IAAI,KAAK;AACtD,UAAM,SAAS,KAAK,YAAY,UAAU,OAAO,oBAAK,KAAK;AAC3D,UAAM,UAAU,KAAK,YAAY,UAAU,OAAO,oBAAK,KAAK;AAC5D,UAAM,QAAQ,KAAK,YAAY,UAAU,OAAO,cAAI,KAAK;AAGzD,UAAM,UAAyB,UAAU,aAAa,CAAA,GAAI,IAAI,CAAC,SAAiB,WAAmB;MACjG,IAAI,QAAQ,QAAQ,CAAC;MACrB,MAAM;MACN,aAAa,GAAG,OAAO;MACvB,QAAQ,KAAK,QAAQ;MACrB,QAAQ,KAAK,QAAQ;MACrB,MAAM;MACN;AAGF,QAAI,OAAO,WAAW,GAAG;AACvB,aAAO,KACL,EAAE,IAAI,UAAU,MAAM,6BAAS,aAAa,6BAAS,QAAQ,GAAG,QAAQ,IAAI,MAAM,SAAQ,CAAE;IAEhG;AAEA,WAAO;MACL,IAAI,UAAU;MACd,MAAM,UAAU;MAChB;MACA,OAAO;MACP,WAAW;MACX,OAAO;MACP,WAAW;MACX;MACA;MACA,SAAS;MACT;MACA,OAAO,CAAA;;EAEX;;EAGQ,YAAY,OAAe,UAAgB;AACjD,QAAI,CAAC;AAAO,aAAO;AAEnB,UAAM,QAAQ,IAAI,OAAO,GAAG,QAAQ,eAAe,GAAG;AACtD,UAAM,QAAQ,MAAM,MAAM,KAAK;AAC/B,WAAO,QAAQ,SAAS,MAAM,CAAC,GAAG,EAAE,IAAI;EAC1C;EAEA,oBAAoB,QAAgB,GAAC;AACnC,UAAM,aAAa,CAAC,6BAAS,+CAAY,mCAAU,+CAAY,2BAAO;AACtE,UAAM,aAAa,WAAW,KAAK,MAAM,KAAK,OAAM,IAAK,WAAW,MAAM,CAAC;AAE3E,UAAM,SAAS,KAAK,KAAK,MAAM,KAAK,OAAM,IAAK,EAAE;AACjD,UAAM,SAAS,KAAK,KAAK,MAAM,KAAK,OAAM,IAAK,EAAE;AAEjD,WAAO;MACL,IAAI,QAAQ,QAAQ,CAAC;MACrB,MAAM;MACN,MAAM;MACN,OAAO;MACP,WAAW;MACX,OAAO;MACP,WAAW;MACX,QAAQ,KAAK,KAAK,MAAM,KAAK,OAAM,IAAK,EAAE;MAC1C,SAAS,KAAK,KAAK,MAAM,KAAK,OAAM,IAAK,CAAC;MAC1C,SAAS,KAAK,KAAK,MAAM,KAAK,OAAM,IAAK,EAAE;MAC3C,QAAQ;QACN,EAAE,IAAI,QAAQ,QAAQ,CAAC,WAAW,MAAM,gBAAM,aAAa,mCAAU,QAAQ,GAAG,QAAQ,IAAI,MAAM,UAAU,OAAO,MAAK;QACxH,EAAE,IAAI,QAAQ,QAAQ,CAAC,WAAW,MAAM,6BAAS,aAAa,yCAAW,QAAQ,GAAG,QAAQ,GAAG,MAAM,WAAW,OAAO,MAAK;;MAE9H,OAAO;QACL,EAAE,IAAI,QAAQ,QAAQ,CAAC,UAAU,MAAM,6BAAS,aAAa,yBAAU,MAAM,UAAU,QAAQ,EAAC;QAChG,EAAE,IAAI,QAAQ,QAAQ,CAAC,UAAU,MAAM,6BAAS,aAAa,yBAAU,MAAM,SAAS,QAAQ,EAAC;;;EAGrG;;EAGA,YAAY,OAAa;AACvB,QAAI,KAAK,gBAAgB,KAAK,EAAE,YAAY,GAAG;AAC7C,WAAK,qBAAqB;IAC5B;EACF;;EAGA,kBAAe;AACb,WAAO,KAAK,gBAAgB,OAAO,OAAK,EAAE,YAAY,CAAC;EACzD;EAEA,eAAY;AACV,QAAI,KAAK,eAAe,KAAK,gBAAgB;AAAU;AAEvD,UAAM,eAAe,KAAK,gBAAe;AACzC,QAAI,aAAa,WAAW;AAAG;AAG/B,QAAI,KAAK,gBAAgB,KAAK,kBAAkB,EAAE,aAAa,GAAG;AAChE,WAAK,qBAAqB,KAAK,gBAAgB,UAAU,OAAK,EAAE,YAAY,CAAC;IAC/E;AAEA,UAAM,cAAc,KAAK,gBAAgB,KAAK,kBAAkB;AAEhE,UAAM,mBAAmB;MACvB,GAAG,KAAK,gBAAgB,IAAI,gDAAa,YAAY,IAAI;MACzD,GAAG,KAAK,gBAAgB,IAAI,gDAAa,YAAY,IAAI;MACzD,GAAG,KAAK,gBAAgB,IAAI,4DAAe,YAAY,IAAI;;AAE7D,UAAM,YAAY,iBAAiB,KAAK,MAAM,KAAK,OAAM,IAAK,iBAAiB,MAAM,CAAC;AACtF,SAAK,aAAa,WAAW,QAAQ;AAErC,UAAM,SAAS,KAAK,gBAAgB,KAAK,iBAAiB,aAAa,QAAQ;AAC/E,SAAK,YAAY,aAAa,MAAM;AAEpC,SAAK,aAAa,yCAAW,YAAY,IAAI,gBAAM,MAAM,6DAAgB,UAAU,KAAK,gBAAgB,IAAI;AAE5G,SAAK,eAAc;AACnB,QAAI,CAAC,KAAK,aAAa;AACrB,WAAK,WAAU;IACjB;EACF;EAEA,eAAe,OAAkB;AAC/B,QAAI,KAAK,eAAe,KAAK,gBAAgB;AAAU;AACvD,QAAI,KAAK,gBAAgB,YAAY,MAAM,QAAQ;AACjD,WAAK,aAAa,4CAAc,QAAQ;AACxC;IACF;AAEA,SAAK,aAAa,GAAG,KAAK,gBAAgB,IAAI,mCAAU,MAAM,IAAI,+DAAkB,QAAQ;AAE5F,SAAK,gBAAgB,aAAa,MAAM;AAExC,QAAI,MAAM,SAAS,UAAU;AAC3B,UAAI,MAAM,OAAO;AAEf,aAAK,aAAa,GAAG,MAAM,IAAI,mGAAwB,UAAU,KAAK,gBAAgB,IAAI;AAC1F,YAAI,cAAc;AAElB,aAAK,gBAAgB,QAAQ,WAAQ;AACnC,cAAI,MAAM,YAAY,GAAG;AACvB,kBAAM,SAAS,KAAK,gBAAgB,KAAK,iBAAiB,OAAO,SAAS,KAAK;AAC/E,iBAAK,YAAY,OAAO,MAAM;AAC9B,iBAAK,aAAa,GAAG,MAAM,IAAI,gBAAM,MAAM,wBAAS,QAAQ;AAC5D,2BAAe;UACjB;QACF,CAAC;AAED,aAAK,aAAa,UAAK,WAAW,0EAAmB,UAAU,KAAK,gBAAgB,IAAI;MAC1F,OAAO;AAEL,cAAM,eAAe,KAAK,gBAAe;AACzC,YAAI,aAAa,WAAW;AAAG;AAE/B,YAAI,KAAK,gBAAgB,KAAK,kBAAkB,EAAE,aAAa,GAAG;AAChE,eAAK,qBAAqB,KAAK,gBAAgB,UAAU,OAAK,EAAE,YAAY,CAAC;QAC/E;AAEA,cAAM,cAAc,KAAK,gBAAgB,KAAK,kBAAkB;AAChE,cAAM,SAAS,KAAK,gBAAgB,KAAK,iBAAiB,aAAa,SAAS,KAAK;AACrF,aAAK,YAAY,aAAa,MAAM;AACpC,aAAK,aAAa,GAAG,MAAM,IAAI,kEAAgB,YAAY,IAAI,gBAAM,MAAM,gFAAoB,UAAU,KAAK,gBAAgB,IAAI;MACpI;IACF,WAAW,MAAM,SAAS,QAAQ;AAChC,YAAM,aAAa,KAAK,IAAI,MAAM,MAAM;AACxC,WAAK,gBAAgB,YAAY,KAAK,IAAI,KAAK,gBAAgB,OAAO,KAAK,gBAAgB,YAAY,UAAU;AACjH,WAAK,aAAa,GAAG,MAAM,IAAI,gFAAoB,UAAU,yDAAiB,QAAQ,KAAK,gBAAgB,IAAI;IACjH,WAAW,MAAM,SAAS,WAAW;AACnC,WAAK,aAAa,GAAG,MAAM,IAAI,sHAA4B,UAAU,KAAK,gBAAgB,IAAI;IAChG;AAEA,SAAK,eAAc;AACnB,QAAI,CAAC,KAAK,aAAa;AACrB,WAAK,WAAU;IACjB;EACF;EAEA,YAAS;AACP,QAAI,KAAK,eAAe,KAAK,gBAAgB;AAAS;AAGtD,UAAM,eAAe,KAAK,gBAAe;AAEzC,eAAW,SAAS,cAAc;AAChC,YAAM,iBAAkB,MAAM,YAAY,MAAM,QAAS;AACzD,YAAM,iBAAkB,MAAM,YAAY,MAAM,QAAS;AAEzD,WAAK,aAAa,GAAG,MAAM,IAAI,mIAAoC,KAAK,MAAM,cAAc,CAAC,MAAM,QAAQ;AAG3G,YAAM,iBAAiB,iBAAiB,KAAK,MAAM;AAEnD,UAAI,KAAK,OAAM,IAAK,kBAAkB,MAAM,OAAO,SAAS,GAAG;AAC7D,cAAM,kBAAkB,MAAM,OAAO,OAAO,CAAC,UAAuB,MAAM,UAAU,MAAM,SAAS;AACnG,YAAI,gBAAgB,SAAS,GAAG;AAC9B,gBAAM,QAAQ,gBAAgB,KAAK,MAAM,KAAK,OAAM,IAAK,gBAAgB,MAAM,CAAC;AAChF,eAAK,aAAa,GAAG,MAAM,IAAI,gHAA2B,QAAQ;AAElE,gBAAM,aAAa,MAAM;AAEzB,cAAI,MAAM,SAAS,UAAU;AAC3B,kBAAM,SAAS,KAAK,gBAAgB,OAAO,KAAK,iBAAiB,SAAS,KAAK;AAC/E,iBAAK,YAAY,KAAK,iBAAiB,MAAM;AAC7C,iBAAK,aAAa,GAAG,MAAM,IAAI,UAAK,MAAM,IAAI,6DAAgB,MAAM,6DAAgB,UAAU,MAAM,IAAI;UAC1G;QACF,OAAO;AAEL,eAAK,aAAa,GAAG,MAAM,IAAI,sHAA4B,QAAQ;AACnE,gBAAM,SAAS,KAAK,gBAAgB,OAAO,KAAK,iBAAiB,QAAQ;AACzE,eAAK,YAAY,KAAK,iBAAiB,MAAM;AAC7C,eAAK,aAAa,GAAG,MAAM,IAAI,0CAAY,MAAM,6DAAgB,UAAU,MAAM,IAAI;QACvF;MACF,OAAO;AAEL,cAAM,mBAAmB;UACvB,GAAG,MAAM,IAAI;UACb,GAAG,MAAM,IAAI;UACb,GAAG,MAAM,IAAI;;AAEf,cAAM,YAAY,iBAAiB,KAAK,MAAM,KAAK,OAAM,IAAK,iBAAiB,MAAM,CAAC;AACtF,aAAK,aAAa,WAAW,QAAQ;AAErC,cAAM,SAAS,KAAK,gBAAgB,OAAO,KAAK,iBAAiB,QAAQ;AACzE,aAAK,YAAY,KAAK,iBAAiB,MAAM;AAC7C,aAAK,aAAa,yCAAW,MAAM,6DAAgB,UAAU,MAAM,IAAI;MACzE;IACF;AAEA,SAAK,eAAc;AACnB,QAAI,CAAC,KAAK,aAAa;AACrB,WAAK,WAAU;IACjB;EACF;EAEA,gBAAgB,UAA2B,UAA2B,MAA0B,OAAmB;AACjH,QAAI,aAAa,SAAS;AAE1B,QAAI,SAAS,WAAW,OAAO;AAE7B,oBAAc,MAAM,SAAS;IAC/B,OAAO;AAEL,oBAAc;IAChB;AAGA,UAAM,UAAU,SAAS;AACzB,QAAI,cAAc,KAAK,IAAI,GAAG,aAAc,UAAU,GAAI;AAG1D,UAAM,eAAe,OAAO,KAAK,OAAM,IAAK;AAC5C,kBAAc,KAAK,MAAM,cAAc,YAAY;AAGnD,QAAI,KAAK,OAAM,IAAK,MAAM;AACxB,oBAAc,KAAK,MAAM,cAAc,GAAG;AAC1C,WAAK,aAAa,oDAAe,QAAQ;IAC3C;AAGA,UAAM,gBAAgB,KAAK,IAAI,MAAM,UAAU,GAAG;AAClD,QAAI,KAAK,OAAM,IAAK,eAAe;AACjC,oBAAc,KAAK,MAAM,cAAc,GAAG;AAC1C,WAAK,aAAa,GAAG,SAAS,IAAI,gGAA0B,OAAO,KAAK,QAAQ;IAClF;AAEA,WAAO,KAAK,IAAI,GAAG,WAAW;EAChC;EAEA,YAAY,QAAyB,QAAc;AACjD,WAAO,YAAY,KAAK,IAAI,GAAG,OAAO,YAAY,MAAM;EAC1D;EAEA,aAAU;AACR,SAAK,cAAc,KAAK,gBAAgB,WAAW,UAAU;AAG7D,QAAI,KAAK,gBAAgB,WAAW,CAAC,KAAK,cAAc;AACtD,iBAAW,MAAK;AACd,aAAK,UAAS;MAChB,GAAG,GAAG;IACR;EACF;EAEA,iBAAc;AACZ,UAAM,eAAe,KAAK,gBAAe;AAEzC,QAAI,KAAK,gBAAgB,aAAa,GAAG;AACvC,WAAK,cAAc;AACnB,WAAK,eAAe;AACpB,WAAK,SAAS;AACd,WAAK,aAAa,4DAAe,QAAQ;IAC3C,WAAW,aAAa,WAAW,GAAG;AACpC,WAAK,cAAc;AACnB,WAAK,eAAe;AACpB,WAAK,SAAS,KAAK,gBAAgB;AACnC,WAAK,aAAa,GAAG,KAAK,gBAAgB,IAAI,2GAA2B,QAAQ;IACnF;EACF;EAEA,aAAa,SAAiB,MAAyB,WAAkB;AACvE,UAAM,MAAiB;MACrB,IAAI,KAAK,IAAG,EAAG,SAAQ;MACvB,WAAW,oBAAI,KAAI;MACnB;MACA;MACA;;AAGF,SAAK,WAAW,KAAK,GAAG;AAGxB,eAAW,MAAK;AACd,YAAM,eAAe,SAAS,cAAc,uBAAuB;AACnE,UAAI,cAAc;AAChB,qBAAa,YAAY,aAAa;MACxC;IACF,GAAG,GAAG;EACR;EAEA,gBAAgB,WAA0B;AACxC,WAAQ,UAAU,YAAY,UAAU,QAAS;EACnD;EAEA,gBAAgB,WAA0B;AACxC,WAAQ,UAAU,YAAY,UAAU,QAAS;EACnD;EAEA,gBAAa;AACX,SAAK,cAAc;AACnB,SAAK,SAAS;AACd,SAAK,cAAc;AACnB,SAAK,aAAa,CAAA;AAClB,SAAK,eAAe;AACpB,SAAK,eAAe;AACpB,SAAK,iBAAgB;EACvB;EAEA,kBAAe;AACb,QAAI,KAAK,eAAe,KAAK;AAAc;AAE3C,SAAK,eAAe;AACpB,SAAK,aAAa,mEAAiB,QAAQ;AAG3C,SAAK,kBAAiB;EACxB;EAEA,oBAAiB;AACf,QAAI,KAAK,eAAe,CAAC,KAAK;AAAc;AAG5C,UAAM,WAAW,KAAK,gBAAgB,WAAW,KAAK,gBAAgB,OAAO;AAC7E,SAAK,aAAa,OAAO,QAAQ,qBAAW,QAAQ;AAEpD,eAAW,MAAK;AACd,UAAI,KAAK,gBAAgB,UAAU;AACjC,aAAK,iBAAgB;MACvB,OAAO;AACL,aAAK,UAAS;MAChB;AAGA,UAAI,CAAC,KAAK,eAAe,KAAK,cAAc;AAC1C,mBAAW,MAAK;AACd,eAAK,kBAAiB;QACxB,GAAG,GAAG;MACR;IACF,GAAG,EAAE;EACP;EAEA,mBAAgB;AAEd,UAAM,YAAa,KAAK,gBAAgB,YAAY,KAAK,gBAAgB,QAAS;AAClF,UAAM,YAAa,KAAK,gBAAgB,YAAY,KAAK,gBAAgB,QAAS;AAElF,SAAK,aAAa,GAAG,KAAK,gBAAgB,IAAI,uFAA2B,KAAK,MAAM,SAAS,CAAC,UAAU,KAAK,MAAM,SAAS,CAAC,MAAM,QAAQ;AAG3I,QAAI,YAAY,IAAI;AAClB,YAAM,YAAY,KAAK,gBAAgB,OAAO,KAAK,WAAS,MAAM,SAAS,UAAU,MAAM,UAAU,KAAK,gBAAgB,SAAS;AACnI,UAAI,WAAW;AACb,aAAK,aAAa,GAAG,KAAK,gBAAgB,IAAI,mGAAwB,QAAQ;AAC9E,aAAK,eAAe,SAAS;AAC7B;MACF;IACF;AAGA,QAAI,KAAK,OAAM,IAAK,OAAO,KAAK,gBAAgB,OAAO,SAAS,GAAG;AACjE,YAAM,kBAAkB,KAAK,gBAAgB,OAAO,OAAO,WAAS,MAAM,UAAU,KAAK,gBAAgB,aAAa,MAAM,SAAS,QAAQ;AAC7I,UAAI,gBAAgB,SAAS,GAAG;AAC9B,cAAM,QAAQ,gBAAgB,KAAK,MAAM,KAAK,OAAM,IAAK,gBAAgB,MAAM,CAAC;AAChF,aAAK,aAAa,GAAG,KAAK,gBAAgB,IAAI,iDAAc,MAAM,IAAI,0CAAY,QAAQ;AAC1F,aAAK,eAAe,KAAK;AACzB;MACF;IACF;AAGA,SAAK,aAAa,GAAG,KAAK,gBAAgB,IAAI,mGAAwB,QAAQ;AAC9E,SAAK,aAAY;EACnB;EAEA,iBAAc;AACZ,SAAK,eAAe;AACpB,SAAK,eAAe;AACpB,SAAK,aAAa,+EAAmB,QAAQ;EAC/C;EAEA,cAAW;AAET,QAAI,KAAK,aAAa;AACpB,WAAK,UAAU,MAAM;QACnB,QAAQ,KAAK;QACb,MAAM,KAAK;QACX,iBAAiB,KAAK;QACtB,iBAAiB,KAAK;OACvB;IACH,OAAO;AACL,WAAK,UAAU,MAAK;IACtB;EACF;;qCA1gBW,uBAAoB,4BAAA,YAAA,GAAA,4BAcrB,eAAe,CAAA;EAAA;yEAdd,uBAAoB,WAAA,CAAA,CAAA,kBAAA,CAAA,GAAA,YAAA,OAAA,OAAA,IAAA,MAAA,IAAA,QAAA,CAAA,CAAA,GAAA,cAAA,GAAA,CAAA,GAAA,eAAA,GAAA,CAAA,mBAAA,IAAA,GAAA,aAAA,GAAA,OAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,GAAA,mBAAA,GAAA,CAAA,GAAA,mBAAA,QAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,GAAA,oBAAA,eAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,GAAA,cAAA,IAAA,GAAA,CAAA,GAAA,eAAA,GAAA,CAAA,GAAA,YAAA,QAAA,GAAA,CAAA,GAAA,UAAA,GAAA,CAAA,GAAA,cAAA,IAAA,GAAA,CAAA,GAAA,YAAA,QAAA,GAAA,CAAA,GAAA,iBAAA,GAAA,CAAA,GAAA,cAAA,GAAA,CAAA,SAAA,kBAAA,GAAA,MAAA,GAAA,CAAA,SAAA,iBAAA,GAAA,MAAA,GAAA,CAAA,GAAA,mBAAA,GAAA,CAAA,SAAA,yBAAA,GAAA,UAAA,YAAA,YAAA,SAAA,GAAA,SAAA,SAAA,GAAA,CAAA,GAAA,oBAAA,GAAA,CAAA,GAAA,sBAAA,GAAA,CAAA,SAAA,aAAA,GAAA,WAAA,GAAA,SAAA,SAAA,GAAA,CAAA,SAAA,kBAAA,GAAA,MAAA,GAAA,CAAA,SAAA,sBAAA,GAAA,MAAA,GAAA,CAAA,SAAA,sBAAA,GAAA,MAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,GAAA,MAAA,GAAA,CAAA,GAAA,eAAA,GAAA,CAAA,GAAA,QAAA,GAAA,CAAA,GAAA,mBAAA,SAAA,GAAA,OAAA,GAAA,CAAA,GAAA,oBAAA,cAAA,GAAA,CAAA,GAAA,aAAA,GAAA,SAAA,GAAA,CAAA,GAAA,UAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,GAAA,qBAAA,GAAA,CAAA,qBAAA,IAAA,SAAA,WAAA,GAAA,OAAA,GAAA,CAAA,SAAA,kBAAA,GAAA,MAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,qBAAA,IAAA,SAAA,QAAA,GAAA,OAAA,GAAA,CAAA,SAAA,kBAAA,GAAA,MAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,sBAAA,IAAA,SAAA,gBAAA,GAAA,SAAA,YAAA,SAAA,SAAA,GAAA,SAAA,SAAA,GAAA,CAAA,sBAAA,IAAA,GAAA,gBAAA,GAAA,SAAA,SAAA,YAAA,OAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,GAAA,oBAAA,GAAA,CAAA,GAAA,kBAAA,GAAA,CAAA,YAAA,IAAA,GAAA,CAAA,cAAA,IAAA,SAAA,QAAA,GAAA,OAAA,GAAA,CAAA,GAAA,oBAAA,GAAA,CAAA,qBAAA,IAAA,GAAA,OAAA,CAAA,GAAA,UAAA,SAAA,8BAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;ACnDjC,MAAA,yBAAA,GAAA,OAAA,CAAA,EAA0B,GAAA,OAAA,CAAA,EACG,GAAA,IAAA;AACrB,MAAA,iBAAA,GAAA,6CAAA;AAAQ,MAAA,uBAAA;AACZ,MAAA,yBAAA,GAAA,UAAA,CAAA;AAAwB,MAAA,qBAAA,SAAA,SAAA,wDAAA;AAAA,eAAS,IAAA,YAAA;MAAa,CAAA;AAC5C,MAAA,yBAAA,GAAA,UAAA;AAAU,MAAA,iBAAA,GAAA,OAAA;AAAK,MAAA,uBAAA,EAAW,EACnB;AAGX,MAAA,yBAAA,GAAA,OAAA,CAAA,EAA4B,GAAA,OAAA,CAAA,EAEK,GAAA,OAAA,CAAA,EAEiD,IAAA,OAAA,CAAA,EAChD,IAAA,IAAA;AACtB,MAAA,iBAAA,EAAA;AAA0B,MAAA,uBAAA;AAC9B,MAAA,yBAAA,IAAA,OAAA,CAAA;AAA4C,MAAA,iBAAA,IAAA,WAAA;AAAE,MAAA,uBAAA,EAAM;AAEtD,MAAA,yBAAA,IAAA,OAAA,CAAA,EAAyB,IAAA,OAAA,CAAA,EACI,IAAA,OAAA;AAClB,MAAA,iBAAA,IAAA,IAAA;AAAE,MAAA,uBAAA;AACT,MAAA,yBAAA,IAAA,OAAA,EAAA;AACE,MAAA,oBAAA,IAAA,OAAA,EAAA;AACA,MAAA,yBAAA,IAAA,QAAA,EAAA;AAAuB,MAAA,iBAAA,EAAA;AAA2D,MAAA,uBAAA,EAAO,EACrF;AAER,MAAA,yBAAA,IAAA,OAAA,EAAA,EAA2B,IAAA,OAAA;AAClB,MAAA,iBAAA,IAAA,IAAA;AAAE,MAAA,uBAAA;AACT,MAAA,yBAAA,IAAA,OAAA,EAAA;AACE,MAAA,oBAAA,IAAA,OAAA,EAAA;AACA,MAAA,yBAAA,IAAA,QAAA,EAAA;AAAuB,MAAA,iBAAA,EAAA;AAA2D,MAAA,uBAAA,EAAO,EACrF,EACF;AAER,MAAA,yBAAA,IAAA,OAAA,EAAA,EAA6B,IAAA,MAAA;AACrB,MAAA,iBAAA,EAAA;AAAiC,MAAA,uBAAA;AACvC,MAAA,yBAAA,IAAA,MAAA;AAAM,MAAA,iBAAA,EAAA;AAAkC,MAAA,uBAAA;AACxC,MAAA,yBAAA,IAAA,MAAA;AAAM,MAAA,iBAAA,EAAA;AAAkC,MAAA,uBAAA,EAAO,EAC3C;AAIR,MAAA,yBAAA,IAAA,OAAA,EAAA,EAA0B,IAAA,MAAA;AAClB,MAAA,iBAAA,IAAA,IAAA;AAAE,MAAA,uBAAA;AACR,MAAA,qBAAA,IAAA,sCAAA,GAAA,GAAA,OAAA,EAAA,EAAiD,IAAA,sCAAA,GAAA,GAAA,OAAA,EAAA;AAOnD,MAAA,uBAAA;AAGA,MAAA,yBAAA,IAAA,OAAA,EAAA;AACE,MAAA,qBAAA,IAAA,sCAAA,IAAA,IAAA,OAAA,EAAA;AA+BF,MAAA,uBAAA,EAAM;AAIR,MAAA,yBAAA,IAAA,OAAA,EAAA,EAAgC,IAAA,IAAA;AAC1B,MAAA,iBAAA,IAAA,2BAAA;AAAK,MAAA,uBAAA;AACT,MAAA,yBAAA,IAAA,OAAA,EAAA;AACE,MAAA,qBAAA,IAAA,sCAAA,GAAA,GAAA,OAAA,EAAA;AAOF,MAAA,uBAAA,EAAM;AAIR,MAAA,qBAAA,IAAA,sCAAA,GAAA,GAAA,OAAA,EAAA,EAAkE,IAAA,sCAAA,GAAA,GAAA,OAAA,EAAA,EAgDG,IAAA,sCAAA,GAAA,GAAA,OAAA,EAAA;AAiBvE,MAAA,uBAAA,EAAM;;;AA5JkC,MAAA,oBAAA,CAAA;AAAA,MAAA,sBAAA,UAAA,IAAA,gBAAA,QAAA;AAE5B,MAAA,oBAAA,CAAA;AAAA,MAAA,4BAAA,IAAA,gBAAA,IAAA;AAO6B,MAAA,oBAAA,CAAA;AAAA,MAAA,sBAAA,SAAA,IAAA,gBAAA,IAAA,eAAA,GAAA,GAAA;AACN,MAAA,oBAAA,CAAA;AAAA,MAAA,6BAAA,IAAA,IAAA,gBAAA,WAAA,KAAA,IAAA,gBAAA,KAAA;AAMM,MAAA,oBAAA,CAAA;AAAA,MAAA,sBAAA,SAAA,IAAA,gBAAA,IAAA,eAAA,GAAA,GAAA;AACN,MAAA,oBAAA,CAAA;AAAA,MAAA,6BAAA,IAAA,IAAA,gBAAA,WAAA,KAAA,IAAA,gBAAA,KAAA;AAKrB,MAAA,oBAAA,CAAA;AAAA,MAAA,6BAAA,wBAAA,IAAA,gBAAA,MAAA;AACA,MAAA,oBAAA,CAAA;AAAA,MAAA,6BAAA,wBAAA,IAAA,gBAAA,OAAA;AACA,MAAA,oBAAA,CAAA;AAAA,MAAA,6BAAA,wBAAA,IAAA,gBAAA,OAAA;AAOqB,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,QAAA,CAAA,IAAA,WAAA;AAID,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,WAAA;AAQL,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,WAAA,IAAA,eAAA;AAsCL,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,WAAA,IAAA,UAAA;AAUO,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,CAAA,IAAA,eAAA,CAAA,IAAA,YAAA;AAgDI,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,gBAAA,CAAA,IAAA,WAAA;AASA,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,WAAA;;;;;sED7GxB,sBAAoB,CAAA;UANhC;uBACW,oBAAkB,YAGhB,OAAK,UAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SAAA,QAAA,CAAA,ykgBAAA,EAAA,CAAA;;UAgBd;WAAO,eAAe;;;;6EAdd,sBAAoB,EAAA,WAAA,wBAAA,UAAA,2EAAA,YAAA,GAAA,CAAA;AAAA,GAAA;;;;;AG/C3B,IAAA,yBAAA,GAAA,OAAA,CAAA;AACE,IAAA,iBAAA,CAAA;AACF,IAAA,uBAAA;;;;;AAFuD,IAAA,qBAAA,SAAA,QAAA,QAAA,0CAAA;AACrD,IAAA,oBAAA;AAAA,IAAA,6BAAA,KAAA,OAAA,aAAA,QAAA,KAAA,GAAA,GAAA;;;;;;AAHN,IAAA,yBAAA,GAAA,OAAA,CAAA;AAAgD,IAAA,qBAAA,SAAA,SAAA,iEAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,SAAA,CAAU;IAAA,CAAA;AACjE,IAAA,yBAAA,GAAA,OAAA,CAAA;AACE,IAAA,qBAAA,GAAA,iDAAA,GAAA,GAAA,OAAA,CAAA;AAGF,IAAA,uBAAA,EAAM;;;;AAHoC,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,WAAA,OAAA,UAAA;;;;;AAkB1C,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAsF,GAAA,QAAA,EAAA;AAC1D,IAAA,iBAAA,CAAA;AAA0B,IAAA,uBAAA,EAAO;;;;AADT,IAAA,sBAAA,cAAA,OAAA,YAAA;AACxB,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,OAAA,oBAAA;;;;;;AAI1B,IAAA,yBAAA,GAAA,OAAA,EAAA;AAEK,IAAA,qBAAA,SAAA,SAAA,uEAAA;AAAA,YAAA,UAAA,wBAAA,GAAA,EAAA;AAAA,YAAA,SAAA,wBAAA,CAAA;AAAA,aAAA,sBAAS,OAAA,YAAA,QAAA,EAAA,CAAoB;IAAA,CAAA;AAChC,IAAA,yBAAA,GAAA,OAAA,EAAA;AAA2B,IAAA,iBAAA,CAAA;AAAe,IAAA,uBAAA;AAC1C,IAAA,yBAAA,GAAA,OAAA,EAAA,EAA8B,GAAA,OAAA,EAAA;AACA,IAAA,iBAAA,CAAA;AAAgB,IAAA,uBAAA;AAC5C,IAAA,yBAAA,GAAA,OAAA,EAAA;AAA4B,IAAA,iBAAA,CAAA;AAA2B,IAAA,uBAAA,EAAM;AAE/D,IAAA,yBAAA,GAAA,OAAA,EAAA;AAA4B,IAAA,iBAAA,GAAA,QAAA;AAAC,IAAA,uBAAA,EAAM;;;;AALR,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,QAAA,IAAA;AAEG,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,QAAA,KAAA;AACA,IAAA,oBAAA,CAAA;AAAA,IAAA,6BAAA,IAAA,QAAA,MAAA,QAAA,qBAAA;;;;;AAkB9B,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAgD,GAAA,QAAA,EAAA;AACrB,IAAA,iBAAA,GAAA,cAAA;AAAE,IAAA,uBAAA;AAC3B,IAAA,yBAAA,GAAA,QAAA,EAAA;AAAyB,IAAA,iBAAA,CAAA;AAAmB,IAAA,uBAAA,EAAO;;;;AAA1B,IAAA,oBAAA,CAAA;AAAA,IAAA,6BAAA,IAAA,OAAA,cAAA,QAAA;;;;;AAb/B,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAwD,GAAA,OAAA,EAAA;AAC9B,IAAA,iBAAA,GAAA,2BAAA;AAAK,IAAA,uBAAA;AAC7B,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAwB,GAAA,OAAA,EAAA,EACC,GAAA,QAAA,EAAA;AACI,IAAA,iBAAA,GAAA,cAAA;AAAE,IAAA,uBAAA;AAC3B,IAAA,yBAAA,GAAA,QAAA,EAAA;AAAyB,IAAA,iBAAA,CAAA;AAAmC,IAAA,uBAAA,EAAO;AAErE,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAuB,IAAA,QAAA,EAAA;AACI,IAAA,iBAAA,IAAA,uCAAA;AAAO,IAAA,uBAAA;AAChC,IAAA,yBAAA,IAAA,QAAA,EAAA;AAAyB,IAAA,iBAAA,EAAA;AAAwB,IAAA,uBAAA,EAAO;AAE1D,IAAA,qBAAA,IAAA,wDAAA,GAAA,GAAA,OAAA,EAAA;AAIF,IAAA,uBAAA,EAAM;;;;AAVuB,IAAA,oBAAA,CAAA;AAAA,IAAA,6BAAA,IAAA,OAAA,YAAA,eAAA,GAAA,QAAA;AAIA,IAAA,oBAAA,CAAA;AAAA,IAAA,6BAAA,IAAA,OAAA,mBAAA,QAAA;AAEH,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,OAAA,eAAA,CAAA;;;;;;AAxC9B,IAAA,yBAAA,GAAA,OAAA,CAAA,EAA+D,GAAA,OAAA,CAAA,EACjC,GAAA,IAAA;AACtB,IAAA,iBAAA,GAAA,2BAAA;AAAK,IAAA,uBAAA;AACT,IAAA,yBAAA,GAAA,UAAA,EAAA;AAEQ,IAAA,qBAAA,SAAA,SAAA,oEAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,QAAA,CAAS;IAAA,CAAA;AACxB,IAAA,iBAAA,GAAA,QAAA;AACF,IAAA,uBAAA,EAAS;AAIX,IAAA,qBAAA,GAAA,iDAAA,GAAA,GAAA,OAAA,EAAA;AAIA,IAAA,yBAAA,GAAA,OAAA,EAAA;AACE,IAAA,qBAAA,GAAA,iDAAA,IAAA,GAAA,OAAA,EAAA;AAUF,IAAA,uBAAA;AAGA,IAAA,qBAAA,GAAA,iDAAA,IAAA,GAAA,OAAA,EAAA;AAiBF,IAAA,uBAAA;;;;AAnCkC,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,QAAA,OAAA,YAAA;AAMR,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,WAAA,OAAA,UAAA;AAYS,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,OAAA,cAAA,CAAA;;;;;AA6B/B,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAsF,GAAA,QAAA,EAAA;AAC1D,IAAA,iBAAA,CAAA;AAA0B,IAAA,uBAAA,EAAO;;;;AADT,IAAA,sBAAA,cAAA,OAAA,YAAA;AACxB,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,OAAA,oBAAA;;;;;AAQtB,IAAA,yBAAA,GAAA,OAAA,EAAA;AAAyC,IAAA,iBAAA,CAAA;AAAe,IAAA,uBAAA;;;;AAAf,IAAA,oBAAA;AAAA,IAAA,4BAAA,QAAA,IAAA;;;;;AAGvC,IAAA,yBAAA,GAAA,OAAA,EAAA;AAAuD,IAAA,iBAAA,CAAA;AAAsB,IAAA,uBAAA;;;;AAAtB,IAAA,oBAAA;AAAA,IAAA,4BAAA,QAAA,WAAA;;;;;;AAP7D,IAAA,yBAAA,GAAA,OAAA,EAAA;AAEK,IAAA,qBAAA,SAAA,SAAA,wEAAA;AAAA,YAAA,UAAA,wBAAA,GAAA,EAAA;AAAA,YAAA,SAAA,wBAAA,CAAA;AAAA,aAAA,sBAAS,OAAA,eAAA,QAAA,EAAA,CAAuB;IAAA,CAAA;AACnC,IAAA,yBAAA,GAAA,OAAA,EAAA;AACE,IAAA,qBAAA,GAAA,wDAAA,GAAA,GAAA,OAAA,EAAA;AACA,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAuB,GAAA,OAAA,EAAA;AACG,IAAA,iBAAA,CAAA;AAAgB,IAAA,uBAAA;AACxC,IAAA,qBAAA,GAAA,wDAAA,GAAA,GAAA,OAAA,EAAA;AACF,IAAA,uBAAA,EAAM;AAER,IAAA,yBAAA,GAAA,OAAA,EAAA;AAAwB,IAAA,iBAAA,GAAA,QAAA;AAAC,IAAA,uBAAA,EAAM;;;;AANL,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,QAAA,QAAA,IAAA;AAEE,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,QAAA,KAAA;AACO,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,QAAA,WAAA;;;;;;AArB3C,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAmE,GAAA,OAAA,EAAA,EACtC,GAAA,OAAA,EAAA,EACC,GAAA,UAAA,EAAA;AACC,IAAA,qBAAA,SAAA,SAAA,oEAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,OAAA,CAAQ;IAAA,CAAA;AAAE,IAAA,iBAAA,GAAA,QAAA;AAAC,IAAA,uBAAA;AAC7C,IAAA,yBAAA,GAAA,IAAA;AAAI,IAAA,iBAAA,CAAA;AAAoB,IAAA,uBAAA;AACxB,IAAA,yBAAA,GAAA,UAAA,EAAA;AAAgC,IAAA,qBAAA,SAAA,SAAA,oEAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,QAAA,CAAS;IAAA,CAAA;AAAa,IAAA,iBAAA,GAAA,MAAA;AAAC,IAAA,uBAAA,EAAS;AAI3E,IAAA,qBAAA,GAAA,iDAAA,GAAA,GAAA,OAAA,EAAA;AAIA,IAAA,yBAAA,IAAA,OAAA,EAAA;AACE,IAAA,qBAAA,IAAA,kDAAA,GAAA,GAAA,OAAA,EAAA;AAYF,IAAA,uBAAA,EAAM,EACF;;;;AAvBE,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,OAAA,aAAA,CAAA;AAK0B,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,QAAA,OAAA,YAAA;AAMR,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,WAAA,OAAA,aAAA,CAAA;;;AD1BxB,IAAO,6BAAP,MAAO,4BAA0B;EAoEjB;EAnEX,YAAY;EACZ,cAAc;;EACd,cAAc;EACd,YAAY;EACZ,eAAe;EACf,iBAAiB;EACjB,eAAe;EACf,cAAc;EACd,mBAAmB;EAElB,SAAS,IAAI,aAAY;EACzB,QAAQ,IAAI,aAAY;EACxB,SAAS,IAAI,aAAY;;EAGnC,iBAAgC;EAEhC,aAA0B;IACxB;MACE,IAAI;MACJ,OAAO;MACP,MAAM;MACN,OAAO;QACL,EAAE,IAAI,iBAAiB,OAAO,0CAAY,MAAM,aAAM,aAAa,wDAAe;QAClF,EAAE,IAAI,oBAAoB,OAAO,6BAAS,MAAM,aAAM,aAAa,sDAAa;;;IAGpF;MACE,IAAI;MACJ,OAAO;MACP,MAAM;MACN,OAAO;QACL,EAAE,IAAI,cAAc,OAAO,6BAAS,MAAM,gBAAM,aAAa,yCAAU;QACvE,EAAE,IAAI,cAAc,OAAO,6BAAS,MAAM,aAAM,aAAa,yCAAU;QACvE,EAAE,IAAI,iBAAiB,OAAO,6BAAS,MAAM,mBAAO,aAAa,yCAAU;;;IAG/E;MACE,IAAI;MACJ,OAAO;MACP,MAAM;MACN,OAAO;QACL,EAAE,IAAI,qBAAqB,OAAO,6BAAS,MAAM,aAAM,aAAa,sDAAa;QACjF,EAAE,IAAI,oBAAoB,OAAO,yCAAW,MAAM,aAAM,aAAa,2DAAa;QAClF,EAAE,IAAI,gBAAgB,OAAO,6BAAS,MAAM,gBAAM,aAAa,sDAAa;;;IAGhF;MACE,IAAI;MACJ,OAAO;MACP,MAAM;MACN,OAAO;QACL,EAAE,IAAI,kBAAkB,OAAO,6BAAS,MAAM,gBAAM,aAAa,uDAAc;QAC/E,EAAE,IAAI,gBAAgB,OAAO,yCAAW,MAAM,aAAM,aAAa,uDAAmB;;;IAGxF;MACE,IAAI;MACJ,OAAO;MACP,MAAM;MACN,OAAO;QACL,EAAE,IAAI,qBAAqB,OAAO,+CAAY,MAAM,gBAAM,aAAa,2DAAa;QACpF,EAAE,IAAI,oBAAoB,OAAO,mCAAU,MAAM,aAAM,aAAa,yCAAU;;;;EAKpF,YAAoB,QAAiB;AAAjB,SAAA,SAAA;EAAqB;EAEzC,WAAQ;EACR;EAEA,YAAY,SAAsB;EAElC;EAEA,UAAO;AACL,SAAK,MAAM,KAAI;EACjB;EAEA,WAAQ;AACN,SAAK,OAAO,KAAI;EAClB;;EAGA,YAAY,QAAc;AACxB,SAAK,iBAAiB,KAAK,mBAAmB,SAAS,OAAO;EAChE;EAEA,eAAe,QAAc;AAE3B,SAAK,cAAc,MAAyC;EAC9D;EAEA,SAAM;AACJ,SAAK,iBAAiB;EACxB;EAEA,eAAY;AACV,UAAM,OAAO,KAAK,WAAW,KAAK,OAAK,EAAE,OAAO,KAAK,cAAc;AACnE,WAAO,OAAO,KAAK,QAAQ;EAC7B;EAEA,eAAY;AACV,UAAM,OAAO,KAAK,WAAW,KAAK,OAAK,EAAE,OAAO,KAAK,cAAc;AACnE,WAAO,OAAO,KAAK,QAAQ,CAAA;EAC7B;EAEA,cAAc,MAAuC,MAAU;AAG7D,QAAI,SAAS,uBAAuB,SAAS,oBAAoB;AAC/D,WAAK,gBAAe;AACpB;IACF;AAEA,SAAK,OAAO,KAAK,EAAE,MAAM,KAAI,CAAE;EACjC;EAEA,kBAAe;AACb,UAAM,YAAY,KAAK,OAAO,KAAK,sBAAsB;MACvD,OAAO;MACP,QAAQ;MACR,UAAU;MACV,WAAW;MACX,cAAc;MACd,YAAY;KACb;AAED,cAAU,YAAW,EAAG,UAAU,YAAS;IAC3C,CAAC;EACH;;EAGA,iBAAc;AACZ,SAAK,cAAc,eAAe;EACpC;EAEA,oBAAiB;AACf,SAAK,cAAc,kBAAkB;EACvC;EAEA,cAAW;AACT,SAAK,cAAc,YAAY;EACjC;EAEA,cAAW;AACT,SAAK,cAAc,YAAY;EACjC;EAEA,gBAAa;AACX,SAAK,cAAc,cAAc;EACnC;EAEA,kBAAe;AACb,SAAK,cAAc,gBAAgB;EACrC;;EAGA,qBAAkB;AAChB,SAAK,cAAc,mBAAmB;EACxC;EAEA,oBAAiB;AACf,SAAK,cAAc,kBAAkB;EACvC;EAEA,gBAAa;AACX,SAAK,cAAc,cAAc;EACnC;;EAGA,iBAAc;AACZ,SAAK,cAAc,eAAe;EACpC;;EAGA,IAAI,uBAAoB;AACtB,YAAQ,KAAK,aAAa;MACxB,KAAK;AACH,eAAO;MACT,KAAK;AACH,eAAO;MACT,KAAK;AACH,eAAO;MACT;AACE,eAAO;IACX;EACF;EAEA,IAAI,oBAAiB;AAEnB,WAAO,KAAK,KAAK,KAAK,cAAc,GAAG;EACzC;EAEA,YAAY,UAAgB;AAC1B,UAAM,UAAqC;MACzC,UAAU;MACV,YAAY;MACZ,YAAY;MACZ,aAAa;MACb,iBAAiB;MACjB,gBAAgB;MAChB,YAAY;MACZ,eAAe;MACf,cAAc;;AAEhB,WAAO,QAAQ,QAAQ,KAAK;EAC9B;EAEA,aAAa,YAAkB;AAC7B,UAAM,eAA0C;MAC9C,mBAAS;MACT,6BAAS;MACT,mCAAU;MACV,gBAAM;MACN,4BAAQ;MACR,4BAAQ;;AAEV,WAAO,aAAa,UAAU,KAAK;EACrC;;qCA7NW,6BAA0B,4BAAA,SAAA,CAAA;EAAA;yEAA1B,6BAA0B,WAAA,CAAA,CAAA,yBAAA,CAAA,GAAA,QAAA,EAAA,WAAA,aAAA,aAAA,eAAA,aAAA,eAAA,WAAA,aAAA,cAAA,gBAAA,gBAAA,kBAAA,cAAA,gBAAA,aAAA,eAAA,kBAAA,mBAAA,GAAA,SAAA,EAAA,QAAA,UAAA,OAAA,SAAA,QAAA,SAAA,GAAA,YAAA,OAAA,UAAA,CAAA,8BAAA,GAAA,OAAA,GAAA,MAAA,GAAA,QAAA,CAAA,CAAA,GAAA,qBAAA,GAAA,CAAA,SAAA,kBAAA,GAAA,SAAA,GAAA,MAAA,GAAA,CAAA,SAAA,aAAA,GAAA,MAAA,GAAA,CAAA,SAAA,kBAAA,GAAA,MAAA,GAAA,CAAA,GAAA,kBAAA,GAAA,OAAA,GAAA,CAAA,GAAA,WAAA,GAAA,CAAA,SAAA,aAAA,GAAA,SAAA,GAAA,SAAA,SAAA,GAAA,CAAA,GAAA,aAAA,GAAA,OAAA,GAAA,CAAA,GAAA,WAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,SAAA,gBAAA,GAAA,mBAAA,GAAA,OAAA,GAAA,CAAA,SAAA,qBAAA,GAAA,cAAA,GAAA,MAAA,GAAA,CAAA,GAAA,eAAA,GAAA,CAAA,SAAA,iBAAA,GAAA,SAAA,GAAA,SAAA,SAAA,GAAA,CAAA,SAAA,sBAAA,GAAA,MAAA,GAAA,CAAA,GAAA,mBAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,GAAA,iBAAA,GAAA,OAAA,GAAA,CAAA,GAAA,eAAA,GAAA,CAAA,GAAA,kBAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,GAAA,oBAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,GAAA,WAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,SAAA,aAAA,GAAA,MAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,GAAA,eAAA,GAAA,CAAA,GAAA,cAAA,GAAA,CAAA,GAAA,YAAA,GAAA,OAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,SAAA,aAAA,GAAA,SAAA,GAAA,SAAA,SAAA,GAAA,CAAA,GAAA,aAAA,GAAA,OAAA,GAAA,CAAA,GAAA,cAAA,GAAA,CAAA,SAAA,aAAA,GAAA,MAAA,GAAA,CAAA,GAAA,WAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,SAAA,oBAAA,GAAA,MAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,GAAA,WAAA,GAAA,CAAA,GAAA,kBAAA,CAAA,GAAA,UAAA,SAAA,oCAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;ACjDvC,MAAA,yBAAA,GAAA,OAAA,CAAA;AAEE,MAAA,qBAAA,GAAA,2CAAA,GAAA,GAAA,OAAA,CAAA,EAAqE,GAAA,2CAAA,IAAA,GAAA,OAAA,CAAA,EASN,GAAA,2CAAA,IAAA,GAAA,OAAA,CAAA;AA8EjE,MAAA,uBAAA;;;AAzFiC,MAAA,sBAAA,aAAA,IAAA,WAAA;AAEF,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,WAAA;AASL,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,CAAA,IAAA,kBAAA,CAAA,IAAA,WAAA;AAiDK,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,kBAAA,CAAA,IAAA,WAAA;;65WD7BjB;IACV,QAAQ,kBAAkB;MACxB,MAAM,YAAY,MAAM;QACtB,QAAQ;QACR,SAAS;QACT,UAAU;OACX,CAAC;MACF,MAAM,aAAa,MAAM;QACvB,QAAQ;QACR,SAAS;QACT,UAAU;OACX,CAAC;MACF,WAAW,0BAA0B;QACnC,QAAQ,mBAAmB;OAC5B;KACF;IACF,EAAA,CAAA;;;sEAEU,4BAA0B,CAAA;UAvBtC;uBACW,2BAAyB,YAGvB,OAAK,YACL;MACV,QAAQ,kBAAkB;QACxB,MAAM,YAAY,MAAM;UACtB,QAAQ;UACR,SAAS;UACT,UAAU;SACX,CAAC;QACF,MAAM,aAAa,MAAM;UACvB,QAAQ;UACR,SAAS;UACT,UAAU;SACX,CAAC;QACF,WAAW,0BAA0B;UACnC,QAAQ,mBAAmB;SAC5B;OACF;OACF,UAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAAA,QAAA,CAAA,wvQAAA,EAAA,CAAA;;UAGA;;UACA;;UACA;;UACA;;UACA;;UACA;;UACA;;UACA;;UACA;;UAEA;;UACA;;UACA;;;;6EAbU,4BAA0B,EAAA,WAAA,8BAAA,UAAA,yFAAA,YAAA,GAAA,CAAA;AAAA,GAAA;;;;;AGhBzB,IAAA,yBAAA,GAAA,QAAA,EAAA;AAAgD,IAAA,iBAAA,CAAA;AAAqC,IAAA,uBAAA;;;;;AAArC,IAAA,oBAAA;AAAA,IAAA,4BAAA,OAAA,gBAAA,QAAA,SAAA,CAAA;;;;;;AARtD,IAAA,yBAAA,GAAA,OAAA,EAAA;AAEK,IAAA,qBAAA,SAAA,SAAA,6DAAA;AAAA,YAAA,UAAA,wBAAA,GAAA,EAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,YAAA,OAAA,CAAiB;IAAA,CAAA;AAC7B,IAAA,yBAAA,GAAA,OAAA,EAAA,EAA0B,GAAA,OAAA,EAAA;AACA,IAAA,iBAAA,CAAA;AAAgB,IAAA,uBAAA;AACxC,IAAA,yBAAA,GAAA,OAAA,EAAA;AAA8B,IAAA,iBAAA,CAAA;AAAsB,IAAA,uBAAA;AACpD,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAuB,GAAA,QAAA,EAAA;AACF,IAAA,iBAAA,CAAA;AAAmC,IAAA,uBAAA;AACtD,IAAA,qBAAA,GAAA,8CAAA,GAAA,GAAA,QAAA,EAAA;AACF,IAAA,uBAAA,EAAM,EACF;;;;;AANoB,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,QAAA,KAAA;AACM,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,QAAA,WAAA;AAET,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,OAAA,WAAA,QAAA,WAAA,CAAA;AACO,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,QAAA,SAAA;;;;;;AAmBhC,IAAA,yBAAA,GAAA,OAAA,EAAA;AAEK,IAAA,qBAAA,SAAA,SAAA,6DAAA;AAAA,YAAA,UAAA,wBAAA,GAAA,EAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,YAAA,OAAA,CAAiB;IAAA,CAAA;AAC7B,IAAA,yBAAA,GAAA,OAAA,EAAA,EAA0B,GAAA,OAAA,EAAA;AACA,IAAA,iBAAA,CAAA;AAAgB,IAAA,uBAAA;AACxC,IAAA,yBAAA,GAAA,OAAA,EAAA;AAA8B,IAAA,iBAAA,CAAA;AAAsB,IAAA,uBAAA,EAAM,EACtD;;;;AAFoB,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,QAAA,KAAA;AACM,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,QAAA,WAAA;;;;;;AAkBlC,IAAA,yBAAA,GAAA,OAAA,EAAA;AAEK,IAAA,qBAAA,SAAA,SAAA,6DAAA;AAAA,YAAA,UAAA,wBAAA,GAAA,EAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,YAAA,OAAA,CAAiB;IAAA,CAAA;AAC7B,IAAA,yBAAA,GAAA,OAAA,EAAA,EAA0B,GAAA,OAAA,EAAA;AACA,IAAA,iBAAA,CAAA;AAAgB,IAAA,uBAAA;AACxC,IAAA,yBAAA,GAAA,OAAA,EAAA;AAA8B,IAAA,iBAAA,CAAA;AAAsB,IAAA,uBAAA,EAAM,EACtD;;;;AAFoB,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,QAAA,KAAA;AACM,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,QAAA,WAAA;;;;;AAQxC,IAAA,yBAAA,GAAA,OAAA,EAAA,EAA2D,GAAA,OAAA,EAAA;AACjC,IAAA,iBAAA,GAAA,WAAA;AAAE,IAAA,uBAAA;AAC1B,IAAA,yBAAA,GAAA,GAAA;AAAG,IAAA,iBAAA,GAAA,oFAAA;AAAiB,IAAA,oBAAA,GAAA,IAAA;AAAI,IAAA,iBAAA,GAAA,6EAAA;AAAe,IAAA,uBAAA,EAAI;;;ADtDzC,IAAO,wBAAP,MAAO,uBAAqB;EACvB,YAAY;EACX,QAAQ,IAAI,aAAY;EACxB,YAAY,IAAI,aAAY;;EAGtC,mBAAmB;IACjB,QAAQ;IACR,UAAU;IACV,aAAa;;;EAIf,eAAmC;;IAEjC;MACE,IAAI;MACJ,OAAO;MACP,aAAa;MACb,MAAM;MACN,UAAU;MACV,aAAa;MACb,WAAW;;IAEb;MACE,IAAI;MACJ,OAAO;MACP,aAAa;MACb,MAAM;MACN,UAAU;MACV,aAAa;MACb,WAAW;;IAEb;MACE,IAAI;MACJ,OAAO;MACP,aAAa;MACb,MAAM;MACN,UAAU;MACV,aAAa;MACb,WAAW;;;IAIb;MACE,IAAI;MACJ,OAAO;MACP,aAAa;MACb,MAAM;MACN,UAAU;;IAEZ;MACE,IAAI;MACJ,OAAO;MACP,aAAa;MACb,MAAM;MACN,UAAU;;IAEZ;MACE,IAAI;MACJ,OAAO;MACP,aAAa;MACb,MAAM;MACN,UAAU;;;IAIZ;MACE,IAAI;MACJ,OAAO;MACP,aAAa;MACb,MAAM;MACN,UAAU;;IAEZ;MACE,IAAI;MACJ,OAAO;MACP,aAAa;MACb,MAAM;MACN,UAAU;;IAEZ;MACE,IAAI;MACJ,OAAO;MACP,aAAa;MACb,MAAM;MACN,UAAU;;;EAId,IAAI,cAAW;AACb,WAAO,KAAK,aAAa,OAAO,UAAQ,KAAK,aAAa,QAAQ;EACpE;EAEA,IAAI,gBAAa;AACf,WAAO,KAAK,aAAa,OAAO,UAAQ,KAAK,aAAa,UAAU;EACtE;EAEA,IAAI,mBAAgB;AAClB,WAAO,KAAK,aAAa,OAAO,UAAQ,KAAK,aAAa,aAAa;EACzE;EAEA,YAAY,MAAsB;AAChC,SAAK,UAAU,KAAK,IAAI;EAC1B;EAEA,UAAO;AACL,SAAK,MAAM,KAAI;EACjB;;EAGA,cAAc,SAA8C;AAC1D,SAAK,iBAAiB,OAAO,IAAI,CAAC,KAAK,iBAAiB,OAAO;EACjE;;EAGA,kBAAkB,SAA8C;AAC9D,WAAO,KAAK,iBAAiB,OAAO;EACtC;EAEA,gBAAgB,OAAa;AAC3B,QAAI,SAAS,KAAO;AAClB,aAAO,GAAG,KAAK,MAAM,QAAQ,GAAI,CAAC;IACpC;AACA,WAAO,GAAG,MAAM,eAAc,CAAE;EAClC;EAEA,WAAW,YAAkB;AAC3B,UAAM,OAAO,IAAI,KAAK,UAAU;AAChC,UAAM,MAAM,oBAAI,KAAI;AACpB,UAAM,WAAW,KAAK,IAAI,IAAI,QAAO,IAAK,KAAK,QAAO,CAAE;AACxD,UAAM,WAAW,KAAK,KAAK,YAAY,MAAO,KAAK,KAAK,GAAG;AAE3D,QAAI,aAAa;AAAG,aAAO;AAC3B,QAAI,aAAa;AAAG,aAAO;AAC3B,QAAI,YAAY;AAAG,aAAO,GAAG,WAAW,CAAC;AACzC,WAAO,KAAK,mBAAmB,OAAO;EACxC;;qCAzIW,wBAAqB;EAAA;yEAArB,wBAAqB,WAAA,CAAA,CAAA,mBAAA,CAAA,GAAA,QAAA,EAAA,WAAA,YAAA,GAAA,SAAA,EAAA,OAAA,SAAA,WAAA,YAAA,GAAA,YAAA,OAAA,OAAA,IAAA,MAAA,IAAA,QAAA,CAAA,CAAA,GAAA,eAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,SAAA,gBAAA,GAAA,mBAAA,GAAA,OAAA,GAAA,CAAA,GAAA,iBAAA,GAAA,CAAA,GAAA,SAAA,GAAA,CAAA,GAAA,iBAAA,GAAA,OAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,GAAA,cAAA,GAAA,CAAA,GAAA,OAAA,GAAA,CAAA,GAAA,iBAAA,GAAA,CAAA,SAAA,gBAAA,GAAA,SAAA,GAAA,SAAA,SAAA,GAAA,CAAA,SAAA,eAAA,GAAA,MAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,OAAA,GAAA,CAAA,GAAA,cAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,GAAA,kBAAA,GAAA,CAAA,GAAA,WAAA,GAAA,CAAA,GAAA,MAAA,GAAA,CAAA,SAAA,cAAA,GAAA,MAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,GAAA,YAAA,CAAA,GAAA,UAAA,SAAA,+BAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;ACpClC,MAAA,yBAAA,GAAA,OAAA,CAAA,EAE+C,GAAA,OAAA,CAAA,EACjB,GAAA,IAAA;AACtB,MAAA,iBAAA,GAAA,2BAAA;AAAK,MAAA,uBAAA;AACT,MAAA,yBAAA,GAAA,UAAA,CAAA;AAEQ,MAAA,qBAAA,SAAA,SAAA,yDAAA;AAAA,eAAS,IAAA,QAAA;MAAS,CAAA;AACxB,MAAA,iBAAA,GAAA,QAAA;AACF,MAAA,uBAAA,EAAS;AAGX,MAAA,yBAAA,GAAA,OAAA,CAAA,EAA6B,GAAA,OAAA,CAAA,EAEN,GAAA,OAAA,CAAA;AACQ,MAAA,qBAAA,SAAA,SAAA,sDAAA;AAAA,eAAS,IAAA,cAAc,QAAQ;MAAC,CAAA;AACzD,MAAA,yBAAA,GAAA,QAAA,CAAA,EAAyB,IAAA,QAAA,CAAA;AACmD,MAAA,iBAAA,IAAA,QAAA;AAAC,MAAA,uBAAA;AAC3E,MAAA,iBAAA,IAAA,6BAAA;AACF,MAAA,uBAAA;AACA,MAAA,yBAAA,IAAA,QAAA,CAAA;AAAoB,MAAA,iBAAA,EAAA;AAAwB,MAAA,uBAAA,EAAO;AAErD,MAAA,yBAAA,IAAA,OAAA,CAAA;AAGE,MAAA,qBAAA,IAAA,uCAAA,IAAA,GAAA,OAAA,EAAA;AAYF,MAAA,uBAAA,EAAM;AAIR,MAAA,yBAAA,IAAA,OAAA,CAAA,EAAqB,IAAA,OAAA,CAAA;AACQ,MAAA,qBAAA,SAAA,SAAA,uDAAA;AAAA,eAAS,IAAA,cAAc,UAAU;MAAC,CAAA;AAC3D,MAAA,yBAAA,IAAA,QAAA,CAAA,EAAyB,IAAA,QAAA,CAAA;AACqD,MAAA,iBAAA,IAAA,QAAA;AAAC,MAAA,uBAAA;AAC7E,MAAA,iBAAA,IAAA,yCAAA;AACF,MAAA,uBAAA;AACA,MAAA,yBAAA,IAAA,QAAA,CAAA;AAAoB,MAAA,iBAAA,EAAA;AAA0B,MAAA,uBAAA,EAAO;AAEvD,MAAA,yBAAA,IAAA,OAAA,CAAA;AAGE,MAAA,qBAAA,IAAA,uCAAA,GAAA,GAAA,OAAA,EAAA;AAQF,MAAA,uBAAA,EAAM;AAIR,MAAA,yBAAA,IAAA,OAAA,CAAA,EAAqB,IAAA,OAAA,CAAA;AACQ,MAAA,qBAAA,SAAA,SAAA,uDAAA;AAAA,eAAS,IAAA,cAAc,aAAa;MAAC,CAAA;AAC9D,MAAA,yBAAA,IAAA,QAAA,CAAA,EAAyB,IAAA,QAAA,CAAA;AACwD,MAAA,iBAAA,IAAA,QAAA;AAAC,MAAA,uBAAA;AAChF,MAAA,iBAAA,IAAA,6BAAA;AACF,MAAA,uBAAA;AACA,MAAA,yBAAA,IAAA,QAAA,CAAA;AAAoB,MAAA,iBAAA,EAAA;AAA6B,MAAA,uBAAA,EAAO;AAE1D,MAAA,yBAAA,IAAA,OAAA,CAAA;AAGE,MAAA,qBAAA,IAAA,uCAAA,GAAA,GAAA,OAAA,EAAA;AAQF,MAAA,uBAAA,EAAM,EACF;AAIR,MAAA,qBAAA,IAAA,uCAAA,GAAA,GAAA,OAAA,EAAA;AAIF,MAAA,uBAAA;;;AA1FK,MAAA,sBAAA,WAAA,IAAA,YAAA,KAAA,MAAA;AADA,MAAA,sBAAA,UAAA,CAAA,IAAA,SAAA;AAgBgC,MAAA,oBAAA,EAAA;AAAA,MAAA,sBAAA,YAAA,IAAA,kBAAA,QAAA,CAAA;AAGT,MAAA,oBAAA,CAAA;AAAA,MAAA,6BAAA,KAAA,IAAA,YAAA,QAAA,GAAA;AAGjB,MAAA,oBAAA;AAAA,MAAA,sBAAA,aAAA,CAAA,IAAA,kBAAA,QAAA,CAAA;AACA,MAAA,qBAAA,mBAAA,IAAA,kBAAA,QAAA,IAAA,aAAA,WAAA;AAEmB,MAAA,oBAAA;AAAA,MAAA,qBAAA,WAAA,IAAA,WAAA;AAkBO,MAAA,oBAAA,CAAA;AAAA,MAAA,sBAAA,YAAA,IAAA,kBAAA,UAAA,CAAA;AAGT,MAAA,oBAAA,CAAA;AAAA,MAAA,6BAAA,KAAA,IAAA,cAAA,QAAA,GAAA;AAGjB,MAAA,oBAAA;AAAA,MAAA,sBAAA,aAAA,CAAA,IAAA,kBAAA,UAAA,CAAA;AACA,MAAA,qBAAA,mBAAA,IAAA,kBAAA,UAAA,IAAA,aAAA,WAAA;AAEmB,MAAA,oBAAA;AAAA,MAAA,qBAAA,WAAA,IAAA,aAAA;AAcO,MAAA,oBAAA,CAAA;AAAA,MAAA,sBAAA,YAAA,IAAA,kBAAA,aAAA,CAAA;AAGT,MAAA,oBAAA,CAAA;AAAA,MAAA,6BAAA,KAAA,IAAA,iBAAA,QAAA,GAAA;AAGjB,MAAA,oBAAA;AAAA,MAAA,sBAAA,aAAA,CAAA,IAAA,kBAAA,aAAA,CAAA;AACA,MAAA,qBAAA,mBAAA,IAAA,kBAAA,aAAA,IAAA,aAAA,WAAA;AAEmB,MAAA,oBAAA;AAAA,MAAA,qBAAA,WAAA,IAAA,gBAAA;AAYF,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,aAAA,WAAA,CAAA;;i5LDtEd;IACV,QAAQ,kBAAkB;MACxB,MAAM,YAAY,MAAM;QACtB,QAAQ;QACR,SAAS;QACT,UAAU;OACX,CAAC;MACF,MAAM,aAAa,MAAM;QACvB,QAAQ;QACR,SAAS;QACT,UAAU;OACX,CAAC;MACF,WAAW,0BAA0B;QACnC,QAAQ,mBAAmB;OAC5B;KACF;IACF,EAAA,CAAA;;;sEAEU,uBAAqB,CAAA;UAvBjC;uBACW,qBAAmB,YAGjB,OAAK,YACL;MACV,QAAQ,kBAAkB;QACxB,MAAM,YAAY,MAAM;UACtB,QAAQ;UACR,SAAS;UACT,UAAU;SACX,CAAC;QACF,MAAM,aAAa,MAAM;UACvB,QAAQ;UACR,SAAS;UACT,UAAU;SACX,CAAC;QACF,WAAW,0BAA0B;UACnC,QAAQ,mBAAmB;SAC5B;OACF;OACF,UAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SAAA,QAAA,CAAA,k8JAAA,EAAA,CAAA;;UAGA;;UACA;;UACA;;;;6EAHU,uBAAqB,EAAA,WAAA,yBAAA,UAAA,6EAAA,YAAA,GAAA,CAAA;AAAA,GAAA;;;;;AGJtB,IAAA,yBAAA,GAAA,OAAA,EAAA,EAA4E,GAAA,MAAA;AACpE,IAAA,iBAAA,GAAA,QAAA;AAAC,IAAA,uBAAA,EAAO;;;;;;AAXlB,IAAA,yBAAA,GAAA,OAAA,EAAA;AAIE,IAAA,qBAAA,SAAA,SAAA,uFAAA;AAAA,YAAA,YAAA,wBAAA,GAAA,EAAA;AAAA,YAAA,cAAA,wBAAA,EAAA;AAAA,YAAA,SAAA,wBAAA,CAAA;AAAA,aAAA,sBAAA,CAAU,OAAA,iBAAA,YAAA,IAAA,UAAA,EAAA,KAA4C,OAAA,cAAA,YAAA,IAAA,UAAA,EAAA,CAAqC;IAAA,CAAA;AAE3F,IAAA,yBAAA,GAAA,OAAA,EAAA,EAA4B,GAAA,OAAA,EAAA;AACA,IAAA,iBAAA,CAAA;AAAkB,IAAA,uBAAA;AAC5C,IAAA,yBAAA,GAAA,OAAA,EAAA;AAAgC,IAAA,iBAAA,CAAA;AAAwB,IAAA,uBAAA,EAAM;AAEhE,IAAA,qBAAA,GAAA,uEAAA,GAAA,GAAA,OAAA,EAAA;AAGF,IAAA,uBAAA;;;;;;AAVE,IAAA,sBAAA,YAAA,OAAA,iBAAA,YAAA,IAAA,UAAA,EAAA,CAAA;AAI4B,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,UAAA,KAAA;AACM,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,UAAA,WAAA;AAEP,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,CAAA,OAAA,iBAAA,YAAA,IAAA,UAAA,EAAA,CAAA;;;;;AAQ7B,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAyD,GAAA,QAAA,EAAA;AAC7B,IAAA,iBAAA,GAAA,QAAA;AAAC,IAAA,uBAAA;AAC3B,IAAA,yBAAA,GAAA,QAAA,EAAA;AAA0B,IAAA,iBAAA,GAAA,qCAAA;AAAU,IAAA,uBAAA,EAAO;;;;;AAE7C,IAAA,yBAAA,GAAA,OAAA,EAAA,EAA2E,GAAA,QAAA,EAAA;AAC/C,IAAA,iBAAA,GAAA,QAAA;AAAC,IAAA,uBAAA;AAC3B,IAAA,yBAAA,GAAA,QAAA,EAAA;AAA0B,IAAA,iBAAA,GAAA,wCAAA;AAAQ,IAAA,uBAAA,EAAO;;;;;AAE3C,IAAA,yBAAA,GAAA,OAAA,EAAA,EAA0D,GAAA,QAAA,EAAA;AAC/B,IAAA,iBAAA,GAAA,4BAAA;AAAM,IAAA,uBAAA;AAC/B,IAAA,yBAAA,GAAA,QAAA,EAAA;AAAyB,IAAA,iBAAA,CAAA;AAAiB,IAAA,uBAAA,EAAO;;;;AAAxB,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,OAAA,WAAA;;;;;AAX7B,IAAA,yBAAA,GAAA,OAAA,EAAA;AACE,IAAA,qBAAA,GAAA,uEAAA,GAAA,GAAA,OAAA,EAAA,EAAyD,GAAA,uEAAA,GAAA,GAAA,OAAA,EAAA,EAIkB,GAAA,uEAAA,GAAA,GAAA,OAAA,EAAA;AAQ7E,IAAA,uBAAA;;;;AAZQ,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,OAAA,YAAA;AAIA,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,OAAA,kBAAA,CAAA,OAAA,YAAA;AAIA,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,OAAA,gBAAA,OAAA;;;;;AAOR,IAAA,yBAAA,GAAA,OAAA,EAAA,EAA4E,GAAA,OAAA,EAAA,EACnD,GAAA,QAAA,EAAA;AACI,IAAA,iBAAA,GAAA,kCAAA;AAAO,IAAA,uBAAA;AAChC,IAAA,yBAAA,GAAA,QAAA,EAAA;AAAyB,IAAA,iBAAA,CAAA;AAA2F,IAAA,uBAAA,EAAO,EACvH;;;;AADqB,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,OAAA,eAAA,SAAA,KAAA,OAAA,eAAA,UAAA,GAAA,EAAA,IAAA,QAAA,OAAA,cAAA;;;;;AAhD/B,IAAA,kCAAA,CAAA;AAEE,IAAA,yBAAA,GAAA,OAAA,CAAA,EAA0B,GAAA,OAAA,CAAA,EACC,GAAA,QAAA,CAAA;AACE,IAAA,iBAAA,CAAA;AAAmB,IAAA,uBAAA;AAC5C,IAAA,yBAAA,GAAA,IAAA;AAAI,IAAA,iBAAA,CAAA;AAAoB,IAAA,uBAAA,EAAK;AAE/B,IAAA,yBAAA,GAAA,KAAA,EAAA;AAA6B,IAAA,iBAAA,CAAA;AAA0B,IAAA,uBAAA,EAAI;AAI7D,IAAA,yBAAA,GAAA,OAAA,EAAA;AACE,IAAA,qBAAA,IAAA,iEAAA,GAAA,GAAA,OAAA,EAAA;AAcF,IAAA,uBAAA;AAGA,IAAA,qBAAA,IAAA,iEAAA,GAAA,GAAA,OAAA,EAAA,EAAkE,IAAA,iEAAA,GAAA,GAAA,OAAA,EAAA;;;;;;AAzBrC,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,YAAA,IAAA;AACrB,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,YAAA,KAAA;AAEuB,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,YAAA,WAAA;AAMR,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,WAAA,YAAA,OAAA;AAgBjB,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,YAAA,OAAA,UAAA;AAgBA,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,YAAA,OAAA,YAAA,OAAA,cAAA;;;;;;AArDZ,IAAA,yBAAA,GAAA,OAAA,CAAA;AAIE,IAAA,qBAAA,cAAA,SAAA,sEAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAc,OAAA,aAAA,CAAc;IAAA,CAAA,EAAC,cAAA,SAAA,sEAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBACf,OAAA,aAAA,CAAc;IAAA,CAAA;AAE5B,IAAA,yBAAA,GAAA,OAAA,CAAA;AACE,IAAA,qBAAA,GAAA,0DAAA,IAAA,GAAA,gBAAA,CAAA;AAoDF,IAAA,uBAAA,EAAM;;;;AAzDN,IAAA,qBAAA,YAAA,OAAA,iBAAA,aAAA,WAAA;AAI2B,IAAA,oBAAA;AAAA,IAAA,qBAAA,WAAA,OAAA,iBAAA,YAAA,QAAA;AACV,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,OAAA,gBAAA,OAAA,cAAA,CAAA;;;;;;AAyDjB,IAAA,yBAAA,GAAA,OAAA,EAAA;AAIE,IAAA,qBAAA,cAAA,SAAA,sEAAA;AAAA,YAAA,UAAA,wBAAA,GAAA,EAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAc,OAAA,YAAA,QAAA,EAAA,CAAoB;IAAA,CAAA,EAAC,cAAA,SAAA,sEAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBACrB,OAAA,YAAA,CAAa;IAAA,CAAA;AAG3B,IAAA,yBAAA,GAAA,QAAA,EAAA;AAAmB,IAAA,iBAAA,CAAA;AAAe,IAAA,uBAAA,EAAO;;;;;AALzC,IAAA,sBAAA,UAAA,OAAA,mBAAA,QAAA,EAAA;AAGA,IAAA,qBAAA,SAAA,QAAA,KAAA;AAEmB,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,QAAA,IAAA;;;ADdnB,IAAO,6BAAP,MAAO,4BAA0B;EAC5B,eAAe;EACf,iBAAiB;EACjB,cAAc;EACb,aAAa,IAAI,aAAY;EAEvC,iBAAgC;EAChC,gBAA+B;EAE/B,YAA6B;IAC3B;MACE,IAAI;MACJ,MAAM;MACN,OAAO;MACP,aAAa;MACb,SAAS;QACP,EAAE,IAAI,QAAQ,OAAO,6BAAS,aAAa,wEAAgB;QAC3D,EAAE,IAAI,WAAW,OAAO,6BAAS,aAAa,kEAAe;QAC7D,EAAE,IAAI,YAAY,OAAO,4BAAQ,aAAa,kEAAe;;;IAGjE;MACE,IAAI;MACJ,MAAM;MACN,OAAO;MACP,aAAa;MACb,SAAS;QACP,EAAE,IAAI,QAAQ,OAAO,6BAAS,aAAa,qDAAY;QACvD,EAAE,IAAI,QAAQ,OAAO,6BAAS,aAAa,+CAAW;QACtD,EAAE,IAAI,UAAU,OAAO,6BAAS,aAAa,+CAAW;;;IAG5D;MACE,IAAI;MACJ,MAAM;MACN,OAAO;MACP,aAAa;MACb,SAAS;QACP,EAAE,IAAI,qBAAqB,OAAO,6CAAa,aAAa,yFAAkB;QAC9E,EAAE,IAAI,oBAAoB,OAAO,uCAAY,aAAa,mFAAiB;QAC3E,EAAE,IAAI,gBAAgB,OAAO,gDAAa,aAAa,yEAAiB;;;IAG5E;MACE,IAAI;MACJ,MAAM;MACN,OAAO;MACP,aAAa;MACb,SAAS;QACP,EAAE,IAAI,WAAW,OAAO,6BAAS,aAAa,kEAAe;QAC7D,EAAE,IAAI,QAAQ,OAAO,6BAAS,aAAa,qDAAY;QACvD,EAAE,IAAI,WAAW,OAAO,mCAAU,aAAa,sDAAa;;;IAGhE;MACE,IAAI;MACJ,MAAM;MACN,OAAO;MACP,aAAa;MACb,SAAS;QACP,EAAE,IAAI,OAAO,OAAO,oBAAU,aAAa,qDAAY;QACvD,EAAE,IAAI,OAAO,OAAO,oBAAU,aAAa,sCAAY;QACvD,EAAE,IAAI,QAAQ,OAAO,qBAAW,aAAa,2DAAa;QAC1D,EAAE,IAAI,QAAQ,OAAO,qBAAW,aAAa,uCAAa;;;IAG9D;MACE,IAAI;MACJ,MAAM;MACN,OAAO;MACP,aAAa;MACb,SAAS;QACP,EAAE,IAAI,kBAAkB,OAAO,6BAAS,aAAa,wDAAe;QACpE,EAAE,IAAI,eAAe,OAAO,mBAAS,aAAa,4CAAa;QAC/D,EAAE,IAAI,eAAe,OAAO,mBAAS,aAAa,oDAAW;;;;EAKnE,YAAY,QAAc;AAExB,UAAM,WAAW,KAAK,gBAAgB,MAAM;AAC5C,QAAI,YAAY,SAAS,QAAQ,SAAS,GAAG;AAC3C,YAAM,cAAc,SAAS,QAAQ,CAAC;AACtC,UAAI,CAAC,KAAK,iBAAiB,QAAQ,YAAY,EAAE,GAAG;AAClD,aAAK,cAAc,QAAQ,YAAY,EAAE;MAC3C;IACF;EACF;EAEA,YAAY,QAAc;AACxB,SAAK,gBAAgB;AACrB,SAAK,iBAAiB;EACxB;EAEA,cAAW;AACT,SAAK,gBAAgB;AAErB,eAAW,MAAK;AACd,UAAI,CAAC,KAAK,eAAe;AACvB,aAAK,iBAAiB;MACxB;IACF,GAAG,GAAG;EACR;EAEA,eAAY;AAEV,SAAK,gBAAgB;EACvB;EAEA,eAAY;AACV,SAAK,gBAAgB;AACrB,eAAW,MAAK;AACd,UAAI,CAAC,KAAK,eAAe;AACvB,aAAK,iBAAiB;MACxB;IACF,GAAG,GAAG;EACR;EAEA,cAAc,UAAkB,UAAgB;AAC9C,UAAM,SAA0B;MAC9B,MAAM;MACN,WAAW;;AAGb,SAAK,WAAW,KAAK,MAAM;AAC3B,SAAK,iBAAiB;AACtB,SAAK,gBAAgB;EACvB;EAEA,iBAAiB,QAAgB,UAAgB;AAE/C,UAAM,gBAAgB,CAAC,QAAQ,QAAQ,WAAW,OAAO,OAAO,QAAQ,MAAM;AAE9E,QAAI,cAAc,SAAS,QAAQ,KAAK,CAAC,KAAK,gBAAgB;AAC5D,aAAO;IACT;AAGA,QAAI,KAAK,gBAAgB,CAAC,QAAQ,WAAW,UAAU,EAAE,SAAS,QAAQ,GAAG;AAC3E,aAAO;IACT;AAEA,WAAO;EACT;EAEA,gBAAgB,IAAU;AACxB,WAAO,KAAK,UAAU,KAAK,UAAQ,KAAK,OAAO,EAAE;EACnD;;qCApJW,6BAA0B;EAAA;yEAA1B,6BAA0B,WAAA,CAAA,CAAA,yBAAA,CAAA,GAAA,QAAA,EAAA,cAAA,gBAAA,gBAAA,kBAAA,aAAA,cAAA,GAAA,SAAA,EAAA,YAAA,aAAA,GAAA,YAAA,OAAA,OAAA,GAAA,MAAA,GAAA,QAAA,CAAA,CAAA,GAAA,qBAAA,GAAA,CAAA,SAAA,kBAAA,GAAA,cAAA,cAAA,GAAA,MAAA,GAAA,CAAA,GAAA,WAAA,GAAA,CAAA,SAAA,aAAA,GAAA,UAAA,SAAA,cAAA,cAAA,GAAA,SAAA,SAAA,GAAA,CAAA,GAAA,kBAAA,GAAA,cAAA,YAAA,GAAA,CAAA,GAAA,eAAA,GAAA,CAAA,GAAA,MAAA,GAAA,CAAA,GAAA,cAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,GAAA,mBAAA,GAAA,CAAA,GAAA,eAAA,GAAA,CAAA,SAAA,eAAA,GAAA,YAAA,SAAA,GAAA,SAAA,SAAA,GAAA,CAAA,SAAA,qBAAA,GAAA,MAAA,GAAA,CAAA,SAAA,eAAA,GAAA,MAAA,GAAA,CAAA,GAAA,eAAA,GAAA,OAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,GAAA,cAAA,GAAA,CAAA,GAAA,oBAAA,GAAA,CAAA,SAAA,gBAAA,GAAA,MAAA,GAAA,CAAA,GAAA,cAAA,GAAA,CAAA,GAAA,mBAAA,GAAA,CAAA,SAAA,0BAAA,GAAA,MAAA,GAAA,CAAA,SAAA,yBAAA,GAAA,MAAA,GAAA,CAAA,SAAA,gBAAA,GAAA,MAAA,GAAA,CAAA,GAAA,eAAA,YAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,GAAA,eAAA,WAAA,GAAA,CAAA,GAAA,cAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,GAAA,WAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,GAAA,aAAA,GAAA,cAAA,cAAA,OAAA,GAAA,CAAA,GAAA,MAAA,CAAA,GAAA,UAAA,SAAA,oCAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;AC7DvC,MAAA,yBAAA,GAAA,OAAA,CAAA;AAEE,MAAA,qBAAA,GAAA,2CAAA,GAAA,GAAA,OAAA,CAAA;AAgEA,MAAA,yBAAA,GAAA,OAAA,CAAA;AACE,MAAA,qBAAA,GAAA,2CAAA,GAAA,GAAA,OAAA,CAAA;AAUF,MAAA,uBAAA,EAAM;;;AAzEH,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,cAAA;AAgEkB,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,WAAA,IAAA,SAAA;;q2YDzCT;IACV,QAAQ,WAAW;MACjB,MAAM,aAAa,MAAM;QACvB,OAAO;QACP,SAAS;QACT,WAAW;;OACZ,CAAC;MACF,MAAM,YAAY,MAAM;QACtB,OAAO;;QACP,SAAS;QACT,WAAW;OACZ,CAAC;MACF,WAAW,0BAA0B;QACnC,QAAQ,sCAAsC;OAC/C;KACF;IACD,QAAQ,UAAU;MAChB,MAAM,UAAU,MAAM;QACpB,SAAS;QACT,WAAW;OACZ,CAAC;MACF,MAAM,WAAW,MAAM;QACrB,SAAS;QACT,WAAW;OACZ,CAAC;MACF,WAAW,qBAAqB;QAC9B,QAAQ,sBAAsB;OAC/B;MACD,WAAW,qBAAqB;QAC9B,QAAQ,eAAe;OACxB;KACF;IACF,EAAA,CAAA;;;sEAEU,4BAA0B,CAAA;UAvCtC;uBACW,2BAAyB,YAGvB,OAAK,YACL;MACV,QAAQ,WAAW;QACjB,MAAM,aAAa,MAAM;UACvB,OAAO;UACP,SAAS;UACT,WAAW;;SACZ,CAAC;QACF,MAAM,YAAY,MAAM;UACtB,OAAO;;UACP,SAAS;UACT,WAAW;SACZ,CAAC;QACF,WAAW,0BAA0B;UACnC,QAAQ,sCAAsC;SAC/C;OACF;MACD,QAAQ,UAAU;QAChB,MAAM,UAAU,MAAM;UACpB,SAAS;UACT,WAAW;SACZ,CAAC;QACF,MAAM,WAAW,MAAM;UACrB,SAAS;UACT,WAAW;SACZ,CAAC;QACF,WAAW,qBAAqB;UAC9B,QAAQ,sBAAsB;SAC/B;QACD,WAAW,qBAAqB;UAC9B,QAAQ,eAAe;SACxB;OACF;OACF,UAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SAAA,QAAA,CAAA,y9PAAA,EAAA,CAAA;;UAGA;;UACA;;UACA;;UACA;;;;6EAJU,4BAA0B,EAAA,WAAA,8BAAA,UAAA,yFAAA,YAAA,GAAA,CAAA;AAAA,GAAA;;;AE/CjC,IAAO,oBAAP,MAAO,mBAAiB;;EAGpB,SAAS,oBAAI,IAAG;;EAGhB,eAAkC;EAE1C,cAAA;EAAe;;;;EAKf,cAAc,OAAiB;AAC7B,SAAK,OAAO,IAAI,MAAM,IAAI,KAAK;EACjC;;;;EAKA,eAAe,QAAoB;AACjC,WAAO,QAAQ,WAAS,KAAK,cAAc,KAAK,CAAC;EACnD;;;;EAKA,UAAU,SAAe;AACvB,UAAM,QAAQ,KAAK,OAAO,IAAI,OAAO;AACrC,QAAI,OAAO;AACT,WAAK,eAAe;AACpB,aAAO;IACT;AACA,WAAO;EACT;;;;EAKA,gBACE,OACA,QAAyB;AAEzB,UAAM,mBAAkC,CAAA;AAExC,eAAW,UAAU,MAAM,SAAS;AAClC,YAAM,kBAAkB,mBAAK;AAG7B,UAAI,OAAO,cAAc,OAAO,WAAW,SAAS,GAAG;AACrD,cAAM,EAAE,aAAa,OAAM,IAAK,KAAK,gBAAgB,OAAO,YAAY,MAAM;AAC9E,wBAAgB,aAAa,CAAC;AAC9B,wBAAgB,iBAAiB;MACnC,OAAO;AACL,wBAAgB,aAAa;MAC/B;AAEA,uBAAiB,KAAK,eAAe;IACvC;AAEA,WAAO;EACT;;;;EAKQ,gBACN,YACA,QAAyB;AAEzB,eAAW,aAAa,YAAY;AAClC,YAAM,SAAS,KAAK,kBAAkB,WAAW,MAAM;AACvD,UAAI,CAAC,OAAO,aAAa;AACvB,eAAO;MACT;IACF;AACA,WAAO,EAAE,aAAa,KAAI;EAC5B;;;;EAKQ,kBACN,WACA,QAAyB;AAEzB,YAAQ,UAAU,MAAM;MACtB,KAAK;AACH,eAAO,KAAK,mBAAmB,WAAW,MAAM;MAElD,KAAK;AACH,eAAO,KAAK,mBAAmB,WAAW,MAAM;MAElD,KAAK;AACH,eAAO,KAAK,mBAAmB,WAAW,MAAM;MAElD,KAAK;AACH,eAAO,KAAK,qBAAqB,WAAW,MAAM;MAEpD,KAAK;AACH,eAAO,KAAK,oBAAoB,WAAW,MAAM;MAEnD,KAAK;AACH,eAAO,KAAK,mBAAmB,WAAW,MAAM;MAElD,KAAK;AACH,eAAO,KAAK,0BAA0B,WAAW,MAAM;MAEzD,KAAK;AACH,eAAO,KAAK,uBAAuB,WAAW,MAAM;MAEtD,KAAK;AACH,eAAO,KAAK,2BAA2B,WAAW,MAAM;MAE1D;AACE,eAAO,EAAE,aAAa,OAAO,QAAQ,uDAAc;IACvD;EACF;;;;EAKQ,mBACN,WACA,QAAyB;AAEzB,UAAM,YAAa,OAAO,MAAc,UAAU,KAAK;AAEvD,QAAI,cAAc,QAAW;AAC3B,aAAO,EAAE,aAAa,OAAO,QAAQ,wDAAgB,UAAU,KAAK,GAAE;IACxE;AAEA,UAAM,SAAS,KAAK,cAAc,WAAW,UAAU,UAAU,UAAU,KAAK;AAEhF,QAAI,CAAC,QAAQ;AACX,YAAM,cAAc,UAAU,eAC5B,GAAG,UAAU,KAAK,IAAI,UAAU,QAAQ,IAAI,UAAU,KAAK,gCAAY,SAAS;AAClF,aAAO,EAAE,aAAa,OAAO,QAAQ,YAAW;IAClD;AAEA,WAAO,EAAE,aAAa,KAAI;EAC5B;;;;EAKQ,mBACN,WACA,QAAyB;AAEzB,UAAM,UAAU,OAAO,UAAU,KAAK,UAAQ,KAAK,OAAO,UAAU,KAAK;AAEzE,QAAI,UAAU,aAAa,QAAQ,CAAC,SAAS;AAC3C,aAAO,EAAE,aAAa,OAAO,QAAQ,oCAAW,UAAU,KAAK,GAAE;IACnE;AAEA,QAAI,UAAU,aAAa,QAAQ,SAAS;AAC1C,aAAO,EAAE,aAAa,OAAO,QAAQ,+DAAkB,UAAU,KAAK,IAAG;IAC3E;AAEA,WAAO,EAAE,aAAa,KAAI;EAC5B;;;;EAKQ,mBACN,WACA,QAAyB;AAEzB,UAAM,UAAU,OAAO,MAAM,IAAI,UAAU,KAAK;AAEhD,QAAI,UAAU,aAAa,QAAQ,CAAC,SAAS;AAC3C,aAAO,EAAE,aAAa,OAAO,QAAQ,UAAU,eAAe,+CAAW;IAC3E;AAEA,QAAI,UAAU,aAAa,QAAQ,SAAS;AAC1C,aAAO,EAAE,aAAa,OAAO,QAAQ,UAAU,eAAe,kCAAQ;IACxE;AAEA,WAAO,EAAE,aAAa,KAAI;EAC5B;;;;EAKQ,qBACN,WACA,QAAyB;AAEzB,UAAM,YAAY,OAAO,SAAS,KAAK,YAAU,OAAO,SAAS,UAAU,KAAK;AAEhF,QAAI,WAAW;AACb,aAAO,EAAE,aAAa,OAAO,QAAQ,6DAAgB,UAAU,KAAK,GAAE;IACxE;AAEA,WAAO,EAAE,aAAa,KAAI;EAC5B;;;;EAKQ,oBACN,WACA,QAAyB;AAEzB,UAAM,WAAW,OAAO,cAAc,SAAS,UAAU,KAAK;AAE9D,QAAI,CAAC,UAAU;AACb,aAAO,EAAE,aAAa,OAAO,QAAQ,8BAAU,UAAU,KAAK,GAAE;IAClE;AAEA,WAAO,EAAE,aAAa,KAAI;EAC5B;;;;EAKQ,mBACN,WACA,QAAyB;AAEzB,QAAI,OAAO,SAAS,UAAU,OAAO;AACnC,aAAO,EAAE,aAAa,OAAO,QAAQ,GAAG,UAAU,KAAK,mCAAS;IAClE;AAEA,WAAO,EAAE,aAAa,KAAI;EAC5B;;;;EAKQ,0BACN,WACA,QAAyB;AAEzB,QAAI,OAAO,gBAAgB,UAAU,OAAO;AAC1C,aAAO,EAAE,aAAa,OAAO,QAAQ,UAAU,eAAe,+CAAW;IAC3E;AAEA,WAAO,EAAE,aAAa,KAAI;EAC5B;;;;EAKQ,uBACN,WACA,QAAyB;AAEzB,UAAM,SAAS,KAAK,cAAc,OAAO,SAAS,OAAO,UAAU,UAAU,UAAU,KAAK;AAE5F,QAAI,CAAC,QAAQ;AACX,aAAO;QACL,aAAa;QACb,QAAQ,+DAAkB,OAAO,SAAS,KAAK;;IAEnD;AAEA,WAAO,EAAE,aAAa,KAAI;EAC5B;;;;EAKQ,2BACN,WACA,QAAyB;AAEzB,UAAM,eAAe,OAAO,cAAc,IAAI,UAAU,KAAK,KAAK;AAClE,UAAM,SAAS,KAAK,cAAc,cAAc,UAAU,UAAU,UAAU,KAAK;AAEnF,QAAI,CAAC,QAAQ;AACX,aAAO;QACL,aAAa;QACb,QAAQ,oCAAW,UAAU,KAAK,KAAK,YAAY;;IAEvD;AAEA,WAAO,EAAE,aAAa,KAAI;EAC5B;;;;EAKA,gBACE,UACA,QAAyB;AAOzB,UAAM,aAAa,OAAO,MAAM,SAAS,IAAI;AAC7C,UAAM,aAAa,SAAS;AAC5B,UAAM,aAAa,aAAa;AAGhC,UAAM,UAAU,cAAc;AAG9B,UAAM,oBAAoB,cAAc;AACxC,UAAM,oBAAoB,cAAc;AAExC,QAAI;AACJ,QAAI;AACJ,QAAI,aAAa;AAEjB,QAAI,qBAAqB,SAAS,iBAAiB;AACjD,oBAAc,SAAS;AACvB,mBAAa,0BAAW,SAAS,IAAI,KAAK,UAAU,oBAAU,UAAU;AACxE,mBAAa;IACf,WAAW,SAAS;AAClB,oBAAc,SAAS;AACvB,mBAAa,oBAAU,SAAS,IAAI,KAAK,UAAU,oBAAU,UAAU;IACzE,WAAW,qBAAqB,SAAS,iBAAiB;AACxD,oBAAc,SAAS;AACvB,mBAAa,0BAAW,SAAS,IAAI,KAAK,UAAU,oBAAU,UAAU;AACxE,mBAAa;IACf,OAAO;AACL,oBAAc,SAAS;AACvB,mBAAa,mBAAS,SAAS,IAAI,KAAK,UAAU,oBAAU,UAAU;IACxE;AAEA,WAAO;MACL;MACA;MACA;MACA;;EAEJ;;;;EAKA,kBACE,cACA,QAAyB;AAEzB,UAAM,OAAiB,CAAA;AAEvB,eAAW,eAAe,cAAc;AACtC,YAAM,MAAM,KAAK,iBAAiB,aAAa,MAAM;AACrD,UAAI;AAAK,aAAK,KAAK,GAAG;IACxB;AAEA,WAAO;EACT;;;;EAKQ,iBACN,aACA,QAAyB;AAEzB,YAAQ,YAAY,MAAM;MACxB,KAAK;AACH,eAAO,KAAK,gBAAgB,aAAa,MAAM;MAEjD,KAAK;AACH,eAAO,KAAK,kBAAkB,aAAa,MAAM;MAEnD,KAAK;AACH,eAAO,KAAK,eAAe,aAAa,MAAM;MAEhD,KAAK;AACH,eAAO,KAAK,kBAAkB,aAAa,MAAM;MAEnD,KAAK;AACH,eAAO,KAAK,cAAc,aAAa,MAAM;MAE/C,KAAK;AACH,eAAO,KAAK,cAAc,aAAa,MAAM;MAE/C,KAAK;AACH,eAAO,KAAK,aAAa,aAAa,MAAM;MAE9C,KAAK;AACH,eAAO,KAAK,gBAAgB,aAAa,MAAM;MAEjD,KAAK;AACH,eAAO,KAAK,wBAAwB,aAAa,MAAM;MAEzD,KAAK;AACH,eAAO,KAAK,oBAAoB,aAAa,MAAM;MAErD,KAAK;AACH,eAAO,KAAK,gBAAgB,aAAa,MAAM;MAEjD;AACE,eAAO;IACX;EACF;EAEQ,gBAAgB,aAA0B,QAAyB;AACzE,UAAM,OAAO,YAAY;AACzB,UAAM,WAAW,OAAO,MAAM,IAAI;AACjC,WAAO,MAAM,IAAI,KAAgB,YAAY;AAC9C,WAAO,GAAG,IAAI,IAAI,QAAQ,WAAM,OAAO,MAAM,IAAI,CAAC;EACpD;EAEQ,kBAAkB,aAA0B,QAAyB;AAC3E,UAAM,YAAY,OAAO;AACzB,WAAO,SAAS,KAAK,IAAI,GAAG,KAAK,IAAI,OAAO,WAAW,OAAO,SAAS,YAAY,KAAK,CAAC;AACzF,WAAO,sBAAO,SAAS,WAAM,OAAO,MAAM;EAC5C;EAEQ,eAAe,aAA0B,QAAyB;AAExE,WAAO,SAAS,KAAK,YAAY,KAAK;AACtC,WAAO,8BAAU,YAAY,MAAM,WAAW;EAChD;EAEQ,kBAAkB,aAA0B,QAAyB;AAC3E,UAAM,QAAQ,OAAO,SAAS,UAAU,SAAO,IAAI,SAAS,YAAY,KAAK;AAC7E,QAAI,UAAU,IAAI;AAChB,YAAM,UAAU,OAAO,SAAS,OAAO,OAAO,CAAC,EAAE,CAAC;AAClD,aAAO,8BAAU,QAAQ,WAAW;IACtC;AACA,WAAO;EACT;EAEQ,cAAc,aAA0B,QAAyB;AAEvE,QAAI,OAAO,YAAY,UAAU,UAAU;AACzC,aAAO,oCAAW,YAAY,KAAK;IACrC,OAAO;AACL,aAAO,UAAU,KAAK,YAAY,KAAK;AACvC,aAAO,oCAAW,YAAY,MAAM,IAAI;IAC1C;EACF;EAEQ,cAAc,aAA0B,QAAyB;AACvE,UAAM,QAAQ,OAAO,UAAU,UAAU,UAAQ,KAAK,OAAO,YAAY,KAAK;AAC9E,QAAI,UAAU,IAAI;AAChB,YAAM,UAAU,OAAO,UAAU,OAAO,OAAO,CAAC,EAAE,CAAC;AACnD,aAAO,oCAAW,QAAQ,IAAI;IAChC;AACA,WAAO;EACT;EAEQ,aAAa,aAA0B,QAAyB;AACtE,WAAO,MAAM,IAAI,YAAY,KAAK;AAClC,WAAO,YAAY,eAAe,oCAAW,YAAY,KAAK;EAChE;EAEQ,gBAAgB,aAA0B,QAAyB;AACzE,WAAO,MAAM,OAAO,YAAY,KAAK;AACrC,WAAO,oCAAW,YAAY,KAAK;EACrC;EAEQ,wBAAwB,aAA0B,QAAyB;AACjF,UAAM,QAAQ,YAAY;AAC1B,UAAM,UAAU,OAAO,cAAc,IAAI,KAAK,KAAK;AACnD,UAAM,WAAW,UAAU,YAAY;AACvC,WAAO,cAAc,IAAI,OAAO,QAAQ;AAExC,UAAM,SAAS,YAAY,QAAQ,IAAI,IAAI,YAAY,KAAK,KAAK,GAAG,YAAY,KAAK;AACrF,WAAO,GAAG,KAAK,uBAAQ,MAAM,KAAK,OAAO,WAAM,QAAQ;EACzD;EAEQ,oBAAoB,aAA0B,QAAyB;AAC7E,UAAM,WAAW,OAAO,SAAS;AACjC,WAAO,SAAS,QAAQ,KAAK,IAAI,MAAM,KAAK,IAAI,KAAK,OAAO,SAAS,QAAQ,YAAY,KAAK,CAAC;AAG/F,SAAK,oBAAoB,OAAO,QAAQ;AAExC,UAAM,SAAS,YAAY,QAAQ,IAAI,IAAI,YAAY,KAAK,KAAK,GAAG,YAAY,KAAK;AACrF,WAAO,gBAAM,MAAM,KAAK,OAAO,SAAS,KAAK;EAC/C;EAEQ,gBAAgB,aAA0B,QAAyB;AACzE,QAAI,CAAC,OAAO,cAAc,SAAS,YAAY,KAAK,GAAG;AACrD,aAAO,cAAc,KAAK,YAAY,KAAK;AAC3C,aAAO,8BAAU,YAAY,KAAK;IACpC;AACA,WAAO;EACT;;;;EAKQ,oBAAoB,UAAa;AACvC,QAAI,SAAS,SAAS,KAAK;AACzB,eAAS,QAAQ;AACjB,eAAS,cAAc;IACzB,WAAW,SAAS,SAAS,KAAK;AAChC,eAAS,QAAQ;AACjB,eAAS,cAAc;IACzB,WAAW,SAAS,QAAQ,IAAI;AAC9B,eAAS,QAAQ;AACjB,eAAS,cAAc;IACzB,WAAW,SAAS,QAAQ,IAAI;AAC9B,eAAS,QAAQ;AACjB,eAAS,cAAc;IACzB,OAAO;AACL,eAAS,QAAQ;AACjB,eAAS,cAAc;IACzB;EACF;;;;EAKQ,cAAc,QAAa,UAAkB,UAAa;AAChE,YAAQ,UAAU;MAChB,KAAK;AAAK,eAAO,SAAS;MAC1B,KAAK;AAAK,eAAO,SAAS;MAC1B,KAAK;AAAM,eAAO,UAAU;MAC5B,KAAK;AAAM,eAAO,UAAU;MAC5B,KAAK;AAAM,eAAO,WAAW;MAC7B,KAAK;AAAM,eAAO,WAAW;MAC7B;AAAS,eAAO;IAClB;EACF;;;;EAKA,kBAAe;AACb,WAAO,KAAK;EACd;;;;EAKA,mBAAgB;AACd,WAAO,KAAK;EACd;;qCAnhBW,oBAAiB;EAAA;4EAAjB,oBAAiB,SAAjB,mBAAiB,WAAA,YAFhB,OAAM,CAAA;;;sEAEP,mBAAiB,CAAA;UAH7B;WAAW;MACV,YAAY;KACb;;;;;ACAK,IAAO,wBAAP,MAAO,uBAAqB;;EAGxB,YAAY,oBAAI,IAAG;;EAGnB,kBAAuC,CAAA;;EAGvC,sBAAsB,oBAAI,IAAG;EAErC,cAAA;AACE,SAAK,2BAA0B;EACjC;;;;EAKQ,6BAA0B;AAEhC,UAAM,kBAAqC;MACzC,IAAI;MACJ,MAAM;MACN,UAAU;MACV,UAAU;MACV,WAAW;MAEX,OAAO;QACL;UACE,QAAQ;UACR,UAAU;;QAEZ;UACE,QAAQ;UACR,UAAU;UACV,UAAU;YACR,SAAS,CAAC,mBAAmB;YAC7B,OAAO;;;;MAKb,eAAe;QACb;UACE,MAAM;UACN,OAAO;UACP,aAAa;;QAEf;UACE,MAAM;UACN,OAAO;UACP,UAAU;UACV,OAAO;UACP,aAAa;;QAEf;UACE,MAAM;UACN,OAAO;UACP,UAAU;UACV,OAAO;UACP,aAAa;;;MAIjB,QAAQ;QACN;UACE,SAAS;UACT,aAAa;UACb,OAAO;YACL,IAAI;YACJ,OAAO;YACP,eAAe;cACb;cACA;cACA;;YAEF,SAAS;cACP;gBACE,IAAI;gBACJ,MAAM;gBACN,aAAa;;cAEf;gBACE,IAAI;gBACJ,MAAM;gBACN,aAAa;gBACb,YAAY;kBACV;oBACE,MAAM;oBACN,OAAO;oBACP,UAAU;oBACV,OAAO;oBACP,aAAa;;;gBAGjB,cAAc;kBACZ;oBACE,MAAM;oBACN,OAAO;oBACP,OAAO;oBACP,aAAa;;;;cAInB;gBACE,IAAI;gBACJ,MAAM;gBACN,aAAa;gBACb,cAAc;kBACZ;oBACE,MAAM;oBACN,OAAO;oBACP,OAAO;;;;;;;QAOnB;UACE,SAAS;UACT,aAAa;UACb,OAAO;YACL,IAAI;YACJ,OAAO;YACP,eAAe;cACb;cACA;cACA;;YAEF,SAAS;cACP;gBACE,IAAI;gBACJ,MAAM;gBACN,aAAa;gBACb,cAAc;kBACZ;oBACE,MAAM;oBACN,OAAO;oBACP,OAAO;;;;cAIb;gBACE,IAAI;gBACJ,MAAM;gBACN,aAAa;gBACb,cAAc;kBACZ;oBACE,MAAM;oBACN,OAAO;oBACP,OAAO;oBACP,aAAa;;kBAEf;oBACE,MAAM;oBACN,OAAO;oBACP,OAAO;;;;;;;;MASrB,UAAU;QACR;UACE,WAAW;UACX,kBAAkB;UAClB,cAAc;YACZ;cACE,MAAM;cACN,OAAO;cACP,OAAO;;YAET;cACE,MAAM;cACN,OAAO;cACP,OAAO;;;UAGX,oBAAoB,CAAC,kBAAkB,aAAa;UACpD,aAAa;;;;AAKnB,SAAK,iBAAiB,eAAe;AAGrC,UAAM,qBAAwC;MAC5C,IAAI;MACJ,MAAM;MACN,UAAU;MACV,UAAU;MACV,WAAW;MAEX,OAAO;QACL;UACE,QAAQ;UACR,UAAU;;;MAId,eAAe;QACb;UACE,MAAM;UACN,OAAO;UACP,aAAa;;QAEf;UACE,MAAM;UACN,OAAO;UACP,UAAU;UACV,OAAO;UACP,aAAa;;;MAIjB,QAAQ;QACN;UACE,SAAS;UACT,aAAa;UACb,OAAO;YACL,IAAI;YACJ,OAAO;YACP,eAAe;cACb;cACA;cACA;;YAEF,SAAS;cACP;gBACE,IAAI;gBACJ,MAAM;gBACN,aAAa;gBACb,UAAU;kBACR,MAAM;kBACN,YAAY;kBACZ,gBAAgB;kBAChB,gBAAgB;;;cAGpB;gBACE,IAAI;gBACJ,MAAM;gBACN,aAAa;;;;;QAKrB;UACE,SAAS;UACT,aAAa;UACb,OAAO;YACL,IAAI;YACJ,OAAO;YACP,eAAe;cACb;cACA;cACA;;YAEF,SAAS;cACP;gBACE,IAAI;gBACJ,MAAM;gBACN,aAAa;gBACb,cAAc;kBACZ;oBACE,MAAM;oBACN,OAAO;oBACP,OAAO;oBACP,aAAa;;kBAEf;oBACE,MAAM;oBACN,OAAO;oBACP,OAAO;oBACP,aAAa;;;;cAInB;gBACE,IAAI;gBACJ,MAAM;gBACN,aAAa;gBACb,cAAc;kBACZ;oBACE,MAAM;oBACN,OAAO;oBACP,OAAO;;;;;;;;MASrB,UAAU;QACR;UACE,WAAW;UACX,kBAAkB;UAClB,cAAc;YACZ;cACE,MAAM;cACN,OAAO;cACP,OAAO;;;UAGX,aAAa;;;;AAKnB,SAAK,iBAAiB,kBAAkB;EAC1C;;;;EAKA,iBAAiB,UAA2B;AAC1C,UAAM,KAAK,SAAS,MAAM,SAAS,cAAc,YAAY,KAAK,IAAG,CAAE;AACvE,SAAK,UAAU,IAAI,IAAI,QAAQ;EACjC;;;;;EAMA,cACE,QACA,iBACA,WACA,eAAyB;AAEzB,UAAM,sBAAgC,CAAA;AAEtC,eAAW,CAAC,YAAY,QAAQ,KAAK,KAAK,WAAW;AAEnD,UAAI,KAAK,oBAAoB,IAAI,UAAU,KAAK,CAAC,SAAS,WAAW;AACnE;MACF;AAGA,UAAI,KAAK,gBAAgB,KAAK,UAAQ,KAAK,eAAe,UAAU,GAAG;AACrE;MACF;AAGA,UAAI,CAAC,SAAS,iBAAiB,KAAK,mBAAmB,SAAS,eAAe,QAAQ,iBAAiB,SAAS,GAAG;AAElH,YAAI,KAAK,sBAAsB,UAAU,QAAQ,aAAa,GAAG;AAC/D,8BAAoB,KAAK,UAAU;QACrC;MACF;IACF;AAGA,WAAO,oBAAoB,KAAK,CAAC,GAAG,MAAK;AACvC,YAAM,YAAY,KAAK,UAAU,IAAI,CAAC;AACtC,YAAM,YAAY,KAAK,UAAU,IAAI,CAAC;AACtC,aAAO,UAAU,WAAW,UAAU;IACxC,CAAC;EACH;;;;EAKQ,mBACN,eACA,QACA,iBACA,WAAiB;AAEjB,eAAW,UAAU,eAAe;AAClC,UAAI,CAAC,KAAK,qBAAqB,QAAQ,QAAQ,iBAAiB,SAAS,GAAG;AAC1E,eAAO;MACT;IACF;AACA,WAAO;EACT;;;;EAKQ,qBACN,QACA,QACA,iBACA,WAAiB;AAEjB,YAAQ,OAAO,MAAM;MACnB,KAAK;AACH,eAAO,oBAAoB,OAAO;MAEpC,KAAK;AACH,YAAI,OAAO,UAAU,aAAa;AAChC,iBAAO,cAAc,OAAO;QAC9B;AACA,eAAO;MAET,KAAK;AACH,cAAM,YAAa,OAAO,MAAc,OAAO,KAAK;AACpD,eAAO,KAAK,cAAc,WAAW,OAAO,UAAW,OAAO,KAAK;MAErE,KAAK;AACH,YAAI,OAAO,UAAU,kBAAkB;AACrC,iBAAO,KAAK,cAAc,OAAO,SAAS,OAAO,OAAO,UAAW,OAAO,KAAK;QACjF;AACA,eAAO;MAET,KAAK;AACH,eAAO,OAAO,UAAU,KAAK,UAAQ,KAAK,OAAO,OAAO,KAAK;MAE/D,KAAK;AACH,eAAO,OAAO,MAAM,IAAI,OAAO,KAAK;MAEtC,KAAK;AAEH,eAAO;;MAET;AACE,eAAO;IACX;EACF;;;;EAKQ,sBACN,UACA,QACA,eAAyB;AAEzB,QAAI,CAAC,SAAS;AAAO,aAAO;AAE5B,eAAW,QAAQ,SAAS,OAAO;AACjC,UAAI,KAAK,WAAW,QAAQ;AAC1B;MACF;AAGA,YAAM,cAAc,KAAK,gBAAgB,MAAM,eAAe,MAAM;AACpE,UAAI,CAAC,aAAa;AAChB,eAAO;MACT;IACF;AACA,WAAO;EACT;;;;EAKQ,gBACN,MACA,eACA,QAAyB;AAEzB,QAAI,CAAC,KAAK,UAAU;AAClB,aAAO,cAAc,CAAC,KAAK;IAC7B;AAEA,eAAW,OAAO,eAAe;AAE/B,UAAI,KAAK,SAAS,SAAS;AACzB,cAAM,aAAa,KAAK,SAAS,QAAQ,MAAM,CAAC,QAAgB,IAAI,KAAK,SAAS,GAAG,CAAC;AACtF,YAAI,CAAC;AAAY;MACnB;AAGA,UAAI,KAAK,SAAS,SAAS,IAAI,UAAU,KAAK,SAAS,OAAO;AAC5D;MACF;AAGA,UAAI,KAAK,SAAS,iBAAiB,QAAW;AAC5C,cAAM,eAAe,OAAO,cAAc,IAAI,IAAI,EAAE,KAAK,IAAI;AAC7D,YAAI,eAAe,KAAK,SAAS,cAAc;AAC7C;QACF;MACF;AAEA,aAAO;IACT;AAEA,WAAO;EACT;;;;EAKA,eACE,YACA,QACA,eAAyB;AAEzB,UAAM,WAAW,KAAK,UAAU,IAAI,UAAU;AAC9C,QAAI,CAAC;AAAU,aAAO;AAGtB,UAAM,eAAe,oBAAI,IAAG;AAE5B,QAAI,SAAS,OAAO;AAClB,iBAAW,QAAQ,SAAS,OAAO;AACjC,YAAI,KAAK,WAAW,QAAQ;AAC1B,uBAAa,IAAI,QAAQ,QAAQ;QACnC,OAAO;AACL,gBAAM,MAAM,KAAK,gBAAgB,MAAM,eAAe,MAAM;AAC5D,cAAI,KAAK;AACP,yBAAa,IAAI,KAAK,QAAQ,IAAI,EAAE;UACtC;QACF;MACF;IACF;AAGA,UAAM,WAA8B;MAClC;MACA,YAAY,GAAG,UAAU,IAAI,KAAK,IAAG,CAAE;MACvC;MACA,cAAc;MACd,UAAU;MACV,WAAW,oBAAI,KAAI;MACnB,eAAe,CAAA;;AAGjB,SAAK,gBAAgB,KAAK,QAAQ;AAClC,WAAO;EACT;;;;EAKA,kBAAkB,YAAkB;AAClC,UAAM,QAAQ,KAAK,gBAAgB,UAAU,UAAQ,KAAK,eAAe,UAAU;AACnF,QAAI,UAAU,IAAI;AAChB,YAAM,WAAW,KAAK,gBAAgB,KAAK;AAC3C,WAAK,oBAAoB,IAAI,SAAS,UAAU;AAChD,WAAK,gBAAgB,OAAO,OAAO,CAAC;IACtC;EACF;;;;EAKQ,cAAc,QAAa,UAAkB,UAAa;AAChE,YAAQ,UAAU;MAChB,KAAK;AAAK,eAAO,SAAS;MAC1B,KAAK;AAAK,eAAO,SAAS;MAC1B,KAAK;AAAM,eAAO,UAAU;MAC5B,KAAK;AAAM,eAAO,UAAU;MAC5B,KAAK;AAAM,eAAO,WAAW;MAC7B,KAAK;AAAM,eAAO,WAAW;MAC7B;AAAS,eAAO;IAClB;EACF;;;;EAKA,qBAAkB;AAChB,WAAO,KAAK;EACd;;;;EAKA,YAAY,YAAkB;AAC5B,WAAO,KAAK,UAAU,IAAI,UAAU;EACtC;;qCA3jBW,wBAAqB;EAAA;4EAArB,wBAAqB,SAArB,uBAAqB,WAAA,YAFpB,OAAM,CAAA;;;sEAEP,uBAAqB,CAAA;UAHjC;WAAW;MACV,YAAY;KACb;;;;;ACHK,IAAO,qBAAP,MAAyB;;;;;EAM7B,OAAO,sBAAsB,WAA8B,kBAAmC;AAE5F,QAAI,aAAa;MACf,QAAQ;MACR,SAAS;MACT,IAAI;MACJ,IAAI;MACJ,YAAY;MACZ,SAAS;;AAGX,QAAI,kBAAkB;AACpB,mBAAa,iBAAiB,6BAA6B,SAAS;IACtE;AAEA,UAAM,aAA8B;MAClC,IAAI;MACJ,MAAM,UAAU;MAChB,MAAM;MACN,OAAO,UAAU,YAAY,WAAW;;MACxC,WAAW,UAAU;MACrB,OAAQ,UAAU,MAAM,aAAa,KAAM,WAAW;MACtD,WAAY,UAAU,MAAM,aAAa,KAAM,WAAW;MAC1D,QAAQ,KAAK,gBAAgB,SAAS,IAAI,WAAW;MACrD,SAAS,KAAK,iBAAiB,SAAS,IAAI,WAAW;MACvD,SAAS,UAAU,MAAM;MACzB,QAAQ,KAAK,cAAc,SAAS;MACpC,OAAO,KAAK,aAAa,SAAS;;AAGpC,WAAO;EACT;;;;EAKA,OAAO,mBAAmB,KAAa;AAErC,UAAM,QAAQ;AACd,UAAM,SAAS,MAAO,QAAQ;AAC9B,UAAM,SAAS,KAAM,QAAQ;AAE7B,UAAM,aAA8B;MAClC,IAAI,IAAI;MACR,MAAM,IAAI;MACV,MAAM;MACN,OAAO;MACP,WAAW;MACX,OAAO;MACP,WAAW;MACX,QAAQ,KAAM,QAAQ;MACtB,SAAS,KAAM,QAAQ;MACvB,SAAS,KAAK;MACd,QAAQ,KAAK,kBAAkB,GAAG;MAClC,OAAO,CAAA;;AAGT,WAAO;EACT;;;;EAKQ,OAAO,gBAAgB,MAAuB;AAEpD,WAAO,KAAK,MACT,KAAK,MAAM,WAAW,MACtB,KAAK,MAAM,aAAa,GAAI;EAEjC;;;;EAKQ,OAAO,iBAAiB,MAAuB;AAErD,WAAO,KAAK,MACT,KAAK,MAAM,WAAW,MACtB,KAAK,MAAM,aAAa,MACxB,KAAK,MAAM,YAAY,GAAI;EAEhC;;;;EAKQ,OAAO,cAAc,MAAuB;AAClD,UAAM,SAAwB,CAAA;AAG9B,QAAI,KAAK,SAAS,WAAW;AAC3B,aAAO,KAAK;QACV,IAAI;QACJ,MAAM;QACN,aAAa;QACb,QAAQ;QACR,QAAQ;QACR,MAAM;OACP;AAED,aAAO,KAAK;QACV,IAAI;QACJ,MAAM;QACN,aAAa;QACb,QAAQ;QACR,QAAQ;QACR,MAAM;OACP;IACH;AAGA,WAAO,KAAK;MACV,IAAI;MACJ,MAAM;MACN,aAAa;MACb,QAAQ;MACR,QAAQ;MACR,MAAM;KACP;AAGD,WAAO,KAAK;MACV,IAAI;MACJ,MAAM;MACN,aAAa;MACb,QAAQ;MACR,QAAQ;MACR,MAAM;KACP;AAED,WAAO;EACT;;;;EAKQ,OAAO,aAAa,MAAuB;AACjD,UAAM,cAA4B,CAAA;AAElC,eAAW,QAAQ,KAAK,WAAW;AACjC,UAAI,KAAK,SAAS,cAAc;AAC9B,oBAAY,KAAK;UACf,IAAI,KAAK;UACT,MAAM,KAAK;UACX,aAAa,KAAK,eAAe;UACjC,MAAM;UACN,QAAQ;;SACT;MACH;IACF;AAEA,WAAO;EACT;;;;EAKQ,OAAO,kBAAkB,KAAa;AAC5C,UAAM,SAAwB,CAAA;AAG9B,WAAO,KAAK;MACV,IAAI;MACJ,MAAM;MACN,aAAa;MACb,QAAQ;MACR,QAAQ;MACR,MAAM;KACP;AAGD,QAAI,IAAI,MAAM,SAAS,MAAM,GAAG;AAC9B,aAAO,KAAK;QACV,IAAI;QACJ,MAAM;QACN,aAAa,GAAG,IAAI,IAAI;QACxB,QAAQ;QACR,QAAQ;QACR,MAAM;OACP;IACH;AAEA,WAAO;EACT;;;;EAKA,OAAO,kBACL,WACA,YACA,SAAgB;AAGhB,cAAU,SAAS,KAAK,IAAI,GAAG,WAAW,SAAS;AAGnD,QAAI,SAAS;AACX,gBAAU,MAAM,YAAY;AAC5B,gBAAU,MAAM,cAAc;IAChC;AAGA,QAAI,CAAC,WAAW,UAAU,UAAU,GAAG;AACrC,gBAAU,SAAS,KAAK;QACtB,MAAM;QACN,UAAU;QACV,UAAU;QACV,aAAa;QACb,WAAW;UACT,OAAO;YACL,UAAU;YACV,YAAY;;;OAGjB;IACH;EACF;;;;ACnOK,IAAM,mBAAiC;;EAE5C;IACE,IAAI;IACJ,OAAO;IACP,MAAM;IACN,cAAc;IACd,WAAW;IACX,eAAe;MACb;MACA;MACA;MACA;MACA;;IAEF,SAAS;MACP;QACE,IAAI;QACJ,MAAM;QACN,aAAa;;;IAGjB,MAAM,CAAC,aAAa,cAAc,OAAO;IACzC,UAAU;IACV,WAAW;;EAGb;IACE,IAAI;IACJ,OAAO;IACP,MAAM;IACN,eAAe;MACb;MACA;;IAEF,SAAS;MACP;QACE,IAAI;QACJ,MAAM;QACN,YAAY;QACZ,aAAa;;MAEf;QACE,IAAI;QACJ,MAAM;QACN,YAAY;QACZ,aAAa;QACb,YAAY;UACV;YACE,MAAM;YACN,OAAO;YACP,UAAU;YACV,OAAO;YACP,aAAa;;;;MAInB;QACE,IAAI;QACJ,MAAM;QACN,YAAY;QACZ,aAAa;QACb,cAAc;UACZ;YACE,MAAM;YACN,OAAO;YACP,OAAO;YACP,aAAa;;;;;IAKrB,MAAM,CAAC,aAAa,YAAY;IAChC,UAAU;IACV,WAAW;;;EAIb;IACE,IAAI;IACJ,OAAO;IACP,eAAe;MACb;MACA;MACA;;IAEF,SAAS;MACP;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,cAAc;UACZ;YACE,MAAM;YACN,OAAO;YACP,OAAO;YACP,aAAa;;;;MAInB;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,YAAY;UACV;YACE,MAAM;YACN,OAAO;YACP,UAAU;YACV,OAAO;YACP,aAAa;;;;MAInB;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,UAAU;UACR,MAAM;UACN,YAAY;UACZ,gBAAgB;UAChB,gBAAgB;;;;IAItB,UAAU;IACV,WAAW;;;EAIb;IACE,IAAI;IACJ,OAAO;IACP,eAAe;MACb;MACA;MACA;MACA;MACA;MACA;;IAEF,SAAS;MACP;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,YAAY;UACV;YACE,MAAM;YACN,OAAO;YACP,UAAU;YACV,OAAO;YACP,aAAa;;;;MAInB;QACE,IAAI;QACJ,MAAM;QACN,aAAa;;;IAGjB,UAAU;IACV,WAAW;;;EAIb;IACE,IAAI;IACJ,OAAO;IACP,MAAM;IACN,cAAc;IACd,WAAW;IACX,eAAe;MACb;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;IAEF,SAAS;MACP;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,cAAc;UACZ;YACE,MAAM;YACN,OAAO;YACP,OAAO;YACP,aAAa;;;;;IAKrB,UAAU;IACV,WAAW;;;EAIb;IACE,IAAI;IACJ,OAAO;IACP,eAAe;MACb;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;IAEF,SAAS;MACP;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,cAAc;UACZ;YACE,MAAM;YACN,OAAO;YACP,OAAO;;UAET;YACE,MAAM;YACN,OAAO;YACP,OAAO;YACP,aAAa;;;;MAInB;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,cAAc;UACZ;YACE,MAAM;YACN,OAAO;YACP,OAAO;;;;;IAKf,UAAU;IACV,WAAW;;;EAIb;IACE,IAAI;IACJ,OAAO;IACP,MAAM;IACN,cAAc;IACd,WAAW;IACX,eAAe;MACb;MACA;MACA;MACA;;IAEF,SAAS;MACP;QACE,IAAI;QACJ,MAAM;QACN,aAAa;;;IAGjB,UAAU;IACV,WAAW;;EAGb;IACE,IAAI;IACJ,OAAO;IACP,MAAM;IACN,eAAe;MACb;MACA;;IAEF,SAAS;MACP;QACE,IAAI;QACJ,MAAM;QACN,YAAY;QACZ,aAAa;QACb,UAAU;UACR,MAAM;UACN,YAAY;UACZ,gBAAgB;UAChB,gBAAgB;;;MAGpB;QACE,IAAI;QACJ,MAAM;QACN,aAAa;;MAEf;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,YAAY;UACV;YACE,MAAM;YACN,OAAO;YACP,UAAU;YACV,OAAO;YACP,aAAa;;;;;IAKrB,UAAU;IACV,WAAW;;;EAIb;IACE,IAAI;IACJ,OAAO;IACP,MAAM;IACN,cAAc;IACd,WAAW;IACX,eAAe;MACb;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;IAEF,SAAS;MACP;QACE,IAAI;QACJ,MAAM;QACN,aAAa;;;IAGjB,UAAU;IACV,WAAW;;;EAIb;IACE,IAAI;IACJ,OAAO;IACP,MAAM;IACN,cAAc;IACd,WAAW;IACX,eAAe;MACb;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;IAEF,SAAS;MACP;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,cAAc;UACZ;YACE,MAAM;YACN,OAAO;YACP,OAAO;YACP,aAAa;;UAEf;YACE,MAAM;YACN,OAAO;YACP,OAAO;cACL,MAAM;cACN,UAAU;cACV,UAAU;cACV,aAAa;cACb,WAAW;gBACT,OAAO,EAAE,WAAW,GAAE;;;YAG1B,aAAa;;;;;IAKrB,UAAU;IACV,WAAW;;;EAIb;IACE,IAAI;IACJ,OAAO;IACP,eAAe;MACb;MACA;MACA;MACA;MACA;MACA;MACA;;IAEF,SAAS;MACP;QACE,IAAI;QACJ,MAAM;QACN,aAAa;;MAEf;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,cAAc;UACZ;YACE,MAAM;YACN,OAAO;YACP,OAAO;YACP,aAAa;;;;;IAKrB,UAAU;IACV,WAAW;;;EAIb;IACE,IAAI;IACJ,OAAO;IACP,eAAe;MACb;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;IAEF,SAAS;MACP;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,cAAc;UACZ;YACE,MAAM;YACN,OAAO;YACP,OAAO;;;;MAIb;QACE,IAAI;QACJ,MAAM;QACN,aAAa;;;IAGjB,UAAU;IACV,WAAW;;;EAIb;IACE,IAAI;IACJ,OAAO;IACP,eAAe;MACb;MACA;MACA;MACA;MACA;MACA;MACA;;IAEF,SAAS;MACP;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,YAAY;UACV;YACE,MAAM;YACN,OAAO;YACP,UAAU;YACV,OAAO;YACP,aAAa;;;;MAInB;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,YAAY;UACV;YACE,MAAM;YACN,OAAO;YACP,UAAU;YACV,OAAO;YACP,aAAa;;;;MAInB;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,cAAc;UACZ;YACE,MAAM;YACN,OAAO;YACP,OAAO;YACP,aAAa;;UAEf;YACE,MAAM;YACN,OAAO;YACP,OAAO;cACL,SAAS,CAAC,kBAAkB,gBAAgB;cAC5C,WAAW;cACX,UAAU;;YAEZ,aAAa;;;;MAInB;QACE,IAAI;QACJ,MAAM;QACN,UAAU;UACR,MAAM;UACN,YAAY;UACZ,gBAAgB;UAChB,gBAAgB;UAChB,iBAAiB;;;;IAIvB,UAAU;IACV,WAAW;;;EAIb;IACE,IAAI;IACJ,OAAO;IACP,eAAe;MACb,SAAI,OAAO,EAAE;MACb;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA,SAAI,OAAO,EAAE;MACb;MACA;;IAEF,SAAS;MACP;QACE,IAAI;QACJ,MAAM;QACN,aAAa;;;IAGjB,UAAU;IACV,WAAW;;;;EAMb;IACE,IAAI;IACJ,OAAO;IACP,eAAe;MACb;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;IAEF,SAAS;MACP;QACE,IAAI;QACJ,MAAM;QACN,aAAa;;MAEf;QACE,IAAI;QACJ,MAAM;QACN,aAAa;;;IAGjB,UAAU;IACV,WAAW;;;EAIb;IACE,IAAI;IACJ,OAAO;IACP,MAAM;IACN,cAAc;IACd,WAAW;IACX,eAAe;MACb;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;IAEF,SAAS;MACP;QACE,IAAI;QACJ,MAAM;QACN,aAAa;;;IAGjB,UAAU;IACV,WAAW;IACX,MAAM,CAAC,UAAU,mBAAmB;;;EAItC;IACE,IAAI;IACJ,OAAO;IACP,MAAM;IACN,eAAe;MACb;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;IAEF,SAAS;MACP;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,YAAY;QACZ,YAAY;UACV;YACE,MAAM;YACN,OAAO;YACP,UAAU;YACV,OAAO;YACP,aAAa;;;QAGjB,cAAc;UACZ;YACE,MAAM;YACN,OAAO;YACP,OAAO;YACP,aAAa;;UAEf;YACE,MAAM;YACN,OAAO;YACP,OAAO;YACP,aAAa;;;;MAInB;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,YAAY;QACZ,YAAY;UACV;YACE,MAAM;YACN,OAAO;YACP,UAAU;YACV,OAAO;YACP,aAAa;;;QAGjB,cAAc;UACZ;YACE,MAAM;YACN,OAAO;YACP,OAAO;YACP,aAAa;;UAEf;YACE,MAAM;YACN,OAAO;YACP,OAAO;YACP,aAAa;;UAEf;YACE,MAAM;YACN,OAAO;YACP,OAAO;YACP,aAAa;;UAEf;YACE,MAAM;YACN,OAAO;YACP,OAAO;YACP,aAAa;;;;MAInB;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,YAAY;QACZ,cAAc;UACZ;YACE,MAAM;YACN,OAAO;YACP,OAAO;YACP,aAAa;;;;MAInB;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,YAAY;;;IAGhB,UAAU;IACV,WAAW;IACX,MAAM,CAAC,YAAY,UAAU;;;EAI/B;IACE,IAAI;IACJ,OAAO;IACP,MAAM;IACN,cAAc;IACd,WAAW;IACX,eAAe;MACb;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;IAEF,SAAS;MACP;QACE,IAAI;QACJ,MAAM;QACN,aAAa;;;IAGjB,UAAU;IACV,WAAW;IACX,MAAM,CAAC,YAAY,UAAU;;;EAI/B;IACE,IAAI;IACJ,OAAO;IACP,MAAM;IACN,cAAc;IACd,WAAW;IACX,eAAe;MACb;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;IAEF,SAAS;MACP;QACE,IAAI;QACJ,MAAM;QACN,aAAa;;;IAGjB,UAAU;IACV,WAAW;IACX,MAAM,CAAC,YAAY,YAAY,MAAM;;;EAIvC;IACE,IAAI;IACJ,OAAO;IACP,MAAM;IACN,cAAc;IACd,WAAW;IACX,eAAe;MACb;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;IAEF,SAAS;MACP;QACE,IAAI;QACJ,MAAM;QACN,aAAa;;;IAGjB,UAAU;IACV,WAAW;IACX,MAAM,CAAC,YAAY,UAAU;;;EAI/B;IACE,IAAI;IACJ,OAAO;IACP,MAAM;IACN,cAAc;IACd,WAAW;IACX,eAAe;MACb;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;IAEF,SAAS;MACP;QACE,IAAI;QACJ,MAAM;QACN,aAAa;;;IAGjB,UAAU;IACV,WAAW;IACX,MAAM,CAAC,YAAY,aAAa;;;EAIlC;IACE,IAAI;IACJ,OAAO;IACP,eAAe;MACb;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA,SAAI,OAAO,EAAE;MACb;MACA;;IAEF,SAAS;MACP;QACE,IAAI;QACJ,MAAM;QACN,aAAa;;;IAGjB,UAAU;IACV,WAAW;IACX,MAAM,CAAC,cAAc,SAAS;;;EAIhC;IACE,IAAI;IACJ,OAAO;IACP,MAAM;IACN,cAAc;IACd,WAAW;IACX,eAAe;MACb;MACA;MACA;MACA;MACA;MACA;MACA;MACA;;IAEF,SAAS;MACP;QACE,IAAI;QACJ,MAAM;QACN,aAAa;;;IAGjB,UAAU;IACV,WAAW;;;EAIb;IACE,IAAI;IACJ,OAAO;IA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",
  "names": ["ItemRarity", "ItemType", "WeaponCategory", "ArmorSlot", "state", "monster", "map", "state", "item", "returnedItem", "message", "ScreenSize", "monster", "map", "style", "state", "state"]
}
