import{a as X}from"./chunk-MF4Y76YC.js";import{c as Z}from"./chunk-LDRAMSE2.js";import"./chunk-MXPUJXMB.js";import{m as W}from"./chunk-2INUU37C.js";import"./chunk-F6ZRSYO5.js";import"./chunk-KDSCINN4.js";import"./chunk-ACTHFZSI.js";import"./chunk-TCIPLG6L.js";import{E as Q,c as Y,h as G,m as q}from"./chunk-BTFORE5L.js";import{b as J,d as g,g as U}from"./chunk-IQHB6EBY.js";import{$ as y,Eb as h,Gb as u,Ib as O,Mb as L,Na as a,Nb as j,Ob as B,Qc as K,Ra as C,Xb as r,Ya as S,Yb as m,Za as E,Zb as p,aa as b,bc as N,cb as P,cc as V,da as x,dc as H,dd as $,g as z,ha as _,ia as M,l as I,ub as f,vb as n,wb as o}from"./chunk-KCIJXSXQ.js";import{h as R}from"./chunk-WWX6BADO.js";var d=class s{constructor(e){this.router=e;this.loadUserFromStorage()}STORAGE_KEY="community_user";TOKEN_KEY="community_auth_token";currentUserSubject=new z(null);currentUser$=this.currentUserSubject.asObservable();loadUserFromStorage(){let e=this.getCurrentUser();this.currentUserSubject.next(e)}login(e,t){return console.log("[CommunityAuth] \uB85C\uADF8\uC778 \uC2DC\uB3C4:",e),this.mockLogin(e,t)}mockLogin(e,t){let i={admin:{userId:"comm_admin",username:"admin",email:"admin@community.com",nickname:"\uAD00\uB9AC\uC790",avatar:"\u{1F451}",level:99,points:99999,posts:500,token:"mock_community_admin"},user1:{userId:"comm_user1",username:"user1",email:"user1@community.com",nickname:"\uD65C\uB3D9\uAC00",avatar:"\u{1F31F}",level:15,points:3500,posts:87,token:"mock_community_user1"}};if(i[e]&&t==="1017"){let c=i[e];return this.setUser(c),this.setToken(c.token),this.currentUserSubject.next(c),console.log("[CommunityAuth] \uB85C\uADF8\uC778 \uC131\uACF5:",c.nickname),I(!0)}return console.log("[CommunityAuth] \uB85C\uADF8\uC778 \uC2E4\uD328"),I(!1)}logout(){console.log("[CommunityAuth] \uB85C\uADF8\uC544\uC6C3 \uC2DC\uC791");try{localStorage.removeItem(this.STORAGE_KEY),localStorage.removeItem(this.TOKEN_KEY),this.currentUserSubject.next(null),console.log("[CommunityAuth] \uB85C\uADF8\uC544\uC6C3 \uC644\uB8CC, \uB85C\uADF8\uC778 \uD398\uC774\uC9C0\uB85C \uC774\uB3D9")}catch(e){console.error("[CommunityAuth] \uB85C\uADF8\uC544\uC6C3 \uC911 \uC624\uB958:",e)}finally{this.router.navigate(["/community/login"]).then(e=>{e?console.log("[CommunityAuth] \uB85C\uADF8\uC778 \uD398\uC774\uC9C0 \uB124\uBE44\uAC8C\uC774\uC158 \uC131\uACF5"):(console.error("[CommunityAuth] \uB85C\uADF8\uC778 \uD398\uC774\uC9C0 \uB124\uBE44\uAC8C\uC774\uC158 \uC2E4\uD328, \uAC15\uC81C \uC774\uB3D9 \uC2DC\uB3C4"),window.location.hash="#/community/login")}).catch(e=>{console.error("[CommunityAuth] \uB124\uBE44\uAC8C\uC774\uC158 \uC608\uC678 \uBC1C\uC0DD:",e),window.location.hash="#/community/login"})}}isAuthenticated(){let e=localStorage.getItem(this.TOKEN_KEY);return e!==null&&e.trim()!==""}getCurrentUser(){let e=localStorage.getItem(this.STORAGE_KEY);if(e)try{return JSON.parse(e)}catch{return null}return null}setUser(e){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}setToken(e){localStorage.setItem(this.TOKEN_KEY,e)}static \u0275fac=function(t){return new(t||s)(x(g))};static \u0275prov=y({token:s,factory:s.\u0275fac,providedIn:"root"})};function ot(s,e){if(s&1){let t=h();n(0,"div",40),u("click",function(){let c=_(t).$implicit,l=O();return M(l.onCategoryClick(c.id))}),n(1,"span",41),r(2),o(),n(3,"span",42),r(4),o(),n(5,"span",43),r(6),o()()}if(s&2){let t=e.$implicit;a(2),m(t.icon),a(2),m(t.name),a(2),m(t.count)}}function it(s,e){if(s&1&&(n(0,"div",44)(1,"span",45),r(2),o(),n(3,"span",46),r(4),o(),n(5,"span",47),r(6),o()()),s&2){let t=e.$implicit;a(2),m(t.user),a(2),m(t.message),a(2),m(t.time)}}function rt(s,e){if(s&1){let t=h();n(0,"div",48),u("click",function(){let c=_(t).$implicit,l=O();return M(l.onPostClick(c))}),n(1,"div",49)(2,"span",50),r(3),o(),n(4,"span",51),r(5,"HOT"),o()(),n(6,"h3",52),r(7),o(),n(8,"p",53),r(9),o(),n(10,"div",54)(11,"div",55)(12,"span",56),r(13),o(),n(14,"span",57),r(15),o()(),n(16,"div",58)(17,"span",59),r(18),o(),n(19,"span",59),r(20),o(),n(21,"span",59),r(22),o()()(),n(23,"div",60),r(24),o()()}if(s&2){let t=e.$implicit,i=O();a(3),m(i.getCategoryName(t.category)),a(4),m(t.title),a(2),m(t.content),a(4),m(t.avatar),a(2),m(t.author),a(3),p("\u2764\uFE0F ",t.likes),a(2),p("\u{1F4AC} ",t.comments),a(2),p("\u{1F441}\uFE0F ",t.views),a(2),m(i.formatDate(t.date))}}function at(s,e){if(s&1){let t=h();n(0,"div",61),u("click",function(){let c=_(t).$implicit,l=O();return M(l.onPostClick(c))}),n(1,"div",62)(2,"span",63),r(3),o(),n(4,"div",64)(5,"h4",65),r(6),o(),n(7,"div",66)(8,"span",67),r(9),o(),n(10,"span",68),r(11,"\u2022"),o(),n(12,"span",69),r(13),o(),n(14,"span",68),r(15,"\u2022"),o(),n(16,"span",70),r(17),o()()()(),n(18,"div",71)(19,"span",72),r(20),o(),n(21,"span",72),r(22),o()()()}if(s&2){let t=e.$implicit,i=O();a(3),m(t.avatar),a(3),m(t.title),a(3),m(t.author),a(4),m(i.formatDate(t.date)),a(4),m(i.getCategoryName(t.category)),a(3),p("\u2764\uFE0F ",t.likes),a(2),p("\u{1F4AC} ",t.comments)}}var w=class s{constructor(e,t){this.authService=e;this.router=t}currentUser=null;userSubscription;hotPosts=[];recentPosts=[];chatMessages=[];newMessage="";categories=[{id:"all",name:"\uC804\uCCB4",icon:"\u{1F4CB}",count:256},{id:"free",name:"\uC790\uC720\uAC8C\uC2DC\uD310",icon:"\u{1F4AC}",count:128},{id:"qna",name:"\uC9C8\uBB38\uB2F5\uBCC0",icon:"\u2753",count:89},{id:"tips",name:"\uD301&\uB178\uD558\uC6B0",icon:"\u{1F4A1}",count:45},{id:"event",name:"\uC774\uBCA4\uD2B8",icon:"\u{1F389}",count:12}];ngOnInit(){this.loadUserData(),this.loadHotPosts(),this.loadRecentPosts(),this.loadChatMessages()}ngOnDestroy(){this.userSubscription&&this.userSubscription.unsubscribe()}loadUserData(){this.userSubscription=this.authService.currentUser$.subscribe(e=>{this.currentUser=e,console.log("[CommunityMain] \uC0AC\uC6A9\uC790 \uC0C1\uD0DC \uC5C5\uB370\uC774\uD2B8:",e)})}loadHotPosts(){this.hotPosts=[{id:"1",title:"\u{1F525} Angular \uCD5C\uC2E0 \uBC84\uC804 \uC5C5\uB370\uC774\uD2B8 \uCD1D\uC815\uB9AC",content:"Angular 18\uC758 \uC0C8\uB85C\uC6B4 \uAE30\uB2A5\uB4E4\uC744 \uC790\uC138\uD788 \uC54C\uC544\uBD05\uC2DC\uB2E4...",author:"\uAC1C\uBC1C\uC655",avatar:"\u{1F468}\u200D\u{1F4BB}",likes:245,comments:67,views:1520,date:new Date("2025-10-22"),category:"tips",isHot:!0},{id:"2",title:"\uCD08\uBCF4\uC790\uB97C \uC704\uD55C TypeScript \uC644\uBCBD \uAC00\uC774\uB4DC",content:"TypeScript\uC758 \uAE30\uCD08\uBD80\uD130 \uACE0\uAE09 \uD65C\uC6A9\uAE4C\uC9C0...",author:"\uD0C0\uC785\uB9C8\uC2A4\uD130",avatar:"\u{1F3AF}",likes:189,comments:43,views:980,date:new Date("2025-10-21"),category:"tips",isHot:!0},{id:"3",title:"\uCEE4\uBBA4\uB2C8\uD2F0 \uC774\uBCA4\uD2B8 \uB2F9\uCCA8\uC790 \uBC1C\uD45C!",content:"10\uC6D4 \uC774\uBCA4\uD2B8 \uB2F9\uCCA8\uC790\uB97C \uBC1C\uD45C\uD569\uB2C8\uB2E4...",author:"\uC6B4\uC601\uC790",avatar:"\u{1F451}",likes:156,comments:89,views:2340,date:new Date("2025-10-20"),category:"event",isHot:!0}]}loadRecentPosts(){this.recentPosts=[{id:"4",title:"RxJS Observable \uD328\uD134 \uC9C8\uBB38\uC788\uC2B5\uB2C8\uB2E4",content:"Observable\uC744 \uC0AC\uC6A9\uD558\uB2E4\uAC00 \uB9C9\uD614\uB294\uB370...",author:"\uCD08\uBCF4\uAC1C\uBC1C\uC790",avatar:"\u{1F331}",likes:12,comments:5,views:67,date:new Date("2025-10-22T11:30:00"),category:"qna",isHot:!1},{id:"5",title:"\uD504\uB860\uD2B8\uC5D4\uB4DC \uAC1C\uBC1C\uC790 \uBAA8\uC784 \uC548\uB0B4",content:"\uB2E4\uC74C\uC8FC \uD1A0\uC694\uC77C\uC5D0 \uC2A4\uD130\uB514 \uBAA8\uC784\uC744 \uC9C4\uD589\uD569\uB2C8\uB2E4...",author:"\uBAA8\uC784\uC7A5",avatar:"\u{1F465}",likes:34,comments:18,views:234,date:new Date("2025-10-22T10:15:00"),category:"free",isHot:!1},{id:"6",title:"CSS Grid vs Flexbox \uBB50\uAC00 \uB354 \uC88B\uC744\uAE4C\uC694?",content:"\uB808\uC774\uC544\uC6C3 \uC791\uC5C5\uD560 \uB54C \uD56D\uC0C1 \uACE0\uBBFC\uC774...",author:"\uB514\uC790\uC774\uB108",avatar:"\u{1F3A8}",likes:23,comments:12,views:156,date:new Date("2025-10-22T09:45:00"),category:"qna",isHot:!1}]}loadChatMessages(){this.chatMessages=[{user:"\uAC1C\uBC1C\uC655",message:"\uC548\uB155\uD558\uC138\uC694~",time:"11:30"},{user:"\uD0C0\uC785\uB9C8\uC2A4\uD130",message:"\uC624\uB298\uB3C4 \uC5F4\uC2EC\uD788!",time:"11:31"},{user:"\uCD08\uBCF4\uAC1C\uBC1C\uC790",message:"\uC9C8\uBB38 \uC880 \uD574\uB3C4 \uB420\uAE4C\uC694?",time:"11:32"},{user:"\uC6B4\uC601\uC790",message:"\uD658\uC601\uD569\uB2C8\uB2E4!",time:"11:33"}]}onLogout(){return R(this,null,function*(){(yield Z("\uB85C\uADF8\uC544\uC6C3 \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?"))?(console.log("[CommunityMain] \uB85C\uADF8\uC544\uC6C3 \uC694\uCCAD"),this.authService.logout()):console.log("[CommunityMain] \uB85C\uADF8\uC544\uC6C3 \uCDE8\uC18C")})}onPostClick(e){console.log("\uAC8C\uC2DC\uAE00 \uD074\uB9AD:",e.title)}onCategoryClick(e){console.log("\uCE74\uD14C\uACE0\uB9AC \uD074\uB9AD:",e)}sendChatMessage(){if(this.newMessage.trim()){let e=new Date;this.chatMessages.push({user:this.currentUser?.nickname||"\uB098",message:this.newMessage,time:`${e.getHours()}:${e.getMinutes()}`}),this.newMessage="",setTimeout(()=>{let t=document.querySelector(".chat-messages");t&&(t.scrollTop=t.scrollHeight)},100)}}getCategoryName(e){let t=this.categories.find(i=>i.id===e);return t?t.name:e}formatDate(e){let i=new Date().getTime()-e.getTime(),c=Math.floor(i/(1e3*60*60));return c<1?`${Math.floor(i/6e4)}\uBD84 \uC804`:c<24?`${c}\uC2DC\uAC04 \uC804`:`${Math.floor(c/24)}\uC77C \uC804`}static \u0275fac=function(t){return new(t||s)(C(d),C(g))};static \u0275cmp=S({type:s,selectors:[["app-community-main"]],standalone:!1,decls:77,vars:13,consts:[[1,"community-container"],[1,"community-header"],[1,"header-left"],[1,"subtitle"],[1,"header-right"],[1,"user-info"],[1,"avatar"],[1,"user-details"],[1,"nickname"],[1,"level"],[1,"btn-logout",3,"click"],[1,"community-content"],[1,"left-sidebar"],[1,"categories-card"],[1,"category-list"],["class","category-item",3,"click",4,"ngFor","ngForOf"],[1,"chat-card"],[1,"chat-messages"],["class","chat-msg",4,"ngFor","ngForOf"],[1,"chat-input"],["type","text","placeholder","\uBA54\uC2DC\uC9C0 \uC785\uB825...",3,"ngModelChange","keyup.enter","ngModel"],[3,"click"],[1,"main-content"],[1,"hot-posts-section"],[1,"posts-grid"],["class","post-card hot",3,"click",4,"ngFor","ngForOf"],[1,"recent-posts-section"],[1,"posts-list"],["class","post-item",3,"click",4,"ngFor","ngForOf"],[1,"right-sidebar"],[1,"my-info-card"],[1,"profile-info"],[1,"profile-avatar-large"],[1,"profile-level"],[1,"profile-stats"],[1,"stat-box"],[1,"stat-value"],[1,"stat-label"],[1,"notice-card"],[1,"notice-list"],[1,"category-item",3,"click"],[1,"cat-icon"],[1,"cat-name"],[1,"cat-count"],[1,"chat-msg"],[1,"msg-user"],[1,"msg-text"],[1,"msg-time"],[1,"post-card","hot",3,"click"],[1,"post-header"],[1,"post-category"],[1,"hot-badge"],[1,"post-title"],[1,"post-content"],[1,"post-footer"],[1,"post-author"],[1,"author-avatar"],[1,"author-name"],[1,"post-stats"],[1,"stat"],[1,"post-date"],[1,"post-item",3,"click"],[1,"post-item-left"],[1,"post-avatar"],[1,"post-info"],[1,"post-item-title"],[1,"post-meta"],[1,"meta-author"],[1,"meta-separator"],[1,"meta-date"],[1,"meta-category"],[1,"post-item-stats"],[1,"stat-item"]],template:function(t,i){t&1&&(n(0,"div",0)(1,"header",1)(2,"div",2)(3,"h1"),r(4,"\u{1F465} \uCEE4\uBBA4\uB2C8\uD2F0"),o(),n(5,"p",3),r(6,"\uD568\uAED8 \uC18C\uD1B5\uD558\uACE0 \uC131\uC7A5\uD558\uB294 \uACF5\uAC04"),o()(),n(7,"div",4)(8,"div",5)(9,"span",6),r(10),o(),n(11,"div",7)(12,"span",8),r(13),o(),n(14,"span",9),r(15),o()()(),n(16,"button",10),u("click",function(){return i.onLogout()}),r(17,"\uB85C\uADF8\uC544\uC6C3"),o()()(),n(18,"div",11)(19,"aside",12)(20,"div",13)(21,"h3"),r(22,"\u{1F4C2} \uCE74\uD14C\uACE0\uB9AC"),o(),n(23,"div",14),P(24,ot,7,3,"div",15),o()(),n(25,"div",16)(26,"h3"),r(27,"\u{1F4AC} \uC2E4\uC2DC\uAC04 \uCC44\uD305"),o(),n(28,"div",17),P(29,it,7,3,"div",18),o(),n(30,"div",19)(31,"input",20),H("ngModelChange",function(l){return V(i.newMessage,l)||(i.newMessage=l),l}),u("keyup.enter",function(){return i.sendChatMessage()}),o(),n(32,"button",21),u("click",function(){return i.sendChatMessage()}),r(33,"\uC804\uC1A1"),o()()()(),n(34,"main",22)(35,"section",23)(36,"h2"),r(37,"\u{1F525} \uC778\uAE30 \uAC8C\uC2DC\uAE00"),o(),n(38,"div",24),P(39,rt,25,9,"div",25),o()(),n(40,"section",26)(41,"h2"),r(42,"\u{1F4DD} \uCD5C\uC2E0 \uAC8C\uC2DC\uAE00"),o(),n(43,"div",27),P(44,at,23,7,"div",28),o()()(),n(45,"aside",29)(46,"div",30)(47,"h3"),r(48,"\uB0B4 \uD504\uB85C\uD544"),o(),n(49,"div",31)(50,"div",32),r(51),o(),n(52,"h4"),r(53),o(),n(54,"p",33),r(55),o(),n(56,"div",34)(57,"div",35)(58,"div",36),r(59),o(),n(60,"div",37),r(61,"\uD3EC\uC778\uD2B8"),o()(),n(62,"div",35)(63,"div",36),r(64),o(),n(65,"div",37),r(66,"\uC791\uC131\uAE00"),o()()()()(),n(67,"div",38)(68,"h3"),r(69,"\u{1F4E2} \uACF5\uC9C0\uC0AC\uD56D"),o(),n(70,"ul",39)(71,"li"),r(72,"\uCEE4\uBBA4\uB2C8\uD2F0 \uC774\uC6A9 \uADDC\uCE59 \uC548\uB0B4"),o(),n(73,"li"),r(74,"10\uC6D4 \uC774\uBCA4\uD2B8 \uC9C4\uD589 \uC911!"),o(),n(75,"li"),r(76,"\uC0C8\uB85C\uC6B4 \uCE74\uD14C\uACE0\uB9AC \uCD94\uAC00"),o()()()()()()),t&2&&(a(10),m(i.currentUser==null?null:i.currentUser.avatar),a(3),m(i.currentUser==null?null:i.currentUser.nickname),a(2),p("Lv.",i.currentUser==null?null:i.currentUser.level),a(9),f("ngForOf",i.categories),a(5),f("ngForOf",i.chatMessages),a(2),N("ngModel",i.newMessage),a(8),f("ngForOf",i.hotPosts),a(5),f("ngForOf",i.recentPosts),a(7),m(i.currentUser==null?null:i.currentUser.avatar),a(2),m(i.currentUser==null?null:i.currentUser.nickname),a(2),p("Level ",i.currentUser==null?null:i.currentUser.level),a(4),m(i.currentUser==null?null:i.currentUser.points),a(5),m(i.currentUser==null?null:i.currentUser.posts))},dependencies:[K,Y,G,q],styles:[".community-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f093fb,#f5576c);padding:20px}.community-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background:#fffffff2;padding:20px 30px;border-radius:15px;box-shadow:0 4px 20px #0000001a;margin-bottom:30px}.community-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:28px;color:#333}.community-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:5px 0 0;color:#666;font-size:14px}.community-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.community-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.community-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{font-size:32px}.community-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.community-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .nickname[_ngcontent-%COMP%]{font-weight:600;color:#333}.community-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{font-size:12px;color:#f5576c}.community-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{padding:8px 20px;background:#ff4757;color:#fff;border:none;border-radius:8px;cursor:pointer;transition:all .3s ease}.community-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]:hover{background:#e84118;transform:translateY(-2px)}.community-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:280px 1fr 300px;gap:20px;max-width:1600px;margin:0 auto}@media (max-width: 1400px){.community-content[_ngcontent-%COMP%]{grid-template-columns:250px 1fr}.community-content[_ngcontent-%COMP%]   .right-sidebar[_ngcontent-%COMP%]{display:none}}@media (max-width: 1024px){.community-content[_ngcontent-%COMP%]{grid-template-columns:1fr}.community-content[_ngcontent-%COMP%]   .left-sidebar[_ngcontent-%COMP%]{display:none}}.categories-card[_ngcontent-%COMP%], .chat-card[_ngcontent-%COMP%], .my-info-card[_ngcontent-%COMP%], .notice-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:15px;padding:20px;box-shadow:0 4px 15px #0000001a;margin-bottom:20px}.categories-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .chat-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .my-info-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .notice-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 15px;font-size:18px;color:#333}.category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:12px;border-radius:10px;cursor:pointer;transition:all .3s ease;margin-bottom:8px}.category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]:hover{background:#f8f9fa;transform:translate(5px)}.category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .cat-icon[_ngcontent-%COMP%]{font-size:20px}.category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .cat-name[_ngcontent-%COMP%]{flex:1;font-weight:500}.category-list[_ngcontent-%COMP%]   .category-item[_ngcontent-%COMP%]   .cat-count[_ngcontent-%COMP%]{font-size:12px;color:#999}.chat-card[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto;margin-bottom:10px;padding:10px;background:#f8f9fa;border-radius:10px}.chat-card[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .chat-msg[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:10px;padding:8px;background:#fff;border-radius:8px}.chat-card[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .chat-msg[_ngcontent-%COMP%]   .msg-user[_ngcontent-%COMP%]{font-weight:600;font-size:12px;color:#f5576c;margin-bottom:4px}.chat-card[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .chat-msg[_ngcontent-%COMP%]   .msg-text[_ngcontent-%COMP%]{color:#333;font-size:14px}.chat-card[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%]   .chat-msg[_ngcontent-%COMP%]   .msg-time[_ngcontent-%COMP%]{font-size:10px;color:#999;margin-top:4px;align-self:flex-end}.chat-card[_ngcontent-%COMP%]   .chat-input[_ngcontent-%COMP%]{display:flex;gap:10px}.chat-card[_ngcontent-%COMP%]   .chat-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:10px;border:1px solid #ddd;border-radius:8px;font-size:14px}.chat-card[_ngcontent-%COMP%]   .chat-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#f5576c}.chat-card[_ngcontent-%COMP%]   .chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;background:#f5576c;color:#fff;border:none;border-radius:8px;cursor:pointer;transition:all .3s ease}.chat-card[_ngcontent-%COMP%]   .chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#e04555}.main-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 20px;font-size:24px;color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,.2)}.posts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px;margin-bottom:40px}.post-card[_ngcontent-%COMP%]{background:#fff;border-radius:15px;padding:20px;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 15px #0000001a}.post-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 25px #00000026}.post-card.hot[_ngcontent-%COMP%]{border:2px solid #ff6b6b}.post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .post-category[_ngcontent-%COMP%]{font-size:12px;color:#666;background:#f8f9fa;padding:4px 12px;border-radius:20px}.post-card[_ngcontent-%COMP%]   .post-header[_ngcontent-%COMP%]   .hot-badge[_ngcontent-%COMP%]{font-size:12px;background:linear-gradient(135deg,#ff6b6b,#ff4757);color:#fff;padding:4px 12px;border-radius:20px;font-weight:600}.post-card[_ngcontent-%COMP%]   .post-title[_ngcontent-%COMP%]{margin:0 0 10px;font-size:18px;color:#333;font-weight:600;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.post-card[_ngcontent-%COMP%]   .post-content[_ngcontent-%COMP%]{margin:0 0 15px;color:#666;font-size:14px;line-height:1.6;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:15px;border-top:1px solid #f0f0f0}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]   .post-author[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]   .post-author[_ngcontent-%COMP%]   .author-avatar[_ngcontent-%COMP%]{font-size:20px}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]   .post-author[_ngcontent-%COMP%]   .author-name[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]   .post-stats[_ngcontent-%COMP%]{display:flex;gap:12px}.post-card[_ngcontent-%COMP%]   .post-footer[_ngcontent-%COMP%]   .post-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{font-size:12px;color:#999}.post-card[_ngcontent-%COMP%]   .post-date[_ngcontent-%COMP%]{font-size:11px;color:#999;margin-top:8px}.posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]{background:#fff;border-radius:10px;padding:15px 20px;margin-bottom:12px;cursor:pointer;transition:all .3s ease;display:flex;justify-content:space-between;align-items:center}.posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]:hover{background:#f8f9fa;transform:translate(5px)}.posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .post-item-left[_ngcontent-%COMP%]{display:flex;gap:12px;flex:1}.posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .post-item-left[_ngcontent-%COMP%]   .post-avatar[_ngcontent-%COMP%]{font-size:24px}.posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .post-item-left[_ngcontent-%COMP%]   .post-info[_ngcontent-%COMP%]{flex:1}.posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .post-item-left[_ngcontent-%COMP%]   .post-info[_ngcontent-%COMP%]   .post-item-title[_ngcontent-%COMP%]{margin:0 0 5px;font-size:16px;color:#333;font-weight:500}.posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .post-item-left[_ngcontent-%COMP%]   .post-info[_ngcontent-%COMP%]   .post-meta[_ngcontent-%COMP%]{display:flex;gap:8px;font-size:12px;color:#999}.posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .post-item-left[_ngcontent-%COMP%]   .post-info[_ngcontent-%COMP%]   .post-meta[_ngcontent-%COMP%]   .meta-author[_ngcontent-%COMP%]{color:#666;font-weight:500}.posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .post-item-left[_ngcontent-%COMP%]   .post-info[_ngcontent-%COMP%]   .post-meta[_ngcontent-%COMP%]   .meta-separator[_ngcontent-%COMP%]{color:#ddd}.posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .post-item-stats[_ngcontent-%COMP%]{display:flex;gap:15px}.posts-list[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]   .post-item-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{font-size:14px;color:#999}.my-info-card[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]{text-align:center}.my-info-card[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .profile-avatar-large[_ngcontent-%COMP%]{font-size:64px;margin-bottom:10px}.my-info-card[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 5px;font-size:20px;color:#333}.my-info-card[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .profile-level[_ngcontent-%COMP%]{margin:0 0 15px;font-size:14px;color:#f5576c;font-weight:600}.my-info-card[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .profile-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:15px}.my-info-card[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .profile-stats[_ngcontent-%COMP%]   .stat-box[_ngcontent-%COMP%]{background:#f8f9fa;padding:15px;border-radius:10px}.my-info-card[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .profile-stats[_ngcontent-%COMP%]   .stat-box[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#f5576c}.my-info-card[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .profile-stats[_ngcontent-%COMP%]   .stat-box[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:12px;color:#999;margin-top:5px}.notice-card[_ngcontent-%COMP%]   .notice-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.notice-card[_ngcontent-%COMP%]   .notice-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:12px;border-bottom:1px solid #f0f0f0;font-size:14px;color:#666;cursor:pointer;transition:all .3s ease}.notice-card[_ngcontent-%COMP%]   .notice-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom:none}.notice-card[_ngcontent-%COMP%]   .notice-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#f8f9fa;color:#f5576c}"]})};var st=["loginComponent"],D=class s{constructor(e,t,i){this.authService=e;this.router=t;this.route=i}loginComponent;loginConfig={title:"\u{1F465} \uCEE4\uBBA4\uB2C8\uD2F0",subtitle:"\uC18C\uD1B5\uD558\uACE0 \uACF5\uC720\uD558\uBA70 \uD568\uAED8 \uC131\uC7A5\uD558\uC138\uC694",moduleName:"community",showSocialLogin:!1,showRegisterLink:!1};returnUrl="/community";ngOnInit(){if(this.authService.isAuthenticated()){this.router.navigate([this.returnUrl]);return}this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/community"}onLogin(e){console.log("[CommunityLogin] \uB85C\uADF8\uC778 \uC694\uCCAD:",e.username),this.authService.login(e.username,e.password).subscribe({next:t=>{t?(console.log("[CommunityLogin] \uB85C\uADF8\uC778 \uC131\uACF5, \uC774\uB3D9:",this.returnUrl),this.router.navigate([this.returnUrl]).then(i=>{i?console.log("[CommunityLogin] \uB124\uBE44\uAC8C\uC774\uC158 \uC131\uACF5"):console.error("[CommunityLogin] \uB124\uBE44\uAC8C\uC774\uC158 \uC2E4\uD328")})):(console.log("[CommunityLogin] \uB85C\uADF8\uC778 \uC2E4\uD328"),this.loginComponent&&this.loginComponent.setError("\uC0AC\uC6A9\uC790 \uC774\uB984 \uB610\uB294 \uBE44\uBC00\uBC88\uD638\uAC00 \uC62C\uBC14\uB974\uC9C0 \uC54A\uC2B5\uB2C8\uB2E4."))},error:t=>{console.error("[CommunityLogin] \uB85C\uADF8\uC778 \uC5D0\uB7EC:",t),this.loginComponent&&this.loginComponent.setError("\uB85C\uADF8\uC778 \uC911 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.")}})}static \u0275fac=function(t){return new(t||s)(C(d),C(g),C(J))};static \u0275cmp=S({type:s,selectors:[["app-community-login"]],viewQuery:function(t,i){if(t&1&&L(st,5),t&2){let c;j(c=B())&&(i.loginComponent=c.first)}},standalone:!1,decls:2,vars:1,consts:[["loginComponent",""],[3,"loginSubmit","config"]],template:function(t,i){if(t&1){let c=h();n(0,"app-unified-login",1,0),u("loginSubmit",function(et){return _(c),M(i.onLogin(et))}),o()}t&2&&f("config",i.loginConfig)},dependencies:[X],encapsulation:2})};var k=class s{constructor(e,t){this.authService=e;this.router=t}canActivate(e,t){let i=this.authService.isAuthenticated();return console.log("[CommunityGuard] \uC778\uC99D \uD655\uC778:",i,"| \uC694\uCCAD URL:",t.url),i?!0:(console.log("[CommunityGuard] \uBBF8\uC778\uC99D \uC0AC\uC6A9\uC790, \uB85C\uADF8\uC778 \uD398\uC774\uC9C0\uB85C \uC774\uB3D9"),this.router.navigate(["/community/login"],{queryParams:{returnUrl:t.url}}),!1)}static \u0275fac=function(t){return new(t||s)(x(d),x(g))};static \u0275prov=y({token:s,factory:s.\u0275fac,providedIn:"root"})};var ct=[{path:"login",component:D},{path:"",component:w,canActivate:[k]}],A=class s{static \u0275fac=function(t){return new(t||s)};static \u0275mod=E({type:s});static \u0275inj=b({imports:[U.forChild(ct),U]})};var tt=class s{static \u0275fac=function(t){return new(t||s)};static \u0275mod=E({type:s});static \u0275inj=b({imports:[$,Q,W,A]})};export{tt as CommunityModule};
